var G=Object.defineProperty;var L=Object.getOwnPropertySymbols;var J=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable;var D=(e,a,n)=>a in e?G(e,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[a]=n,$=(e,a)=>{for(var n in a||(a={}))J.call(a,n)&&D(e,n,a[n]);if(L)for(var n of L(a))K.call(a,n)&&D(e,n,a[n]);return e};import{Q as T,a as X}from"./QHeader.d28123c9.js";import{k,_ as w,A as s,an as l,bi as o,bH as M,d as t,bI as E,ao as f,au as Y,ab as c,bJ as Z,aZ as d,bK as x,B as g,F as U,aY as H,H as Q,bL as N,cw as ee,D as b,cy as A,bO as S,cz as I,r as _,bM as te,c as ae,w as oe,bk as ne}from"./index.3bd8bff3.js";import{Q as se}from"./QMenu.ade1759f.js";import{Q as O}from"./QToolbar.47cbef76.js";import{Q as re}from"./QImg.56956c11.js";import{Q as V}from"./QList.3180ed89.js";import{Q as le,a as ie}from"./QDrawer.6d7d1999.js";import{a as ue,Q as me}from"./QLayout.ec245174.js";import{C as pe}from"./ClosePopup.b27b03b6.js";import{u as ce}from"./use-quasar.94e7f076.js";import{u as j,a as de}from"./dataStore.d626384f.js";import{u as fe,b as ye,q as ge}from"./quickbase.7e9e049d.js";import{_ as ve}from"./version.15f6f9d8.js";import{Q as _e}from"./QItemLabel.349706c0.js";import{Q as be}from"./QBadge.d0663695.js";import{M as he,Q as $e}from"./MenuSubLink.0d6f9e64.js";import{_ as ke}from"./languageSelector.d990f278.js";import"./workday.a92fdc5b.js";import{a as we}from"./syncEmployeeWithWorkday.24ea6ffb.js";import"./QResizeObserver.d5cca528.js";import"./position-engine.6bd25d23.js";import"./selection.d55c238c.js";import"./TouchPan.cf1e0060.js";import"./touch.60582172.js";import"./localForage.cfd98bcf.js";import"./_commonjsHelpers.a26ce4be.js";import"./dayjs.238de433.js";import"./index.7dbe61ef.js";import"./i18n.475c5698.js";import"./api.a28dd52c.js";import"./QSlideTransition.31ed6a57.js";import"./QSelect.8411b3cd.js";import"./QChip.fff575e1.js";import"./rtl.cf9bbe47.js";import"./workdayAPI.d9e90557.js";const Me=k({name:"MenuLink",props:{title:{type:String,required:!0},caption:{type:String,default:""},to:{type:Object,default:()=>({path:"",exact:!0})},icon:{type:String,default:""},mini:{type:Boolean,default:!1},subMenu:{type:Array,default:null},count:{type:Number,default:null}}});function Se(e,a,n,r,m,u){return s(),l(Z,{to:e.to,class:"bg-accent text-white q-py-none","active-class":e.mini?"alt-active-nav":"alt-active-nav q-py-xs",exact:""},{default:o(()=>[e.icon?(s(),l(M,{key:0,avatar:""},{default:o(()=>[t(E,{name:e.icon},null,8,["name"])]),_:1})):f("",!0),t(M,null,{default:o(()=>[t(_e,null,{default:o(()=>[Y(c(e.title),1)]),_:1})]),_:1}),e.count?(s(),l(M,{key:1,side:"",top:""},{default:o(()=>[t(be,{color:"primary",label:e.count},null,8,["label"])]),_:1})):f("",!0)]),_:1},8,["to","active-class"])}var Qe=w(Me,[["render",Se]]);const qe=k({name:"MenuExpanded",components:{MenuSubLink:he},props:{title:{type:String,required:!0},caption:{type:String,default:""},to:{type:Object,default:()=>({path:"",exact:!0})},icon:{type:String,default:""},mini:{type:Boolean,default:!1},subMenu:{type:Array,default:null}}});function Ce(e,a,n,r,m,u){const p=d("MenuSubLink");return s(),l($e,{icon:e.icon,label:e.title,class:"bg-accent text-white q-py-none","active-class":"alt-active-nav",exact:""},{default:o(()=>[t(x),t(M,null,{default:o(()=>[t(V,null,{default:o(()=>[(s(!0),g(U,null,H(e.subMenu,i=>(s(),l(p,Q({key:i},i,{mini:e.mini}),null,16,["mini"]))),128))]),_:1})]),_:1})]),_:1},8,["icon","label"])}var Be=w(qe,[["render",Ce]]);const Ee=k({name:"MenuNav",components:{MenuLink:Qe,MenuExpanded:Be},props:{title:{type:String,required:!0},caption:{type:String,default:""},to:{type:Object,default:()=>({path:"",exact:!0})},icon:{type:String,default:""},mini:{type:Boolean,default:!1},subMenu:{type:Array,default:null}}});function Le(e,a,n,r,m,u){const p=d("MenuLink"),i=d("MenuExpanded");return s(),g("div",null,[!e.subMenu&&e.to?(s(),l(p,Q({key:0},$($({},e.$props),e.$attrs),{mini:e.mini}),null,16,["mini"])):e.subMenu&&e.subMenu.length>0?(s(),l(i,Q({key:1},$($({},e.$props),e.$attrs),{mini:e.mini}),null,16,["mini"])):f("",!0)])}var De=w(Ee,[["render",Le]]);const Te=k({props:{employee:Object,mini:Boolean},setup(e){const a=N(),{setEmployees:n,setWorkdayData:r}=j(),m=async()=>{const{clm:p,sync:i}=await we({clm:e.employee});n({id:e.employee[3],data:p}),r({id:e.employee[3],data:i})},u=()=>{a.push({name:"ee-termination"})};return m(),{props:e,goToTermination:u}}}),Oe={class:"text-h5 text-white q-mb-sm"},Ue={key:0,class:"text-body1 text-white"};function He(e,a,n,r,m,u){return s(),l(I,{class:"bg-accent q-my-lg q-pt-none",flat:"",square:""},{default:o(()=>[t(ee,{class:"text-center"},{default:o(()=>[b("div",Oe,c(e.employee[24]),1),e.employee[378]!==""?(s(),g("div",Ue,"ID: "+c(e.employee[378]),1)):f("",!0)]),_:1}),t(A,{align:"center"},{default:o(()=>[e.$route.name!=="ee-termination"&&e.$route.name!=="view-ee-release"&&!e.employee[581]?(s(),l(S,{key:0,label:"Release",color:"primary",dense:"",onClick:e.goToTermination},null,8,["onClick"])):f("",!0)]),_:1})]),_:1})}var Ne=w(Te,[["render",He]]);const Ae=k({name:"View Employee",components:{MenuNav:De,version:ve,languageSelector:ke,BasicEmployeeCard:Ne},setup(){const e=_(!1),a=ce(),n=_(!1),r=_(!1),m=_(!1),u=_(!1),p=N(),i=te(),h=fe(),{getUserType:q}=h,{toolbarTitle:C,viewEmployeeMenu:y}=ye(),{setEmployees:R,getEmployee:z}=j(),B=ae(()=>z(i.params.id)),F=async()=>{if(!B.value){a.loading.show();const{data:v}=await ge.fetchFromHiringApp({fields:[de({type:"employee",query:`{'3'.EX.'${i.params.id}'}`,id:i.params.id})]},{action:"read",type:"employee"});R({id:v[3],data:v}),a.loading.hide()}},P=async()=>{h.logout().then(()=>{p.replace({name:"login"})})};return F(),oe(B,(v,W)=>{console.log(W),console.log(v)}),{tab:_("mails"),fab:e,userStore:h,leftDrawerOpen:n,rightDrawerOpen:m,miniState:r,miniHover:u,miniMouseOver(){r.value===!0&&(u.value=!1)},miniMouseOut(){r.value===!0&&(u.value=!0)},toggleLeftDrawer(){a.screen.gt.sm?(r.value=!r.value,r.value===!0&&(u.value=!0)):n.value=!n.value},toggleRightDrawer(){m.value=!m.value},drawerClick(v){r.value&&(r.value=!1,v.stopPropagation())},logout:P,toolbarTitle:C,viewEmployeeMenu:y,employee:B,getUserType:q}}}),Ie={key:0,class:"q-mr-sm q-ml-sm",src:"https://cdn.jsdelivr.net/gh/EliteHCMS/assets@latest/public/logo-white.png",alt:"BrandSafway Logo",height:"25"},Ve={key:0},je={key:1},Re={class:"q-gutter-sm row items-center no-wrap"},ze={class:"row no-wrap q-pa-md"},Fe={class:"column items-center"},Pe={class:"text-subtitle1 q-mt-md q-mb-xs"};function We(e,a,n,r,m,u){const p=d("languageSelector"),i=d("basic-employee-card"),h=d("MenuNav"),q=d("router-view"),C=d("version");return s(),l(me,{view:"hHh lpR fFf"},{default:o(()=>[t(X,{elevated:""},{default:o(()=>[t(O,{style:{height:"62px"}},{default:o(()=>[e.$q.screen.gt.sm?(s(),g("img",Ie)):f("",!0),t(T,null,{default:o(()=>[e.$q.screen.lt.sm?(s(),g("span",Ve)):(s(),g("span",je,c(e.toolbarTitle),1))]),_:1}),b("div",Re,[t(p,{dense:"",borderless:"",class:"lang-white"}),t(S,{flat:"",dense:"",color:"white"},{default:o(()=>[b("div",null,c(e.userStore.getUser[35])+" "+c(e.userStore.getUser[37]),1),t(E,{right:"",size:"2.2em",name:"account_circle"}),t(se,null,{default:o(()=>[b("div",ze,[b("div",Fe,[t(E,{right:"",size:"72px",name:"account_circle",class:"q-mr-md"}),b("div",Pe,c(e.userStore.getUser[35])+" "+c(e.userStore.getUser[37]),1),ne(t(S,{color:"primary",label:e.$t("logout"),push:"",size:"sm",onClick:e.logout},null,8,["label","onClick"]),[[pe]])])])]),_:1})]),_:1})])]),_:1})]),_:1}),t(ie,{modelValue:e.leftDrawerOpen,"onUpdate:modelValue":a[0]||(a[0]=y=>e.leftDrawerOpen=y),side:"left","show-if-above":"",bordered:"",mini:e.miniState&&e.miniHover,onMouseover:e.miniMouseOver,onMouseout:e.miniMouseOut,onClickCapture:e.drawerClick,class:"text-primary bg-accent"},{default:o(()=>[t(le,{class:"fit"},{default:o(()=>[e.$q.screen.lt.sm?(s(),l(O,{key:0,class:"bg-white",style:{height:"64px"}},{default:o(()=>[t(T,{class:"items-center"},{default:o(()=>[t(re,{src:"https://cdn.jsdelivr.net/gh/EliteHCMS/assets@latest/public/logo.svg",style:{"max-width":"245px"},fit:"center",class:"q-ml-md"})]),_:1})]),_:1})):f("",!0),e.employee?(s(),l(i,{key:1,employee:e.employee,mini:e.miniState},null,8,["employee","mini"])):f("",!0),t(V,{class:"q-mt-sm"},{default:o(()=>[(s(!0),g(U,null,H(e.viewEmployeeMenu,y=>(s(),l(h,Q({key:y.title},y,{mini:e.miniState}),null,16,["mini"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue","mini","onMouseover","onMouseout","onClickCapture"]),t(ue,null,{default:o(()=>[t(I,{flat:""},{default:o(()=>[t(A,{class:"q-pb-xs",align:"right"},{default:o(()=>[t(S,{icon:e.getUserType==="QuickBase User"?"close":"arrow_back",label:e.getUserType==="QuickBase User"?"Close Window":"Go Back",color:"dark",onClick:a[1]||(a[1]=y=>e.getUserType==="QuickBase User"?e.window.close():e.$router.go(-1))},null,8,["icon","label"])]),_:1})]),_:1}),t(q)]),_:1}),t(C)]),_:1})}var Bt=w(Ae,[["render",We]]);export{Bt as default};
