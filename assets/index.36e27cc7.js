import{Q as w}from"./QTd.b7ff07ce.js";import{Q as C}from"./QTable.d1a1c21f.js";import{c1 as S,r as o,w as B,aK as N,c as d,z as T,A as y,d as n,bh as p,C as v,aa as h,a6 as b}from"./index.8744acc9.js";import{r as x}from"./quickbase.368b5cef.js";import{_ as A}from"./officeSelector.7b49d28f.js";import{dayjs as D}from"./dayjs.fb19d223.js";import"./QList.4209aa4c.js";import"./QMarkupTable.96bc4b89.js";import"./QSelect.5ead55c5.js";import"./QMenu.f19e9145.js";import"./position-engine.0bca7019.js";import"./selection.93d2bcd6.js";import"./rtl.65b79c69.js";import"./use-fullscreen.b70a1a4b.js";import"./_commonjsHelpers.dfee5925.js";import"./localForage.33f4b296.js";import"./index.7dbe61ef.js";import"./i18n.95e10b4b.js";import"./api.ab696573.js";const Q={class:"q-pa-md"},Z={__name:"index",setup(P){const r=x(),{fetchSelfCheckIns:i,fetchAllSelfCheckIns:c}=r,{getSelfCheckIns:g,getSelectedOffice:t}=S(r),e=o(t.value?t.value[8]:null),m=o({sortBy:"13",descending:!1,rowsPerPage:100});e.value?(i({officeId:e.value}),fetch({action:"Self Check-Ins"})):c(),B(t,()=>{e.value=t.value?t.value[8]:null,e.value?i({officeId:e.value}):c()});const f=o(new Date),I=setInterval(()=>{f.value=new Date},1e3);N(()=>{clearInterval(I)});const _=[{name:"timeCheckIn",align:"left",label:"Time Check-In",field:"13",sortable:!1},{name:"name",align:"left",label:"Name",field:"17",sortable:!1},{name:"phoneNumber",align:"center",label:"Phone Number",field:"6",sortable:!1},{name:"reason",align:"center",label:"Reason",field:"10",sortable:!1},{name:"status",align:"center",label:"Status",field:"15",sortable:!1},{name:"task",align:"center",label:"Task",field:"27",sortable:!1}],u=d(()=>g.value(e.value).sort((a,l)=>m.value.descending?a[13].isBefore(l[13]):a[13].isAfter(l[13]))),k=d(()=>u.value.map(a=>D(f.value).to(a[13])));return(a,l)=>(T(),y("div",Q,[n(A),n(C,{dense:a.$q.screen.lt.md,title:"Self Check Ins",rows:b(u),columns:_,pagination:m.value,"row-key":"3"},{"body-cell-timeCheckIn":p(s=>[n(w,{props:s},{default:p(()=>[v("div",null,h(s.value.format("h:mm:ss A")),1),v("div",null,h(b(k)[s.rowIndex]),1)]),_:2},1032,["props"])]),_:1},8,["dense","rows","pagination"])]))}};export{Z as default};
