var G=Object.defineProperty;var B=Object.getOwnPropertySymbols;var J=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable;var D=(e,a,n)=>a in e?G(e,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[a]=n,$=(e,a)=>{for(var n in a||(a={}))J.call(a,n)&&D(e,n,a[n]);if(B)for(var n of B(a))K.call(a,n)&&D(e,n,a[n]);return e};import{Q as O,a as X}from"./QHeader.e6a725de.js";import{k as w,_ as k,A as s,an as l,bi as o,bH as M,d as t,bI as L,ao as f,au as Y,ab as c,bJ as Z,aZ as d,bK as x,B as g,F as H,aY as N,H as Q,bL as U,cw as ee,D as b,cy as A,bO as S,cz as I,r as _,bM as te,c as ae,w as oe,bk as ne}from"./index.c09bc2a4.js";import{Q as se}from"./QMenu.f586b24f.js";import{Q as T}from"./QToolbar.1b1a4d4d.js";import{Q as re}from"./QImg.a01c56cb.js";import{Q as V}from"./QList.be97f1ab.js";import{Q as le,a as ie}from"./QDrawer.8abf68c5.js";import{a as ue,Q as me}from"./QLayout.36d44aac.js";import{C as pe}from"./ClosePopup.2ed49c71.js";import{u as ce}from"./use-quasar.e0cdf7ef.js";import{u as de}from"./useQuerySaver.e863619d.js";import{u as fe,b as ye,q as ge}from"./quickbase.3c094681.js";import{u as j}from"./dataStore.d5a29dad.js";import{_ as ve}from"./version.3c5b2f5a.js";import{Q as _e}from"./QItemLabel.3dafae5d.js";import{Q as be}from"./QBadge.9eaacee4.js";import{M as he,Q as $e}from"./MenuSubLink.8a9ac86e.js";import{_ as we}from"./languageSelector.3b18b82c.js";import"./workday.52d48300.js";import{a as ke}from"./syncEmployeeWithWorkday.30cbefed.js";import"./QResizeObserver.44f1d5bc.js";import"./position-engine.a348f403.js";import"./selection.6b3a67ea.js";import"./TouchPan.f84bf388.js";import"./touch.60582172.js";import"./_commonjsHelpers.a26ce4be.js";import"./dayjs.b00e5e8b.js";import"./index.7dbe61ef.js";import"./localForage.ff6a6a7e.js";import"./i18n.6b16a0d1.js";import"./api.8270b409.js";import"./QSlideTransition.d235f023.js";import"./QSelect.c52b58d3.js";import"./QChip.9fb9a4d7.js";import"./rtl.cf9bbe47.js";import"./workdayAPI.17b5aced.js";const Me=w({name:"MenuLink",props:{title:{type:String,required:!0},caption:{type:String,default:""},to:{type:Object,default:()=>({path:"",exact:!0})},icon:{type:String,default:""},mini:{type:Boolean,default:!1},subMenu:{type:Array,default:null},count:{type:Number,default:null}}});function Se(e,a,n,r,m,u){return s(),l(Z,{to:e.to,class:"bg-accent text-white q-py-none","active-class":e.mini?"alt-active-nav":"alt-active-nav q-py-xs",exact:""},{default:o(()=>[e.icon?(s(),l(M,{key:0,avatar:""},{default:o(()=>[t(L,{name:e.icon},null,8,["name"])]),_:1})):f("",!0),t(M,null,{default:o(()=>[t(_e,null,{default:o(()=>[Y(c(e.title),1)]),_:1})]),_:1}),e.count?(s(),l(M,{key:1,side:"",top:""},{default:o(()=>[t(be,{color:"primary",label:e.count},null,8,["label"])]),_:1})):f("",!0)]),_:1},8,["to","active-class"])}var Qe=k(Me,[["render",Se]]);const qe=w({name:"MenuExpanded",components:{MenuSubLink:he},props:{title:{type:String,required:!0},caption:{type:String,default:""},to:{type:Object,default:()=>({path:"",exact:!0})},icon:{type:String,default:""},mini:{type:Boolean,default:!1},subMenu:{type:Array,default:null}}});function Ce(e,a,n,r,m,u){const p=d("MenuSubLink");return s(),l($e,{icon:e.icon,label:e.title,class:"bg-accent text-white q-py-none","active-class":"alt-active-nav",exact:""},{default:o(()=>[t(x),t(M,null,{default:o(()=>[t(V,null,{default:o(()=>[(s(!0),g(H,null,N(e.subMenu,i=>(s(),l(p,Q({key:i},i,{mini:e.mini}),null,16,["mini"]))),128))]),_:1})]),_:1})]),_:1},8,["icon","label"])}var Ee=k(qe,[["render",Ce]]);const Le=w({name:"MenuNav",components:{MenuLink:Qe,MenuExpanded:Ee},props:{title:{type:String,required:!0},caption:{type:String,default:""},to:{type:Object,default:()=>({path:"",exact:!0})},icon:{type:String,default:""},mini:{type:Boolean,default:!1},subMenu:{type:Array,default:null}}});function Be(e,a,n,r,m,u){const p=d("MenuLink"),i=d("MenuExpanded");return s(),g("div",null,[!e.subMenu&&e.to?(s(),l(p,Q({key:0},$($({},e.$props),e.$attrs),{mini:e.mini}),null,16,["mini"])):e.subMenu&&e.subMenu.length>0?(s(),l(i,Q({key:1},$($({},e.$props),e.$attrs),{mini:e.mini}),null,16,["mini"])):f("",!0)])}var De=k(Le,[["render",Be]]);const Oe=w({props:{employee:Object,mini:Boolean},setup(e){const a=U(),{setEmployees:n,setWorkdayData:r}=j(),m=async()=>{const{clm:p,sync:i}=await ke({clm:e.employee});n({id:e.employee[3],data:p}),r({id:e.employee[3],data:i})},u=()=>{a.push({name:"ee-termination"})};return m(),{props:e,goToTermination:u}}}),Te={class:"text-h5 text-white q-mb-sm"},He={key:0,class:"text-body1 text-white"};function Ne(e,a,n,r,m,u){return s(),l(I,{class:"bg-accent q-my-lg q-pt-none",flat:"",square:""},{default:o(()=>[t(ee,{class:"text-center"},{default:o(()=>[b("div",Te,c(e.employee[24]),1),e.employee[378]!==""?(s(),g("div",He,"ID: "+c(e.employee[378]),1)):f("",!0)]),_:1}),t(A,{align:"center"},{default:o(()=>[e.$route.name!=="ee-termination"&&e.$route.name!=="view-ee-release"&&!e.employee[581]?(s(),l(S,{key:0,label:"Release",color:"primary",dense:"",onClick:e.goToTermination},null,8,["onClick"])):f("",!0)]),_:1})]),_:1})}var Ue=k(Oe,[["render",Ne]]);const Ae=w({name:"View Employee",components:{MenuNav:De,version:ve,languageSelector:we,BasicEmployeeCard:Ue},setup(){const e=_(!1),a=ce(),n=_(!1),r=_(!1),m=_(!1),u=_(!1),p=U(),i=te(),h=fe(),{getUserType:q}=h,{toolbarTitle:C,viewEmployeeMenu:y}=ye(),{setEmployees:R,getEmployee:z}=j(),E=ae(()=>z(i.params.id)),F=async()=>{if(!E.value){a.loading.show();const{data:v}=await ge.fetchFromHiringApp({fields:[de({type:"employee",query:`{'3'.EX.'${i.params.id}'}`,id:i.params.id})]},{action:"read",type:"employee"});R({id:v[3],data:v}),a.loading.hide()}},P=async()=>{h.logout().then(()=>{p.replace({name:"login"})})};return F(),oe(E,(v,W)=>{console.log(W),console.log(v)}),{tab:_("mails"),fab:e,userStore:h,leftDrawerOpen:n,rightDrawerOpen:m,miniState:r,miniHover:u,miniMouseOver(){r.value===!0&&(u.value=!1)},miniMouseOut(){r.value===!0&&(u.value=!0)},toggleLeftDrawer(){a.screen.gt.sm?(r.value=!r.value,r.value===!0&&(u.value=!0)):n.value=!n.value},toggleRightDrawer(){m.value=!m.value},drawerClick(v){r.value&&(r.value=!1,v.stopPropagation())},logout:P,toolbarTitle:C,viewEmployeeMenu:y,employee:E,getUserType:q}}}),Ie={key:0,class:"q-mr-sm q-ml-sm",src:"https://cdn.jsdelivr.net/gh/EliteHCMS/assets@latest/public/logo-white.png",alt:"BrandSafway Logo",height:"25"},Ve={key:0},je={key:1},Re={class:"q-gutter-sm row items-center no-wrap"},ze={class:"row no-wrap q-pa-md"},Fe={class:"column items-center"},Pe={class:"text-subtitle1 q-mt-md q-mb-xs"};function We(e,a,n,r,m,u){const p=d("languageSelector"),i=d("basic-employee-card"),h=d("MenuNav"),q=d("router-view"),C=d("version");return s(),l(me,{view:"hHh lpR fFf"},{default:o(()=>[t(X,{elevated:""},{default:o(()=>[t(T,{style:{height:"62px"}},{default:o(()=>[e.$q.screen.gt.sm?(s(),g("img",Ie)):f("",!0),t(O,null,{default:o(()=>[e.$q.screen.lt.sm?(s(),g("span",Ve)):(s(),g("span",je,c(e.toolbarTitle),1))]),_:1}),b("div",Re,[t(p,{dense:"",borderless:"",class:"lang-white"}),t(S,{flat:"",dense:"",color:"white"},{default:o(()=>[b("div",null,c(e.userStore.getUser[35])+" "+c(e.userStore.getUser[37]),1),t(L,{right:"",size:"2.2em",name:"account_circle"}),t(se,null,{default:o(()=>[b("div",ze,[b("div",Fe,[t(L,{right:"",size:"72px",name:"account_circle",class:"q-mr-md"}),b("div",Pe,c(e.userStore.getUser[35])+" "+c(e.userStore.getUser[37]),1),ne(t(S,{color:"primary",label:e.$t("logout"),push:"",size:"sm",onClick:e.logout},null,8,["label","onClick"]),[[pe]])])])]),_:1})]),_:1})])]),_:1})]),_:1}),t(ie,{modelValue:e.leftDrawerOpen,"onUpdate:modelValue":a[0]||(a[0]=y=>e.leftDrawerOpen=y),side:"left","show-if-above":"",bordered:"",mini:e.miniState&&e.miniHover,onMouseover:e.miniMouseOver,onMouseout:e.miniMouseOut,onClickCapture:e.drawerClick,class:"text-primary bg-accent print-hide"},{default:o(()=>[t(le,{class:"fit"},{default:o(()=>[e.$q.screen.lt.sm?(s(),l(T,{key:0,class:"bg-white",style:{height:"64px"}},{default:o(()=>[t(O,{class:"items-center"},{default:o(()=>[t(re,{src:"https://cdn.jsdelivr.net/gh/EliteHCMS/assets@latest/public/logo.svg",style:{"max-width":"245px"},fit:"center",class:"q-ml-md"})]),_:1})]),_:1})):f("",!0),e.employee?(s(),l(i,{key:1,employee:e.employee,mini:e.miniState},null,8,["employee","mini"])):f("",!0),t(V,{class:"q-mt-sm"},{default:o(()=>[(s(!0),g(H,null,N(e.viewEmployeeMenu,y=>(s(),l(h,Q({key:y.title},y,{mini:e.miniState}),null,16,["mini"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue","mini","onMouseover","onMouseout","onClickCapture"]),t(ue,null,{default:o(()=>[t(I,{class:"print-hide",flat:""},{default:o(()=>[t(A,{class:"q-pb-xs",align:"right"},{default:o(()=>[t(S,{icon:"close",label:"Close",color:"dark",onClick:a[1]||(a[1]=y=>e.getUserType==="QuickBase User"?e.window.close():e.$router.replace({name:"employees"}))})]),_:1})]),_:1}),t(q)]),_:1}),t(C)]),_:1})}var Lt=k(Ae,[["render",We]]);export{Lt as default};
