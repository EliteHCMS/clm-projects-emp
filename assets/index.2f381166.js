import{Q as w}from"./QTd.d2cf9e12.js";import{Q as C}from"./QTable.9ab3e965.js";import{c1 as S,r as s,w as B,aK as N,c as d,z as T,A as y,d as n,bh as p,C as v,aa as h,a6 as b}from"./index.737f910f.js";import{r as x}from"./quickbase.f15176f8.js";import{_ as A}from"./officeSelector.d9de916b.js";import{dayjs as D}from"./dayjs.ff9f62ce.js";import"./QList.e9ae86dd.js";import"./QMarkupTable.75fa6431.js";import"./QSelect.92074fdd.js";import"./QChip.1667cd46.js";import"./QMenu.dc69e122.js";import"./position-engine.774fdad0.js";import"./selection.08aa3a37.js";import"./rtl.65b79c69.js";import"./use-fullscreen.0d907202.js";import"./_commonjsHelpers.dfee5925.js";import"./localForage.9f62b587.js";import"./index.7dbe61ef.js";import"./i18n.dee6ec02.js";import"./api.9f367206.js";const Q={class:"q-pa-md"},ee={__name:"index",setup(P){const r=x(),{fetchSelfCheckIns:i,fetchAllSelfCheckIns:c}=r,{getSelfCheckIns:g,getSelectedOffice:t}=S(r),e=s(t.value?t.value[8]:null),m=s({sortBy:"13",descending:!1,rowsPerPage:100});e.value?(i({officeId:e.value}),fetch({action:"Self Check-Ins"})):c(),B(t,()=>{e.value=t.value?t.value[8]:null,e.value?i({officeId:e.value}):c()});const f=s(new Date),I=setInterval(()=>{f.value=new Date},1e3);N(()=>{clearInterval(I)});const _=[{name:"timeCheckIn",align:"left",label:"Time Check-In",field:"13",sortable:!1},{name:"name",align:"left",label:"Name",field:"17",sortable:!1},{name:"phoneNumber",align:"center",label:"Phone Number",field:"6",sortable:!1},{name:"reason",align:"center",label:"Reason",field:"10",sortable:!1},{name:"status",align:"center",label:"Status",field:"15",sortable:!1},{name:"task",align:"center",label:"Task",field:"27",sortable:!1}],u=d(()=>g.value(e.value).sort((a,l)=>m.value.descending?a[13].isBefore(l[13]):a[13].isAfter(l[13]))),k=d(()=>u.value.map(a=>D(f.value).to(a[13])));return(a,l)=>(T(),y("div",Q,[n(A),n(C,{dense:a.$q.screen.lt.md,title:"Self Check Ins",rows:b(u),columns:_,pagination:m.value,"row-key":"3"},{"body-cell-timeCheckIn":p(o=>[n(w,{props:o},{default:p(()=>[v("div",null,h(o.value.format("h:mm:ss A")),1),v("div",null,h(b(k)[o.rowIndex]),1)]),_:2},1032,["props"])]),_:1},8,["dense","rows","pagination"])]))}};export{ee as default};
