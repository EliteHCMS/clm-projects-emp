import{Q as y}from"./QTd.4591bc47.js";import{Q as N}from"./QTable.cfa418e6.js";import{c1 as d,aK as k,z as w,am as T,G as P,a6 as i,r as u,w as Q,c as h,A as x,d as p,bh as _,C as g,aa as S}from"./index.9ababbc3.js";import{u as A,r as I}from"./quickbase.0b7939ef.js";import{a as D}from"./QSelect.51eca79e.js";import{dayjs as U}from"./dayjs.0e9acdcb.js";import"./QList.127df48f.js";import"./QMarkupTable.6edd8fef.js";import"./use-fullscreen.3152eb6e.js";import"./_commonjsHelpers.dfee5925.js";import"./localForage.bd392413.js";import"./index.7dbe61ef.js";import"./i18n.b874c408.js";import"./api.51016025.js";import"./QMenu.85d9648b.js";import"./position-engine.af50392f.js";import"./selection.c128e84c.js";import"./rtl.65b79c69.js";const V={__name:"officeSelector",setup(C){const s=A(),o=I(),{userOffices:r,primaryOffice:n}=d(s),{setSelectedOffice:e}=o,{getSelectedOffice:a}=d(o);k(()=>{e(n.value)}),a.value||e(n.value);const c=t=>{e(t)};return(t,v)=>(w(),T(D,P({"model-value":i(a),options:i(r)},t.$attrs,{"onUpdate:modelValue":c,label:"Office","option-label":"11","option-value":"8",clearable:""}),null,16,["model-value","options"]))}},$={class:"q-pa-md"},te={__name:"index",setup(C){const s=I(),{fetchSelfCheckIns:o,fetchAllSelfCheckIns:r}=s,{getSelfCheckIns:n,getSelectedOffice:e}=d(s),a=u(e.value?e.value[8]:null),c=u({sortBy:"13",descending:!1,rowsPerPage:100});a.value?o({officeId:a.value}):r(),Q(e,()=>{a.value=e.value?e.value[8]:null,a.value?o({officeId:a.value}):r()});const t=u(new Date),v=setInterval(()=>{t.value=new Date},1e3);k(()=>{clearInterval(v)});const B=[{name:"timeCheckIn",align:"left",label:"Time Check-In",field:"13",sortable:!1},{name:"name",align:"left",label:"Name",field:"17",sortable:!1},{name:"phoneNumber",align:"center",label:"Phone Number",field:"6",sortable:!1},{name:"reason",align:"center",label:"Reason",field:"10",sortable:!1},{name:"status",align:"center",label:"Status",field:"15",sortable:!1},{name:"task",align:"center",label:"Task",field:"27",sortable:!1}],b=h(()=>n.value(a.value).sort((l,f)=>c.value.descending?l[13].isBefore(f[13]):l[13].isAfter(f[13]))),O=h(()=>b.value.map(l=>U(t.value).to(l[13])));return(l,f)=>(w(),x("div",$,[p(V),p(N,{dense:l.$q.screen.lt.md,title:"Self Check Ins",rows:i(b),columns:B,pagination:c.value,"row-key":"3"},{"body-cell-timeCheckIn":_(m=>[p(y,{props:m},{default:_(()=>[g("div",null,S(m.value.format("h:mm:ss A")),1),g("div",null,S(i(O)[m.rowIndex]),1)]),_:2},1032,["props"])]),_:1},8,["dense","rows","pagination"])]))}};export{te as default};
