import{k as D,_ as x,A as r,an as _,bi as a,d as t,cw as i,D as e,ab as o,bK as b,cz as f,c as p,B as S,F as V,aY as Y,bk as R,bJ as j,bH as k,au as B,bI as E,cZ as I,r as F,bM as P,aZ as g,bO as U,cy as M,ao as N}from"./index.c09bc2a4.js";import{Q as O}from"./QPage.55f2abc8.js";import{u as A}from"./use-quasar.e0cdf7ef.js";import{u as L}from"./useQuerySaver.e863619d.js";import{u as z,q as H}from"./quickbase.3c094681.js";import{dayjs as h}from"./dayjs.b00e5e8b.js";import{u as T}from"./dataStore.d5a29dad.js";import{Q as $,d as J}from"./helpers.bec42906.js";import{Q as K}from"./QList.be97f1ab.js";import"./_commonjsHelpers.a26ce4be.js";import"./index.7dbe61ef.js";import"./localForage.ff6a6a7e.js";import"./i18n.6b16a0d1.js";import"./api.8270b409.js";const W=D({props:{employee:Object,assignment:Object,release:Object},setup(s){return{dayjs:h}}}),Z=e("div",{class:"text-primary text-h6 text-bold"},"Employee Information",-1),G={class:"row q-py-sm"},X={class:"col-12 col-md-3"},ee=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Last Name")],-1),se={class:"text-body2 q-pl-md"},te={class:"col-12 col-md-3"},oe=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"First Name")],-1),ae={class:"text-body2 q-pl-md"},le={class:"col-12 col-md-3"},de=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Last 4 Digits of SS#")],-1),ne={class:"text-body2 q-pl-md"},ce={class:"col-12 col-md-3"},ie=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Payroll ID")],-1),re={class:"text-body2 q-pl-md"},me={class:"row q-py-sm"},_e={class:"col-12 col-md-3"},pe=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Phone")],-1),ue={class:"text-body2 q-pl-md"},ve={class:"col-12 col-md-3"},ye=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"First Day Worked")],-1),be={class:"text-body2 q-pl-md"},he={class:"col-12 col-md-3"},fe=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Last Day Worked")],-1),qe={class:"text-body2 q-pl-md"},$e={class:"col-12 col-md-3"},xe=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Effective Date")],-1),ge={class:"text-body2 q-pl-md"},De={class:"row q-py-sm"},we={class:"col-12 col-md-4"},Se=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Job Site/ Location")],-1),ke={class:"text-body2 q-pl-md"},Ne={class:"col-12 col-md-6"},Ce=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Job Title")],-1),Qe={class:"text-body2 q-pl-md"},Ve={class:"col-12 col-md-2"},Ye=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Pay Rate")],-1),Re={class:"text-body2 q-pl-md"};function je(s,l,m,d,u,v){return r(),_(f,null,{default:a(()=>[t(i,{class:"text-center q-py-sm"},{default:a(()=>[Z]),_:1}),t(i,{class:"q-py-none"},{default:a(()=>[e("div",G,[e("div",X,[ee,e("div",se,[e("span",null,o(s.employee[22]),1)])]),e("div",te,[oe,e("div",ae,[e("span",null,o(s.employee[20]),1)])]),e("div",le,[de,e("div",ne,[e("span",null,o(s.employee[188].substring(s.employee[188].length-4)),1)])]),e("div",ce,[ie,e("div",re,[e("span",null,o(s.employee[208]!==""?s.employee[208]:"Not Available"),1)])])]),t(b),e("div",me,[e("div",_e,[pe,e("div",ue,[e("span",null,o(s.employee[25]),1)])]),e("div",ve,[ye,e("div",be,[e("span",null,o(s.dayjs(s.employee[397].$d).format("MM/DD/YYYY")),1)])]),e("div",he,[fe,e("div",qe,[e("span",null,o(s.dayjs(s.release[36].$d).format("MM/DD/YYYY")),1)])]),e("div",$e,[xe,e("div",ge,[e("span",null,o(s.dayjs(s.release[36].$d).format("MM/DD/YYYY")),1)])])]),t(b),e("div",De,[e("div",we,[Se,e("div",ke,[e("span",null,o(s.assignment[141]),1)])]),e("div",Ne,[Ce,e("div",Qe,[e("span",null,o(s.assignment[20]),1)])]),e("div",Ve,[Ye,e("div",Re,[e("span",null,"$ "+o(s.assignment[116].toFixed(2)),1)])])])]),_:1})]),_:1})}var Be=x(W,[["render",je]]);const Ee=D({props:{data:Object},setup(s){return{evaluation:p(()=>s.data),convertScore:d=>({1:"Strongly Disagreed",2:"Disagreed",3:"Neutral",4:"Agreed",5:"Strongly Agreed",0:"Did Not Know"})[d]}}}),Ie=e("div",{class:"text-primary text-h6 text-bold"},"Employee Performance Evaluation",-1),Fe={class:"row q-py-sm"},Pe={class:"col-12 col-md-3"},Ue=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Has good attendance")],-1),Me={class:"text-body2 q-pl-md"},Oe={class:"q-mr-md"},Ae={class:"col-12 col-md-3"},Le=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Has a good attitude")],-1),ze={class:"text-body2 q-pl-md"},He={class:"q-mr-md"},Te={class:"col-12 col-md-3"},Je=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Can do their job")],-1),Ke={class:"text-body2 q-pl-md"},We={class:"q-mr-md"},Ze={class:"col-12 col-md-3"},Ge=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Can be promoted in the future")],-1),Xe={class:"text-body2 q-pl-md"},es={class:"q-mr-md"};function ss(s,l,m,d,u,v){return r(),_(f,null,{default:a(()=>[t(i,{class:"text-center q-py-sm"},{default:a(()=>[Ie]),_:1}),t(i,{class:"q-py-none"},{default:a(()=>[e("div",Fe,[e("div",Pe,[Ue,e("div",Me,[e("span",Oe,o(s.convertScore(s.evaluation.attendance)),1),t($,{modelValue:s.evaluation.attendance,"onUpdate:modelValue":l[0]||(l[0]=c=>s.evaluation.attendance=c),max:"5",size:"sm",color:"accent",icon:"star_border","icon-selected":"star","icon-half":"star_half","no-dimming":"",readonly:""},null,8,["modelValue"])])]),e("div",Ae,[Le,e("div",ze,[e("span",He,o(s.convertScore(s.evaluation.attitude)),1),t($,{modelValue:s.evaluation.attitude,"onUpdate:modelValue":l[1]||(l[1]=c=>s.evaluation.attitude=c),max:"5",size:"sm",color:"accent",icon:"star_border","icon-selected":"star","icon-half":"star_half","no-dimming":"",readonly:""},null,8,["modelValue"])])]),e("div",Te,[Je,e("div",Ke,[e("span",We,o(s.convertScore(s.evaluation.capable)),1),t($,{modelValue:s.evaluation.capable,"onUpdate:modelValue":l[2]||(l[2]=c=>s.evaluation.capable=c),max:"5",size:"sm",color:"accent",icon:"star_border","icon-selected":"star","icon-half":"star_half","no-dimming":"",readonly:""},null,8,["modelValue"])])]),e("div",Ze,[Ge,e("div",Xe,[e("span",es,o(s.convertScore(s.evaluation.promotion)),1),t($,{modelValue:s.evaluation.promotion,"onUpdate:modelValue":l[3]||(l[3]=c=>s.evaluation.promotion=c),max:"5",size:"sm",color:"accent",icon:"star_border","icon-selected":"star","icon-half":"star_half","no-dimming":"",readonly:""},null,8,["modelValue"])])])])]),_:1})]),_:1})}var ts=x(Ee,[["render",ss]]);const os=D({props:{release:Object,employee:Object},setup(s){return{deductNeeded:p(()=>!s.release[72]&&h.duration(h(s.release[36].$d).diff(h(s.employee[397].$d))).asDays()<30?"Yes":"No"),downloadFile:J}}}),as=e("div",{class:"text-primary text-h6 text-bold"},"Departure Information",-1),ls={class:"row"},ds={class:"col-12 col-md-9"},ns={class:"row q-py-sm"},cs={class:"col-12 col-md-6"},is={class:"text-body2"},rs=e("span",{class:"text-bold q-mr-md"},"Return Company Equipment and/or PPE",-1),ms={class:"col-12 col-md-6"},_s={class:"text-body2"},ps=e("span",{class:"text-bold q-mr-md"},"Payroll Deduction Needed",-1),us={class:"row q-py-sm"},vs={class:"col-12"},ys={class:"text-body2"},bs=e("span",{class:"text-bold q-mr-md"},"Reason",-1),hs=e("div",{class:"row q-py-sm"},[e("div",{class:"col-12"},[e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Recommendation for Rehire / Reassignment"),e("span",null,"Need to add this to form")])])],-1),fs={class:"row q-py-sm"},qs={class:"col-12"},$s=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Comments")],-1),xs={class:"text-body2 text-italic q-pl-md"},gs={class:"col-12 col-md-3 q-pl-sm"},Ds=e("div",{class:"text-body2 text-bold text-center q-mb-sm"},"Supporting Documents",-1),ws={key:1,class:"text-body2 text-italic text-center"},Ss=e("span",null,"No Supporting Documents",-1),ks=[Ss];function Ns(s,l,m,d,u,v){return r(),_(f,null,{default:a(()=>[t(i,{class:"text-center q-py-sm"},{default:a(()=>[as]),_:1}),t(i,{class:"q-py-none"},{default:a(()=>[e("div",ls,[e("div",ds,[e("div",ns,[e("div",cs,[e("div",is,[rs,e("span",null,o(s.release[72]?"Yes":"No"),1)])]),e("div",ms,[e("div",_s,[ps,e("span",null,o(s.deductNeeded),1)])])]),t(b),e("div",us,[e("div",vs,[e("div",ys,[bs,e("span",null,o(s.release[32]),1)])])]),t(b),hs,t(b),e("div",fs,[e("div",qs,[$s,e("div",xs,[e("span",null,o(s.release[60]===""?"No Comments":s.release[60]),1)])])])]),e("div",gs,[Ds,s.release[70].length>0?(r(),_(K,{key:0},{default:a(()=>[(r(!0),S(V,null,Y(s.release[70],(c,n)=>R((r(),_(j,{key:n,clickable:"",class:"text-body2",onClick:q=>s.downloadFile(c.url)},{default:a(()=>[t(k,null,{default:a(()=>[B(o(n+1)+". "+o(c[7]),1)]),_:2},1024),t(k,{avatar:""},{default:a(()=>[t(E,{color:"info",name:"file_download"})]),_:1})]),_:2},1032,["onClick"])),[[I]])),128))]),_:1})):(r(),S("div",ws,ks))])])]),_:1})]),_:1})}var Cs=x(os,[["render",Ns]]);const Qs={name:"View Release",components:{EmployeeInformation:Be,Evaluation:ts,DepartureInformation:Cs},setup(){const s=F(!1),l=A(),m=P(),{userData:d,getUserType:u}=z(),{getReleases:v,setReleases:c}=T(),n=p(()=>v(m.params.release)),q=p(()=>n.value?n.value[66]:null),w=p(()=>n.value?n.value[67]:null),C=p(()=>{const{data:y}=n.value[59]&&n.value[59][0]?n.value[59][0]:{data:null};return y}),Q=p(()=>n.value?n.value[38]:null);return(async()=>{if(l.loading.show(),!v(m.params.release)){const{data:y}=await H.fetchFromHiringApp({fields:[L({type:"releases",query:"",id:m.params.release})]});console.log(y),c({id:y[3],data:y})}l.loading.hide()})(),{release:n,employee:q,assignment:w,evaluation:C,getUserType:u,fab:s,dayjs:h,submitter:Q}}},Vs={class:"q-px-sm"},Ys={class:"row q-py-sm"},Rs={class:"col-12 col-md-6"},js={class:"text-body2"},Bs=e("span",{class:"text-bold q-mr-md"},"Submitted By",-1),Es=e("div",{class:"col-12 col-md-6"},[e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Reviewed By"),e("span",null,"Need to Capture")])],-1);function Is(s,l,m,d,u,v){const c=g("employee-information"),n=g("evaluation"),q=g("departure-information");return r(),_(O,{style:{"max-width":"100vw"}},{default:a(()=>[e("div",Vs,[d.release?(r(),_(f,{key:0,flat:"",class:"text-dark"},{default:a(()=>[t(M,{class:"q-pb-xs",align:"right"},{default:a(()=>[t(U,{icon:"close",label:"Close",color:"dark",onClick:l[0]||(l[0]=w=>d.getUserType==="QuickBase User"?s.window.close():s.$router.replace({name:"employees"}))})]),_:1}),t(i,{class:"q-pb-sm"},{default:a(()=>[t(c,{assignment:d.assignment,employee:d.employee,release:d.release},null,8,["assignment","employee","release"])]),_:1}),d.evaluation?(r(),_(i,{key:0,class:"q-pb-sm"},{default:a(()=>[t(n,{data:d.evaluation},null,8,["data"])]),_:1})):N("",!0),t(i,{class:"q-pb-sm"},{default:a(()=>[t(q,{employee:d.employee,release:d.release},null,8,["employee","release"])]),_:1}),t(i,{class:"q-pb-sm"},{default:a(()=>[t(f,null,{default:a(()=>[t(i,{class:"q-py-none"},{default:a(()=>[e("div",Ys,[e("div",Rs,[e("div",js,[Bs,e("span",null,o(d.submitter[37])+", "+o(d.submitter[35]),1)])]),Es])]),_:1})]),_:1})]),_:1})]),_:1})):N("",!0)])]),_:1})}var Xs=x(Qs,[["render",Is]]);export{Xs as default};
