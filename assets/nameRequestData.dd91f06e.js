import{Q as m}from"./QTd.5238d2a7.js";import{k as g,c as y,_ as w,y as $,aZ as q,A as h,B as N,d as l,bi as o,bO as c,D as p,bI as D,ab as E}from"./index.c09bc2a4.js";import{a as C}from"./QTable.f30a16f5.js";import{u as _}from"./use-quasar.e0cdf7ef.js";import{dayjs as b}from"./dayjs.b00e5e8b.js";import{G as k}from"./NameRequestGetEmployee.54a46e3a.js";const v=g({emits:["refreshData","viewEmployee"],props:{requests:Array,status:String,loading:Boolean},components:{GetEmployee:k},setup(t,{emit:r}){const f=_(),{capitalize:s}=$,d=y(()=>f.screen.gt.sm?[{name:0,label:"",align:"left",field:""},{name:1,label:"Request ID",align:"left",field:e=>e[18],format:e=>`${e}`,sortable:!1,required:!0},{name:2,label:"Created",align:"left",field:e=>e[1],format:e=>`${a(e)}`,sortable:!0},{name:3,label:"Name",align:"left",field:e=>i(e),format:e=>`${e}`,sortable:!0},{name:4,label:"Phone",align:"left",field:e=>e[8],format:e=>`${e}`,sortable:!1,required:!0},{name:5,label:"Status",align:"left",field:e=>n(e),format:e=>`${e}`},{name:6,label:"",align:"center",field:""}]:[{name:0,label:"",align:"left",field:""},{name:1,label:"Request ID",align:"left",field:e=>e[18],format:e=>`${e}`,sortable:!1,required:!0},{name:2,label:"Created",align:"left",field:e=>e[1],format:e=>`${a(e)}`,sortable:!0},{name:3,label:"Name",align:"left",field:e=>i(e),format:e=>`${e}`,sortable:!0},{name:4,label:"Phone",align:"left",field:e=>e[8],format:e=>`${e}`,sortable:!1,required:!0},{name:5,label:"Status",align:"left",field:e=>n(e),format:e=>`${e}`},{name:6,label:"",align:"center",field:""}]);function i(e){return`${s(e[6].toLowerCase())} ${s(e[7].toLowerCase())}`}function n(e){return e.employee[0]===void 0?e[10]:e.employee[0][408]==="Terminated"&&!e.employee[0][421]?"Not Eligible":e.employee[0][552]===""?e[10]:e.employee[0][552]}function a(e){if(e.$d)return b(e.$d).fromNow();if(e.date)return b(e.date,"MM-DD-YYYY").fromNow()}const u=e=>{r("viewEmployee",e)};return console.log(t.requests),{columns:d,props:t,viewEmployee:u}}}),B={class:"full-width row flex-center text-primary q-gutter-sm q-py-md"};function Q(t,r,f,s,d,i){const n=q("get-employee");return h(),N("div",null,[l(C,{columns:t.columns,rows:t.requests,"row-key":a=>a[3],class:"q-pa-sm",pagination:{rowsPerPage:10},"table-header-class":"bg-dark text-white","no-data-label":"There are no named requests",dense:"",loading:t.loading},{"header-cell-0":o(()=>[l(m,{"auto-width":""})]),"body-cell-0":o(a=>[l(m,{class:"text-center","auto-width":""},{default:o(()=>[l(n,{data:a.row,onViewEmployee:t.viewEmployee,type:"employee",query:`{'27'.EX.'${a.row[29]}'}AND{'551'.EX.'${a.row[16]}'}`},null,8,["data","onViewEmployee","query"])]),_:2},1024)]),"body-cell-6":o(a=>[l(m,{class:"text-center","auto-width":""},{default:o(()=>[l(c,{class:"q-pa-none q-ma-none",flat:"",color:"primary",round:"",dense:"",onClick:u=>t.$emit("removeName",a.row),icon:"delete_forever"},null,8,["onClick"])]),_:2},1024)]),"no-data":o(({message:a})=>[p("div",B,[l(D,{size:"2em",name:"fa-solid fa-person-circle-exclamation"}),p("span",null,E(a),1)])]),"top-right":o(()=>[l(c,{color:"secondary",flat:"","icon-right":"refresh",label:"Refresh",onClick:r[0]||(r[0]=a=>t.$emit("refreshData"))})]),_:1},8,["columns","rows","row-key","loading"])])}var V=w(v,[["render",Q]]);export{V as N};
