import{l as x,c as C,_ as A,B as i,as as y,bt as r,E as t,bQ as se,d as s,cV as re,cW as E,ae as n,bU as oe,az as k,bS as S,at as u,dn as T,C as Q,cX as le,bY as B,bV as ne,bX as Z,r as O,w as J,b7 as z,cm as ce}from"./index.960d5b34.js";import{Q as ue}from"./QPage.8d15663e.js";import{Q as ie,a as me}from"./QStep.69b01d21.js";import{k as X,m as W,e as pe}from"./app.bda2cd70.js";import{d as K}from"./disability.20ac659d.js";import{Q as F}from"./QTooltip.7454b396.js";import{Q as de}from"./QStepperNavigation.4e0a9acd.js";import{a as fe,u as M}from"./vee-validate.esm.d4095220.js";import{a as L,c as I,g as ve}from"./array.164cfe36.js";import"./use-panel.98705a6b.js";import"./touch.3df10340.js";import"./selection.4cab378b.js";import"./QSlideTransition.479ce506.js";import"./_commonjsHelpers.a26ce4be.js";import"./dayjs.501e8a8e.js";import"./localForage.84a30b23.js";import"./index.04bc0a32.js";import"./i18n.2abc02f2.js";import"./position-engine.40859e34.js";const he=x({props:{title:String,step:Number,name:Number},setup(){const{updateVoluntaryForm:e,submitAffirmativeToQB:o,updateProfile:f}=X(),{voluntaryFormOptions:v}=W(),g=C(()=>v.affirmative.filter(d=>d[10]==="Gender")),_=C(()=>v.affirmative.filter(d=>d[10]==="Ethnicity")),a=C(()=>v.affirmative.filter(d=>d[10]==="Race")),V=L({gender:I().required("Make a Selection").nullable(),ethnicity:I().required("Make a Selection").nullable(),race:I().required("Make a Selection").nullable(),initials:I().required({message:"Initials are required."}).matches(/^[a-zA-Z]+$/g,{excludeEmptyString:!0,message:"Initials cannot contain numbers or special characters."}).min(2,{message:"Initials must be two or three letters."}).max(3,{message:"Initials must be two or three letters."})}),{meta:m,errors:h,handleSubmit:w}=fe({validationSchema:V}),{value:$}=M("gender"),{value:D}=M("ethnicity"),{value:P}=M("race"),{value:Y}=M("initials"),R=w(async d=>{const l=g.value.find(p=>p.value===d.gender),q=_.value.find(p=>p.value===d.ethnicity),b=a.value.find(p=>p.value===d.race),U={16:{value:d.gender,label:l.label},20:{value:d.ethnicity,label:q.label},22:{value:d.race,label:b.label},24:{value:new Date},34:{value:d.initials}};await e({next:8,values:U,type:"affirmative"}),o()});function j(){f({next:8})}function G(){f({next:6})}return{save:j,back:G,submitUpdate:R,formMeta:m,formErrors:h,genderOptions:g,gender:$,ethnicityOptions:_,ethnicity:D,raceOptions:a,race:P,initials:Y}}}),be={class:"row justify-center"},ye={class:"col-12 col-lg-10"},ge={class:"row justify-center"},_e={class:"col-12"},$e={class:"text-h6 text-primary"},ke=t("hr",null,null,-1),qe={class:"text-body2 text-dark q-mb-sm"},Se={class:"text-body2 text-dark q-mb-sm"},Ee=t("div",{class:"text-h6 text-dark"},"Affirmative Action Related Data",-1),Ve=t("div",{class:"text-subtitle2 text-italic"},"Please check appropriate boxes.",-1),Qe={class:"row"},we={class:"col-12 col-lg-5 q-pr-sm"},Ie={class:"text-body1 text-primary"},Ue={class:"q-py-sm"},Ce={key:0,class:"q-pl-md error-message text-body2"},Ne={class:"col-12 col-lg-4 q-pr-sm"},Oe={class:"text-body1 text-primary"},Me={class:"q-py-sm"},Te={key:0,class:"q-pl-md error-message text-body2"},ze={class:"col-12 col-lg-3 q-pr-sm"},Fe={class:"text-body1 text-primary"},Be={class:"q-py-sm"},xe={key:0,class:"q-pl-md error-message text-body2"},Ae={class:"row"},De={class:"col-6 col-md-3 col-lg-2"};function Pe(e,o,f,v,g,_){return i(),y(ie,{step:e.step,name:e.name,title:e.title},{default:r(()=>[t("div",be,[t("div",ye,[t("form",{onSubmit:o[4]||(o[4]=se((...a)=>e.submitUpdate&&e.submitUpdate(...a),["prevent"]))},[t("div",null,[t("div",ge,[t("div",_e,[s(re,null,{default:r(()=>[s(E,null,{default:r(()=>[t("div",$e,n(e.$t("affirmativeTitle")),1),ke,t("div",qe,n(e.$t("affirmativeStatement1")),1),t("div",Se,n(e.$t("affirmativeStatement2")),1)]),_:1}),s(oe),s(E,{class:"q-pb-none"},{default:r(()=>[Ee,Ve]),_:1}),s(E,null,{default:r(()=>[t("div",Qe,[t("div",we,[t("div",Ie,[k(" Race "),e.formErrors.race?(i(),y(S,{key:0,size:"md",class:"q-ml-sm",name:"error",color:"red"})):u("",!0)]),t("div",Ue,[s(T,{options:e.raceOptions,type:"radio",modelValue:e.race,"onUpdate:modelValue":o[0]||(o[0]=a=>e.race=a)},{label:r(a=>[t("span",null,n(a.label),1),a[8]!==""?(i(),y(S,{key:0,class:"q-ml-sm",name:"info",color:"accent"},{default:r(()=>[s(F,{self:"center right",anchor:"center right",class:"bg-primary text-caption"},{default:r(()=>[k(n(a[8]),1)]),_:2},1024)]),_:2},1024)):u("",!0)]),_:1},8,["options","modelValue"]),e.formErrors.race?(i(),Q("div",Ce,n(e.formErrors.race),1)):u("",!0)])]),t("div",Ne,[t("div",Oe,[k(" Ethnicity "),e.formErrors.ethnicity?(i(),y(S,{key:0,size:"md",class:"q-ml-sm",name:"error",color:"red"})):u("",!0)]),t("div",Me,[s(T,{options:e.ethnicityOptions,type:"radio",modelValue:e.ethnicity,"onUpdate:modelValue":o[1]||(o[1]=a=>e.ethnicity=a)},{label:r(a=>[t("span",null,n(a.label),1),a[8]!==""?(i(),y(S,{key:0,class:"q-ml-sm",name:"info",color:"accent"},{default:r(()=>[s(F,{self:"center right",anchor:"center right",class:"bg-primary text-caption"},{default:r(()=>[k(n(a[8]),1)]),_:2},1024)]),_:2},1024)):u("",!0)]),_:1},8,["options","modelValue"]),e.formErrors.ethnicity?(i(),Q("div",Te,n(e.formErrors.ethnicity),1)):u("",!0)])]),t("div",ze,[t("div",Fe,[k(" Gender "),e.formErrors.gender?(i(),y(S,{key:0,size:"md",class:"q-ml-sm",name:"error",color:"red"})):u("",!0)]),t("div",Be,[s(T,{options:e.genderOptions,type:"radio",modelValue:e.gender,"onUpdate:modelValue":o[2]||(o[2]=a=>e.gender=a)},{label:r(a=>[t("span",null,n(a.label),1),a[8]!==""?(i(),y(S,{key:0,class:"q-ml-sm",name:"info",color:"accent"},{default:r(()=>[s(F,{self:"center right",anchor:"center right",class:"bg-primary text-caption"},{default:r(()=>[k(n(a[8]),1)]),_:2},1024)]),_:2},1024)):u("",!0)]),_:1},8,["options","modelValue"]),e.formErrors.gender?(i(),Q("div",xe,n(e.formErrors.gender),1)):u("",!0)])])])]),_:1}),s(E,null,{default:r(()=>[t("div",Ae,[t("div",De,[s(le,{maxlength:"3",dense:e.$q.screen.lt.md,modelValue:e.initials,"onUpdate:modelValue":o[3]||(o[3]=a=>e.initials=a),label:"Your Initials",hint:"Your Initials",error:!!e.formErrors.initials,"bottom-slots":""},null,8,["dense","modelValue","error"])])])]),_:1})]),_:1})])])]),s(de,{class:"text-right"},{default:r(()=>[s(B,{onClick:e.back,color:"secondary",label:e.$t("back"),class:"q-mr-sm"},null,8,["onClick","label"]),s(B,{type:"submit",color:"info",label:e.$t("continue")},null,8,["label"])]),_:1})],32)])])]),_:1},8,["step","name","title"])}var ee=A(he,[["render",Pe]]);const Ye=x({props:{title:String,step:Number,name:Number},setup(){const{updateEmployeeData:e}=pe(),o=ne(),f=X(),{updateVetsForm:v,submitVeteransToQB:g,updateProfile:_}=f,{proceedToTest:a}=Z(f),{voluntaryFormOptions:V}=W(),m=O([]),h=O(null),w=O(""),$=O(null),D=I().required({message:"Initials are required."}).matches(/^[a-zA-Z]+$/g,{excludeEmptyString:!0,message:"Initials cannot contain numbers or special characters."}).min(2,{message:"Initials must be two or three letters."}).max(3,{message:"Initials must be two or three letters."}),P=L({initials:I().required({message:"Initials are required."}).matches(/^[a-zA-Z]+$/g,{excludeEmptyString:!0,message:"Initials cannot contain numbers or special characters."}).min(2,{message:"Initials must be two or three letters."}).max(3,{message:"Initials must be two or three letters."}),veteran:ve().of(L()).min(1,{message:"You must select at least one."})}).required(),Y=C(()=>h.value?h.value:null),R=C(()=>$.value?$.value:null);async function j(){const l=[],q=V.veterans[0][9],b=V.veterans[0][10];m.value.forEach(p=>{const c={6:{value:q,label:b},8:{value:p.value,label:p.label}};l.push(c)});const U={8:{value:q,label:b},17:{value:new Date},16:{value:w.value.toUpperCase()}},N={next:0,values:U,selections:l};m.value.length===0&&(h.value="Make a Selection");try{await P.validate({initials:w.value,veteran:m.value}),$.value=null,h.value=null,await v(N),await g(),a.value?(e({fields:{122:{value:8}}}),o.replace({name:"assessment"})):o.replace({name:"thanks"})}catch({name:p,path:c,errors:H,inner:mt}){c==="veteran"?h.value=H[0].message:c==="initials"&&($.value=H[0].message)}}function G(){_({next:8})}function d(){_({next:7})}return J(m,(l,q)=>{console.log(l);const b=l.find(c=>c.value===6),U=q.find(c=>c.value===6),N=q.find(c=>c.value===7),p=l.find(c=>c.value===7);l.length===0?h.value="Make a Selection":h.value=null,U!==void 0&&l.length>1?m.value=l.filter(c=>c.value!==6):b!==void 0&&l.length>1?m.value=[b]:N!==void 0&&l.length>1?m.value=l.filter(c=>c.value!==7):p!==void 0&&l.length>1&&(m.value=[p])}),J(w,async(l,q)=>{try{await D.validate(l),$.value=null}catch({errors:b}){b[0]instanceof Object?$.value=b[0].message:$.value=b[0]}}),{save:G,back:d,submitUpdate:j,voluntaryFormOptions:V,veteran:m,vetError:Y,initials:w,initialsError:R}}}),Re={class:"row justify-center"},je={class:"col-12"},Ge={class:"text-h6 text-primary"},Le=t("hr",null,null,-1),Ze={class:"text-body2 text-dark q-mb-sm"},Xe={class:"text-body2 text-dark q-mb-sm"},We=t("div",{class:"text-h6 text-dark"},"Multiple Categories May be Selected if Veteran Falls into Multiple Categories.",-1),He=t("div",{class:"text-subtitle2 text-italic"},"Please check the appropriate boxes.",-1),Je={class:"row"},Ke={class:"col-12 col-lg-8"},et={class:"text-body1 text-primary"},tt={class:"q-py-sm"},at={key:0,class:"q-pl-md error-message text-body2"},st={class:"row"},rt={class:"col-6 col-md-3 col-lg-2"};function ot(e,o,f,v,g,_){return i(),y(ie,{step:e.step,name:e.name,title:e.title},{default:r(()=>[t("form",{onSubmit:o[2]||(o[2]=se((...a)=>e.submitUpdate&&e.submitUpdate(...a),["prevent"]))},[t("div",null,[t("div",Re,[t("div",je,[s(re,null,{default:r(()=>[s(E,null,{default:r(()=>[t("div",Ge,n(e.$t("veteranTitle")),1),Le,t("div",Ze,n(e.$t("veteranStatement1")),1),t("div",Xe,n(e.$t("veteranStatement2")),1)]),_:1}),s(oe),s(E,{class:"q-pb-none"},{default:r(()=>[We,He]),_:1}),s(E,null,{default:r(()=>[t("div",Je,[t("div",Ke,[t("div",et,[k(" Please check the box if you are: "),e.vetError?(i(),y(S,{key:0,size:"md",class:"q-ml-sm",name:"error",color:"red"})):u("",!0)]),t("div",tt,[s(T,{options:e.voluntaryFormOptions.veterans,type:"checkbox",modelValue:e.veteran,"onUpdate:modelValue":o[0]||(o[0]=a=>e.veteran=a)},{label:r(a=>[t("span",null,n(a.label),1),a[7]!==""?(i(),y(S,{key:0,class:"q-ml-sm",name:"info",color:"accent"},{default:r(()=>[s(F,{self:"center right",anchor:"center right",class:"bg-primary text-caption"},{default:r(()=>[k(n(a[7]),1)]),_:2},1024)]),_:2},1024)):u("",!0)]),_:1},8,["options","modelValue"]),e.vetError?(i(),Q("div",at,n(e.vetError),1)):u("",!0)])])])]),_:1}),s(E,null,{default:r(()=>[t("div",st,[t("div",rt,[s(le,{maxlength:"3",dense:e.$q.screen.lt.md,modelValue:e.initials,"onUpdate:modelValue":o[1]||(o[1]=a=>e.initials=a),label:"Your Initials",hint:"Your Initials",error:!!e.initialsError,"bottom-slots":""},{error:r(()=>[k(n(e.initialsError),1)]),_:1},8,["dense","modelValue","error"])])])]),_:1})]),_:1})])])]),s(de,{class:"text-right"},{default:r(()=>[s(B,{onClick:e.back,color:"secondary",label:e.$t("back"),class:"q-mr-sm"},null,8,["onClick","label"]),s(B,{type:"submit",color:"info",label:e.$t("continue")},null,8,["label"])]),_:1})],32)]),_:1},8,["step","name","title"])}var te=A(Ye,[["render",ot]]);const lt=x({components:{disability:K,affirmative:ee,veteran:te},setup(){const{step:e}=Z(X());return{step:e,disability:K,affirmative:ee,veteran:te}}});function nt(e,o,f,v,g,_){const a=z("disability"),V=z("affirmative"),m=z("veteran");return i(),Q("div",null,[s(me,{modelValue:e.step,"onUpdate:modelValue":o[0]||(o[0]=h=>e.step=h),animated:"","done-color":"info","active-color":"dark","inactive-color":"secondary"},{default:r(()=>[s(a,{title:"",name:6,done:e.step>6},null,8,["done"]),s(V,{title:"",name:7,done:e.step>7},null,8,["done"]),s(m,{title:"",name:8,done:e.step>8},null,8,["done"])]),_:1},8,["modelValue"])])}var ae=A(lt,[["render",nt]]);const it=x({components:{stepper:ae},setup(){const e=W(),{disabilityForm:o}=e,{voluntaryLoadingState:f}=Z(e),v=ne();function g(){o||v.replace({name:"apply"})}return g(),{stepper:ae,voluntaryLoadingState:f}}}),dt={key:0,class:"absolute-center"},ct={key:1};function ut(e,o,f,v,g,_){const a=z("stepper");return i(),y(ue,{style:{"max-width":"100vw","max-height":"100vh"}},{default:r(()=>[e.voluntaryLoadingState?(i(),Q("div",dt,[s(ce,{color:"primary",size:"5em"})])):u("",!0),e.voluntaryLoadingState?u("",!0):(i(),Q("div",ct,[s(a)]))]),_:1})}var Nt=A(it,[["render",ut]]);export{Nt as default};
