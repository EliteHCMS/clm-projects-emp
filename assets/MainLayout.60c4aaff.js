import{bF as qe,bG as ze,r as g,bH as Me,c as n,bI as Z,bJ as vt,aM as ft,aI as mt,bK as Pe,bL as Ie,aK as $e,h,bM as ht,bj as se,g as Ce,bN as Ue,bO as We,bP as bt,i as gt,bQ as pt,bR as Fe,bS as yt,w as z,aH as xe,o as Ke,bT as Be,bU as Ge,bV as St,k as ne,_ as ie,z as k,am as T,bh as w,bW as ee,d as m,bX as oe,an as D,at as Te,aa as Y,E as ce,bY as Le,Z as _t,bZ as Xe,b_ as wt,b$ as ke,bC as kt,c0 as qt,aY as F,A as J,aX as Ye,G as me,F as Ze,c1 as Je,c2 as zt,C as K,c3 as Mt,c4 as $t,c5 as Ct,c6 as fe}from"./index.9ababbc3.js";import{Q as Qe,a as Tt}from"./QHeader.40f9c55a.js";import{Q as Lt}from"./QMenu.85d9648b.js";import{Q as je}from"./QToolbar.4a903450.js";import{Q as Ot}from"./QImg.6786d215.js";import{Q as et}from"./QList.127df48f.js";import{Q as Ae}from"./QResizeObserver.14e048dd.js";import{Q as Pt,a as It,b as xt}from"./QLayout.837fb581.js";import{T as ue}from"./TouchPan.785ee7b2.js";import{C as Bt}from"./ClosePopup.215dbedd.js";import{Q as he,a as Qt}from"./QSelect.51eca79e.js";import{Q as jt}from"./QSlideTransition.86fb9cac.js";import{u as At}from"./use-quasar.862199cc.js";import{u as Ht}from"./i18n.b874c408.js";import{u as tt,b as He,c as Dt,q as De}from"./quickbase.0b7939ef.js";import{_ as Vt}from"./KioskLogin.5e31289c.js";import{_ as Nt}from"./languageSelector.76a7f748.js";import"./position-engine.af50392f.js";import"./selection.c128e84c.js";import"./touch.d8ab472d.js";import"./rtl.65b79c69.js";import"./_commonjsHelpers.dfee5925.js";import"./dayjs.0e9acdcb.js";import"./localForage.bd392413.js";import"./index.7dbe61ef.js";import"./api.51016025.js";import"./array.0d1aaa22.js";const Ve=["vertical","horizontal"],we={vertical:{offset:"offsetY",scroll:"scrollTop",dir:"down",dist:"y"},horizontal:{offset:"offsetX",scroll:"scrollLeft",dir:"right",dist:"x"}},Ne={prevent:!0,mouse:!0,mouseAllDir:!0},Ee=e=>e>=250?50:Math.ceil(e/5);var Et=qe({name:"QScrollArea",props:{...ze,thumbStyle:Object,verticalThumbStyle:Object,horizontalThumbStyle:Object,barStyle:[Array,String,Object],verticalBarStyle:[Array,String,Object],horizontalBarStyle:[Array,String,Object],contentStyle:[Array,String,Object],contentActiveStyle:[Array,String,Object],delay:{type:[String,Number],default:1e3},visible:{type:Boolean,default:null},tabindex:[String,Number],onScroll:Function},setup(e,{slots:p,emit:S}){const f=g(!1),d=g(!1),s=g(!1),i={vertical:g(0),horizontal:g(0)},t={vertical:{ref:g(null),position:g(0),size:g(0)},horizontal:{ref:g(null),position:g(0),size:g(0)}},C=Ce(),l=Me(e,C.proxy.$q);let $,x;const y=g(null),_=n(()=>"q-scrollarea"+(l.value===!0?" q-scrollarea--dark":""));t.vertical.percentage=n(()=>{const o=t.vertical.size.value-i.vertical.value;if(o<=0)return 0;const u=Z(t.vertical.position.value/o,0,1);return Math.round(u*1e4)/1e4}),t.vertical.thumbHidden=n(()=>(e.visible===null?s.value:e.visible)!==!0&&f.value===!1&&d.value===!1||t.vertical.size.value<=i.vertical.value+1),t.vertical.thumbStart=n(()=>t.vertical.percentage.value*(i.vertical.value-t.vertical.thumbSize.value)),t.vertical.thumbSize=n(()=>Math.round(Z(i.vertical.value*i.vertical.value/t.vertical.size.value,Ee(i.vertical.value),i.vertical.value))),t.vertical.style=n(()=>({...e.thumbStyle,...e.verticalThumbStyle,top:`${t.vertical.thumbStart.value}px`,height:`${t.vertical.thumbSize.value}px`})),t.vertical.thumbClass=n(()=>"q-scrollarea__thumb q-scrollarea__thumb--v absolute-right"+(t.vertical.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),t.vertical.barClass=n(()=>"q-scrollarea__bar q-scrollarea__bar--v absolute-right"+(t.vertical.thumbHidden.value===!0?" q-scrollarea__bar--invisible":"")),t.horizontal.percentage=n(()=>{const o=t.horizontal.size.value-i.horizontal.value;if(o<=0)return 0;const u=Z(t.horizontal.position.value/o,0,1);return Math.round(u*1e4)/1e4}),t.horizontal.thumbHidden=n(()=>(e.visible===null?s.value:e.visible)!==!0&&f.value===!1&&d.value===!1||t.horizontal.size.value<=i.horizontal.value+1),t.horizontal.thumbStart=n(()=>t.horizontal.percentage.value*(i.horizontal.value-t.horizontal.thumbSize.value)),t.horizontal.thumbSize=n(()=>Math.round(Z(i.horizontal.value*i.horizontal.value/t.horizontal.size.value,Ee(i.horizontal.value),i.horizontal.value))),t.horizontal.style=n(()=>({...e.thumbStyle,...e.horizontalThumbStyle,left:`${t.horizontal.thumbStart.value}px`,width:`${t.horizontal.thumbSize.value}px`})),t.horizontal.thumbClass=n(()=>"q-scrollarea__thumb q-scrollarea__thumb--h absolute-bottom"+(t.horizontal.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),t.horizontal.barClass=n(()=>"q-scrollarea__bar q-scrollarea__bar--h absolute-bottom"+(t.horizontal.thumbHidden.value===!0?" q-scrollarea__bar--invisible":""));const Q=n(()=>t.vertical.thumbHidden.value===!0&&t.horizontal.thumbHidden.value===!0?e.contentStyle:e.contentActiveStyle),M=[[ue,o=>{te(o,"vertical")},void 0,{vertical:!0,...Ne}]],b=[[ue,o=>{te(o,"horizontal")},void 0,{horizontal:!0,...Ne}]];function A(){const o={};return Ve.forEach(u=>{const v=t[u];o[u+"Position"]=v.position.value,o[u+"Percentage"]=v.percentage.value,o[u+"Size"]=v.size.value,o[u+"ContainerSize"]=i[u].value}),o}const V=vt(()=>{const o=A();o.ref=C.proxy,S("scroll",o)},0);function q(o,u,v){if(Ve.includes(o)===!1){console.error("[QScrollArea]: wrong first param of setScrollPosition (vertical/horizontal)");return}(o==="vertical"?Ie:Pe)(y.value,u,v)}function N({height:o,width:u}){let v=!1;i.vertical.value!==o&&(i.vertical.value=o,v=!0),i.horizontal.value!==u&&(i.horizontal.value=u,v=!0),v===!0&&U()}function E({position:o}){let u=!1;t.vertical.position.value!==o.top&&(t.vertical.position.value=o.top,u=!0),t.horizontal.position.value!==o.left&&(t.horizontal.position.value=o.left,u=!0),u===!0&&U()}function re({height:o,width:u}){t.horizontal.size.value!==u&&(t.horizontal.size.value=u,U()),t.vertical.size.value!==o&&(t.vertical.size.value=o,U())}function te(o,u){const v=t[u];if(o.isFirst===!0){if(v.thumbHidden.value===!0)return;x=v.position.value,d.value=!0}else if(d.value!==!0)return;o.isFinal===!0&&(d.value=!1);const W=we[u],le=i[u].value,be=(v.size.value-le)/(le-v.thumbSize.value),de=o.distance[W.dist],ge=x+(o.direction===W.dir?1:-1)*de*be;j(ge,u)}function R(o,u){const v=t[u];if(v.thumbHidden.value!==!0){const W=o[we[u].offset];if(W<v.thumbStart.value||W>v.thumbStart.value+v.thumbSize.value){const le=W-v.thumbSize.value/2;j(le/i[u].value*v.size.value,u)}v.ref.value!==null&&v.ref.value.dispatchEvent(new MouseEvent(o.type,o))}}function I(o){R(o,"vertical")}function H(o){R(o,"horizontal")}function U(){f.value===!0?clearTimeout($):f.value=!0,$=setTimeout(()=>{f.value=!1},e.delay),e.onScroll!==void 0&&V()}function j(o,u){y.value[we[u].scroll]=o}function r(){s.value=!0}function L(){s.value=!1}Object.assign(C.proxy,{getScrollTarget:()=>y.value,getScroll:A,getScrollPosition:()=>({top:t.vertical.position.value,left:t.horizontal.position.value}),getScrollPercentage:()=>({top:t.vertical.percentage.value,left:t.horizontal.percentage.value}),setScrollPosition:q,setScrollPercentage(o,u,v){q(o,u*(t[o].size.value-i[o].value),v)}});let O=null;return ft(()=>{O={top:t.vertical.position.value,left:t.horizontal.position.value}}),mt(()=>{if(O===null)return;const o=y.value;o!==null&&(Pe(o,O.left),Ie(o,O.top))}),$e(V.cancel),()=>h("div",{class:_.value,onMouseenter:r,onMouseleave:L},[h("div",{ref:y,class:"q-scrollarea__container scroll relative-position fit hide-scrollbar",tabindex:e.tabindex!==void 0?e.tabindex:void 0},[h("div",{class:"q-scrollarea__content absolute",style:Q.value},ht(p.default,[h(Ae,{debounce:0,onResize:re})])),h(Pt,{axis:"both",onScroll:E})]),h(Ae,{debounce:0,onResize:N}),h("div",{class:t.vertical.barClass.value,style:[e.barStyle,e.verticalBarStyle],"aria-hidden":"true",onMousedown:I}),h("div",{class:t.horizontal.barClass.value,style:[e.barStyle,e.horizontalBarStyle],"aria-hidden":"true",onMousedown:H}),se(h("div",{ref:t.vertical.ref,class:t.vertical.thumbClass.value,style:t.vertical.style.value,"aria-hidden":"true"}),M),se(h("div",{ref:t.horizontal.ref,class:t.horizontal.thumbClass.value,style:t.horizontal.style.value,"aria-hidden":"true"}),b)])}});const Re=150;var Rt=qe({name:"QDrawer",inheritAttrs:!1,props:{...Ue,...ze,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...We,"on-layout","mini-state"],setup(e,{slots:p,emit:S,attrs:f}){const d=Ce(),{proxy:{$q:s}}=d,i=Me(e,s),{preventBodyScroll:t}=St(),{registerTimeout:C}=bt(),l=gt(pt,()=>{console.error("QDrawer needs to be child of QLayout")});let $,x,y;const _=g(e.behavior==="mobile"||e.behavior!=="desktop"&&l.totalWidth.value<=e.breakpoint),Q=n(()=>e.mini===!0&&_.value!==!0),M=n(()=>Q.value===!0?e.miniWidth:e.width),b=g(e.showIfAbove===!0&&_.value===!1?!0:e.modelValue===!0),A=n(()=>e.persistent!==!0&&(_.value===!0||W.value===!0));function V(a,c){if(re(),a!==!1&&l.animate(),B(0),_.value===!0){const P=l.instances[O.value];P!==void 0&&P.belowBreakpoint===!0&&P.hide(!1),G(1),l.isContainer.value!==!0&&t(!0)}else G(0),a!==!1&&ye(!1);C(()=>{a!==!1&&ye(!0),c!==!0&&S("show",a)},Re)}function q(a,c){te(),a!==!1&&l.animate(),G(0),B(H.value*M.value),Se(),c!==!0&&C(()=>{S("hide",a)},Re)}const{show:N,hide:E}=Fe({showing:b,hideOnRouteChange:A,handleShow:V,handleHide:q}),{addToHistory:re,removeFromHistory:te}=yt(b,E,A),R={belowBreakpoint:_,hide:E},I=n(()=>e.side==="right"),H=n(()=>(s.lang.rtl===!0?-1:1)*(I.value===!0?1:-1)),U=g(0),j=g(!1),r=g(!1),L=g(M.value*H.value),O=n(()=>I.value===!0?"left":"right"),o=n(()=>b.value===!0&&_.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:M.value:0),u=n(()=>e.overlay===!0||e.miniToOverlay===!0||l.view.value.indexOf(I.value?"R":"L")>-1||s.platform.is.ios===!0&&l.isContainer.value===!0),v=n(()=>e.overlay===!1&&b.value===!0&&_.value===!1),W=n(()=>e.overlay===!0&&b.value===!0&&_.value===!1),le=n(()=>"fullscreen q-drawer__backdrop"+(b.value===!1&&j.value===!1?" hidden":"")),be=n(()=>({backgroundColor:`rgba(0,0,0,${U.value*.4})`})),de=n(()=>I.value===!0?l.rows.value.top[2]==="r":l.rows.value.top[0]==="l"),ge=n(()=>I.value===!0?l.rows.value.bottom[2]==="r":l.rows.value.bottom[0]==="l"),at=n(()=>{const a={};return l.header.space===!0&&de.value===!1&&(u.value===!0?a.top=`${l.header.offset}px`:l.header.space===!0&&(a.top=`${l.header.size}px`)),l.footer.space===!0&&ge.value===!1&&(u.value===!0?a.bottom=`${l.footer.offset}px`:l.footer.space===!0&&(a.bottom=`${l.footer.size}px`)),a}),lt=n(()=>{const a={width:`${M.value}px`,transform:`translateX(${L.value}px)`};return _.value===!0?a:Object.assign(a,at.value)}),ot=n(()=>"q-drawer__content fit "+(l.isContainer.value!==!0?"scroll":"overflow-auto")),nt=n(()=>`q-drawer q-drawer--${e.side}`+(r.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+(i.value===!0?" q-drawer--dark q-dark":"")+(j.value===!0?" no-transition":b.value===!0?"":" q-layout--prevent-focus")+(_.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${Q.value===!0?"mini":"standard"}`+(u.value===!0||v.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(de.value===!0?" q-drawer--top-padding":""))),it=n(()=>{const a=s.lang.rtl===!0?e.side:O.value;return[[ue,ct,void 0,{[a]:!0,mouse:!0}]]}),rt=n(()=>{const a=s.lang.rtl===!0?O.value:e.side;return[[ue,Oe,void 0,{[a]:!0,mouse:!0}]]}),ut=n(()=>{const a=s.lang.rtl===!0?O.value:e.side;return[[ue,Oe,void 0,{[a]:!0,mouse:!0,mouseAllDir:!0}]]});function pe(){dt(_,e.behavior==="mobile"||e.behavior!=="desktop"&&l.totalWidth.value<=e.breakpoint)}z(_,a=>{a===!0?($=b.value,b.value===!0&&E(!1)):e.overlay===!1&&e.behavior!=="mobile"&&$!==!1&&(b.value===!0?(B(0),G(0),Se()):N(!1))}),z(()=>e.side,(a,c)=>{l.instances[c]===R&&(l.instances[c]=void 0,l[c].space=!1,l[c].offset=0),l.instances[a]=R,l[a].size=M.value,l[a].space=v.value,l[a].offset=o.value}),z(l.totalWidth,()=>{(l.isContainer.value===!0||document.qScrollPrevented!==!0)&&pe()}),z(()=>e.behavior+e.breakpoint,pe),z(l.isContainer,a=>{b.value===!0&&t(a!==!0),a===!0&&pe()}),z(l.scrollbarWidth,()=>{B(b.value===!0?0:void 0)}),z(o,a=>{X("offset",a)}),z(v,a=>{S("on-layout",a),X("space",a)}),z(I,()=>{B()}),z(M,a=>{B(),_e(e.miniToOverlay,a)}),z(()=>e.miniToOverlay,a=>{_e(a,M.value)}),z(()=>s.lang.rtl,()=>{B()}),z(()=>e.mini,()=>{e.modelValue===!0&&(st(),l.animate())}),z(Q,a=>{S("mini-state",a)});function B(a){a===void 0?xe(()=>{a=b.value===!0?0:M.value,B(H.value*a)}):(l.isContainer.value===!0&&I.value===!0&&(_.value===!0||Math.abs(a)===M.value)&&(a+=H.value*l.scrollbarWidth.value),L.value=a)}function G(a){U.value=a}function ye(a){const c=a===!0?"remove":l.isContainer.value!==!0?"add":"";c!==""&&document.body.classList[c]("q-body--drawer-toggle")}function st(){clearTimeout(x),d.proxy&&d.proxy.$el&&d.proxy.$el.classList.add("q-drawer--mini-animate"),r.value=!0,x=setTimeout(()=>{r.value=!1,d&&d.proxy&&d.proxy.$el&&d.proxy.$el.classList.remove("q-drawer--mini-animate")},150)}function ct(a){if(b.value!==!1)return;const c=M.value,P=Z(a.distance.x,0,c);if(a.isFinal===!0){P>=Math.min(75,c)===!0?N():(l.animate(),G(0),B(H.value*c)),j.value=!1;return}B((s.lang.rtl===!0?I.value!==!0:I.value)?Math.max(c-P,0):Math.min(0,P-c)),G(Z(P/c,0,1)),a.isFirst===!0&&(j.value=!0)}function Oe(a){if(b.value!==!0)return;const c=M.value,P=a.direction===e.side,ve=(s.lang.rtl===!0?P!==!0:P)?Z(a.distance.x,0,c):0;if(a.isFinal===!0){Math.abs(ve)<Math.min(75,c)===!0?(l.animate(),G(1),B(0)):E(),j.value=!1;return}B(H.value*ve),G(Z(1-ve/c,0,1)),a.isFirst===!0&&(j.value=!0)}function Se(){t(!1),ye(!0)}function X(a,c){l.update(e.side,a,c)}function dt(a,c){a.value!==c&&(a.value=c)}function _e(a,c){X("size",a===!0?e.miniWidth:c)}return l.instances[e.side]=R,_e(e.miniToOverlay,M.value),X("space",v.value),X("offset",o.value),e.showIfAbove===!0&&e.modelValue!==!0&&b.value===!0&&e["onUpdate:modelValue"]!==void 0&&S("update:modelValue",!0),Ke(()=>{S("on-layout",v.value),S("mini-state",Q.value),$=e.showIfAbove===!0;const a=()=>{(b.value===!0?V:q)(!1,!0)};if(l.totalWidth.value!==0){xe(a);return}y=z(l.totalWidth,()=>{y(),y=void 0,b.value===!1&&e.showIfAbove===!0&&_.value===!1?N(!1):a()})}),$e(()=>{y!==void 0&&y(),clearTimeout(x),b.value===!0&&Se(),l.instances[e.side]===R&&(l.instances[e.side]=void 0,X("size",0),X("offset",0),X("space",!1))}),()=>{const a=[];_.value===!0&&(e.noSwipeOpen===!1&&a.push(se(h("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),it.value)),a.push(Be("div",{ref:"backdrop",class:le.value,style:be.value,"aria-hidden":"true",onClick:E},void 0,"backdrop",e.noSwipeBackdrop!==!0&&b.value===!0,()=>ut.value)));const c=Q.value===!0&&p.mini!==void 0,P=[h("div",{...f,key:""+c,class:[ot.value,f.class]},c===!0?p.mini():Ge(p.default))];return e.elevated===!0&&b.value===!0&&P.push(h("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),a.push(Be("aside",{ref:"content",class:nt.value,style:lt.value},P,"contentclose",e.noSwipeClose!==!0&&_.value===!0,()=>rt.value)),h("div",{class:"q-drawer-container"},a)}}});const Ut=ne({name:"MenuLink",props:{title:{type:String,required:!0},caption:{type:String,default:""},to:{type:Object,default:()=>({path:"",exact:!0})},icon:{type:String,default:""},mini:{type:Boolean,default:!1},subMenu:{type:Array,default:null}}});function Wt(e,p,S,f,d,s){return k(),T(Le,{to:e.to,class:ce(["rounded-borders bg-white",{"q-ma-sm":!e.mini,"q-ma-xs":e.mini}]),"active-class":e.mini?"brand-active-menu text-white":"brand-active-menu text-white q-py-md",exact:""},{default:w(()=>[e.icon?(k(),T(ee,{key:0,avatar:""},{default:w(()=>[m(oe,{name:e.icon},null,8,["name"])]),_:1})):D("",!0),m(ee,null,{default:w(()=>[m(he,null,{default:w(()=>[Te(Y(e.title),1)]),_:1})]),_:1})]),_:1},8,["to","class","active-class"])}var Ft=ie(Ut,[["render",Wt]]);const ae=_t({}),Kt=Object.keys(Xe);var Gt=qe({name:"QExpansionItem",props:{...Xe,...Ue,...ze,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:Number,headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...We,"click","after-show","after-hide"],setup(e,{slots:p,emit:S}){const{proxy:{$q:f}}=Ce(),d=Me(e,f),s=g(e.modelValue!==null?e.modelValue:e.defaultOpened),i=g(null),{hide:t,toggle:C}=Fe({showing:s});let l,$;const x=n(()=>`q-expansion-item q-item-type q-expansion-item--${s.value===!0?"expanded":"collapsed"} q-expansion-item--${e.popup===!0?"popup":"standard"}`),y=n(()=>{if(e.contentInsetLevel===void 0)return null;const r=f.lang.rtl===!0?"Right":"Left";return{["padding"+r]:e.contentInsetLevel*56+"px"}}),_=n(()=>e.disable!==!0&&(e.href!==void 0||e.to!==void 0&&e.to!==null&&e.to!=="")),Q=n(()=>{const r={};return Kt.forEach(L=>{r[L]=e[L]}),r}),M=n(()=>_.value===!0||e.expandIconToggle!==!0),b=n(()=>e.expandedIcon!==void 0&&s.value===!0?e.expandedIcon:e.expandIcon||f.iconSet.expansionItem[e.denseToggle===!0?"denseIcon":"icon"]),A=n(()=>e.disable!==!0&&(_.value===!0||e.expandIconToggle===!0));z(()=>e.group,r=>{$!==void 0&&$(),r!==void 0&&te()});function V(r){_.value!==!0&&C(r),S("click",r)}function q(r){r.keyCode===13&&N(r,!0)}function N(r,L){L!==!0&&i.value!==null&&i.value.focus(),C(r),qt(r)}function E(){S("after-show")}function re(){S("after-hide")}function te(){l===void 0&&(l=wt()),s.value===!0&&(ae[e.group]=l);const r=z(s,O=>{O===!0?ae[e.group]=l:ae[e.group]===l&&delete ae[e.group]}),L=z(()=>ae[e.group],(O,o)=>{o===l&&O!==void 0&&O!==l&&t()});$=()=>{r(),L(),ae[e.group]===l&&delete ae[e.group],$=void 0}}function R(){const r={class:[`q-focusable relative-position cursor-pointer${e.denseToggle===!0&&e.switchToggleSide===!0?" items-end":""}`,e.expandIconClass],side:e.switchToggleSide!==!0,avatar:e.switchToggleSide},L=[h(oe,{class:"q-expansion-item__toggle-icon"+(e.expandedIcon===void 0&&s.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:b.value})];return A.value===!0&&(Object.assign(r,{tabindex:0,onClick:N,onKeyup:q}),L.unshift(h("div",{ref:i,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),h(ee,r,()=>L)}function I(){let r;return p.header!==void 0?r=[].concat(p.header()):(r=[h(ee,()=>[h(he,{lines:e.labelLines},()=>e.label||""),e.caption?h(he,{lines:e.captionLines,caption:!0},()=>e.caption):null])],e.icon&&r[e.switchToggleSide===!0?"push":"unshift"](h(ee,{side:e.switchToggleSide===!0,avatar:e.switchToggleSide!==!0},()=>h(oe,{name:e.icon})))),e.disable!==!0&&r[e.switchToggleSide===!0?"unshift":"push"](R()),r}function H(){const r={ref:"item",style:e.headerStyle,class:e.headerClass,dark:d.value,disable:e.disable,dense:e.dense,insetLevel:e.headerInsetLevel};return M.value===!0&&(r.clickable=!0,r.onClick=V,_.value===!0&&Object.assign(r,Q.value)),h(Le,r,I)}function U(){return se(h("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:y.value},Ge(p.default)),[[kt,s.value]])}function j(){const r=[H(),h(jt,{duration:e.duration,onShow:E,onHide:re},U)];return e.expandSeparator===!0&&r.push(h(ke,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:d.value}),h(ke,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:d.value})),r}return e.group!==void 0&&te(),$e(()=>{$!==void 0&&$()}),()=>h("div",{class:x.value},[h("div",{class:"q-expansion-item__container relative-position"},j())])}});const Xt=ne({name:"MenuLink",props:{title:{type:String,required:!0},caption:{type:String,default:""},to:{type:Object,default:()=>({path:"",exact:!0})},icon:{type:String,default:""},mini:{type:Boolean,default:!1},subMenu:{type:Array,default:null}}});function Yt(e,p,S,f,d,s){return k(),T(Le,{to:e.to,class:ce(["rounded-borders text-white",{"q-ml-sm":!e.mini,"q-mt-sm":!e.mini,"q-ma-xs":e.mini}]),"active-class":"brand-active-menu text-white",exact:""},{default:w(()=>[e.icon?(k(),T(ee,{key:0,avatar:""},{default:w(()=>[m(oe,{name:e.icon},null,8,["name"])]),_:1})):D("",!0),m(ee,null,{default:w(()=>[m(he,null,{default:w(()=>[Te(Y(e.title),1)]),_:1})]),_:1})]),_:1},8,["to","class"])}var Zt=ie(Xt,[["render",Yt]]);const Jt=ne({name:"MenuExpanded",components:{MenuSubLink:Zt},props:{title:{type:String,required:!0},caption:{type:String,default:""},to:{type:Object,default:()=>({path:"",exact:!0})},icon:{type:String,default:""},mini:{type:Boolean,default:!1},subMenu:{type:Array,default:null}}});function ea(e,p,S,f,d,s){const i=F("MenuSubLink");return k(),T(Gt,{icon:e.icon,label:e.title,class:ce(["rounded-borders bg-white",{"q-ma-sm":!e.mini,"q-ma-xs":e.mini}]),"active-class":"brand-active-menu text-white",exact:""},{default:w(()=>[m(ke),m(ee,null,{default:w(()=>[m(et,null,{default:w(()=>[(k(!0),J(Ze,null,Ye(e.subMenu,t=>(k(),T(i,me({key:t},t,{mini:e.mini}),null,16,["mini"]))),128))]),_:1})]),_:1})]),_:1},8,["icon","label","class"])}var ta=ie(Jt,[["render",ea]]);const aa=ne({name:"MenuNav",components:{MenuLink:Ft,MenuExpanded:ta},props:{title:{type:String,required:!0},caption:{type:String,default:""},to:{type:Object,default:()=>({path:"",exact:!0})},icon:{type:String,default:""},mini:{type:Boolean,default:!1},subMenu:{type:Array,default:null}}});function la(e,p,S,f,d,s){const i=F("MenuLink"),t=F("MenuExpanded");return k(),J("div",null,[!e.subMenu&&e.to?(k(),T(i,me({key:0},{...e.$props,...e.$attrs},{mini:e.mini}),null,16,["mini"])):e.subMenu&&e.subMenu.length>0?(k(),T(t,me({key:1},{...e.$props,...e.$attrs},{mini:e.mini}),null,16,["mini"])):D("",!0)])}var oa=ie(aa,[["render",la]]);const na=ne({setup(){const e=tt(),{userAccess:p,updateActive:S}=He(),{active:f}=Je(He()),d=g(null);z(d,(i,t)=>{S({project:i})});const s=n(()=>p||[]);return Ke(()=>{d.value=f.value}),{userStore:e,model:d,options:s,active:f}}}),ia={class:"q-pt-sm q-px-md"},ra={class:"row items-center"},ua=Te("Project:"),sa={class:"text-primary q-ml-md"},ca={key:0,class:"col-12 col-md-6"};function da(e,p,S,f,d,s){return k(),J("div",ia,[m(Mt,{flat:""},{default:w(()=>[m(zt,{class:"q-pb-none q-mb-none"},{default:w(()=>[K("div",ra,[K("div",{class:ce(e.options.length>1?"col-12 col-md-6":"col-12")},[K("div",{class:ce(["text-dark",e.$q.screen.lt.md?"text-body1":"text-h5"])},[ua,K("span",sa,Y(e.active[20]),1)],2)],2),e.options.length>1?(k(),J("div",ca,[m(Qt,{label:"Change Project","transition-show":"flip-up","transition-hide":"flip-down",modelValue:e.model,"onUpdate:modelValue":p[0]||(p[0]=i=>e.model=i),options:e.options,"option-label":"20","display-value":`${e.model?e.model[20]:""}`},null,8,["modelValue","options","display-value"])])):D("",!0)])]),_:1})]),_:1})])}var va=ie(na,[["render",da]]);const fa=ne({name:"MainLayout",components:{MenuNav:oa,kioskLogin:Vt,languageSelector:Nt,changeProject:va},setup(){const e=At(),{locale:p}=Ht(),S=g(!1),f=g(!1),d=g(!1),s=g(!1),i=g(!1),t=$t(),C=Ct(),l=tt(),$=Dt(),{toolbarTitle:x}=$,{onKiosk:y,activeMenu:_,pageType:Q,startPageEnabled:M}=Je($),b=async q=>{await De.checkKioskStatus(q)||(i.value=!0)};if(y.value&&b(!0),C.query){const q=Object.assign({},C.query);delete q.office_id,delete q.qr,t.replace({query:q})}z(()=>C.query,async()=>{if(y.value&&b(!1),C.query.office_id){const q=Object.assign({},C.query);delete q.office_id,q.qr&&(De.checkInUser(),delete q.qr),t.replace({query:q})}});const A=async()=>{y.value&&(p.value="en-US"),l.logout().then(()=>{M.value&&y.value?t.replace({name:"start"}):t.replace({name:"login"})})},V=()=>{A()};return{tab:g("mails"),userStore:l,leftDrawerOpen:S,rightDrawerOpen:d,miniState:f,miniHover:s,kioskPrompt:i,onIdle:V,onKiosk:y,activeMenu:_,miniMouseOver(){f.value===!0&&(s.value=!1)},miniMouseOut(){f.value===!0&&(s.value=!0)},toggleLeftDrawer(){e.screen.gt.sm?(f.value=!f.value,f.value===!0&&(s.value=!0)):S.value=!S.value},toggleRightDrawer(){d.value=!d.value},drawerClick(q){f.value&&(f.value=!1,q.stopPropagation())},logout:A,toolbarTitle:x,pageType:Q,startPageEnabled:M}}}),ma={key:0,class:"q-mr-sm q-ml-sm",src:"https://cdn.jsdelivr.net/gh/EliteHCMS/assets@latest/public/logo-white.png",alt:"BrandSafway Logo",height:"25"},ha={key:0},ba={key:1},ga={class:"q-gutter-sm row items-center no-wrap"},pa={class:"row no-wrap q-pa-md"},ya={class:"column items-center"},Sa={class:"text-subtitle1 q-mt-md q-mb-xs"};function _a(e,p,S,f,d,s){const i=F("languageSelector"),t=F("MenuNav"),C=F("change-project"),l=F("router-view"),$=F("kioskLogin"),x=F("v-idle");return k(),T(It,{view:"hHh lpR fFf"},{default:w(()=>[m(Tt,{elevated:""},{default:w(()=>[m(je,{style:{height:"62px"}},{default:w(()=>[m(fe,{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu",onClick:e.toggleLeftDrawer},null,8,["onClick"]),e.$q.screen.gt.sm?(k(),J("img",ma)):D("",!0),m(Qe,null,{default:w(()=>[e.$q.screen.lt.sm?(k(),J("span",ha)):(k(),J("span",ba,Y(e.toolbarTitle),1))]),_:1}),K("div",ga,[m(i,{dense:"",borderless:"",class:"lang-white"}),m(fe,{flat:"",dense:"",color:"white"},{default:w(()=>[K("div",null,Y(e.userStore.getUser[35])+" "+Y(e.userStore.getUser[37]),1),m(oe,{right:"",size:"2.2em",name:"account_circle"}),m(Lt,null,{default:w(()=>[K("div",pa,[K("div",ya,[m(oe,{right:"",size:"72px",name:"account_circle",class:"q-mr-md"}),K("div",Sa,Y(e.userStore.getUser[35])+" "+Y(e.userStore.getUser[37]),1),se(m(fe,{color:"primary",label:e.$t("logout"),push:"",size:"sm",onClick:e.logout},null,8,["label","onClick"]),[[Bt]])])])]),_:1})]),_:1})])]),_:1})]),_:1}),m(Rt,{modelValue:e.leftDrawerOpen,"onUpdate:modelValue":p[0]||(p[0]=y=>e.leftDrawerOpen=y),side:"left","show-if-above":"",bordered:"",mini:e.miniState&&e.miniHover,onMouseover:e.miniMouseOver,onMouseout:e.miniMouseOut,onClickCapture:e.drawerClick,class:"text-primary bg-white"},{default:w(()=>[m(Et,{class:"fit"},{default:w(()=>[e.$q.screen.lt.sm?(k(),T(je,{key:0,style:{height:"64px"}},{default:w(()=>[m(Qe,{class:"items-center"},{default:w(()=>[m(Ot,{src:"https://cdn.jsdelivr.net/gh/EliteHCMS/assets@latest/public/logo.svg",style:{"max-width":"245px"},fit:"center",class:"q-ml-md"})]),_:1})]),_:1})):D("",!0),m(et,{class:"q-mt-sm"},{default:w(()=>[(k(!0),J(Ze,null,Ye(e.activeMenu,y=>(k(),T(t,me({key:y.title},y,{mini:e.miniState}),null,16,["mini"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue","mini","onMouseover","onMouseout","onClickCapture"]),m(xt,null,{default:w(()=>[e.pageType==="Project User"?(k(),T(C,{key:0,class:"q-mb-md"})):D("",!0),m(l)]),_:1}),e.onKiosk?(k(),T($,{key:0,modelValue:e.kioskPrompt,"onUpdate:modelValue":p[1]||(p[1]=y=>e.kioskPrompt=y)},null,8,["modelValue"])):D("",!0),e.onKiosk?(k(),T(x,{key:1,onIdle:e.onIdle,duration:300,style:{display:"none"}},null,8,["onIdle"])):D("",!0),e.onKiosk&&e.startPageEnabled?(k(),T(fe,{key:2,icon:"o_home",onClick:e.onIdle,class:"z-max home-button-main",size:"xl",ripple:!0},null,8,["onClick"])):D("",!0)]),_:1})}var Xa=ie(fa,[["render",_a]]);export{Xa as default};
