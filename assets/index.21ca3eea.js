import{Q as D}from"./QPage.e6a76550.js";import{u as U}from"./use-quasar.04742e8f.js";import{l as g,bW as N,c as u,_ as C,B as d,C as _,d as a,bt as b,cX as k,E as Q,bY as F,bQ as A,r as W,b7 as B,cW as E,F as G,b6 as X,as as j,cV as Y,at as z}from"./index.1bdfb1af.js";import{q as H}from"./app.b866ce7a.js";import{a as J}from"./useQuerySaver.d29ff9ee.js";import{u as P}from"./dataStore.045be7a8.js";import{a as I,c as m}from"./array.164cfe36.js";import{a as L,u as p}from"./vee-validate.esm.21b9ad79.js";import{Q as K}from"./QForm.8d55aca1.js";import"./_commonjsHelpers.a26ce4be.js";import"./dayjs.d9609b5e.js";import"./localForage.34b90606.js";import"./index.04bc0a32.js";import"./i18n.8bfbf2a5.js";const O=g({components:{},props:{columns:Array},setup(e,{emit:r}){const o=N(),{getViewedProjects:n,updateViewedProjects:i}=P(),t=u(()=>o.params.id?o.params.id:null),s=u(()=>t.value?n(t.value):null),c=u(()=>s.value&&s.value.crafts?s.value.crafts:[]),f=I({ssn:m().required().length(9).matches("^[0-9]*$").label("Social Security Number"),first:m().required().label("First Name"),last:m().required().label("Last Name")}),{errors:l,handleSubmit:v,handleReset:y}=L({validationSchema:f}),q=v(async R=>{console.log(R)}),{value:$}=p("ssn"),{value:S}=p("first"),{value:w}=p("last");return{crafts:c,ssn:$,first:S,last:w,formErrors:l,submit:q,handleReset:y}}}),T={class:"q-pa-none q-ma-none",style:{display:"inline-block"}};function Z(e,r,o,n,i,t){return d(),_("div",null,[a(K,{onSubmit:A(e.submit,["prevent"])},{default:b(()=>[a(k,{style:{display:"inline-block"},dense:"",modelValue:e.ssn,"onUpdate:modelValue":r[0]||(r[0]=s=>e.ssn=s),square:"",outlined:"",label:"Social Security Number","stack-label":"",error:!!e.formErrors.ssn,class:"q-ma-none q-pa-none"},null,8,["modelValue","error"]),a(k,{style:{display:"inline-block"},dense:"",modelValue:e.first,"onUpdate:modelValue":r[1]||(r[1]=s=>e.first=s),square:"",outlined:"",label:"First Name","stack-label":"",error:!!e.formErrors.first,class:"q-ma-none q-pa-none"},null,8,["modelValue","error"]),a(k,{style:{display:"inline-block"},dense:"",modelValue:e.last,"onUpdate:modelValue":r[2]||(r[2]=s=>e.last=s),square:"",outlined:"",label:"Last Name","stack-label":"",error:!!e.formErrors.last,class:"q-ma-none q-pa-none"},null,8,["modelValue","error"]),Q("div",T,[a(F,{class:"q-my-none q-py-none",color:"info",label:"Submit",type:"submit",dense:"",onClick:e.submit},null,8,["onClick"]),a(F,{class:"q-my-none q-py-none",color:"secondary",label:"Reset",dense:"",onClick:e.handleReset},null,8,["onClick"])])]),_:1},8,["onSubmit"])])}var x=C(O,[["render",Z]]);const ee=g({components:{RosterRow:x},props:{},setup(e,{emit:r}){const o=N(),n=W([]),{getViewedProjects:i,updateViewedProjects:t}=P(),s=u(()=>o.params.id?o.params.id:null),c=u(()=>s.value?i(s.value):null),f=I({ssn:m().required().length(9).matches("^[0-9]*$").label("Social Security Number"),first:m().required(),last:m().required()}),{errors:l,handleSubmit:v}=L({validationSchema:f}),y=v(async h=>{console.log(h)}),{value:q}=p("ssn"),{value:$}=p("first"),{value:S}=p("last"),w=u(()=>[{label:"Social Security Number",type:"input",model:q,error:!!l.ssn,errorMessage:l.ssn},{label:"First Name",type:"input",model:$,error:!!l.first,errorMessage:l.first},{label:"Last Name",type:"input",model:S,error:!!l.last,errorMessage:l.last}]);return(()=>{for(let V=0;V<25;V++){const M={key:V};n.value.push(M)}})(),{project:c,columns:w,submit:y,rows:n}}}),se=Q("div",{class:"text-h6 font-weight-bold"},"Roster Setup",-1);function re(e,r,o,n,i,t){const s=B("roster-row");return d(),_("div",null,[a(Y,null,{default:b(()=>[a(E,null,{default:b(()=>[se]),_:1}),a(E,null,{default:b(()=>[(d(!0),_(G,null,X(e.rows,c=>(d(),j(s,{key:c.key,class:"q-ma-none q-pa-none"}))),128))]),_:1})]),_:1})])}var te=C(ee,[["render",re]]);const oe=g({name:"Setup",components:{RosterSetup:te},setup(){const e=U(),r=N(),{getViewedProjects:o,updateViewedProjects:n,setViewedProjects:i}=P(),t=u(()=>r.params.id?r.params.id:null),s=u(()=>t.value?o(t.value):null);return(async()=>{if(e.loading.show(),t.value&&!s.value){const{data:f}=await H.fetchFromProjectsApp({fields:[J({type:"projects",id:t.value})]});i({id:t.value,data:f})}e.loading.hide()})(),{project:s}}}),ae={class:"q-pa-md"};function ne(e,r,o,n,i,t){const s=B("roster-setup");return d(),j(D,{style:{"max-width":"100vw"}},{default:b(()=>[Q("div",ae,[e.project?(d(),j(s,{key:0})):z("",!0)])]),_:1})}var we=C(oe,[["render",ne]]);export{we as default};
