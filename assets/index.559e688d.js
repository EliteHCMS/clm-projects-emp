var W=Object.defineProperty;var B=Object.getOwnPropertySymbols;var G=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable;var D=(e,a,n)=>a in e?W(e,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[a]=n,$=(e,a)=>{for(var n in a||(a={}))G.call(a,n)&&D(e,n,a[n]);if(B)for(var n of B(a))J.call(a,n)&&D(e,n,a[n]);return e};import{Q as O,a as K}from"./QHeader.9149f1a3.js";import{k as w,_ as k,A as s,an as i,bi as o,bH as M,d as t,bI as L,ao as f,au as X,ab as c,bJ as Y,aZ as d,bK as Z,B as g,F as H,aY as N,H as Q,bL as U,cw as x,D as _,cy as A,bO as S,cz as I,r as v,bM as ee,c as te,w as ae,bk as oe}from"./index.c128cd1f.js";import{Q as ne}from"./QMenu.cff8c9de.js";import{Q as T}from"./QToolbar.d53c4249.js";import{Q as se}from"./QImg.e3780ea7.js";import{Q as V}from"./QList.7e56abac.js";import{Q as re,a as ie}from"./QDrawer.be6ff9bd.js";import{a as le,Q as ue}from"./QLayout.86f0e4a2.js";import{C as me}from"./ClosePopup.108c22b9.js";import{u as pe}from"./use-quasar.9316a7a9.js";import{u as ce}from"./useQuerySaver.e863619d.js";import{u as de,b as fe,q as ye}from"./quickbase.d587f7dc.js";import{u as j}from"./dataStore.d4029507.js";import{_ as ge}from"./version.ad7ada48.js";import{Q as ve}from"./QItemLabel.187fea10.js";import{Q as _e}from"./QBadge.3122acc4.js";import{M as be,Q as he}from"./MenuSubLink.7c176179.js";import{_ as $e}from"./languageSelector.c8ab9ebf.js";import"./workday.e01067ce.js";import{a as we}from"./syncEmployeeWithWorkday.dda1dcf3.js";import"./QResizeObserver.7bfc31a9.js";import"./position-engine.67e65c16.js";import"./selection.6099825b.js";import"./TouchPan.bee962a8.js";import"./touch.60582172.js";import"./_commonjsHelpers.a26ce4be.js";import"./dayjs.5224b9d1.js";import"./index.7dbe61ef.js";import"./localForage.61604f7a.js";import"./i18n.197eb5de.js";import"./api.476f7f84.js";import"./QSlideTransition.16ef9528.js";import"./QSelect.a24ba41d.js";import"./QChip.1c321c41.js";import"./rtl.cf9bbe47.js";import"./workdayAPI.7f56ebe8.js";const ke=w({name:"MenuLink",props:{title:{type:String,required:!0},caption:{type:String,default:""},to:{type:Object,default:()=>({path:"",exact:!0})},icon:{type:String,default:""},mini:{type:Boolean,default:!1},subMenu:{type:Array,default:null},count:{type:Number,default:null}}});function Me(e,a,n,r,m,u){return s(),i(Y,{to:e.to,class:"bg-accent text-white q-py-none","active-class":e.mini?"alt-active-nav":"alt-active-nav q-py-xs",exact:""},{default:o(()=>[e.icon?(s(),i(M,{key:0,avatar:""},{default:o(()=>[t(L,{name:e.icon},null,8,["name"])]),_:1})):f("",!0),t(M,null,{default:o(()=>[t(ve,null,{default:o(()=>[X(c(e.title),1)]),_:1})]),_:1}),e.count?(s(),i(M,{key:1,side:"",top:""},{default:o(()=>[t(_e,{color:"primary",label:e.count},null,8,["label"])]),_:1})):f("",!0)]),_:1},8,["to","active-class"])}var Se=k(ke,[["render",Me]]);const Qe=w({name:"MenuExpanded",components:{MenuSubLink:be},props:{title:{type:String,required:!0},caption:{type:String,default:""},to:{type:Object,default:()=>({path:"",exact:!0})},icon:{type:String,default:""},mini:{type:Boolean,default:!1},subMenu:{type:Array,default:null}}});function qe(e,a,n,r,m,u){const p=d("MenuSubLink");return s(),i(he,{icon:e.icon,label:e.title,class:"bg-accent text-white q-py-none","active-class":"alt-active-nav",exact:""},{default:o(()=>[t(Z),t(M,null,{default:o(()=>[t(V,null,{default:o(()=>[(s(!0),g(H,null,N(e.subMenu,l=>(s(),i(p,Q({key:l},l,{mini:e.mini}),null,16,["mini"]))),128))]),_:1})]),_:1})]),_:1},8,["icon","label"])}var Ce=k(Qe,[["render",qe]]);const Ee=w({name:"MenuNav",components:{MenuLink:Se,MenuExpanded:Ce},props:{title:{type:String,required:!0},caption:{type:String,default:""},to:{type:Object,default:()=>({path:"",exact:!0})},icon:{type:String,default:""},mini:{type:Boolean,default:!1},subMenu:{type:Array,default:null}}});function Le(e,a,n,r,m,u){const p=d("MenuLink"),l=d("MenuExpanded");return s(),g("div",null,[!e.subMenu&&e.to?(s(),i(p,Q({key:0},$($({},e.$props),e.$attrs),{mini:e.mini}),null,16,["mini"])):e.subMenu&&e.subMenu.length>0?(s(),i(l,Q({key:1},$($({},e.$props),e.$attrs),{mini:e.mini}),null,16,["mini"])):f("",!0)])}var Be=k(Ee,[["render",Le]]);const De=w({props:{employee:Object,mini:Boolean},setup(e){const a=U(),{setEmployees:n,setWorkdayData:r}=j(),m=async()=>{const{clm:p,sync:l}=await we({clm:e.employee});n({id:e.employee[3],data:p}),r({id:e.employee[3],data:l})},u=()=>{a.push({name:"ee-termination"})};return m(),{props:e,goToTermination:u}}}),Oe={class:"text-h5 text-white q-mb-sm"},Te={key:0,class:"text-body1 text-white"};function He(e,a,n,r,m,u){return s(),i(I,{class:"bg-accent q-my-lg q-pt-none",flat:"",square:""},{default:o(()=>[t(x,{class:"text-center"},{default:o(()=>[_("div",Oe,c(e.employee[24]),1),e.employee[378]!==""?(s(),g("div",Te,"ID: "+c(e.employee[378]),1)):f("",!0)]),_:1}),t(A,{align:"center"},{default:o(()=>[e.$route.name!=="ee-termination"&&e.$route.name!=="view-ee-release"&&!e.employee[581]?(s(),i(S,{key:0,label:"Release",color:"primary",dense:"",onClick:e.goToTermination},null,8,["onClick"])):f("",!0)]),_:1})]),_:1})}var Ne=k(De,[["render",He]]);const Ue=w({name:"View Employee",components:{MenuNav:Be,version:ge,languageSelector:$e,BasicEmployeeCard:Ne},setup(){const e=v(!1),a=pe(),n=v(!1),r=v(!1),m=v(!1),u=v(!1),p=U(),l=ee(),b=de(),{getUserType:q}=b,{toolbarTitle:C,viewEmployeeMenu:y}=fe(),{setEmployees:R,getEmployee:z}=j(),E=te(()=>z(l.params.id)),F=async()=>{if(!E.value){a.loading.show();const{data:h}=await ye.fetchFromHiringApp({fields:[ce({type:"employee",query:`{'3'.EX.'${l.params.id}'}`,id:l.params.id})]},{action:"read",type:"employee"});R({id:h[3],data:h}),a.loading.hide()}},P=async()=>{b.logout().then(()=>{p.replace({name:"login"})})};return F(),ae(E,(h,We)=>{}),{tab:v("mails"),fab:e,userStore:b,leftDrawerOpen:n,rightDrawerOpen:m,miniState:r,miniHover:u,miniMouseOver(){r.value===!0&&(u.value=!1)},miniMouseOut(){r.value===!0&&(u.value=!0)},toggleLeftDrawer(){a.screen.gt.sm?(r.value=!r.value,r.value===!0&&(u.value=!0)):n.value=!n.value},toggleRightDrawer(){m.value=!m.value},drawerClick(h){r.value&&(r.value=!1,h.stopPropagation())},logout:P,toolbarTitle:C,viewEmployeeMenu:y,employee:E,getUserType:q}}}),Ae={key:0,class:"q-mr-sm q-ml-sm",src:"https://cdn.jsdelivr.net/gh/EliteHCMS/assets@latest/public/logo-white.png",alt:"BrandSafway Logo",height:"25"},Ie={key:0},Ve={key:1},je={class:"q-gutter-sm row items-center no-wrap"},Re={class:"row no-wrap q-pa-md"},ze={class:"column items-center"},Fe={class:"text-subtitle1 q-mt-md q-mb-xs"};function Pe(e,a,n,r,m,u){const p=d("languageSelector"),l=d("basic-employee-card"),b=d("MenuNav"),q=d("router-view"),C=d("version");return s(),i(ue,{view:"hHh lpR fFf"},{default:o(()=>[t(K,{elevated:""},{default:o(()=>[t(T,{style:{height:"62px"}},{default:o(()=>[e.$q.screen.gt.sm?(s(),g("img",Ae)):f("",!0),t(O,null,{default:o(()=>[e.$q.screen.lt.sm?(s(),g("span",Ie)):(s(),g("span",Ve,c(e.toolbarTitle),1))]),_:1}),_("div",je,[t(p,{dense:"",borderless:"",class:"lang-white"}),t(S,{flat:"",dense:"",color:"white"},{default:o(()=>[_("div",null,c(e.userStore.getUser[35])+" "+c(e.userStore.getUser[37]),1),t(L,{right:"",size:"2.2em",name:"account_circle"}),t(ne,null,{default:o(()=>[_("div",Re,[_("div",ze,[t(L,{right:"",size:"72px",name:"account_circle",class:"q-mr-md"}),_("div",Fe,c(e.userStore.getUser[35])+" "+c(e.userStore.getUser[37]),1),oe(t(S,{color:"primary",label:e.$t("logout"),push:"",size:"sm",onClick:e.logout},null,8,["label","onClick"]),[[me]])])])]),_:1})]),_:1})])]),_:1})]),_:1}),t(ie,{modelValue:e.leftDrawerOpen,"onUpdate:modelValue":a[0]||(a[0]=y=>e.leftDrawerOpen=y),side:"left","show-if-above":"",bordered:"",mini:e.miniState&&e.miniHover,onMouseover:e.miniMouseOver,onMouseout:e.miniMouseOut,onClickCapture:e.drawerClick,class:"text-primary bg-accent print-hide"},{default:o(()=>[t(re,{class:"fit"},{default:o(()=>[e.$q.screen.lt.sm?(s(),i(T,{key:0,class:"bg-white",style:{height:"64px"}},{default:o(()=>[t(O,{class:"items-center"},{default:o(()=>[t(se,{src:"https://cdn.jsdelivr.net/gh/EliteHCMS/assets@latest/public/logo.svg",style:{"max-width":"245px"},fit:"center",class:"q-ml-md"})]),_:1})]),_:1})):f("",!0),e.employee?(s(),i(l,{key:1,employee:e.employee,mini:e.miniState},null,8,["employee","mini"])):f("",!0),t(V,{class:"q-mt-sm"},{default:o(()=>[(s(!0),g(H,null,N(e.viewEmployeeMenu,y=>(s(),i(b,Q({key:y.title},y,{mini:e.miniState}),null,16,["mini"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue","mini","onMouseover","onMouseout","onClickCapture"]),t(le,null,{default:o(()=>[t(I,{class:"print-hide",flat:""},{default:o(()=>[t(A,{class:"q-pb-xs",align:"right"},{default:o(()=>[t(S,{icon:"close",label:"Close",color:"dark",onClick:a[1]||(a[1]=y=>e.getUserType==="QuickBase User"?e.window.close():e.$router.replace({name:"employees"}))})]),_:1})]),_:1}),t(q)]),_:1}),t(C)]),_:1})}var Lt=k(Ue,[["render",Pe]]);export{Lt as default};
