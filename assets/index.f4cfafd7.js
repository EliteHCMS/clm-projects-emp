import{l as M,_ as D,A as s,an as r,bi as o,d as t,cw as T,D as i,ab as l,cz as B,r as n,bL as N,bM as R,c as A,w as z,aZ as w,bO as p,B as y,ao as k,bI as S,bk as E,aY as F,H as I,F as W,cy as G}from"./index.226bbe9e.js";import{Q as q,a as Y}from"./QHeader.77ae9270.js";import{Q as Z}from"./QMenu.0ed2d0c1.js";import{Q as $}from"./QToolbar.8bdd3a1d.js";import{Q as J}from"./QImg.70c896af.js";import{Q as K}from"./QList.1943e8e4.js";import{Q as X,a as x}from"./QDrawer.1eea8850.js";import{a as ee,Q as te}from"./QLayout.800577e5.js";import{C as oe}from"./ClosePopup.305a0ade.js";import{u as se}from"./use-quasar.e37fb258.js";import{u as ae,b as re}from"./quickbase.aae604ff.js";import{u as ne}from"./dataStore.67299c24.js";import{_ as ie}from"./version.1b7d1813.js";import{M as le}from"./MenuNav.5c180a48.js";import{_ as ce}from"./languageSelector.61ffe696.js";import"./QResizeObserver.a399e20c.js";import"./position-engine.283f53ba.js";import"./selection.e3cea41b.js";import"./TouchPan.6f51d48c.js";import"./touch.60582172.js";import"./_commonjsHelpers.a26ce4be.js";import"./dayjs.61ba8b06.js";import"./index.7dbe61ef.js";import"./localForage.2f4a21a3.js";import"./api.1ce17484.js";import"./i18n.df17a73c.js";import"./useQuerySaver.ae1b8d62.js";import"./QItemLabel.d7e00488.js";import"./QBadge.a989c5dd.js";import"./MenuSubLink.310baf1a.js";import"./QSlideTransition.5b26afe0.js";import"./QSelect.5f4edeef.js";import"./QChip.5521b37c.js";import"./rtl.cf9bbe47.js";const ue=M({props:{project:Object,mini:Boolean},setup(e){return{props:e}}}),me={class:"text-h6 text-white"},pe={class:"text-body1 text-white q-mb-md"},de={class:"text-body1 text-dark"};function fe(e,c,d,f,a,g){return s(),r(B,{class:"bg-accent q-mt-lg q-pt-none q-px-xs",flat:"",square:""},{default:o(()=>[t(T,{class:"text-center"},{default:o(()=>[i("div",me,l(e.project[20]),1),i("div",pe,"@ "+l(e.project[24]),1),i("div",de,"Manager: "+l(e.project[245]!==""?e.project[245]:"Unassigned"),1)]),_:1})]),_:1})}var ge=D(ue,[["render",fe]]);const ve=M({name:"View Project",components:{MenuNav:le,version:ie,languageSelector:ce,BasicProjectCard:ge},setup(){const e=n(null),c=n(!1),d=se(),f=n(!1),a=n(!1),g=n(!1),m=n(!1),_=N(),v=R(),h=ae(),{getUserType:j}=h,{toolbarTitle:u,viewProjectMenu:O}=re(),{fetchProjectData:P,getViewedProjects:U}=ne(),C=n(0),Q=async()=>{const{state:b}=_.options.history;e.value=b.back,d.loading.show(),await P(v.params.id),C.value+=1,d.loading.hide()},H=A(()=>U(v.params.id)),V=async()=>{h.logout().then(()=>{_.replace({name:"login"})})},L=()=>{window.close()};return Q(),z(()=>v.params.id,async b=>{await Q()}),{tab:n("mails"),fab:c,userStore:h,leftDrawerOpen:f,rightDrawerOpen:g,miniState:a,miniHover:m,index:C,miniMouseOver(){a.value===!0&&(m.value=!1)},miniMouseOut(){a.value===!0&&(m.value=!0)},toggleLeftDrawer(){d.screen.gt.sm?(a.value=!a.value,a.value===!0&&(m.value=!0)):f.value=!f.value},toggleRightDrawer(){g.value=!g.value},drawerClick(b){a.value&&(a.value=!1,b.stopPropagation())},logout:V,toolbarTitle:u,viewProjectMenu:O,getUserType:j,project:H,closeWindow:L,opener:e}}}),he={key:0,class:"q-mr-sm q-ml-sm",src:"https://cdn.jsdelivr.net/gh/EliteHCMS/assets@latest/public/logo-white.png",alt:"BrandSafway Logo",height:"25"},we={key:0},_e={key:1},be={class:"q-gutter-sm row items-center no-wrap"},ye={class:"row no-wrap q-pa-md"},ke={class:"column items-center"},je={class:"text-subtitle1 q-mt-md q-mb-xs"};function Ce(e,c,d,f,a,g){const m=w("languageSelector"),_=w("basic-project-card"),v=w("MenuNav"),h=w("router-view"),j=w("version");return s(),r(te,{view:"hHh lpR fFf"},{default:o(()=>[t(Y,{elevated:""},{default:o(()=>[t($,{style:{height:"62px"}},{default:o(()=>[t(p,{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu",onClick:e.toggleLeftDrawer},null,8,["onClick"]),e.$q.screen.gt.sm?(s(),y("img",he)):k("",!0),t(q,null,{default:o(()=>[e.$q.screen.lt.sm?(s(),y("span",we)):(s(),y("span",_e,l(e.toolbarTitle),1))]),_:1}),i("div",be,[t(m,{dense:"",borderless:"",class:"lang-white"}),t(p,{flat:"",dense:"",color:"white"},{default:o(()=>[i("div",null,l(e.userStore.getUser[35])+" "+l(e.userStore.getUser[37]),1),t(S,{right:"",size:"2.2em",name:"account_circle"}),t(Z,null,{default:o(()=>[i("div",ye,[i("div",ke,[t(S,{right:"",size:"72px",name:"account_circle",class:"q-mr-md"}),i("div",je,l(e.userStore.getUser[35])+" "+l(e.userStore.getUser[37]),1),E(t(p,{color:"primary",label:e.$t("logout"),push:"",size:"sm",onClick:e.logout},null,8,["label","onClick"]),[[oe]])])])]),_:1})]),_:1})])]),_:1})]),_:1}),t(x,{modelValue:e.leftDrawerOpen,"onUpdate:modelValue":c[0]||(c[0]=u=>e.leftDrawerOpen=u),side:"left","show-if-above":"",bordered:"",mini:e.miniState&&e.miniHover,onMouseover:e.miniMouseOver,onMouseout:e.miniMouseOut,onClickCapture:e.drawerClick,class:"text-primary bg-accent print-hide"},{default:o(()=>[e.project?(s(),r(X,{key:0,class:"fit"},{default:o(()=>[e.$q.screen.lt.sm?(s(),r($,{key:0,class:"bg-white",style:{height:"64px"}},{default:o(()=>[t(q,{class:"items-center"},{default:o(()=>[t(J,{src:"https://cdn.jsdelivr.net/gh/EliteHCMS/assets@latest/public/logo.svg",style:{"max-width":"245px"},fit:"center",class:"q-ml-md"})]),_:1})]),_:1})):k("",!0),e.miniState?k("",!0):(s(),r(_,{key:1,project:e.project,mini:e.miniState},null,8,["project","mini"])),t(K,{class:"q-mt-sm"},{default:o(()=>[(s(!0),y(W,null,F(e.viewProjectMenu,u=>(s(),r(v,I({key:u.title},u,{mini:e.miniState}),null,16,["mini"]))),128))]),_:1})]),_:1})):k("",!0)]),_:1},8,["modelValue","mini","onMouseover","onMouseout","onClickCapture"]),t(ee,null,{default:o(()=>[t(B,{class:"print-hide",flat:""},{default:o(()=>[t(G,{class:"q-pb-none",align:"right"},{default:o(()=>[t(p,{dense:"",color:"accent",icon:"add",label:"Add Hire Request",to:e.project?{name:"new-request-with-project",params:{project:e.project[3]}}:null},null,8,["to"]),e.getUserType==="QuickBase User"?(s(),r(p,{key:0,dense:"",icon:"close",label:"Close Window",color:"dark",onClick:c[1]||(c[1]=u=>e.closeWindow())})):(s(),r(p,{key:1,dense:"",icon:"home",label:"Return Home",color:"dark",to:{path:"/"}}))]),_:1})]),_:1}),(s(),r(h,{key:e.index}))]),_:1}),t(j)]),_:1})}var rt=D(ve,[["render",Ce]]);export{rt as default};
