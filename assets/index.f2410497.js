import{bX as Ae,r as x,c as F,d1 as xe,aQ as Ye,ct as Me,h as H,g as $e,bW as h,a5 as Se,bT as De,A,B as V,d as a,br as s,D as w,E as ie,cS as W,G as ue,a8 as S,cT as R,ax as k,ac as Q,aq as X,cU as G,bO as ce,bS as je,F as de,b4 as fe,bR as Ve,bP as me,bQ as qe,cV as ae,cy as le,dd as Qe,bt as Re,_ as Pe,bV as ve,b5 as pe}from"./index.4dac2c6e.js";import{Q as ge,a as Ie}from"./QSelect.0217e1b0.js";import{Q as Oe}from"./QPage.9aeaf4f3.js";import{u as he}from"./use-quasar.5f82aae6.js";import{g as ye,c as Te,u as ze,i as be,q}from"./app.dc1ff75d.js";import{dayjs as f}from"./dayjs.1133dfcf.js";import{u as Ne}from"./dataStore.78e7be62.js";import{Q as E}from"./QTooltip.6b0ca88a.js";import{Q as Be}from"./QMenu.5ef1c14c.js";import{Q as Ee}from"./QList.a7a2008b.js";import{Q as Fe}from"./QTd.1c77bd82.js";import{Q as Le}from"./QTr.cb3171b1.js";import{Q as Ue}from"./QInnerLoading.f788981f.js";import{Q as He}from"./QTable.6768f1a9.js";import{C as We}from"./ClosePopup.49d1eef1.js";import"./arrivalDate.530c842b.js";import{_ as Xe}from"./projectSelector.f972ef8c.js";import"./QChip.14868bc0.js";import"./rtl.b51694b1.js";import"./_commonjsHelpers.a26ce4be.js";import"./localForage.501be3ae.js";import"./api.1f088558.js";import"./index.04bc0a32.js";import"./i18n.619af201.js";import"./position-engine.eb3df269.js";import"./selection.4e7f893d.js";import"./QMarkupTable.df87c04f.js";import"./use-fullscreen.2cf9f582.js";import"./QForm.0f6066f1.js";import"./vee-validate.esm.98ae1735.js";import"./array.59f93f43.js";import"./useQuerySaver.d29ff9ee.js";function J(o,c=new WeakMap){if(Object(o)!==o)return o;if(c.has(o))return c.get(o);const m=o instanceof Date?new Date(o):o instanceof RegExp?new RegExp(o.source,o.flags):o instanceof Set?new Set:o instanceof Map?new Map:typeof o.constructor!="function"?Object.create(null):o.prototype!==void 0&&typeof o.prototype.constructor=="function"?o:new o.constructor;if(typeof o.constructor=="function"&&typeof o.valueOf=="function"){const u=o.valueOf();if(Object(u)!==u){const _=new o.constructor(u);return c.set(o,_),_}}return c.set(o,m),o instanceof Set?o.forEach(u=>{m.add(J(u,c))}):o instanceof Map&&o.forEach((u,_)=>{m.set(_,J(u,c))}),Object.assign(m,...Object.keys(o).map(u=>({[u]:J(o[u],c)})))}var we=Ae({name:"QPopupEdit",props:{modelValue:{required:!0},title:String,buttons:Boolean,labelSet:String,labelCancel:String,color:{type:String,default:"primary"},validate:{type:Function,default:()=>!0},autoSave:Boolean,cover:{type:Boolean,default:!0},disable:Boolean},emits:["update:modelValue","save","cancel","beforeShow","show","beforeHide","hide"],setup(o,{slots:c,emit:m}){const{proxy:u}=$e(),{$q:_}=u,g=x(null),y=x(""),d=x("");let v=!1;const P=F(()=>xe({initialValue:y.value,validate:o.validate,set:C,cancel:p,updatePosition:j},"value",()=>d.value,b=>{d.value=b}));function C(){o.validate(d.value)!==!1&&(M()===!0&&(m("save",d.value,y.value),m("update:modelValue",d.value)),O())}function p(){M()===!0&&m("cancel",d.value,y.value),O()}function j(){Ye(()=>{g.value.updatePosition()})}function M(){return Me(d.value,y.value)===!1}function O(){v=!0,g.value.hide()}function I(){v=!1,y.value=J(o.modelValue),d.value=J(o.modelValue),m("beforeShow")}function T(){m("show")}function L(){v===!1&&M()===!0&&(o.autoSave===!0&&o.validate(d.value)===!0?(m("save",d.value,y.value),m("update:modelValue",d.value)):m("cancel",d.value,y.value)),m("beforeHide")}function z(){m("hide")}function N(){const b=c.default!==void 0?[].concat(c.default(P.value)):[];return o.title&&b.unshift(H("div",{class:"q-dialog__title q-mt-sm q-mb-sm"},o.title)),o.buttons===!0&&b.push(H("div",{class:"q-popup-edit__buttons row justify-center no-wrap"},[H(h,{flat:!0,color:o.color,label:o.labelCancel||_.lang.label.cancel,onClick:p}),H(h,{flat:!0,color:o.color,label:o.labelSet||_.lang.label.set,onClick:C})])),b}return Object.assign(u,{set:C,cancel:p,show(b){g.value!==null&&g.value.show(b)},hide(b){g.value!==null&&g.value.hide(b)},updatePosition:j}),()=>{if(o.disable!==!0)return H(Be,{ref:g,class:"q-popup-edit",cover:o.cover,onBeforeShow:I,onShow:T,onBeforeHide:L,onHide:z,onEscapeKey:p},N)}}});const Ge={class:"q-px-sm"},Je={key:0,class:"float-right q-card__actions--horiz"},Ke={key:1,class:"float-right q-card__actions--horiz"},Ze={key:0},et={key:1},tt={key:2,class:"text-caption"},at={class:"full-width row flex-center text-primary q-gutter-sm q-py-md"},lt=w("div",{class:"text-h6"},"Arrival Date",-1),ot=w("span",{class:"q-ml-sm"},"Release as No Show!",-1),nt=w("div",{class:"text-h6"},"Has not arrived.",-1),st=w("br",null,null,-1),rt={__name:"markArrivals",props:{rows:Array,selected:Array},emits:["arrivalMarked","updateArrival","arrivalRelease"],setup(o,{emit:c}){const m=o,{rows:u,selected:_}=Se(m),g=he();De();const y=x(f().format("YYYY-MM-DD")),d=x(!1),v=x(!1),P=x(!1),C=x(!1),p=x(null),j=x(0),M=F(()=>g.screen.gt.sm?[{name:207,label:"Arrival Date",align:"left",field:219,format:e=>`${e&&e.$d&&e.$d.format?e.$d.format("MM/DD/YYYY"):""}`,sortable:!0,style:"text-align: center !important;"},{name:7,label:"Expected Date",align:"left",field:e=>e[33].$d,format:e=>`${e?ye.formatDate(new Date(e),"MM/DD/YYYY"):"N/A"}`,sortable:!0},{name:1,label:"Name",align:"left",field:e=>e[31],format:e=>`${e}`,sortable:!0},{name:9,label:"Phone #",align:"left",field:e=>e[42],format:e=>`${e}`,sortable:!1},{name:2,label:"Workday ID",align:"left",field:e=>e[152],format:(e,i)=>i[20]==="In Process"?"W---------":e,sortable:!0},{name:3,label:"Project",align:"left",field:e=>e[171],format:e=>`${e}`,sortable:!0},{name:4,label:"Classification",align:"left",field:e=>e[45],format:e=>`${e}`,sortable:!0},{name:5,label:"Job Number",align:"left",field:e=>e[85],format:e=>`${!e||e===""?"Not Assigned":e}`,sortable:!0},{name:6,label:"Site Contact",align:"left",field:e=>e[186],format:e=>`${e===""||!e?"Not Assigned":e}`,sortable:!0}]:[{name:227,label:"Arrival Date",align:"left",field:219,format:e=>`${e&&e.$d&&e.$d.format?e.$d.format("MM/DD/YYYY"):""}`,sortable:!0},{name:7,label:"Expected Date",align:"left",field:e=>e[33].$d,format:e=>`${e?ye.formatDate(new Date(e),"MM/DD/YYYY"):"N/A"}`,sortable:!0},{name:1,label:"Name",align:"left",field:e=>e[31],format:e=>`${e}`,sortable:!0},{name:9,label:"Phone #",align:"left",field:e=>e[42],format:e=>`${e}`,sortable:!1},{name:2,label:"Workday ID",align:"left",field:e=>e[152],format:(e,i)=>i[20]==="In Process"?"W---------":e,sortable:!0},{name:3,label:"Project",align:"left",field:e=>e[171],format:e=>`${e}`,sortable:!0},{name:4,label:"Classification",align:"left",field:e=>e[45],format:e=>`${e}`,sortable:!0},{name:5,label:"Job Number",align:"left",field:e=>e[85],format:e=>`${!e||e===""?"Not Assigned":e}`,sortable:!0},{name:6,label:"Site Contact",align:"left",field:e=>e[186],format:e=>`${e===""||!e?"Not Assigned":e}`,sortable:!0}]),O=({rows:e,added:i,evt:l})=>{d.value=!0,c("arrivalMarked",{record:e[0],added:i}),setTimeout(function(){d.value=!1},1500)},I=e=>{d.value=!0,c("arrivalMarked",{record:p.value,added:e}),e?v.value=!1:C.value=!1,setTimeout(function(){d.value=!1},1500)},T=e=>{p.value=e,p.value[227]=y.value,v.value=!0},L=()=>{p.value=null,v.value=!1},z=e=>{p.value=e,C.value=!0},N=()=>{p.value=null,C.value=!1},b=e=>{p.value=e,P.value=!0},B=()=>{c("arrivalRelease",{record:p.value,added:!0})},U=e=>{e.target.showPicker()},K=async(e,i)=>{i[219]=f(e),j.value+=1,c("updateArrivalDate",{record:i,value:e})};return(e,i)=>(A(),V("div",Ge,[a(He,{dense:"",columns:M.value,rows:S(u),"row-key":l=>l[3],class:"q-pa-sm",pagination:{rowsPerPage:S(g).screen.gt.sm?25:100},separator:"vertical",onSelection:O,selected:S(_),"table-header-class":"bg-dark text-white","no-data-label":"There are no expected arrivals",loading:d.value,grid:S(g).screen.lt.md},{item:s(l=>[w("div",{class:"q-pa-xs col-xs-12 col-sm-6 col-md-4 col-lg-3 grid-style-transition",style:ie(l.selected?"transform: scale(0.95);":"")},[a(W,{bordered:"",flat:"",class:ue(l.selected?S(g).dark.isActive?"bg-grey-9":"bg-grey-2":"")},{default:s(()=>[a(R,null,{default:s(()=>[k(Q(l.row[31])+" ",1),l.row[20]!=="Complete"||!l.row[207]?(A(),V("span",Je,[a(h,{round:"",color:"positive",icon:"done",size:"xs",onClick:t=>T(l.row)},{default:s(()=>[a(E,{class:"bg-primary"},{default:s(()=>[k("Arrived")]),_:1})]),_:2},1032,["onClick"]),a(h,{round:"",color:"negative",icon:"close",size:"xs",onClick:t=>b(l.row)},{default:s(()=>[a(E,{class:"bg-primary"},{default:s(()=>[k("No Show")]),_:1})]),_:2},1032,["onClick"])])):(A(),V("span",Ke,[k(Q(S(f)(l.row[219]).format("MM/DD/YYYY"))+" ",1),a(h,{icon:"edit",color:"accent",flat:"",size:"xs",class:"q-px-none q-pr-xs"}),(A(),X(we,{key:j.value,"model-value":S(f)(l.row[219]).format("YYYY-MM-DD"),title:"Arrival Date"},{default:s(t=>[a(G,{autofocus:"",onFocus:i[0]||(i[0]=n=>U(n)),dense:"","model-value":t.value,type:"date",max:y.value,rules:[n=>!!n||"Field is required"],"onUpdate:modelValue":n=>K(n,l.row)},null,8,["model-value","max","rules","onUpdate:modelValue"])]),_:2},1032,["model-value"])),a(h,{round:"",color:"white",icon:"history",size:"xs",onClick:ce(t=>z(l.row),["stop"])},{default:s(()=>[a(E,{class:"bg-primary"},{default:s(()=>[k("Revert Back - Has not arrived yet.")]),_:1})]),_:2},1032,["onClick"])]))]),_:2},1024),a(je),a(Ee,{dense:""},{default:s(()=>[(A(!0),V(de,null,fe(l.cols.filter(t=>t.name!=="action"),t=>(A(),X(Ve,{key:t.name},{default:s(()=>[a(me,null,{default:s(()=>[a(ge,null,{default:s(()=>[k(Q(t.label),1)]),_:2},1024)]),_:2},1024),a(me,{side:""},{default:s(()=>[a(ge,{caption:""},{default:s(()=>[k(Q(t.value),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:2},1024)]),_:2},1032,["class"])],4)]),body:s(l=>[a(Le,{"no-hover":"",props:l,class:ue(l.row[33]&&l.row[33].$d&&e.$dayjs().businessDiff(e.$dayjs(l.row[33].$d),"day",!0)>5&&l.row[20]!=="Complete"?"bg-red-11":"")},{default:s(()=>[(A(!0),V(de,null,fe(l.cols,t=>(A(),X(Fe,{key:t.name,props:l,classes:t.name===207&&l.row[20]!=="Complete"||!l.row[207]?"q-card__actions--horiz":"",style:ie(t.style)},{default:s(()=>[t.name===207&&(l.row[20]!=="Complete"||!l.row[207])?(A(),V("span",Ze,[a(h,{round:"",color:"positive",icon:"done",size:"xs",onClick:n=>T(l.row)},{default:s(()=>[a(E,{class:"bg-primary"},{default:s(()=>[k("Arrived")]),_:1})]),_:2},1032,["onClick"]),a(h,{round:"",color:"negative",icon:"close",size:"xs",onClick:n=>b(l.row)},{default:s(()=>[a(E,{class:"bg-primary"},{default:s(()=>[k("No Show")]),_:1})]),_:2},1032,["onClick"])])):t.name===207?(A(),V("span",et,[k(Q(S(f)(l.row[219]).format("MM/DD/YYYY"))+" ",1),(A(),X(we,{key:j.value,"model-value":S(f)(l.row[219]).format("YYYY-MM-DD"),title:"Arrival Date"},{default:s(n=>[a(G,{autofocus:"",onFocus:i[1]||(i[1]=r=>U(r)),dense:"","model-value":n.value,type:"date",max:y.value,rules:[r=>!!r||"Field is required"],"onUpdate:modelValue":r=>K(r,l.row)},null,8,["model-value","max","rules","onUpdate:modelValue"])]),_:2},1032,["model-value"])),a(h,{round:"",color:"negative",icon:"history",size:"xs",onClick:ce(n=>z(l.row),["stop"])},{default:s(()=>[a(E,{class:"bg-primary"},{default:s(()=>[k("Revert Back - Has not arrived yet.")]),_:1})]),_:2},1032,["onClick"])])):(A(),V("span",tt,Q(t.value),1))]),_:2},1032,["props","classes","style"]))),128))]),_:2},1032,["props","class"])]),"no-data":s(({message:l})=>[w("div",at,[a(qe,{size:"2em",name:"fa-solid fa-person-circle-exclamation"}),w("span",null,Q(l),1)])]),loading:s(()=>[a(Ue,{showing:"",color:"primary"})]),_:1},8,["columns","rows","row-key","pagination","selected","loading","grid"]),a(le,{modelValue:v.value,"onUpdate:modelValue":i[5]||(i[5]=l=>v.value=l),persistent:""},{default:s(()=>[a(W,{style:{"min-width":"350px"}},{default:s(()=>[a(R,null,{default:s(()=>[lt]),_:1}),a(R,{class:"q-pt-none"},{default:s(()=>[a(G,{dense:"",modelValue:p.value[227],"onUpdate:modelValue":i[2]||(i[2]=l=>p.value[227]=l),autofocus:"",type:"date",max:y.value,rules:[l=>!!l||"Field is required"]},null,8,["modelValue","max","rules"])]),_:1}),a(ae,{align:"right",class:"text-primary"},{default:s(()=>[a(h,{flat:"",label:"Cancel",onClick:i[3]||(i[3]=l=>L())}),a(h,{flat:"",label:"Confirm",onClick:i[4]||(i[4]=l=>I(!0))})]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(le,{modelValue:P.value,"onUpdate:modelValue":i[7]||(i[7]=l=>P.value=l),persistent:""},{default:s(()=>[a(W,null,{default:s(()=>[a(R,{class:"row items-center"},{default:s(()=>[a(Qe,{icon:"person_remove",color:"primary","text-color":"white"}),ot]),_:1}),a(ae,{align:"right"},{default:s(()=>[Re(a(h,{flat:"",label:"Cancel",color:"primary"},null,512),[[We]]),a(h,{flat:"",label:"Release",color:"primary",onClick:i[6]||(i[6]=l=>B())})]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(le,{modelValue:C.value,"onUpdate:modelValue":i[10]||(i[10]=l=>C.value=l),persistent:""},{default:s(()=>[a(W,{style:{"min-width":"350px"}},{default:s(()=>[a(R,null,{default:s(()=>[nt]),_:1}),a(R,{class:"q-pt-none"},{default:s(()=>[k(" You are about to erase the arrival date."),st,k(" Are you sure you want to do this? ")]),_:1}),a(ae,{align:"right",class:"text-primary"},{default:s(()=>[a(h,{label:"No",onClick:i[8]||(i[8]=l=>N())}),a(h,{flat:"",label:"Yes",onClick:i[9]||(i[9]=l=>I(!1))})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},it={name:"Arrivals",components:{MarkArrivalsTable:rt,projectSelector:Xe},setup(){const o=he(),c=Te(),m=ze(),u=De(),_=x(null),g=x(""),y=x(""),{getSelectedProject:d}=ve(c),{getUser:v}=ve(m),{fetchAllDeployments:P,updateDeployment:C,getDeployments:p,fetchDeployments:j}=Ne(),M=F(()=>d.value?d.value[3]:null),O=F(()=>p(M.value).filter(t=>t[20]==="Complete")),I=F(()=>{let t=[];return p(M.value).forEach(n=>{n[31].toLowerCase().includes(y.value.toLowerCase())&&t.push(n)}),t=g.value?t.filter(n=>f(n[33].$d).tz("America/Chicago").format("MM/DD/YYYY")===f(g.value).tz("America/Chicago").format("MM/DD/YYYY")):t,t=_.value?t.filter(n=>n[132]===_.value):t,t.sort((n,r)=>n[219]-r[219]||n[33]-r[33])}),T=F(()=>[...new Map(I.value.map(t=>[t[132],t[132]])).values()]);async function L(t){o.loading.show(),M.value?await j({projectId:M.value,refresh:t}):await P({refresh:t}),o.loading.hide()}async function z({record:t,added:n}){if(n){if(t[233]&&t[233]!==""){const r=t[227]?f(t[227]):f();let D=t[234],Y=null,$=r,Z=!0;try{const oe=await be.getWorkers({employeeId:t[152],options:{includePersonalInformation:!1,includeApplicantInformation:!1,includeRelatedPersons:!1,includeOrganizations:!0,excludeCostCenters:!1,excludeCompanies:!1,excludePayGroups:!1,excludeCustomOrganizations:!1,includeCompensation:!1,includeManagementChainData:!1,includeTransactionLogData:!0,transactionDateRangeData:{updatedFrom:f().subtract("1","M").format("YYYY-MM-DD"),updatedThrough:f().format("YYYY-MM-DD")},filter:{count:1,page:1}}});if(oe.total>=1){const ee=oe.data[0];D=ee.employmentData.positionData.positionId;const ne=ee.organizations.find(te=>te.typeId==="Customer_Project");if(ne&&(ne.referenceId===t[233]?(Z=!1,console.log("does not need update project")):(Z=!0,console.log("update project",t[233]))),ee.jobHistory.length>0&&Z){Y=f(ee.jobHistory[0].effectiveDate);const te=Y.isSame(r,"day"),Ce=Y.isSame(f(),"day"),se=Y.isSameOrBefore(f(),"day"),re=r.isSameOrBefore(f(),"day"),ke=r.isBefore(Y,"day");se&&Ce||!re&&se?$=Y:re?te?$=r:ke&&($=Y):$=Y}}}catch{console.log("no worker found")}const _e={employeeId:t[152],positionId:D,customOrganizationId:t[233],effectiveDate:$.format("YYYY-MM-DD"),submittedBy:v.value[70],comment:`Change Organization Assignment Submitted By ${v.value[67]} (${v.value[6]}) from WMP`};if(Z)if(D!=="")try{await be.changeCustomOrgAssignment(_e)}catch{t.failedCustomOrgAssignment=!0,console.log("unable to change add custom org assignment")}else t.failedCustomOrgAssignment=!0}try{const r=await N(t);await b({id:t[21],status:7,assignment:r});const D=await B(t[3],"Complete");C({projectId:D[134],key:D[3],record:D})}catch{const r=[{7:{value:"Assignments By Employee"},9:{value:t[21]}}],{data:D}=await q.fetchFromHiringApp({fields:r});if(D.length===1){await K(D[0]);const Y=await N(t);await b({id:t[21],status:7,assignment:Y});const $=await B(t[3],"Complete");C({projectId:$[134],key:$[3],record:$})}}}else{await U(t),await b({id:t[21],status:6});const r=await B(t[3],"In Process");C({projectId:r[134],key:r[3],record:r})}}async function N(t){try{const n=t[227]?f(t[227]):f(),{data:r}=await q.upsertRecordsXML({to:"bp3gazpqj",data:[{6:{value:t[3]},13:{value:t[15]},18:{value:t[21]},60:{value:""},125:{value:n},145:{value:n},165:{value:"Active"},...t.failedCustomOrgAssignment&&{204:{value:!0}}}],fieldsToReturn:[108],formatObject:108},{action:"create",type:"arrival"});return console.log(r),r[0][108]}catch(n){throw{message:"Cannot add assignment",error:n}}}async function b({id:t,status:n,assignment:r}){try{const D={3:{value:t},79:{value:n}};r&&(D[609]={value:r[3]});const{data:Y}=await q.upsertRecordsXML({to:"bp3gb7ng2",data:[D],fieldsToReturn:[3]});return Y[0][3]}catch(D){throw{message:"Cannot edit employee",error:D}}}async function B(t,n){try{const{data:r}=await q.upsertRecordsXML({to:"bp3gaymc3",data:[{3:{value:t},20:{value:n},22:{value:new Date}}],fieldsToReturn:[204],formatObject:204});return r[0][204]}catch(r){throw{message:"Cannot edit deployment",error:r}}}async function U(t){try{const{data:n}=await q.upsertRecordsXML({to:"bp3gazpqj",data:[{3:{value:t.assignment[3]},22:{value:new Date},21:{value:"Canceled"},19:{value:""},60:{value:""},165:{value:"Inactive"}}],fieldsToReturn:[108],formatObject:108});return n[0][108]}catch(n){throw{message:"Cannot cancel assignment",error:n}}}async function K(t){try{const{data:n}=await q.upsertRecordsXML({to:"bp3gazpqj",data:[{3:{value:t[3]},21:{value:"Complete"},165:{value:"Inactive"}}],fieldsToReturn:[108],formatObject:108});return n[0][108]}catch(n){throw{message:"Cannot complete assignment",error:n}}}async function e(t){try{const n=t.value?f(t.value):f();if(t.record.assignment&&t.record.assignment[3]){const{data:r}=await q.upsertRecordsXML({to:"bp3gazpqj",data:[{3:{value:t.record.assignment[3]},125:{value:n},145:{value:n}}],fieldsToReturn:[3]});return r[0][3]}}catch(n){throw{message:"Cannot edit Assignment",error:n}}}async function i({record:t,added:n}){if(n){const r=await l(t);u.push({name:"ee-termination",params:{id:t[21]},query:{reason:"no-show",hc:t[15],aid:r[3],did:t[3]}})}else{await U(t),await b({id:t[21],status:6});const r=await B(t[3],"In Process");C({projectId:r[134],key:r[3],record:r})}}async function l(t){try{const n=t[207]?f(t[207]):f(),{data:r}=await q.upsertRecordsXML({to:"bp3gazpqj",data:[{6:{value:t[3]},13:{value:t[15]},18:{value:t[21]},60:{value:""},21:{value:"DNC"},112:{value:!0},165:{value:"Inactive"}}],fieldsToReturn:[108],formatObject:108},{action:"create",type:"arrival"});return r[0][108]}catch(n){throw{message:"Cannot release assignment",error:n}}}return L(!0),{arrived:O,allDeployments:I,arrivalMarked:z,updateArrivalDate:e,arrivalRelease:i,craftOptions:T,craftFilter:_,startDateFilter:g,search:y}}},ut={class:"q-pt-sm"},ct={class:"text-h5 text-dark"},dt={class:"text-body2 text-italic q-ml-sm"},ft=w("div",{class:"text-subtitle2 text-accent"},"Please click on the green checkmark as employees arrive to the job site.",-1),mt={class:"row items-center"},vt={class:"col-12 col-md-3 q-px-sm"},pt={class:"col-12 col-md-3 q-px-sm"},gt={class:"col-12 col-md-3 q-px-sm"},yt={class:"col-12 col-md-3 q-px-sm"};function bt(o,c,m,u,_,g){const y=pe("projectSelector"),d=pe("mark-arrivals-table");return A(),X(Oe,{style:{"max-width":"100vw"}},{default:s(()=>[w("div",ut,[a(W,{flat:""},{default:s(()=>[a(R,{class:"q-pb-none"},{default:s(()=>[w("div",ct,[k(" Expected Arrivals "),w("span",dt,"("+Q(u.allDeployments.length)+" total)",1)]),ft]),_:1}),a(R,null,{default:s(()=>[w("div",mt,[w("div",vt,[a(y,{dense:""})]),w("div",pt,[a(G,{dense:"",modelValue:u.search,"onUpdate:modelValue":c[0]||(c[0]=v=>u.search=v),label:"Search"},null,8,["modelValue"])]),w("div",gt,[a(G,{dense:"",modelValue:u.startDateFilter,"onUpdate:modelValue":c[1]||(c[1]=v=>u.startDateFilter=v),label:"Expected Date",type:"date","stack-label":""},null,8,["modelValue"])]),w("div",yt,[a(Ie,{dense:"",label:"Craft","transition-show":"flip-up","transition-hide":"flip-down",modelValue:u.craftFilter,"onUpdate:modelValue":c[2]||(c[2]=v=>u.craftFilter=v),options:u.craftOptions,"use-chips":""},null,8,["modelValue","options"])])])]),_:1})]),_:1}),a(d,{rows:u.allDeployments,selected:u.arrived,onArrivalRelease:u.arrivalRelease,onArrivalMarked:u.arrivalMarked,onUpdateArrivalDate:u.updateArrivalDate},null,8,["rows","selected","onArrivalRelease","onArrivalMarked","onUpdateArrivalDate"])])]),_:1})}var Jt=Pe(it,[["render",bt]]);export{Jt as default};
