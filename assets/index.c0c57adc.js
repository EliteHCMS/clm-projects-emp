import{l as H,_ as D,y as a,ap as r,bq as o,d as t,cU as L,B as c,ab as u,cT as U,r as l,bS as N,bT as A,c as z,w as E,b4 as d,bV as m,z as y,aq as f,bP as Q,bs as W,F,b3 as I,E as G,cW as J}from"./index.a03c16e1.js";import{a as K,Q as S}from"./QHeader.4f94a314.js";import{Q as X}from"./QMenu.85d00748.js";import{Q as M}from"./QToolbar.e42c8dd7.js";import{Q as Y}from"./QImg.9b304398.js";import{Q as Z}from"./QList.ace1fffd.js";import{a as x,Q as ee}from"./QDrawer.228aeb88.js";import{a as te,Q as oe}from"./QLayout.bcd9c34b.js";import{C as ae}from"./ClosePopup.0c5c1f69.js";import{u as se}from"./use-quasar.581262ce.js";import{u as re,b as ne}from"./app.8e730c48.js";import{u as ie}from"./dataStore.1d5c4be4.js";import{_ as le}from"./version.2966e165.js";import{M as ce}from"./MenuNav.46a75a33.js";import{_ as ue}from"./languageSelector.ba970179.js";import{a as me}from"./approveHeadcount.84b8e062.js";import"./QResizeObserver.38a632bf.js";import"./position-engine.869e6998.js";import"./selection.a756df5b.js";import"./TouchPan.168e9541.js";import"./touch.3df10340.js";import"./_commonjsHelpers.a26ce4be.js";import"./dayjs.8e614a0b.js";import"./localForage.8d2e0f2e.js";import"./index.04bc0a32.js";import"./i18n.8ef2ea34.js";import"./useQuerySaver.d29ff9ee.js";import"./QSelect.b38e663e.js";import"./QChip.2bf5e9f7.js";import"./rtl.b51694b1.js";import"./QBadge.62558377.js";import"./MenuSubLink.f60dd20c.js";import"./QSlideTransition.a1a4d822.js";import"./QForm.04328203.js";import"./vee-validate.esm.53bf4a95.js";import"./array.164cfe36.js";const pe=H({props:{project:Object,mini:Boolean},setup(e){return{props:e}}}),de={class:"text-h6 text-white"},fe={class:"text-body1 text-white q-mb-md"},ge={class:"text-body1 text-dark"};function ve(e,s,g,v,n,h){return a(),r(U,{class:"bg-accent q-mt-lg q-pt-none q-px-xs",flat:"",square:""},{default:o(()=>[t(L,{class:"text-center"},{default:o(()=>[c("div",de,u(e.project[20]),1),c("div",fe,"@ "+u(e.project[24]),1),c("div",ge,"Manager: "+u(e.project[245]!==""?e.project[245]:"Unassigned"),1)]),_:1})]),_:1})}var he=D(pe,[["render",ve]]);const we=H({name:"View Project",components:{MenuNav:ce,version:le,languageSelector:ue,BasicProjectCard:he,approveHeadcount:me},setup(){const e=l(null),s=l(!1),g=se(),v=l(!1),n=l(!1),h=l(!1),p=l(!1),j=N(),w=A(),b=re(),{getUserType:k}=b,{toolbarTitle:C,viewProjectMenu:i}=ne(),{fetchProjectData:V,getViewedProjects:P}=ie(),B=l(!1),$=l(0),q=async()=>{const{state:_}=j.options.history;e.value=_.back,g.loading.show(),await V(w.params.id),$.value+=1,g.loading.hide()},O=z(()=>P(w.params.id)),T=async()=>{b.logout().then(()=>{j.replace({name:"login"})})},R=()=>{window.close()};return q(),E(()=>w.params.id,async _=>{await q()}),{tab:l("mails"),fab:s,userStore:b,leftDrawerOpen:v,rightDrawerOpen:h,miniState:n,miniHover:p,index:$,miniMouseOver(){n.value===!0&&(p.value=!1)},miniMouseOut(){n.value===!0&&(p.value=!0)},toggleLeftDrawer(){g.screen.gt.sm?(n.value=!n.value,n.value===!0&&(p.value=!0)):v.value=!v.value},toggleRightDrawer(){h.value=!h.value},drawerClick(_){n.value&&(n.value=!1,_.stopPropagation())},logout:T,toolbarTitle:C,viewProjectMenu:i,getUserType:k,project:O,closeWindow:R,opener:e,addHeadcount:B}}}),be={key:0,class:"q-mr-sm q-ml-sm",src:"https://cdn.jsdelivr.net/gh/EliteHCMS/assets@latest/public/logo-white.png",alt:"BrandSafway Logo",height:"25"},je={key:0},_e={key:1},ye={class:"q-gutter-sm row items-center no-wrap"},ke={class:"row no-wrap q-pa-md"},Ce={class:"column items-center"},$e={class:"text-subtitle1 q-mt-md q-mb-xs"};function qe(e,s,g,v,n,h){const p=d("languageSelector"),j=d("basic-project-card"),w=d("MenuNav"),b=d("router-view"),k=d("version"),C=d("approveHeadcount");return a(),r(oe,{view:"hHh lpR fFf"},{default:o(()=>[t(K,{elevated:""},{default:o(()=>[t(M,{style:{height:"62px"}},{default:o(()=>[t(m,{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu",onClick:e.toggleLeftDrawer},null,8,["onClick"]),e.$q.screen.gt.sm?(a(),y("img",be)):f("",!0),t(S,null,{default:o(()=>[e.$q.screen.lt.sm?(a(),y("span",je)):(a(),y("span",_e,u(e.toolbarTitle),1))]),_:1}),c("div",ye,[t(p,{dense:"",borderless:"",class:"lang-white"}),t(m,{flat:"",dense:"",color:"white"},{default:o(()=>[c("div",null,u(e.userStore.getUser[35])+" "+u(e.userStore.getUser[37]),1),t(Q,{right:"",size:"2.2em",name:"account_circle"}),t(X,null,{default:o(()=>[c("div",ke,[c("div",Ce,[t(Q,{right:"",size:"72px",name:"account_circle",class:"q-mr-md"}),c("div",$e,u(e.userStore.getUser[35])+" "+u(e.userStore.getUser[37]),1),W(t(m,{color:"primary",label:e.$t("logout"),push:"",size:"sm",onClick:e.logout},null,8,["label","onClick"]),[[ae]])])])]),_:1})]),_:1})])]),_:1})]),_:1}),t(x,{modelValue:e.leftDrawerOpen,"onUpdate:modelValue":s[0]||(s[0]=i=>e.leftDrawerOpen=i),side:"left","show-if-above":"",bordered:"",mini:e.miniState&&e.miniHover,onMouseover:e.miniMouseOver,onMouseout:e.miniMouseOut,onClickCapture:e.drawerClick,class:"text-primary bg-accent print-hide"},{default:o(()=>[e.project?(a(),r(ee,{key:0,class:"fit"},{default:o(()=>[e.$q.screen.lt.sm?(a(),r(M,{key:0,class:"bg-white",style:{height:"64px"}},{default:o(()=>[t(S,{class:"items-center"},{default:o(()=>[t(Y,{src:"https://cdn.jsdelivr.net/gh/EliteHCMS/assets@latest/public/logo.svg",style:{"max-width":"245px"},fit:"center",class:"q-ml-md"})]),_:1})]),_:1})):f("",!0),e.miniState?f("",!0):(a(),r(j,{key:1,project:e.project,mini:e.miniState},null,8,["project","mini"])),t(Z,{class:"q-mt-sm"},{default:o(()=>[(a(!0),y(F,null,I(e.viewProjectMenu,i=>(a(),r(w,G({key:i.title},i,{mini:e.miniState}),null,16,["mini"]))),128))]),_:1})]),_:1})):f("",!0)]),_:1},8,["modelValue","mini","onMouseover","onMouseout","onClickCapture"]),t(te,null,{default:o(()=>[t(U,{class:"print-hide",flat:""},{default:o(()=>[t(J,{class:"q-pb-none",align:"right"},{default:o(()=>[e.$can("create","projectRequests")?(a(),r(m,{key:0,dense:"",color:"accent",icon:"add",label:"Add Hire Request",to:e.project?{name:"new-request-with-project",params:{project:e.project[3]}}:null},null,8,["to"])):f("",!0),e.$route.name==="project-general"&&(e.$can("create","projectHeadcount")||e.$can("manage","projects"))?(a(),r(m,{key:1,dense:"",color:"accent",icon:"add",label:"Approve Headcount",onClick:s[1]||(s[1]=i=>e.addHeadcount=!0)})):f("",!0),e.getUserType==="QuickBase User"?(a(),r(m,{key:2,dense:"",icon:"close",label:"Close Window",color:"dark",onClick:s[2]||(s[2]=i=>e.closeWindow())})):(a(),r(m,{key:3,dense:"",icon:"home",label:"Return Home",color:"dark",to:{path:"/"}}))]),_:1})]),_:1}),(a(),r(b,{key:e.index}))]),_:1}),t(k),t(C,{project:e.project,modelValue:e.addHeadcount,"onUpdate:modelValue":s[3]||(s[3]=i=>e.addHeadcount=i)},null,8,["project","modelValue"])]),_:1})}var ct=D(we,[["render",qe]]);export{ct as default};
