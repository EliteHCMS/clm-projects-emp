import{Q as w}from"./QTd.8c0d944b.js";import{Q as C}from"./QTable.b82e401f.js";import{c1 as S,r as o,w as B,aK as N,c as d,z as T,A as y,d as n,bh as p,C as v,aa as h,a6 as b}from"./index.715e529a.js";import{r as x}from"./quickbase.8a58eeab.js";import{_ as A}from"./officeSelector.a2d6ae22.js";import{dayjs as D}from"./dayjs.1bd2d11e.js";import"./QList.4bbbdb8f.js";import"./QMarkupTable.81d9f7ce.js";import"./QSelect.28045a12.js";import"./QMenu.b2661f5f.js";import"./position-engine.2dc0ad54.js";import"./selection.1db1c380.js";import"./rtl.65b79c69.js";import"./use-fullscreen.04c2c6c8.js";import"./_commonjsHelpers.dfee5925.js";import"./localForage.acff27af.js";import"./index.7dbe61ef.js";import"./i18n.949815b0.js";import"./api.3782b497.js";const Q={class:"q-pa-md"},Z={__name:"index",setup(P){const r=x(),{fetchSelfCheckIns:i,fetchAllSelfCheckIns:c}=r,{getSelfCheckIns:g,getSelectedOffice:t}=S(r),e=o(t.value?t.value[8]:null),m=o({sortBy:"13",descending:!1,rowsPerPage:100});e.value?(i({officeId:e.value}),fetch({action:"Self Check-Ins"})):c(),B(t,()=>{e.value=t.value?t.value[8]:null,e.value?i({officeId:e.value}):c()});const f=o(new Date),I=setInterval(()=>{f.value=new Date},1e3);N(()=>{clearInterval(I)});const _=[{name:"timeCheckIn",align:"left",label:"Time Check-In",field:"13",sortable:!1},{name:"name",align:"left",label:"Name",field:"17",sortable:!1},{name:"phoneNumber",align:"center",label:"Phone Number",field:"6",sortable:!1},{name:"reason",align:"center",label:"Reason",field:"10",sortable:!1},{name:"status",align:"center",label:"Status",field:"15",sortable:!1},{name:"task",align:"center",label:"Task",field:"27",sortable:!1}],u=d(()=>g.value(e.value).sort((a,l)=>m.value.descending?a[13].isBefore(l[13]):a[13].isAfter(l[13]))),k=d(()=>u.value.map(a=>D(f.value).to(a[13])));return(a,l)=>(T(),y("div",Q,[n(A),n(C,{dense:a.$q.screen.lt.md,title:"Self Check Ins",rows:b(u),columns:_,pagination:m.value,"row-key":"3"},{"body-cell-timeCheckIn":p(s=>[n(w,{props:s},{default:p(()=>[v("div",null,h(s.value.format("h:mm:ss A")),1),v("div",null,h(b(k)[s.rowIndex]),1)]),_:2},1032,["props"])]),_:1},8,["dense","rows","pagination"])]))}};export{Z as default};
