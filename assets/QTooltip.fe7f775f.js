var ne=Object.defineProperty,ie=Object.defineProperties;var le=Object.getOwnPropertyDescriptors;var E=Object.getOwnPropertySymbols;var se=Object.prototype.hasOwnProperty,re=Object.prototype.propertyIsEnumerable;var x=(e,o,a)=>o in e?ne(e,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[o]=a,f=(e,o)=>{for(var a in o||(o={}))se.call(o,a)&&x(e,a,o[a]);if(E)for(var a of E(o))re.call(o,a)&&x(e,a,o[a]);return e},p=(e,o)=>ie(e,le(o));import{bP as ue,bU as ce,bW as de,bX as fe,r as H,c as m,bZ as ve,b_ as he,b$ as me,c0 as ge,c1 as be,w as A,aL as D,cD as q,cC as L,c7 as ye,h as M,bn as Te,g as pe,bQ as Pe,cb as Se}from"./index.323fc631.js";import{u as we,v as j,a as Oe,p as Q,b as Ce,c as ke,r as W,s as Ee,d as xe}from"./position-engine.e825e98f.js";import{c as _}from"./selection.f718deb7.js";var Le=ue({name:"QTooltip",inheritAttrs:!1,props:p(f(f(f({},we),ce),de),{maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{default:"jump-down"},transitionHide:{default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:j},self:{type:String,default:"top middle",validator:j},offset:{type:Array,default:()=>[14,14],validator:Oe},scrollTarget:{default:void 0},delay:{type:Number,default:0},hideDelay:{type:Number,default:0}}),emits:[...fe],setup(e,{slots:o,emit:a,attrs:g}){let s,r;const b=pe(),{proxy:{$q:i}}=b,u=H(null),v=H(!1),N=m(()=>Q(e.anchor,i.lang.rtl)),R=m(()=>Q(e.self,i.lang.rtl)),U=m(()=>e.persistent!==!0),{registerTick:$,removeTick:B}=ve(),{registerTimeout:h}=he(),{transitionProps:I,transitionStyle:V}=me(e),{localScrollTarget:P,changeScrollEvent:X,unconfigureScrollTarget:Z}=Ce(e,C),{anchorEl:n,canShow:z,anchorEvents:c}=ke({showing:v,configureAnchorEl:te}),{show:F,hide:y}=ge({showing:v,canShow:z,handleShow:J,handleHide:K,hideOnRouteChange:U,processOnMount:!0});Object.assign(c,{delayShow:Y,delayHide:ee});const{showPortal:S,hidePortal:w,renderPortal:G}=be(b,u,ae,"tooltip");if(i.platform.is.mobile===!0){const t={anchorEl:n,innerRef:u,onClickOutside(l){return y(l),l.target.classList.contains("q-dialog__backdrop")&&Se(l),!0}},T=m(()=>e.modelValue===null&&e.persistent!==!0&&v.value===!0);A(T,l=>{(l===!0?xe:W)(t)}),D(()=>{W(t)})}function J(t){S(),$(()=>{r=new MutationObserver(()=>d()),r.observe(u.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),d(),C()}),s===void 0&&(s=A(()=>i.screen.width+"|"+i.screen.height+"|"+e.self+"|"+e.anchor+"|"+i.lang.rtl,d)),h(()=>{S(!0),a("show",t)},e.transitionDuration)}function K(t){B(),w(),O(),h(()=>{w(!0),a("hide",t)},e.transitionDuration)}function O(){r!==void 0&&(r.disconnect(),r=void 0),s!==void 0&&(s(),s=void 0),Z(),q(c,"tooltipTemp")}function d(){const t=u.value;n.value===null||!t||Ee({el:t,offset:e.offset,anchorEl:n.value,anchorOrigin:N.value,selfOrigin:R.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function Y(t){if(i.platform.is.mobile===!0){_(),document.body.classList.add("non-selectable");const T=n.value,l=["touchmove","touchcancel","touchend","click"].map(k=>[T,k,"delayHide","passiveCapture"]);L(c,"tooltipTemp",l)}h(()=>{F(t)},e.delay)}function ee(t){i.platform.is.mobile===!0&&(q(c,"tooltipTemp"),_(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),h(()=>{y(t)},e.hideDelay)}function te(){if(e.noParentEvent===!0||n.value===null)return;const t=i.platform.is.mobile===!0?[[n.value,"touchstart","delayShow","passive"]]:[[n.value,"mouseenter","delayShow","passive"],[n.value,"mouseleave","delayHide","passive"]];L(c,"anchor",t)}function C(){if(n.value!==null||e.scrollTarget!==void 0){P.value=ye(n.value,e.scrollTarget);const t=e.noParentEvent===!0?d:y;X(P.value,t)}}function oe(){return v.value===!0?M("div",p(f({},g),{ref:u,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",g.class],style:[g.style,V.value],role:"tooltip"}),Pe(o.default)):null}function ae(){return M(Te,I.value,oe)}return D(O),Object.assign(b.proxy,{updatePosition:d}),G}});export{Le as Q};
