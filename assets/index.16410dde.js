import{Q as ve}from"./QPage.66c1fb9d.js";import{a as ge,Q as he,b as $e,c as Ce}from"./QTabPanels.c4ca2245.js";import{Q as we}from"./QToolbar.8be652a1.js";import{u as ee}from"./use-quasar.a5692936.js";import{k as x,c1 as I,r as $,_ as U,v as me,z as h,am as M,bh as d,d as s,c2 as L,C as c,aa as S,cy as le,c6 as T,b$ as ce,c3 as Z,bE as ie,c as F,cx as re,aY as X,A,an as R,d4 as ke,w as Ye,o as Ve,bX as Se,F as Ae,aX as Me,cz as Te,at as De}from"./index.8f32f12d.js";import{a as H}from"./QSelect.129af288.js";import{Q as Ee}from"./QTd.86429287.js";import{Q as Ne}from"./QTr.7e6e3004.js";import{Q as qe}from"./QTable.0578d287.js";import{b as z,u as ue,q as J,m as ae,g as oe}from"./quickbase.8936bef7.js";import{e as Qe}from"./export-file.deb9806e.js";import{dayjs as w}from"./dayjs.22253e14.js";import{Q as de}from"./QForm.0aebbfc2.js";import{a as _,b as pe,u as se,c as je}from"./array.967068df.js";import"./QResizeObserver.ba8c5d83.js";import"./rtl.65b79c69.js";import"./use-panel.cd5af8ab.js";import"./touch.d8ab472d.js";import"./selection.758fed1b.js";import"./QChip.d6e68241.js";import"./QMenu.e618646e.js";import"./position-engine.d72c2bb6.js";import"./QList.a809b6db.js";import"./QMarkupTable.acc23a62.js";import"./use-fullscreen.eedfb7ee.js";import"./_commonjsHelpers.dfee5925.js";import"./localForage.1af4f1a9.js";import"./index.7dbe61ef.js";import"./i18n.4811e7d4.js";import"./api.513a61f9.js";const Fe=x({setup(e,t){ee();const{availableMatrixColumns:p,active:m}=I(z()),{addNewMatrixColumn:y}=z(),{getUser:i}=I(ue()),{capitalize:r}=me,g=$(null),n=_({selection:_().required().nullable()}),{meta:f,errors:D,handleSubmit:E,handleReset:N}=pe({validationSchema:n}),{value:k}=se("selection"),Y=E(async C=>{console.log(C);const v={6:{value:`${i.value[35]} ${i.value[37]}`},7:{value:C.selection[6].toLowerCase()},10:{value:m.value[3]},13:{value:C.selection[8]},14:{value:C.selection[3]}},{data:P}=await J.upsertRecordsXML({to:"bsiy5quec",data:[v],fieldsToReturn:[12],formatObject:12});P.length>0?(y({project:m.value,data:P[0][12]}),t.emit("newColumnAdded")):t.emit("newColumnFailed"),N()});return{formMeta:f,formErrors:D,submit:Y,selection:k,availableMatrixColumns:p,selectionError:g,capitalize:r}}}),Re=c("div",{class:"text-body1 text-white"},"Add a Column to Matrix",-1),Le=c("div",{class:"text-body1"},"Select an Existing Column",-1),ze=c("div",{class:"q-pl-sm text-caption text-italic"}," Selecting an existing column will display any information previously entered for the employee by any job site. ",-1),Ue={class:"text-caption"},Pe=c("div",{class:"text-body2"},"Don't see your column? You can add a new one.",-1);function Oe(e,t,p,m,y,i){return h(),M(de,{onSubmit:ie(e.submit,["prevent"])},{default:d(()=>[s(Z,null,{default:d(()=>[s(L,{class:"bg-dark"},{default:d(()=>[Re]),_:1}),s(L,{class:"q-pb-xs"},{default:d(()=>[Le,ze,s(H,{class:"q-mb-sm",dense:"",label:"Select a Column to Add","transition-show":"flip-up","transition-hide":"flip-down",modelValue:e.selection,"onUpdate:modelValue":t[0]||(t[0]=r=>e.selection=r),options:e.availableMatrixColumns,"option-label":"6","display-value":e.selection?`${e.selection[6]} - ${e.capitalize(e.selection[8])}`:"","bottom-slots":"",error:!!(e.formErrors.selection||e.selectionError)},{error:d(()=>[c("div",Ue,S(e.formErrors.selection?e.formErrors.selection:e.selectionError),1)]),_:1},8,["modelValue","options","display-value","error"])]),_:1}),s(L,{class:"q-py-xs"},{default:d(()=>[Pe]),_:1}),s(le,{align:"left"},{default:d(()=>[s(T,{label:"Add a New Column",color:"info",onClick:t[1]||(t[1]=r=>e.$emit("continueToNewColumn"))})]),_:1}),s(ce),s(le,{class:"bg-accent",align:"right"},{default:d(()=>[s(T,{size:e.$q.screen.lt.md?"sm":"",color:"secondary",label:"Cancel",onClick:t[2]||(t[2]=r=>e.$emit("closeAddColumn"))},null,8,["size"]),s(T,{type:"submit",size:e.$q.screen.lt.md?"sm":"",color:"primary",label:"Save"},null,8,["size"])]),_:1})]),_:1})]),_:1},8,["onSubmit"])}var Be=U(Fe,[["render",Oe]]);const Ie=x({setup(e,t){const{availableMatrixColumns:p,active:m}=I(z()),{addNewMatrixColumn:y}=z(),{getUser:i}=I(ue()),r=$(null),g=$(null),n=F(()=>_({label:je().required().nullable().label("Column Name"),type:_().required().nullable().label("Data Type")})),{meta:f,errors:D,handleSubmit:E,handleReset:N}=pe({validationSchema:n}),{value:k}=se("label"),{value:Y}=se("type"),C=E(async v=>{if(!p.value.find(q=>q[7].toLowerCase()===v.label.toLowerCase()&&q[13]===v.type.value)){const q={7:{value:`${i.value[35]} ${i.value[37]}`},6:{value:v.label.toLowerCase()},8:{value:v.type.value}},{data:G}=await J.upsertRecordsXML({to:"bsjdig6gn",data:[q],fieldsToReturn:[9],formatObject:9});if(G.length>0){const W=G[0][9][3],K=await J.upsertRecordsXML({to:"bsiy5quec",data:[{6:{value:`${i.value[35]} ${i.value[37]}`},7:{value:v.label.toLowerCase()},13:{value:v.type.value},10:{value:m.value[3]},14:{value:W}}],fieldsToReturn:[12],formatObject:12});K.data.length>0?(y({project:m.value,data:K.data[0][12]}),t.emit("newColumnAdded")):t.emit("newColumnFailed")}else t.emit("newColumnFailed")}N()});return{formMeta:f,formErrors:D,submit:C,label:k,type:Y,labelError:r,typeError:g}}}),Xe=c("div",{class:"text-body1 text-white"},"Add a Column to Matrix",-1),xe=c("div",{class:"text-body1 text-dark"},"Add a New Column",-1),We={class:"text-caption"},He={class:"text-caption"};function Je(e,t,p,m,y,i){return h(),M(de,{onSubmit:ie(e.submit,["prevent"])},{default:d(()=>[s(Z,null,{default:d(()=>[s(L,{class:"bg-dark"},{default:d(()=>[Xe]),_:1}),s(L,{class:"q-pt-md"},{default:d(()=>[xe,s(re,{class:"q-mb-md",dense:"",type:"text","bottom-slots":"",error:!!(e.formErrors.label||e.labelError),modelValue:e.label,"onUpdate:modelValue":t[0]||(t[0]=r=>e.label=r),label:"Column Name"},{error:d(()=>[c("div",We,S(e.formErrors.label?e.formErrors.label:e.labelError),1)]),_:1},8,["error","modelValue"]),s(H,{dense:"",label:"Select Data Type",modelValue:e.type,"onUpdate:modelValue":t[1]||(t[1]=r=>e.type=r),options:[{value:"text",label:"Text"},{value:"date",label:"Date"},{value:"checkbox",label:"Checkbox"}],"bottom-slots":"",error:!!(e.formErrors.type||e.typeError)},{error:d(()=>[c("div",He,S(e.formErrors.type?e.formErrors.type:e.typeError),1)]),_:1},8,["modelValue","error"])]),_:1}),s(ce),s(le,{class:"bg-accent",align:"right"},{default:d(()=>[s(T,{size:e.$q.screen.lt.md?"sm":"",color:"secondary",label:"Cancel",onClick:t[2]||(t[2]=r=>e.$emit("closeAddColumn"))},null,8,["size"]),s(T,{type:"submit",size:e.$q.screen.lt.md?"sm":"",color:"primary",label:"Save"},null,8,["size"])]),_:1})]),_:1})]),_:1},8,["onSubmit"])}var Ge=U(Ie,[["render",Je]]);const Ke=x({components:{SelectColumn:Be,EnterColumn:Ge},setup(){const e=ee(),t=$(0),{getMatrixColumns:p}=z();async function m(){e.loading.show(),(await p()).length===0&&(t.value=1),e.loading.hide()}return m(),{step:t}}});function Ze(e,t,p,m,y,i){const r=X("select-column"),g=X("enter-column");return h(),A("div",null,[c("div",null,[e.step===0?(h(),M(r,{key:0,onNoOptions:t[0]||(t[0]=n=>e.step=1),onCloseAddColumn:t[1]||(t[1]=n=>e.$emit("closeAddColumn")),onContinueToNewColumn:t[2]||(t[2]=n=>e.step=1),onNewColumnAdded:t[3]||(t[3]=n=>e.$emit("newColumnAdded")),onNewColumnFailed:t[4]||(t[4]=n=>e.$emit("newColumnFailed"))})):R("",!0),e.step===1?(h(),M(g,{key:1,onCloseAddColumn:t[5]||(t[5]=n=>e.$emit("closeAddColumn")),onBackToSelect:t[6]||(t[6]=n=>e.step=0),onNewColumnAdded:t[7]||(t[7]=n=>e.$emit("newColumnAdded")),onNewColumnFailed:t[8]||(t[8]=n=>e.$emit("newColumnFailed"))})):R("",!0)])])}var _e=U(Ke,[["render",Ze]]);const et=x({props:{inputType:String,row:Object,col:Object,currentValue:String,checkValue:Boolean},setup(e,t){const p=$(""),m=$(null),y=$(e.checkValue),i=$(!1),r=$(e.currentValue),{getUser:g}=ue(),{refreshAssignment:n}=ae();function f(){console.log(oe.formatDate(e.col.value,"YYYY-MM-DD")),e.inputType==="date"?(m.value=oe.formatDate(e.col.value,"YYYY-MM-DD"),i.value=!0):e.inputType==="checkbox"?(y.value=e.col.value,i.value=!0):(p.value=e.col.value,i.value=!0)}const D=F(()=>!!(r.value&&r.value!==""&&r.value!==void 0));async function E(){let k;if(e.inputType==="checkbox"&&y.value===!1){N();return}else i.value?k={3:{value:e.row[e.col.keyString][3]},10:{value:`${g[35]} ${g[37]}`}}:k={12:{value:e.row.employee[3]},13:{value:e.col.name},6:{value:e.inputType},17:{value:e.col.colRid},10:{value:`${g[35]} ${g[37]}`}};e.inputType==="date"?Object.assign(k,{8:{value:m.value}}):e.inputType==="checkbox"&&y.value!==!1?Object.assign(k,{9:{value:y.value}}):Object.assign(k,{7:{value:p.value}});const{data:Y}=await J.upsertRecordsXML({to:"bsi3t4bcz",data:[k],fieldsToReturn:[11],formatObject:11});if(Y.length>0){const C=e.row;Object.assign(C,{[e.col.keyString]:Y[0][11]}),n({assignment:C}),e.inputType==="date"?(r.value=w(m.value,"YYYY-MM-DD").format("MM/DD/YYYY"),m.value=null):(r.value=p.value,p.value=""),i.value&&(i.value=!1)}}async function N(){const Y={3:{value:e.row[e.col.keyString][3]},16:{value:`${g[35]} ${g[37]}`},15:{value:!0}};e.inputType==="checkbox"&&Object.assign(Y,{9:{value:y.value}});const{data:C}=await J.upsertRecordsXML({to:"bsi3t4bcz",data:[Y],fieldsToReturn:[11],formatObject:11});if(console.log(C),C.length>0){const v=e.row;delete v[e.col.keyString],n({assignment:v}),e.inputType==="date"?(r.value="",m.value=null):(r.value="",p.value=""),i.value&&(i.value=!1)}}return{textEntry:p,dateEntry:m,checkEntry:y,props:e,editMode:i,hasValue:D,setValue:r,submit:E,showEdit:f,remove:N}}}),tt={key:0,class:"row"},lt={class:"col-2"},at={class:"col-10"},ot={key:2,align:"center"};function st(e,t,p,m,y,i){return h(),A("div",null,[e.hasValue&&!e.editMode&&e.props.inputType!=="checkbox"?(h(),A("div",tt,[c("div",lt,[s(T,{size:"sm",dense:"",flat:"","text-color":"primary",icon:"edit",onClick:e.showEdit},null,8,["onClick"])]),c("div",at,[c("span",null,S(e.setValue),1)])])):R("",!0),e.props.inputType!=="checkbox"&&(!e.hasValue||e.editMode)?(h(),M(de,{key:1,onSubmit:ie(e.submit,["prevent"])},{default:d(()=>[e.props.inputType==="date"?(h(),M(re,{key:0,clearable:"",filled:"","input-class":"text-caption",dense:"",type:"date",modelValue:e.dateEntry,"onUpdate:modelValue":t[0]||(t[0]=r=>e.dateEntry=r),onClear:t[1]||(t[1]=r=>e.remove())},{prepend:d(()=>[e.dateEntry?(h(),M(T,{key:0,"text-color":"primary",flat:"",type:"submit",size:"sm",dense:"",icon:"save",onClick:e.submit},null,8,["onClick"])):R("",!0)]),_:1},8,["modelValue"])):R("",!0)]),_:1},8,["onSubmit"])):R("",!0),e.props.inputType==="checkbox"?(h(),A("div",ot,[s(ke,{modelValue:e.checkEntry,"onUpdate:modelValue":[t[2]||(t[2]=r=>e.checkEntry=r),e.submit]},null,8,["modelValue","onUpdate:modelValue"])])):R("",!0)])}var nt=U(et,[["render",st]]);const{capitalize:B}=me,ne=e=>{const t=e[20]!==""?B(e[20].toLowerCase().trim()):"",p=e[22]!==""?B(e[22].toLowerCase().trim()):"",m=e[21]!==""?` ${B(e[21].toLowerCase().trim())}`:"",y=e[23]!==""?` ${B(e[23])}`:"";return`${p}${y}, ${t}${m}`},it=[{name:1,label:"Name",align:"left",field:e=>e.employee[22],format:(e,t)=>`${ne(t.employee)}`,sortable:!0,sortOrder:"ad"},{name:7,label:"Workday ID",align:"left",field:e=>e.employee[378],format:e=>`${e}`,sortable:!0,sortOrder:"ad"},{name:2,label:"Payroll ID",align:"left",field:e=>e.employee[213],format:e=>e===""?"not available":e,sortable:!0},{name:4,label:"Classification",align:"left",field:e=>e.map.fullJob,format:e=>`${!e||e===""?"Not Assigned":e}`,sortable:!0},{name:5,label:"Job #",align:"left",field:e=>e.map.jobNumber,format:e=>`${e===""||!e?"Not Assigned":e}`,sortable:!0},{name:6,label:"Arrival Date",align:"left",field:e=>e.map.start,format:e=>`${e?oe.formatDate(e,"MM/DD/YYYY"):"TBD"}`,sortable:!0}],rt=x({name:"Table",components:{AddColumn:_e,TableEdit:nt},setup(){const e=ee(),t=ae(),p=z(),{assignmentsForProject:m}=I(t),y=m,{active:i}=I(z()),{getAssignments:r,checkDisa:g}=ae(),n=$(""),f=$(null),D=$(null),E=$(null),N=$(0),k=$(!1),Y=$(!1),C=$(!1);r();const v=F(()=>{let u=y.value;return u=u.filter(a=>a[75].toLowerCase().includes(n.value.toLowerCase())),u=f.value?f.value==="Not Active"?u.filter(a=>a.employee[556]&&a.employee[556][10]&&a.employee[556][10].ownerStatus!=="Active"):u.filter(a=>a.employee[556]&&a.employee[556][10]&&a.employee[556][10].ownerStatus===f.value):u,u=D.value?u.filter(a=>a.employee[556]&&a.employee[556][10]&&a.employee[556][10].hasPendingRandom===D.value.value):u,u=E.value?u.filter(a=>a.employee[556]&&a.employee[556][10]&&a.employee[556][10].backgrounds===E.value):u,u.sort((a,l)=>a.employee[22].toLowerCase().trim()>l.employee[22].toLowerCase().trim()?1:-1).filter(a=>!a[112])});function P(u,a,l){let b=a!==void 0?a(u,l):u;return b=b==null?"":String(b),b=b.split('"').join('""'),`"${b}"`}async function q(){Y.value=!0,e.loading.show({message:"Checking Disa Status. This may take a few moments..."});try{await g({project:i.value,roster:v.value})}catch(u){console.log(u),e.notify({message:"There was a problem...",color:"negative",icon:"warning"})}e.loading.hide(),Y.value=!1}const G=F(()=>[...new Map(i.value.matrix.map(a=>[a[7],a])).values()]),W=F(()=>{const u=[{name:1,label:"Name",align:"left",field:l=>ne(l.employee),format:l=>l,sortable:!0,sortOrder:"ad"},{name:0,label:"Status",align:"center",field:l=>l.employee[556]&&l.employee[556][10]?l.employee[556][10].ownerStatus:null,format:l=>l||"N/A",sortable:!0}];if(i.value[322]){const l=i.value[321];l[36]&&u.push({name:5,label:"Background",align:"center",field:o=>o.employee[556]&&o.employee[556][10]?o.employee[556][10].backgrounds:null,format:o=>o||"N/A",sortable:!0}),u.push({name:3,label:"Random",align:"left",field:o=>o.employee[556]&&o.employee[556][10]?o.employee[556][10].hasPendingRandom:null,format:o=>o?"Yes":"No",sortable:!0},{name:4,label:"Days Left",align:"right",field:o=>o.employee[556]&&o.employee[556][10]&&o.employee[556][10].hasPendingRandom?o.employee[556][10].daysUntilWindowCloses:null,format:o=>o?parseInt(o):"N/A",sortable:!0});const b=l[10].split(",");b&&Array.isArray(b)&&b.forEach((o,te)=>{const V=6+(te+1);let Q="";o=o.toLowerCase().trim(),o.includes("w/ randoms")&&(o=o.replace(" w/ randoms","")),o.includes(" (view)")&&(o=o.replace(" (view)","")),o==="dccha"||o==="dcceo"||o.includes("upstream")?Q="lastUrineTest":o==="dccht"?Q="lastHairTest":o==="nasap"?Q="lastNASAPTest":o==="dccof"&&(Q="lastOralFluidTest");const ye={policy:o,key:Q};u.push({name:V,label:`${o.toUpperCase()} Last Test`,align:"right",field:j=>j.employee[556]&&j.employee[556][10]?j.employee[556][10][ye.key]:null,format:j=>j&&w(j).isValid()?`${w(j).format("MM/DD/YYYY")}`:"N/A",sortable:!0})}),l[36]&&u.push({name:6,label:"BG Exp",align:"right",field:o=>o.employee[556]&&o.employee[556][10]?o.employee[556][10].backgroundsExpDate:null,format:o=>o&&w(o).isValid()?`${w(o).format("MM/DD/YYYY")}`:"N/A",sortable:!0})}return[{keyString:"basic_plus",colRid:7,allowEdit:!0,editInputType:"date",name:"basic_plus",classes:"editable",label:"Basic Plus Exp",align:"right",field:l=>l.basic_plus?l.basic_plus.value:null,format:l=>l?w(l,"MM-DD-YYYY").format("MM/DD/YYYY"):null,sortable:!0},{keyString:"twic",colRid:8,allowEdit:!0,editInputType:"date",name:"twic",classes:"editable",label:"TWIC Exp",align:"right",field:l=>l.twic?l.twic.value:null,format:l=>l?w(l,"MM-DD-YYYY").format("MM/DD/YYYY"):null,sortable:!0}].forEach(l=>{u.push(l)}),G.value.forEach(l=>{let b="";l[7].split(" ").forEach((V,Q)=>{b+=Q>0?` ${B(V)}`:B(V)});const te={keyString:l[18],colRid:l[14],allowEdit:!0,editInputType:l[13],name:l[18],classes:"editable",label:b,align:"right",field:V=>V[l[18]]?V[l[18]].value:null,format:V=>V?l[13]==="date"?w(V,"MM-DD-YYYY").format("MM/DD/YYYY"):V:null,sortable:!0};u.push(te)}),u}),K=F(()=>({notActive:v.value.filter(a=>!a.employee[556]||a.employee[556][10].ownerStatus!=="Active").length,active:v.value.filter(a=>a.employee[556]&&a.employee[556][10].ownerStatus==="Active").length,randoms:v.value.filter(a=>a.employee[556]&&a.employee[556][10].hasPendingRandom).length})),O=F(()=>{if(i.value[322])if(console.log(v.value),v.value.length>0){const u=v.value.filter(a=>a.employee[556]&&a.employee[556][10]&&w(a.employee[556][10].dateChecked).isValid());if(u.length>0){const a=u.sort((l,b)=>l.employee[556][10].dateChecked>b.employee[556][10].dateChecked?-1:1)[0].employee[556][10].dateChecked;return a?w(a):null}else return null}else return null;else return null});Ye(O,()=>{i.value&&i.value[322]&&O.value&&O.value.isBefore(w(),"day")&&q()}),Ve(()=>{i.value&&i.value[322]&&O.value&&O.value.isBefore(w(),"day")&&q()});function fe(){C.value=!1,e.notify({type:"positive",message:"New Column Added!",position:"top-right"})}function be(){C.value=!1,e.notify({type:"negative",message:"Cannot add new column",position:"top-right"})}return console.log(i.value),{columns:it,rows:v,initialPagination:$({rowsPerPage:25}),separator:"vertical",projectStore:p,active:i,search:n,statusFilter:f,bgFilter:E,randomFilter:D,assignmentsForProject:m,tab:N,showEmployee:k,formatName:ne,exportAllEmployees(){const u=[W.value.map(l=>P(l.label))].concat(v.value.map(l=>W.value.map(b=>P(typeof b.field=="function"?b.field(l):l[b.field===void 0?b.name:b.field],b.format,l)).join(","))).join(`\r
`);Qe(`${w().format("MM.DD.YYYY")} ${i.value[20]} Site-Matrix-Export.csv`,u,"text/csv")!==!0&&e.notify({message:"Browser denied file download...",color:"negative",icon:"warning"})},checkDisaStatus:q,computedColumns:W,checkingStatus:Y,statusSummary:K,dayjs:w,lastChecked:O,showAddColumn:C,newColumnAdded:fe,newColumnFailed:be}}}),ut={key:0},dt={class:"row items-center"},mt={class:"col-12 col-md-3 q-px-sm"},ct={class:"col-12 col-md-2 q-px-sm"},pt={class:"col-12 col-md-2 q-px-sm"},ft={class:"col-12 col-md-2 q-px-sm"},bt={class:"text-primary text-italic text-body2"},yt={class:"text-dark text-italic text-body2 q-mt-sm"},vt=De(" Last Checked: "),gt={class:"text-accent"},ht={class:"full-width row flex-center text-primary q-gutter-sm q-py-md"},$t={key:1},Ct={key:1},wt=c("div",{class:"text-primary text-body1"},"Coming soon. This is available for Disa sites only right now.",-1);function kt(e,t,p,m,y,i){const r=X("table-edit"),g=X("add-column");return h(),A("div",null,[e.active[322]?(h(),A("div",ut,[s(Z,{flat:""},{default:d(()=>[s(L,{class:"q-pt-none"},{default:d(()=>[c("div",dt,[c("div",mt,[s(re,{dense:"",modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=n=>e.search=n),label:"Search"},null,8,["modelValue"])]),c("div",ct,[s(H,{dense:"",label:"Status","transition-show":"flip-up","transition-hide":"flip-down",modelValue:e.statusFilter,"onUpdate:modelValue":t[1]||(t[1]=n=>e.statusFilter=n),options:["Active","Not Active"],"use-chips":""},null,8,["modelValue"])]),c("div",pt,[s(H,{dense:"",label:"Pending Random","transition-show":"flip-up","transition-hide":"flip-down",modelValue:e.randomFilter,"onUpdate:modelValue":t[2]||(t[2]=n=>e.randomFilter=n),options:[{label:"Yes",value:!0},{label:"No",value:!1}],"use-chips":""},null,8,["modelValue"])]),c("div",ft,[s(H,{dense:"",label:"Background","transition-show":"flip-up","transition-hide":"flip-down",modelValue:e.bgFilter,"onUpdate:modelValue":t[3]||(t[3]=n=>e.bgFilter=n),options:["Active","Not Active"],"use-chips":""},null,8,["modelValue"])])])]),_:1})]),_:1}),s(qe,{"title-class":e.$q.screen.gt.sm?"text-primary text-h6":"text-primary text-body1",title:e.$q.screen.lt.sm?"Matrix":`Matrix for ${e.active[20]}`,columns:e.computedColumns,rows:e.rows,"row-key":"3",class:"q-pa-sm sticky-header-table",pagination:e.initialPagination,"onUpdate:pagination":t[5]||(t[5]=n=>e.initialPagination=n),"rows-per-page-options":[0],separator:"vertical","table-header-class":"bg-dark text-white","no-data-label":`There are no employees for ${e.active[20]}`,grid:e.$q.screen.lt.sm,dense:""},{"top-right":d(()=>[s(T,{dense:e.$q.screen.lt.md,color:"accent",label:"Check Disa Status",onClick:e.checkDisaStatus},null,8,["dense","onClick"]),s(T,{dense:e.$q.screen.lt.md,class:"q-ml-sm",color:"info",label:"Add a Column",onClick:t[4]||(t[4]=n=>e.showAddColumn=!0)},null,8,["dense"]),s(T,{dense:e.$q.screen.lt.md,class:"q-ml-sm",color:"primary",label:"Download",onClick:e.exportAllEmployees,disable:e.rows.length<1},null,8,["dense","onClick","disable"])]),"top-left":d(()=>[c("div",bt," ("+S(e.statusSummary.active)+" active / "+S(e.statusSummary.notActive)+" not active / "+S(e.statusSummary.randoms)+" pending randoms) ",1),c("div",yt,[vt,c("span",gt,S(e.lastChecked?e.lastChecked.format("MM/DD/YYYY hh:mm:ss a z"):"Never"),1)])]),"no-data":d(({message:n})=>[c("div",ht,[s(Se,{size:"2em",name:"fa-solid fa-person-circle-exclamation"}),c("span",null,S(n),1)])]),body:d(n=>[s(Ne,{props:n},{default:d(()=>[(h(!0),A(Ae,null,Me(n.cols,f=>(h(),M(Ee,{key:f.name,props:n},{default:d(()=>[f.allowEdit?(h(),M(r,{key:0,hasValue:!!(f.value||f.value!==""||f.value!==void 0),col:f,currentValue:f.editInputType==="checkbox"?"":f.value,checkValue:f.value==="true",inputType:f.editInputType?f.editInputType:"text",row:n.row},null,8,["hasValue","col","currentValue","checkValue","inputType","row"])):(h(),A("span",$t,S(f.value),1))]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),_:1},8,["title-class","title","columns","rows","pagination","no-data-label","grid"])])):(h(),A("div",Ct,[s(Z,null,{default:d(()=>[s(L,{class:"text-center"},{default:d(()=>[wt]),_:1})]),_:1})])),s(Te,{modelValue:e.showAddColumn,"onUpdate:modelValue":t[7]||(t[7]=n=>e.showAddColumn=n),persistent:""},{default:d(()=>[s(g,{onCloseAddColumn:t[6]||(t[6]=n=>e.showAddColumn=!1),onNewColumnAdded:e.newColumnAdded,onNewColumnFailed:e.newColumnFailed},null,8,["onNewColumnAdded","onNewColumnFailed"])]),_:1},8,["modelValue"])])}var Yt=U(rt,[["render",kt]]);const Vt=x({name:"Projects",components:{MatrixTab:Yt},setup(){return ee(),{tab:$(0)}}}),St={class:"q-px-sm"};function At(e,t,p,m,y,i){const r=X("matrix-tab");return h(),A("div",St,[s(we,{class:"bg-info text-white shadow-2 rounded-borders"},{default:d(()=>[s(ge,{modelValue:e.tab,"onUpdate:modelValue":t[0]||(t[0]=g=>e.tab=g),"bg-color":"none","indicator-color":"accent",align:"justify",dense:""},{default:d(()=>[s(he,{name:0,label:"Matrix"})]),_:1},8,["modelValue"])]),_:1}),s(Ce,{modelValue:e.tab,"onUpdate:modelValue":t[1]||(t[1]=g=>e.tab=g),animated:""},{default:d(()=>[s($e,{class:"q-px-xs",name:0},{default:d(()=>[s(r)]),_:1})]),_:1},8,["modelValue"])])}var Mt=U(Vt,[["render",At]]);const Tt={name:"Compliance",components:{Tabs:Mt},setup(){return{}}};function Dt(e,t,p,m,y,i){const r=X("tabs");return h(),M(ve,{style:{"max-width":"100vw"}},{default:d(()=>[s(r)]),_:1})}var il=U(Tt,[["render",Dt]]);export{il as default};
