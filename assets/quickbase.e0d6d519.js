var Ls=Object.defineProperty;var _s=(t,e,s)=>e in t?Ls(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var q=(t,e,s)=>(_s(t,typeof e!="symbol"?e+"":e,s),s);import{m as Us,P as Nt,n as Bs,p as Y,q as Lt,s as ze,t as Xs,u as te,l as D,v as Ys,x as G,y as Ks,f as Ws}from"./index.db86b9c5.js";import{c as Hs,a as _t}from"./_commonjsHelpers.dfee5925.js";import{dayjs as x}from"./dayjs.226882af.js";import{localforage as y}from"./localForage.414ddd2d.js";import{r as Ut,a as Bt}from"./index.7dbe61ef.js";import{i as be}from"./i18n.97214c36.js";import{api as Qs}from"./api.2eb2bfe7.js";const Fe=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function zs(t){return Vs(t)===0}function Js(t,e){return e<=6?31:e<=11||zs(t)?30:29}function Vs(t){const e=Fe.length;let s=Fe[0],i,r,a,o,n;if(t<s||t>=Fe[e-1])throw new Error("Invalid Jalaali year "+t);for(n=1;n<e&&(i=Fe[n],r=i-s,!(t<i));n+=1)s=i;return o=t-s,r-o<6&&(o=o-r+Zs(r+4,33)*33),a=vt(vt(o+1,33)-1,4),a===-1&&(a=4),a}function Zs(t,e){return~~(t/e)}function vt(t,e){return t-~~(t/e)*e}const Xt=864e5,Gs=36e5,Je=6e4,Yt="YYYY-MM-DDTHH:mm:ss.SSSZ",ei=/\[((?:[^\]\\]|\\]|\\)*)\]|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]/g,ti=/(\[[^\]]*\])|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]|([.*+:?^,\s${}()|\\]+)/g,Ye={};function si(t,e){const s="("+e.days.join("|")+")",i=t+s;if(Ye[i]!==void 0)return Ye[i];const r="("+e.daysShort.join("|")+")",a="("+e.months.join("|")+")",o="("+e.monthsShort.join("|")+")",n={};let c=0;const l=t.replace(ti,v=>{switch(c++,v){case"YY":return n.YY=c,"(-?\\d{1,2})";case"YYYY":return n.YYYY=c,"(-?\\d{1,4})";case"M":return n.M=c,"(\\d{1,2})";case"MM":return n.M=c,"(\\d{2})";case"MMM":return n.MMM=c,o;case"MMMM":return n.MMMM=c,a;case"D":return n.D=c,"(\\d{1,2})";case"Do":return n.D=c++,"(\\d{1,2}(st|nd|rd|th))";case"DD":return n.D=c,"(\\d{2})";case"H":return n.H=c,"(\\d{1,2})";case"HH":return n.H=c,"(\\d{2})";case"h":return n.h=c,"(\\d{1,2})";case"hh":return n.h=c,"(\\d{2})";case"m":return n.m=c,"(\\d{1,2})";case"mm":return n.m=c,"(\\d{2})";case"s":return n.s=c,"(\\d{1,2})";case"ss":return n.s=c,"(\\d{2})";case"S":return n.S=c,"(\\d{1})";case"SS":return n.S=c,"(\\d{2})";case"SSS":return n.S=c,"(\\d{3})";case"A":return n.A=c,"(AM|PM)";case"a":return n.a=c,"(am|pm)";case"aa":return n.aa=c,"(a\\.m\\.|p\\.m\\.)";case"ddd":return r;case"dddd":return s;case"Q":case"d":case"E":return"(\\d{1})";case"Qo":return"(1st|2nd|3rd|4th)";case"DDD":case"DDDD":return"(\\d{1,3})";case"w":return"(\\d{1,2})";case"ww":return"(\\d{2})";case"Z":return n.Z=c,"(Z|[+-]\\d{2}:\\d{2})";case"ZZ":return n.ZZ=c,"(Z|[+-]\\d{2}\\d{2})";case"X":return n.X=c,"(-?\\d+)";case"x":return n.x=c,"(-?\\d{4,})";default:return c--,v[0]==="["&&(v=v.substring(1,v.length-1)),v.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}),m={map:n,regex:new RegExp("^"+l)};return Ye[i]=m,m}function Kt(t,e){return t!==void 0?t:e!==void 0?e.date:Bs.date}function wt(t,e=""){const s=t>0?"-":"+",i=Math.abs(t),r=Math.floor(i/60),a=i%60;return s+Y(r)+e+Y(a)}function ii(t,e,s){let i=t.getFullYear(),r=t.getMonth();const a=t.getDate();return e.year!==void 0&&(i+=s*e.year,delete e.year),e.month!==void 0&&(r+=s*e.month,delete e.month),t.setDate(1),t.setMonth(2),t.setFullYear(i),t.setMonth(r),t.setDate(Math.min(a,ot(t))),e.date!==void 0&&(t.setDate(t.getDate()+s*e.date),delete e.date),t}function ri(t,e,s){const i=e.year!==void 0?e.year:t[`get${s}FullYear`](),r=e.month!==void 0?e.month-1:t[`get${s}Month`](),a=new Date(i,r+1,0).getDate(),o=Math.min(a,e.date!==void 0?e.date:t[`get${s}Date`]());return t[`set${s}Date`](1),t[`set${s}Month`](2),t[`set${s}FullYear`](i),t[`set${s}Month`](r),t[`set${s}Date`](o),delete e.year,delete e.month,delete e.date,t}function nt(t,e,s){const i=Wt(e),r=new Date(t),a=i.year!==void 0||i.month!==void 0||i.date!==void 0?ii(r,i,s):r;for(const o in i){const n=Us(o);a[`set${n}`](a[`get${n}`]()+s*i[o])}return a}function Wt(t){const e={...t};return t.years!==void 0&&(e.year=t.years,delete e.years),t.months!==void 0&&(e.month=t.months,delete e.months),t.days!==void 0&&(e.date=t.days,delete e.days),t.day!==void 0&&(e.date=t.day,delete e.day),t.hour!==void 0&&(e.hours=t.hour,delete e.hour),t.minute!==void 0&&(e.minutes=t.minute,delete e.minute),t.second!==void 0&&(e.seconds=t.second,delete e.second),t.millisecond!==void 0&&(e.milliseconds=t.millisecond,delete e.millisecond),e}function Ht(t,e,s){const i=Wt(e),r=s===!0?"UTC":"",a=new Date(t),o=i.year!==void 0||i.month!==void 0||i.date!==void 0?ri(a,i,r):a;for(const n in i){const c=n.charAt(0).toUpperCase()+n.slice(1);o[`set${r}${c}`](i[n])}return o}function ai(t,e,s){const i=ni(t,e,s),r=new Date(i.year,i.month===null?null:i.month-1,i.day===null?1:i.day,i.hour,i.minute,i.second,i.millisecond),a=r.getTimezoneOffset();return i.timezoneOffset===null||i.timezoneOffset===a?r:nt(r,{minutes:i.timezoneOffset-a},1)}function ni(t,e,s,i,r){const a={year:null,month:null,day:null,hour:null,minute:null,second:null,millisecond:null,timezoneOffset:null,dateHash:null,timeHash:null};if(r!==void 0&&Object.assign(a,r),t==null||t===""||typeof t!="string")return a;e===void 0&&(e=Yt);const o=Kt(s,Nt.props),n=o.months,c=o.monthsShort,{regex:l,map:m}=si(e,o),v=t.match(l);if(v===null)return a;let k="";if(m.X!==void 0||m.x!==void 0){const w=parseInt(v[m.X!==void 0?m.X:m.x],10);if(isNaN(w)===!0||w<0)return a;const I=new Date(w*(m.X!==void 0?1e3:1));a.year=I.getFullYear(),a.month=I.getMonth()+1,a.day=I.getDate(),a.hour=I.getHours(),a.minute=I.getMinutes(),a.second=I.getSeconds(),a.millisecond=I.getMilliseconds()}else{if(m.YYYY!==void 0)a.year=parseInt(v[m.YYYY],10);else if(m.YY!==void 0){const w=parseInt(v[m.YY],10);a.year=w<0?w:2e3+w}if(m.M!==void 0){if(a.month=parseInt(v[m.M],10),a.month<1||a.month>12)return a}else m.MMM!==void 0?a.month=c.indexOf(v[m.MMM])+1:m.MMMM!==void 0&&(a.month=n.indexOf(v[m.MMMM])+1);if(m.D!==void 0){if(a.day=parseInt(v[m.D],10),a.year===null||a.month===null||a.day<1)return a;const w=i!=="persian"?new Date(a.year,a.month,0).getDate():Js(a.year,a.month);if(a.day>w)return a}m.H!==void 0?a.hour=parseInt(v[m.H],10)%24:m.h!==void 0&&(a.hour=parseInt(v[m.h],10)%12,(m.A&&v[m.A]==="PM"||m.a&&v[m.a]==="pm"||m.aa&&v[m.aa]==="p.m.")&&(a.hour+=12),a.hour=a.hour%24),m.m!==void 0&&(a.minute=parseInt(v[m.m],10)%60),m.s!==void 0&&(a.second=parseInt(v[m.s],10)%60),m.S!==void 0&&(a.millisecond=parseInt(v[m.S],10)*10**(3-v[m.S].length)),(m.Z!==void 0||m.ZZ!==void 0)&&(k=m.Z!==void 0?v[m.Z].replace(":",""):v[m.ZZ],a.timezoneOffset=(k[0]==="+"?-1:1)*(60*k.slice(1,3)+1*k.slice(3,5)))}return a.dateHash=Y(a.year,6)+"/"+Y(a.month)+"/"+Y(a.day),a.timeHash=Y(a.hour)+":"+Y(a.minute)+":"+Y(a.second)+k,a}function oi(t){return typeof t=="number"?!0:isNaN(Date.parse(t))===!1}function ci(t,e){return Ht(new Date,t,e)}function li(t){const e=new Date(t).getDay();return e===0?7:e}function Ve(t){const e=new Date(t.getFullYear(),t.getMonth(),t.getDate());e.setDate(e.getDate()-(e.getDay()+6)%7+3);const s=new Date(e.getFullYear(),0,4);s.setDate(s.getDate()-(s.getDay()+6)%7+3);const i=e.getTimezoneOffset()-s.getTimezoneOffset();e.setHours(e.getHours()-i);const r=(e-s)/(Xt*7);return 1+Math.floor(r)}function ui(t){return t.getFullYear()*1e4+t.getMonth()*100+t.getDate()}function Ke(t,e){const s=new Date(t);return e===!0?ui(s):s.getTime()}function fi(t,e,s,i={}){const r=Ke(e,i.onlyDate),a=Ke(s,i.onlyDate),o=Ke(t,i.onlyDate);return(o>r||i.inclusiveFrom===!0&&o===r)&&(o<a||i.inclusiveTo===!0&&o===a)}function di(t,e){return nt(t,e,1)}function hi(t,e){return nt(t,e,-1)}function ne(t,e,s){const i=new Date(t),r=`set${s===!0?"UTC":""}`;switch(e){case"year":case"years":i[`${r}Month`](0);case"month":case"months":i[`${r}Date`](1);case"day":case"days":case"date":i[`${r}Hours`](0);case"hour":case"hours":i[`${r}Minutes`](0);case"minute":case"minutes":i[`${r}Seconds`](0);case"second":case"seconds":i[`${r}Milliseconds`](0)}return i}function pi(t,e,s){const i=new Date(t),r=`set${s===!0?"UTC":""}`;switch(e){case"year":case"years":i[`${r}Month`](11);case"month":case"months":i[`${r}Date`](ot(i));case"day":case"days":case"date":i[`${r}Hours`](23);case"hour":case"hours":i[`${r}Minutes`](59);case"minute":case"minutes":i[`${r}Seconds`](59);case"second":case"seconds":i[`${r}Milliseconds`](999)}return i}function mi(t){let e=new Date(t);return Array.prototype.slice.call(arguments,1).forEach(s=>{e=Math.max(e,new Date(s))}),e}function gi(t){let e=new Date(t);return Array.prototype.slice.call(arguments,1).forEach(s=>{e=Math.min(e,new Date(s))}),e}function Ee(t,e,s){return(t.getTime()-t.getTimezoneOffset()*Je-(e.getTime()-e.getTimezoneOffset()*Je))/s}function Qt(t,e,s="days"){const i=new Date(t),r=new Date(e);switch(s){case"years":case"year":return i.getFullYear()-r.getFullYear();case"months":case"month":return(i.getFullYear()-r.getFullYear())*12+i.getMonth()-r.getMonth();case"days":case"day":case"date":return Ee(ne(i,"day"),ne(r,"day"),Xt);case"hours":case"hour":return Ee(ne(i,"hour"),ne(r,"hour"),Gs);case"minutes":case"minute":return Ee(ne(i,"minute"),ne(r,"minute"),Je);case"seconds":case"second":return Ee(ne(i,"second"),ne(r,"second"),1e3)}}function Ze(t){return Qt(t,ne(t,"year"),"days")+1}function xi(t){return Lt(t)===!0?"date":typeof t=="number"?"number":"string"}function yi(t,e,s){const i=new Date(t);if(e){const r=new Date(e);if(i<r)return r}if(s){const r=new Date(s);if(i>r)return r}return i}function bi(t,e,s){const i=new Date(t),r=new Date(e);if(s===void 0)return i.getTime()===r.getTime();switch(s){case"second":case"seconds":if(i.getSeconds()!==r.getSeconds())return!1;case"minute":case"minutes":if(i.getMinutes()!==r.getMinutes())return!1;case"hour":case"hours":if(i.getHours()!==r.getHours())return!1;case"day":case"days":case"date":if(i.getDate()!==r.getDate())return!1;case"month":case"months":if(i.getMonth()!==r.getMonth())return!1;case"year":case"years":if(i.getFullYear()!==r.getFullYear())return!1;break;default:throw new Error(`date isSameDate unknown unit ${s}`)}return!0}function ot(t){return new Date(t.getFullYear(),t.getMonth()+1,0).getDate()}function At(t){if(t>=11&&t<=13)return`${t}th`;switch(t%10){case 1:return`${t}st`;case 2:return`${t}nd`;case 3:return`${t}rd`}return`${t}th`}const kt={YY(t,e,s){const i=this.YYYY(t,e,s)%100;return i>=0?Y(i):"-"+Y(Math.abs(i))},YYYY(t,e,s){return s!=null?s:t.getFullYear()},M(t){return t.getMonth()+1},MM(t){return Y(t.getMonth()+1)},MMM(t,e){return e.monthsShort[t.getMonth()]},MMMM(t,e){return e.months[t.getMonth()]},Q(t){return Math.ceil((t.getMonth()+1)/3)},Qo(t){return At(this.Q(t))},D(t){return t.getDate()},Do(t){return At(t.getDate())},DD(t){return Y(t.getDate())},DDD(t){return Ze(t)},DDDD(t){return Y(Ze(t),3)},d(t){return t.getDay()},dd(t,e){return this.dddd(t,e).slice(0,2)},ddd(t,e){return e.daysShort[t.getDay()]},dddd(t,e){return e.days[t.getDay()]},E(t){return t.getDay()||7},w(t){return Ve(t)},ww(t){return Y(Ve(t))},H(t){return t.getHours()},HH(t){return Y(t.getHours())},h(t){const e=t.getHours();return e===0?12:e>12?e%12:e},hh(t){return Y(this.h(t))},m(t){return t.getMinutes()},mm(t){return Y(t.getMinutes())},s(t){return t.getSeconds()},ss(t){return Y(t.getSeconds())},S(t){return Math.floor(t.getMilliseconds()/100)},SS(t){return Y(Math.floor(t.getMilliseconds()/10))},SSS(t){return Y(t.getMilliseconds(),3)},A(t){return this.H(t)<12?"AM":"PM"},a(t){return this.H(t)<12?"am":"pm"},aa(t){return this.H(t)<12?"a.m.":"p.m."},Z(t,e,s,i){const r=i==null?t.getTimezoneOffset():i;return wt(r,":")},ZZ(t,e,s,i){const r=i==null?t.getTimezoneOffset():i;return wt(r)},X(t){return Math.floor(t.getTime()/1e3)},x(t){return t.getTime()}};function vi(t,e,s,i,r){if(t!==0&&!t||t===1/0||t===-1/0)return;const a=new Date(t);if(isNaN(a))return;e===void 0&&(e=Yt);const o=Kt(s,Nt.props);return e.replace(ei,(n,c)=>n in kt?kt[n](a,o,i,r):c===void 0?n:c.split("\\]").join("]"))}function wi(t){return Lt(t)===!0?new Date(t.getTime()):t}var V={isValid:oi,extractDate:ai,buildDate:ci,getDayOfWeek:li,getWeekOfYear:Ve,isBetweenDates:fi,addToDate:di,subtractFromDate:hi,adjustDate:Ht,startOfDate:ne,endOfDate:pi,getMaxDate:mi,getMinDate:gi,getDateDiff:Qt,getDayOfYear:Ze,inferDateFormat:xi,getDateBetween:yi,isSameDate:bi,daysInMonth:ot,formatDate:vi,clone:wi};function Ai(t){const e=Object.assign({noopener:!0},t),s=[];for(const i in e)e[i]===!0&&s.push(i);return s.join(",")}function St(t,e,s){let i=window.open;if(ze.is.cordova===!0){if(cordova!==void 0&&cordova.InAppBrowser!==void 0&&cordova.InAppBrowser.open!==void 0)i=cordova.InAppBrowser.open;else if(navigator!==void 0&&navigator.app!==void 0)return navigator.app.loadUrl(t,{openExternal:!0})}const r=i(t,"_blank",Ai(s));if(r)return ze.is.desktop&&r.focus(),r;e&&e()}var ki=(t,e,s)=>{if(ze.is.ios===!0&&window.SafariViewController!==void 0){window.SafariViewController.isAvailable(i=>{i?window.SafariViewController.show({url:t},Xs,e):St(t,e,s)});return}return St(t,e,s)},zt={exports:{}};(function(t){/**
 * @license bcrypt.js (c) 2013 Daniel Wirtz <dcode@dcode.io>
 * Released under the Apache License, Version 2.0
 * see: https://github.com/dcodeIO/bcrypt.js for details
 */(function(e,s){typeof Hs=="function"&&!0&&t&&t.exports?t.exports=s():(e.dcodeIO=e.dcodeIO||{}).bcrypt=s()})(_t,function(){var e={},s=null;function i(h){if(t&&t.exports)try{return require("crypto").randomBytes(h)}catch{}try{var d;return(self.crypto||self.msCrypto).getRandomValues(d=new Uint32Array(h)),Array.prototype.slice.call(d)}catch{}if(!s)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return s(h)}var r=!1;try{i(1),r=!0}catch{}s=null,e.setRandomFallback=function(h){s=h},e.genSaltSync=function(h,d){if(h=h||$,typeof h!="number")throw Error("Illegal arguments: "+typeof h+", "+typeof d);h<4?h=4:h>31&&(h=31);var f=[];return f.push("$2a$"),h<10&&f.push("0"),f.push(h.toString()),f.push("$"),f.push(v(i(I),I)),f.join("")},e.genSalt=function(h,d,f){if(typeof d=="function"&&(f=d,d=void 0),typeof h=="function"&&(f=h,h=void 0),typeof h=="undefined")h=$;else if(typeof h!="number")throw Error("illegal arguments: "+typeof h);function u(p){o(function(){try{p(null,e.genSaltSync(h))}catch(g){p(g)}})}if(f){if(typeof f!="function")throw Error("Illegal callback: "+typeof f);u(f)}else return new Promise(function(p,g){u(function(b,F){if(b){g(b);return}p(F)})})},e.hashSync=function(h,d){if(typeof d=="undefined"&&(d=$),typeof d=="number"&&(d=e.genSaltSync(d)),typeof h!="string"||typeof d!="string")throw Error("Illegal arguments: "+typeof h+", "+typeof d);return me(h,d)},e.hash=function(h,d,f,u){function p(g){typeof h=="string"&&typeof d=="number"?e.genSalt(d,function(b,F){me(h,F,g,u)}):typeof h=="string"&&typeof d=="string"?me(h,d,g,u):o(g.bind(this,Error("Illegal arguments: "+typeof h+", "+typeof d)))}if(f){if(typeof f!="function")throw Error("Illegal callback: "+typeof f);p(f)}else return new Promise(function(g,b){p(function(F,O){if(F){b(F);return}g(O)})})};function a(h,d){for(var f=0,u=0,p=0,g=h.length;p<g;++p)h.charCodeAt(p)===d.charCodeAt(p)?++f:++u;return f<0?!1:u===0}e.compareSync=function(h,d){if(typeof h!="string"||typeof d!="string")throw Error("Illegal arguments: "+typeof h+", "+typeof d);return d.length!==60?!1:a(e.hashSync(h,d.substr(0,d.length-31)),d)},e.compare=function(h,d,f,u){function p(g){if(typeof h!="string"||typeof d!="string"){o(g.bind(this,Error("Illegal arguments: "+typeof h+", "+typeof d)));return}if(d.length!==60){o(g.bind(this,null,!1));return}e.hash(h,d.substr(0,29),function(b,F){b?g(b):g(null,a(F,d))},u)}if(f){if(typeof f!="function")throw Error("Illegal callback: "+typeof f);p(f)}else return new Promise(function(g,b){p(function(F,O){if(F){b(F);return}g(O)})})},e.getRounds=function(h){if(typeof h!="string")throw Error("Illegal arguments: "+typeof h);return parseInt(h.split("$")[2],10)},e.getSalt=function(h){if(typeof h!="string")throw Error("Illegal arguments: "+typeof h);if(h.length!==60)throw Error("Illegal hash length: "+h.length+" != 60");return h.substring(0,29)};var o=typeof process!="undefined"&&process&&typeof process.nextTick=="function"?typeof setImmediate=="function"?setImmediate:process.nextTick:setTimeout;function n(h){var d=[],f=0;return w.encodeUTF16toUTF8(function(){return f>=h.length?null:h.charCodeAt(f++)},function(u){d.push(u)}),d}var c="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),l=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1],m=String.fromCharCode;function v(h,d){var f=0,u=[],p,g;if(d<=0||d>h.length)throw Error("Illegal len: "+d);for(;f<d;){if(p=h[f++]&255,u.push(c[p>>2&63]),p=(p&3)<<4,f>=d){u.push(c[p&63]);break}if(g=h[f++]&255,p|=g>>4&15,u.push(c[p&63]),p=(g&15)<<2,f>=d){u.push(c[p&63]);break}g=h[f++]&255,p|=g>>6&3,u.push(c[p&63]),u.push(c[g&63])}return u.join("")}function k(h,d){var f=0,u=h.length,p=0,g=[],b,F,O,E,M,L;if(d<=0)throw Error("Illegal len: "+d);for(;f<u-1&&p<d&&(L=h.charCodeAt(f++),b=L<l.length?l[L]:-1,L=h.charCodeAt(f++),F=L<l.length?l[L]:-1,!(b==-1||F==-1||(M=b<<2>>>0,M|=(F&48)>>4,g.push(m(M)),++p>=d||f>=u)||(L=h.charCodeAt(f++),O=L<l.length?l[L]:-1,O==-1)||(M=(F&15)<<4>>>0,M|=(O&60)>>2,g.push(m(M)),++p>=d||f>=u)));)L=h.charCodeAt(f++),E=L<l.length?l[L]:-1,M=(O&3)<<6>>>0,M|=E,g.push(m(M)),++p;var Q=[];for(f=0;f<p;f++)Q.push(g[f].charCodeAt(0));return Q}var w=function(){var h={};return h.MAX_CODEPOINT=1114111,h.encodeUTF8=function(d,f){var u=null;for(typeof d=="number"&&(u=d,d=function(){return null});u!==null||(u=d())!==null;)u<128?f(u&127):u<2048?(f(u>>6&31|192),f(u&63|128)):u<65536?(f(u>>12&15|224),f(u>>6&63|128),f(u&63|128)):(f(u>>18&7|240),f(u>>12&63|128),f(u>>6&63|128),f(u&63|128)),u=null},h.decodeUTF8=function(d,f){for(var u,p,g,b,F=function(O){O=O.slice(0,O.indexOf(null));var E=Error(O.toString());throw E.name="TruncatedError",E.bytes=O,E};(u=d())!==null;)if((u&128)===0)f(u);else if((u&224)===192)(p=d())===null&&F([u,p]),f((u&31)<<6|p&63);else if((u&240)===224)((p=d())===null||(g=d())===null)&&F([u,p,g]),f((u&15)<<12|(p&63)<<6|g&63);else if((u&248)===240)((p=d())===null||(g=d())===null||(b=d())===null)&&F([u,p,g,b]),f((u&7)<<18|(p&63)<<12|(g&63)<<6|b&63);else throw RangeError("Illegal starting byte: "+u)},h.UTF16toUTF8=function(d,f){for(var u,p=null;(u=p!==null?p:d())!==null;){if(u>=55296&&u<=57343&&(p=d())!==null&&p>=56320&&p<=57343){f((u-55296)*1024+p-56320+65536),p=null;continue}f(u)}p!==null&&f(p)},h.UTF8toUTF16=function(d,f){var u=null;for(typeof d=="number"&&(u=d,d=function(){return null});u!==null||(u=d())!==null;)u<=65535?f(u):(u-=65536,f((u>>10)+55296),f(u%1024+56320)),u=null},h.encodeUTF16toUTF8=function(d,f){h.UTF16toUTF8(d,function(u){h.encodeUTF8(u,f)})},h.decodeUTF8toUTF16=function(d,f){h.decodeUTF8(d,function(u){h.UTF8toUTF16(u,f)})},h.calculateCodePoint=function(d){return d<128?1:d<2048?2:d<65536?3:4},h.calculateUTF8=function(d){for(var f,u=0;(f=d())!==null;)u+=h.calculateCodePoint(f);return u},h.calculateUTF16asUTF8=function(d){var f=0,u=0;return h.UTF16toUTF8(d,function(p){++f,u+=h.calculateCodePoint(p)}),[f,u]},h}();Date.now=Date.now||function(){return+new Date};var I=16,$=10,P=16,U=100,ke=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],he=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],Se=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function S(h,d,f,u){var p,g=h[d],b=h[d+1];return g^=f[0],p=u[g>>>24],p+=u[256|g>>16&255],p^=u[512|g>>8&255],p+=u[768|g&255],b^=p^f[1],p=u[b>>>24],p+=u[256|b>>16&255],p^=u[512|b>>8&255],p+=u[768|b&255],g^=p^f[2],p=u[g>>>24],p+=u[256|g>>16&255],p^=u[512|g>>8&255],p+=u[768|g&255],b^=p^f[3],p=u[b>>>24],p+=u[256|b>>16&255],p^=u[512|b>>8&255],p+=u[768|b&255],g^=p^f[4],p=u[g>>>24],p+=u[256|g>>16&255],p^=u[512|g>>8&255],p+=u[768|g&255],b^=p^f[5],p=u[b>>>24],p+=u[256|b>>16&255],p^=u[512|b>>8&255],p+=u[768|b&255],g^=p^f[6],p=u[g>>>24],p+=u[256|g>>16&255],p^=u[512|g>>8&255],p+=u[768|g&255],b^=p^f[7],p=u[b>>>24],p+=u[256|b>>16&255],p^=u[512|b>>8&255],p+=u[768|b&255],g^=p^f[8],p=u[g>>>24],p+=u[256|g>>16&255],p^=u[512|g>>8&255],p+=u[768|g&255],b^=p^f[9],p=u[b>>>24],p+=u[256|b>>16&255],p^=u[512|b>>8&255],p+=u[768|b&255],g^=p^f[10],p=u[g>>>24],p+=u[256|g>>16&255],p^=u[512|g>>8&255],p+=u[768|g&255],b^=p^f[11],p=u[b>>>24],p+=u[256|b>>16&255],p^=u[512|b>>8&255],p+=u[768|b&255],g^=p^f[12],p=u[g>>>24],p+=u[256|g>>16&255],p^=u[512|g>>8&255],p+=u[768|g&255],b^=p^f[13],p=u[b>>>24],p+=u[256|b>>16&255],p^=u[512|b>>8&255],p+=u[768|b&255],g^=p^f[14],p=u[g>>>24],p+=u[256|g>>16&255],p^=u[512|g>>8&255],p+=u[768|g&255],b^=p^f[15],p=u[b>>>24],p+=u[256|b>>16&255],p^=u[512|b>>8&255],p+=u[768|b&255],g^=p^f[16],h[d]=b^f[P+1],h[d+1]=g,h}function A(h,d){for(var f=0,u=0;f<4;++f)u=u<<8|h[d]&255,d=(d+1)%h.length;return{key:u,offp:d}}function xe(h,d,f){for(var u=0,p=[0,0],g=d.length,b=f.length,F,O=0;O<g;O++)F=A(h,u),u=F.offp,d[O]=d[O]^F.key;for(O=0;O<g;O+=2)p=S(p,0,d,f),d[O]=p[0],d[O+1]=p[1];for(O=0;O<b;O+=2)p=S(p,0,d,f),f[O]=p[0],f[O+1]=p[1]}function Ce(h,d,f,u){for(var p=0,g=[0,0],b=f.length,F=u.length,O,E=0;E<b;E++)O=A(d,p),p=O.offp,f[E]=f[E]^O.key;for(p=0,E=0;E<b;E+=2)O=A(h,p),p=O.offp,g[0]^=O.key,O=A(h,p),p=O.offp,g[1]^=O.key,g=S(g,0,f,u),f[E]=g[0],f[E+1]=g[1];for(E=0;E<F;E+=2)O=A(h,p),p=O.offp,g[0]^=O.key,O=A(h,p),p=O.offp,g[1]^=O.key,g=S(g,0,f,u),u[E]=g[0],u[E+1]=g[1]}function ye(h,d,f,u,p){var g=Se.slice(),b=g.length,F;if(f<4||f>31)if(F=Error("Illegal number of rounds (4-31): "+f),u){o(u.bind(this,F));return}else throw F;if(d.length!==I)if(F=Error("Illegal salt length: "+d.length+" != "+I),u){o(u.bind(this,F));return}else throw F;f=1<<f>>>0;var O,E,M=0,L;Int32Array?(O=new Int32Array(ke),E=new Int32Array(he)):(O=ke.slice(),E=he.slice()),Ce(d,h,O,E);function Q(){if(p&&p(M/f),M<f)for(var ie=Date.now();M<f&&(M=M+1,xe(h,O,E),xe(d,O,E),!(Date.now()-ie>U)););else{for(M=0;M<64;M++)for(L=0;L<b>>1;L++)S(g,L<<1,O,E);var _=[];for(M=0;M<b;M++)_.push((g[M]>>24&255)>>>0),_.push((g[M]>>16&255)>>>0),_.push((g[M]>>8&255)>>>0),_.push((g[M]&255)>>>0);if(u){u(null,_);return}else return _}u&&o(Q)}if(typeof u!="undefined")Q();else for(var ae;;)if(typeof(ae=Q())!="undefined")return ae||[]}function me(h,d,f,u){var p;if(typeof h!="string"||typeof d!="string")if(p=Error("Invalid string / salt: Not a string"),f){o(f.bind(this,p));return}else throw p;var g,b;if(d.charAt(0)!=="$"||d.charAt(1)!=="2")if(p=Error("Invalid salt version: "+d.substring(0,2)),f){o(f.bind(this,p));return}else throw p;if(d.charAt(2)==="$")g=String.fromCharCode(0),b=3;else{if(g=d.charAt(2),g!=="a"&&g!=="b"&&g!=="y"||d.charAt(3)!=="$")if(p=Error("Invalid salt revision: "+d.substring(2,4)),f){o(f.bind(this,p));return}else throw p;b=4}if(d.charAt(b+2)>"$")if(p=Error("Missing salt rounds"),f){o(f.bind(this,p));return}else throw p;var F=parseInt(d.substring(b,b+1),10)*10,O=parseInt(d.substring(b+1,b+2),10),E=F+O,M=d.substring(b+3,b+25);h+=g>="a"?"\0":"";var L=n(h),Q=k(M,I);function ae(ie){var _=[];return _.push("$2"),g>="a"&&_.push(g),_.push("$"),E<10&&_.push("0"),_.push(E.toString()),_.push("$"),_.push(v(Q,Q.length)),_.push(v(ie,Se.length*4-1)),_.join("")}if(typeof f=="undefined")return ae(ye(L,Q,E));ye(L,Q,E,function(ie,_){ie?f(ie,null):f(null,ae(_))},u)}return e.encodeBase64=v,e.decodeBase64=k,e})})(zt);var Ct=zt.exports,Jt={get dev(){return!1},realm:"elitehcms",appDBID:"bp3gargfh",baseURL:"https://api.quickbase.com/v1",loginEndpoint:"https://elitehcms.quickbase.com/db/main?act=API_Authenticate",appToken:"cjibuvub93rvd2dbh4iksbeft4n4",refreshEndpoint:"https://api.quickbase.com/v1/auth/temporary",queryRecords:"https://api.quickbase.com/v1/records/query",insertRecords:"https://api.quickbase.com/v1/records",updateRecords:"https://api.quickbase.com/v1/records",runReport:"https://api.quickbase.com/v1/reports",storageUserKeyName:"clm_emp_user",storageUserTicketKeyName:"clm_emp_ticket",storageIPInfoKeyName:"clm_emp_ip",storagePermissionsKeyName:"clm_emp_permissions",storageAccessKeyName:"clm_emp_access",storageOfficeLocationKeyName:"clm_emp_office",storageEmployeeKeyName:"clm_emp_employee",storageCheckInKeyName:"clm_emp_checkin",storageJobBoardKeyName:"clm_emp_jobboard",cookieExpiration:"1d",kioskExpiration:"14d",officeExpiration:"6h",checkInExpiration:"5m",tokenExpiration:"4m 45s",userToken:"b3rntv_ng3q_0_b3f26wpbjxp4xdhqrxjmdpjmvus",commonParameters:{msInUTC:0,includeRids:1,fmt:"structured",options:"num-5000"},maxLoginAttempts:5,lastAttemptExpMinutes:5,loginAttemptMinutesBeforeLast:2,booleanFields:{br26nivmr:[21]}};const ee=te("hiringCenter",{state:()=>({hiringCenterInfo:null}),getters:{hiringCenter:t=>t.hiringCenterInfo,hiringCenterAvailable:t=>t.hiringCenterInfo!==null},actions:{async fetchHiringCenter(t,e){const s=[{9:{value:t},7:{value:"Hiring Center"}}];if(!this.hiringCenterInfo||e){const{data:i}=await C.fetchFromStructureApp({fields:s});return this.setHiringCenter(i,!0),i}else return this.hiringCenterInfo},setHiringCenter(t,e){this.hiringCenterInfo=t,e&&t?y.setItem(D.storageHiringCenter,t):t||y.removeItem(D.storageHiringCenter)}}});var Si=[{title:"Home",i18n:"home",caption:"Home",icon:"home",to:{name:"home",exact:!0},resource:"dashboard",action:"read",userType:"All"},{title:"Profile",caption:"Information",icon:"assignment_ind",to:{name:"profile",exact:!0},resource:"profile",action:"read",access:{userType:"none",public:!1,private:!1}},{title:"Job Board",caption:"Job Board",icon:"work",to:{name:"jobs",exact:!0},resource:"jobBoardMenu",action:"read",userType:"Candidate",access:{userType:"Candidate",public:!0,private:!1,checkIn:!1}},{title:"Apply",caption:"Apply",icon:"feed",to:{name:"apply",exact:!0},resource:"applyMenu",action:"read",userType:"Candidate",access:{userType:"Candidate",public:!0,private:!0,checkIn:!0}}],Ci=[{title:"Expected Arrivals",caption:"Arrivals",icon:"fa-solid fa-plane-arrival",to:{name:"arrivals",exact:!0},resource:"projectArrivals",userType:"Project User"},{title:"Hire Requests",caption:"Requests",icon:"fa-solid fa-user-plus",to:{name:"requests",exact:!0},resource:"projectRequests",userType:"Project User"},{title:"Pipeline",caption:"Pipeline",icon:"fa-solid fa-bars-progress",to:{name:"pipeline",exact:!0},resource:"projectPipeline",userType:"Project User"},{title:"Employees",caption:"Employees",icon:"fa-solid fa-people-group",to:{name:"employees",exact:!0},resource:"projectEmployees",userType:"Project User"},{title:"Compliance",caption:"Compliance",icon:"fa-solid fa-shield-halved",to:{name:"compliance",exact:!0},resource:"compliance",userType:"Project User"},{title:"Manage Projects",caption:"Manage Projects",icon:"fa-solid fa-building-columns",to:{name:"projects",exact:!0},resource:"manageProjects",userType:"Project User"},{title:"Insights",caption:"Insights",icon:"fa-solid fa-chart-line",to:{name:"insights",exact:!0},resource:"insights",userType:"Project User"}],Oi=[{title:"Self Check-Ins",caption:"self-check-ins",icon:"list_alt",to:{name:"self-check-ins",exact:!0},resource:"selfCheckIns",userType:"QuickBase User"},{title:"Hiring",caption:"Hiring",icon:"group_add",to:{name:"hiring",exact:!0},resource:"hiring",userType:"QuickBase User"}];function Ii(t,e){for(var s=0;s<e.length;s++){var i=e[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function ve(){return(ve=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i])}return t}).apply(this,arguments)}function ct(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Vt=function(){function t(i,r){this.operator=i,this.value=r,Object.defineProperty(this,"t",{writable:!0})}var e,s;return t.prototype.addNote=function(i){this.t=this.t||[],this.t.push(i)},e=t,(s=[{key:"notes",get:function(){return this.t}}])&&Ii(e.prototype,s),t}(),lt=function(t){function e(){return t.apply(this,arguments)||this}return ct(e,t),e}(Vt),_e=function(t){function e(s,i){if(!Array.isArray(i))throw new Error('"'+s+'" operator expects to receive an array of conditions');return t.call(this,s,i)||this}return ct(e,t),e}(lt),Ae="__itself__",Ue=function(t){function e(s,i,r){var a;return(a=t.call(this,s,r)||this).field=i,a}return ct(e,t),e}(Vt),Zt=new lt("__null__",null),Ge=Object.prototype.hasOwnProperty.call.bind(Object.prototype.hasOwnProperty);function Di(t,e){return e instanceof _e&&e.operator===t}function Gt(t,e){return e.length===1?e[0]:new _e(t,function s(i,r,a){for(var o=a||[],n=0,c=r.length;n<c;n++){var l=r[n];Di(i,l)?s(i,l.value,o):o.push(l)}return o}(t,e))}var Ti=function(t){return t},es=function(){return Object.create(null)},ts=Object.defineProperty(es(),"__@type@__",{value:"ignore value"});function Ri(t,e,s){if(s===void 0&&(s=!1),!t||t&&t.constructor!==Object)return!1;for(var i in t)if(Ge(t,i)&&Ge(e,i)&&(!s||t[i]!==ts))return!0;return!1}function Fi(t){var e=[];for(var s in t)Ge(t,s)&&t[s]!==ts&&e.push(s);return e}function We(t,e){e!==Zt&&t.push(e)}var ss=function(t){return Gt("and",t)},is={compound:function(t,e,s){var i=(Array.isArray(e)?e:[e]).map(function(r){return s.parse(r)});return new _e(t.name,i)},field:function(t,e,s){return new Ue(t.name,s.field,e)},document:function(t,e){return new lt(t.name,e)}},rs=function(){function t(s,i){var r=this;i===void 0&&(i=es()),this.i=void 0,this.o=void 0,this.u=void 0,this.s=void 0,this.h=void 0,this.parse=this.parse.bind(this),this.s={operatorToConditionName:i.operatorToConditionName||Ti,defaultOperatorName:i.defaultOperatorName||"eq",mergeFinalConditions:i.mergeFinalConditions||ss},this.i=Object.keys(s).reduce(function(a,o){return a[o]=ve({name:r.s.operatorToConditionName(o)},s[o]),a},{}),this.o=ve({},i.fieldContext,{field:"",query:{},parse:this.parse,hasOperators:function(a){return Ri(a,r.i,i.useIgnoreValue)}}),this.u=ve({},i.documentContext,{parse:this.parse,query:{}}),this.h=i.useIgnoreValue?Fi:Object.keys}var e=t.prototype;return e.setParse=function(s){this.parse=s,this.o.parse=s,this.u.parse=s},e.parseField=function(s,i,r,a){var o=this.i[i];if(!o)throw new Error('Unsupported operator "'+i+'"');if(o.type!=="field")throw new Error("Unexpected "+o.type+' operator "'+i+'" at field level');return this.o.field=s,this.o.query=a,this.parseInstruction(o,r,this.o)},e.parseInstruction=function(s,i,r){return typeof s.validate=="function"&&s.validate(s,i),(s.parse||is[s.type])(s,i,r)},e.parseFieldOperators=function(s,i){for(var r=[],a=this.h(i),o=0,n=a.length;o<n;o++){var c=a[o];if(!this.i[c])throw new Error('Field query for "'+s+'" may contain only operators or a plain object as a value');We(r,this.parseField(s,c,i[c],i))}return r},e.parse=function(s){var i=[],r=this.h(s);this.u.query=s;for(var a=0,o=r.length;a<o;a++){var n=r[a],c=s[n],l=this.i[n];if(l){if(l.type!=="document"&&l.type!=="compound")throw new Error('Cannot use parsing instruction for operator "'+n+'" in "document" context as it is supposed to be used in  "'+l.type+'" context');We(i,this.parseInstruction(l,c,this.u))}else this.o.hasOperators(c)?i.push.apply(i,this.parseFieldOperators(n,c)):We(i,this.parseField(n,this.s.defaultOperatorName,c,s))}return this.s.mergeFinalConditions(i)},t}();function He(t,e){var s=t[e];if(typeof s!="function")throw new Error('Unable to interpret "'+e+'" condition. Did you forget to register interpreter for it?');return s}function Ei(t){return t.operator}function $i(t,e){var s,i=e,r=i&&i.getInterpreterName||Ei;switch(i?i.numberOfArguments:0){case 1:s=function(o){var n=r(o,i);return He(t,n)(o,a)};break;case 3:s=function(o,n,c){var l=r(o,i);return He(t,l)(o,n,c,a)};break;default:s=function(o,n){var c=r(o,i);return He(t,c)(o,n,a)}}var a=ve({},i,{interpret:s});return a.interpret}function Pi(t,e){return function(s){for(var i=arguments.length,r=new Array(i>1?i-1:0),a=1;a<i;a++)r[a-1]=arguments[a];var o=t.apply(void 0,[s].concat(r)),n=e.bind(null,o);return n.ast=o,n}}rs.prototype.parseInstruction;function as(t,e){if(!Array.isArray(e))throw new Error('"'+t.name+'" expects value to be an array')}function ns(t,e){if(as(t,e),!e.length)throw new Error('"'+t.name+'" expects to have at least one element in array')}var ut=function(t){return function(e,s){if(typeof s!==t)throw new Error('"'+e.name+'" expects value to be a "'+t+'"')}},os={type:"compound",validate:ns,parse:function(t,e,s){var i=s.parse,r=e.map(function(a){return i(a)});return Gt(t.name,r)}},ji=os,Mi={type:"compound",validate:ns},qi={type:"field",validate:function(t,e){if(!(e&&(e instanceof RegExp||e.constructor===Object)))throw new Error('"'+t.name+'" expects to receive either regular expression or object of field operators')},parse:function(t,e,s){var i=e instanceof RegExp?new Ue("regex",s.field,e):s.parse(e,s);return new _e(t.name,[i])}},cs={type:"field",validate:function(t,e){if(!e||e.constructor!==Object)throw new Error('"'+t.name+'" expects to receive an object with nested query or field level operators')},parse:function(t,e,s){var i=s.parse,r=s.field,a=(0,s.hasOperators)(e)?i(e,{field:Ae}):i(e);return new Ue(t.name,r,a)}},ls={type:"field",validate:ut("number")},Be={type:"field",validate:as},us=Be,fs=Be,Ni={type:"field",validate:function(t,e){if(!Array.isArray(e)||e.length!==2)throw new Error('"'+t.name+'" expects an array with 2 numeric elements')}},ds={type:"field",validate:ut("boolean")},ft={type:"field",validate:function(t,e){if(!(typeof e=="string"||typeof e=="number"||e instanceof Date))throw new Error('"'+t.name+'" expects value to be comparable (i.e., string, number or date)')}},Xe=ft,hs=Xe,ps=Xe,dt={type:"field"},ms=dt,gs={type:"field",validate:function(t,e){if(!(e instanceof RegExp)&&typeof e!="string")throw new Error('"'+t.name+'" expects value to be a regular expression or a string that represents regular expression')},parse:function(t,e,s){var i=typeof e=="string"?new RegExp(e,s.query.$options||""):e;return new Ue(t.name,s.field,i)}},xs={type:"field",parse:function(){return Zt}},Li={type:"document",validate:ut("function")},_i=Object.freeze({__proto__:null,$and:os,$or:ji,$nor:Mi,$not:qi,$elemMatch:cs,$size:ls,$in:Be,$nin:us,$all:fs,$mod:Ni,$exists:ds,$gte:ft,$gt:Xe,$lt:hs,$lte:ps,$eq:dt,$ne:ms,$regex:gs,$options:xs,$where:Li}),Ui=function(t){var e,s;function i(r){return t.call(this,r,{defaultOperatorName:"$eq",operatorToConditionName:function(a){return a.slice(1)}})||this}return s=t,(e=i).prototype=Object.create(s.prototype),e.prototype.constructor=e,e.__proto__=s,i.prototype.parse=function(r,a){return a&&a.field?ss(this.parseFieldOperators(a.field,r)):t.prototype.parse.call(this,r)},i}(rs),et=_i;function ht(t,e,s){for(var i=0,r=t.length;i<r;i++)if(s(t[i],e)===0)return!0;return!1}function pt(t,e){return Array.isArray(t)&&Number.isNaN(Number(e))}function Ot(t,e,s){if(!pt(t,e))return s(t,e);for(var i=[],r=0;r<t.length;r++){var a=s(t[r],e);a!==void 0&&(i=i.concat(a))}return i}function pe(t){return function(e,s,i){var r=i.get(s,e.field);return Array.isArray(r)?r.some(function(a){return t(e,a,i)}):t(e,r,i)}}function mt(){return(mt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i])}return t}).apply(this,arguments)}var Bi=function(t,e){return t[e]};function ys(t,e,s){var i=e.lastIndexOf(".");return i===-1?[t,e]:[s(t,e.slice(0,i)),e.slice(i+1)]}function Xi(t,e,s){if(s===void 0&&(s=Bi),e===Ae)return t;if(!t)throw new Error('Unable to get field "'+e+'" out of '+String(t)+".");return function(i,r,a){if(r.indexOf(".")===-1)return Ot(i,r,a);for(var o=r.split("."),n=i,c=0,l=o.length;c<l;c++)if(!(n=Ot(n,o[c],a))||typeof n!="object")return n;return n}(t,e,s)}function bs(t,e){return t===e?0:t>e?1:-1}function vs(t,e){return e===void 0&&(e={}),$i(t,mt({get:Xi,compare:bs},e))}var ws=function(t,e,s){var i=s.interpret;return t.value.some(function(r){return i(r,e)})},Yi=function(t,e,s){return!ws(t,e,s)},As=function(t,e,s){var i=s.interpret;return t.value.every(function(r){return i(r,e)})},Ki=function(t,e,s){return!(0,s.interpret)(t.value[0],e)},gt=function(t,e,s){var i=s.compare,r=(0,s.get)(e,t.field);return Array.isArray(r)&&!Array.isArray(t.value)?ht(r,t.value,i):i(r,t.value)===0},ks=function(t,e,s){return!gt(t,e,s)},Ss=pe(function(t,e,s){var i=s.compare(e,t.value);return i===0||i===-1}),Cs=pe(function(t,e,s){return s.compare(e,t.value)===-1}),Os=pe(function(t,e,s){return s.compare(e,t.value)===1}),Is=pe(function(t,e,s){var i=s.compare(e,t.value);return i===0||i===1}),Ds=function(t,e,s){var i=s.get;if(t.field===Ae)return e!==void 0;var r=ys(e,t.field,i),a=r[0],o=r[1],n=function(c){return!!c&&c.hasOwnProperty(o)===t.value};return pt(a,o)?a.some(n):n(a)},Wi=pe(function(t,e){return typeof e=="number"&&e%t.value[0]===t.value[1]}),Ts=function(t,e,s){var i=s.get,r=ys(e,t.field,i),a=r[0],o=r[1],n=function(c){var l=i(c,o);return Array.isArray(l)&&l.length===t.value};return t.field!==Ae&&pt(a,o)?a.some(n):n(a)},Rs=pe(function(t,e){return typeof e=="string"&&t.value.test(e)}),qe=pe(function(t,e,s){var i=s.compare;return ht(t.value,e,i)}),Fs=function(t,e,s){return!qe(t,e,s)},Es=function(t,e,s){var i=s.compare,r=(0,s.get)(e,t.field);return Array.isArray(r)&&t.value.every(function(a){return ht(r,a,i)})},$s=function(t,e,s){var i=s.interpret,r=(0,s.get)(e,t.field);return Array.isArray(r)&&r.some(function(a){return i(t.value,a)})},Hi=function(t,e){return t.value.call(e)},xt=mt({},Object.freeze({__proto__:null,or:ws,nor:Yi,and:As,not:Ki,eq:gt,ne:ks,lte:Ss,lt:Cs,gt:Os,gte:Is,exists:Ds,mod:Wi,size:Ts,regex:Rs,within:qe,nin:Fs,all:Es,elemMatch:$s,where:Hi}),{in:qe});vs(xt);function we(){return(we=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i])}return t}).apply(this,arguments)}function It(t){return t instanceof Date?t.getTime():t&&typeof t.toJSON=="function"?t.toJSON():t}var Qi=function(t,e){return bs(It(t),It(e))};function yt(t,e,s){var i=new Ui(t),r=vs(e,we({compare:Qi},s));if(s&&s.forPrimitives){var a={field:Ae},o=i.parse;i.setParse(function(n){return o(n,a)})}return Pi(i.parse,r)}yt(et,xt);yt(["$and","$or"].reduce(function(t,e){return t[e]=we({},t[e],{type:"field"}),t},we({},et,{$nor:we({},et.$nor,{type:"field",parse:is.compound})})),xt,{forPrimitives:!0});function Dt(t,e){for(var s=0;s<e.length;s++){var i=e[s];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Ps(t,e,s){return e&&Dt(t.prototype,e),s&&Dt(t,s),t}function tt(){return tt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i])}return t},tt.apply(this,arguments)}function bt(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,st(t,e)}function st(t,e){return st=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},st(t,e)}function zi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function it(t){return Array.isArray(t)?t:[t]}var ge="__caslSubjectType__";function Hr(t,e){if(e){if(!e.hasOwnProperty(ge))Object.defineProperty(e,ge,{value:t});else if(t!==e[ge])throw new Error("Trying to cast object to subject type "+t+" but previously it was casted to "+e[ge])}return e}var rt=function(e){var s=typeof e;return s==="string"||s==="function"},js=function(e){return e.modelName||e.name},Ji=function(e){return typeof e=="string"?e:js(e)};function Vi(t){return t.hasOwnProperty(ge)?t[ge]:js(t.constructor)}function Tt(t,e,s){for(var i=s;i<e.length;i++)t.push(e[i])}function Rt(t,e){if(!t||!t.length)return e||[];if(!e||!e.length)return t||[];for(var s=0,i=0,r=[];s<t.length&&i<e.length;)t[s].priority<e[i].priority?(r.push(t[s]),s++):(r.push(e[i]),i++);return Tt(r,t,s),Tt(r,e,i),r}function $e(t,e,s){var i=t.get(e);return i||(i=s(),t.set(e,i)),i}var Zi=function(e){return e};function Gi(t,e){if(Array.isArray(t.fields)&&!t.fields.length)throw new Error("`rawRule.fields` cannot be an empty array. https://bit.ly/390miLa");if(t.fields&&!e.fieldMatcher)throw new Error('You need to pass "fieldMatcher" option in order to restrict access by fields');if(t.conditions&&!e.conditionsMatcher)throw new Error('You need to pass "conditionsMatcher" option in order to restrict access by conditions')}var er=function(){function t(s,i,r){r===void 0&&(r=0),Gi(s,i),this.action=i.resolveAction(s.action),this.subject=s.subject,this.inverted=!!s.inverted,this.conditions=s.conditions,this.reason=s.reason,this.fields=s.fields?it(s.fields):void 0,this.priority=r,this.t=i}var e=t.prototype;return e.i=function(){return this.conditions&&!this.u&&(this.u=this.t.conditionsMatcher(this.conditions)),this.u},e.matchesConditions=function(i){if(!this.conditions)return!0;if(!i||rt(i))return!this.inverted;var r=this.i();return r(i)},e.matchesField=function(i){return this.fields?i?(this.fields&&!this.o&&(this.o=this.t.fieldMatcher(this.fields)),this.o(i)):!this.inverted:!0},Ps(t,[{key:"ast",get:function(){var i=this.i();return i?i.ast:void 0}}]),t}();function tr(t,e){var s={value:t,prev:e,next:null};return e&&(e.next=s),s}function sr(t){t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next),t.next=t.prev=null}var ir=function(e){return{value:e.value,prev:e.prev,next:e.next}},Ft=function(){return{rules:[],merged:!1}},Et=function(){return new Map},rr=function(e,s){!e.h&&s.fields&&(e.h=!0)},ar=function(){function t(s,i){s===void 0&&(s=[]),i===void 0&&(i={}),this.h=!1,this.v=new Map,this.l={conditionsMatcher:i.conditionsMatcher,fieldMatcher:i.fieldMatcher,resolveAction:i.resolveAction||Zi},this.p=i.anyAction||"manage",this.g=i.anySubjectType||"all",this.A=i.detectSubjectType||Vi,this.$=s,this.j=this.m(s)}var e=t.prototype;return e.detectSubjectType=function(i){return rt(i)?i:i?this.A(i):this.g},e.update=function(i){var r={rules:i,ability:this,target:this};return this.M("update",r),this.$=i,this.j=this.m(i),this.M("updated",r),this},e.m=function(i){for(var r=new Map,a=i.length-1;a>=0;a--){var o=i.length-a-1,n=new er(i[a],this.l,o),c=it(n.action),l=it(n.subject||this.g);rr(this,n);for(var m=0;m<l.length;m++)for(var v=$e(r,l[m],Et),k=0;k<c.length;k++)$e(v,c[k],Ft).rules.push(n)}return r},e.possibleRulesFor=function(i,r){if(r===void 0&&(r=this.g),!rt(r))throw new Error('"possibleRulesFor" accepts only subject types (i.e., string or class) as the 2nd parameter');var a=$e(this.j,r,Et),o=$e(a,i,Ft);if(o.merged)return o.rules;var n=i!==this.p&&a.has(this.p)?a.get(this.p).rules:void 0,c=Rt(o.rules,n);return r!==this.g&&(c=Rt(c,this.possibleRulesFor(i,this.g))),o.rules=c,o.merged=!0,c},e.rulesFor=function(i,r,a){var o=this.possibleRulesFor(i,r);if(a&&typeof a!="string")throw new Error("The 3rd, `field` parameter is expected to be a string. See https://stalniy.github.io/casl/en/api/casl-ability#can-of-pure-ability for details");return this.h?o.filter(function(n){return n.matchesField(a)}):o},e.on=function(i,r){var a=this,o=this.v.get(i)||null,n=tr(r,o);return this.v.set(i,n),function(){var c=a.v.get(i);!n.next&&!n.prev&&c===n?a.v.delete(i):n===c&&a.v.set(i,n.prev),sr(n)}},e.M=function(i,r){for(var a=this.v.get(i)||null;a!==null;){var o=a.prev?ir(a.prev):null;a.value(r),a=o}},Ps(t,[{key:"rules",get:function(){return this.$}}]),t}(),nr=function(t){bt(e,t);function e(){return t.apply(this,arguments)||this}var s=e.prototype;return s.can=function(){var r=this.relevantRuleFor.apply(this,arguments);return!!r&&!r.inverted},s.relevantRuleFor=function(r,a,o){for(var n=this.detectSubjectType(a),c=this.rulesFor(r,n,o),l=0,m=c.length;l<m;l++)if(c[l].matchesConditions(a))return c[l];return null},s.cannot=function(){return!this.can.apply(this,arguments)},e}(ar),or={$eq:dt,$ne:ms,$lt:hs,$lte:ps,$gt:Xe,$gte:ft,$in:Be,$nin:us,$all:fs,$size:ls,$regex:gs,$options:xs,$elemMatch:cs,$exists:ds},cr={eq:gt,ne:ks,lt:Cs,lte:Ss,gt:Os,gte:Is,in:qe,nin:Fs,all:Es,size:Ts,regex:Rs,elemMatch:$s,exists:Ds,and:As},lr=yt(or,cr),ur=/[-/\\^$+?.()|[\]{}]/g,fr=/\.?\*+\.?/g,dr=/\*+/,hr=/\./g;function pr(t,e,s){var i=s[0]==="*"||t[0]==="."&&t[t.length-1]==="."?"+":"*",r=t.indexOf("**")===-1?"[^.]":".",a=t.replace(hr,"\\$&").replace(dr,r+i);return e+t.length===s.length?"(?:"+a+")?":a}function mr(t,e,s){return t==="."&&(s[e-1]==="*"||s[e+1]==="*")?t:"\\"+t}function gr(t){var e=t.map(function(i){return i.replace(ur,mr).replace(fr,pr)}),s=e.length>1?"(?:"+e.join("|")+")":e[0];return new RegExp("^"+s+"$")}var xr=function(e){var s;return function(i){return typeof s=="undefined"&&(s=e.every(function(r){return r.indexOf("*")===-1})?null:gr(e)),s===null?e.indexOf(i)!==-1:s.test(i)}},yr=function(t){bt(e,t);function e(s,i){return s===void 0&&(s=[]),i===void 0&&(i={}),t.call(this,s,tt({conditionsMatcher:lr,fieldMatcher:xr},i))||this}return e}(nr),br=function(e){return'Cannot execute "'+e.action+'" on "'+e.subjectType+'"'},Ms=function(e){this.message=e};Ms.prototype=Object.create(Error.prototype);var vr=function(t){bt(e,t),e.setDefaultMessage=function(r){this._=typeof r=="string"?function(){return r}:r},e.from=function(r){return new this(r)};function e(i){var r;return r=t.call(this,"")||this,r.ability=i,typeof Error.captureStackTrace=="function"&&(r.name="ForbiddenError",Error.captureStackTrace(zi(r),r.constructor)),r}var s=e.prototype;return s.setMessage=function(r){return this.message=r,this},s.throwUnlessCan=function(){var r,a=(r=this.ability).relevantRuleFor.apply(r,arguments);if(!(a&&!a.inverted)){this.action=arguments.length<=0?void 0:arguments[0],this.subject=arguments.length<=1?void 0:arguments[1],this.subjectType=Ji(this.ability.detectSubjectType(arguments.length<=1?void 0:arguments[1])),this.field=arguments.length<=2?void 0:arguments[2];var o=a?a.reason:"";throw this.message=this.message||o||this.constructor._(this),this}},e}(Ms);vr._=br;Object.freeze({__proto__:null});var at=[{action:"read",subject:"auth"},{action:"read",subject:"open"}];const wr=new yr(at);var Ne=wr;const oe=te("app",{state:()=>({title:D.toolbarTitle,lang:null,checkIn:D.pageType==="Candidate"||D.pageType==="Candidate Kiosk",checkInData:{},pageType:D.pageType,userType:D.userType,menu:D.userType==="Candidate"?Si:D.userType==="Project User"?Ci:D.userType==="QuickBase User"?Oi:[],startPage:D.startPage}),getters:{toolbarTitle:t=>t.title,currentPageType:t=>t.pageType,currentUserType:t=>t.userType,inHiringCenter:t=>t.checkInData[15]?t.checkInData[15]==="Waiting":!1,checkedIn:t=>t.checkInData[15]?t.checkInData[15]==="Waiting":!1,checkedInStatus:t=>t.checkInData[15]||null,onKiosk(){return this.currentPageType==="Candidate Kiosk"},currentLang:t=>t.lang,startPageEnabled:t=>t.startPage,activeMenu(){return this.menu.filter(e=>{let s=!0,i=!0;if(Ne.can(e.action||"read",e.resource)){let r=Ne.possibleRulesFor(e.action||"read",e.resource)[0].conditions;return r&&(r.userType&&(s=r.userType===this.currentUserType,s||(i=!1)),r.accept&&(s=r.accept.find(a=>a==="checkedIn"&&this.checkedIn?!0:!!(a==="kiosk"&&this.onKiosk)),s||(i=!1)),r.deny&&(s=r.deny.filter(a=>a==="checkedIn"&&this.checkedIn?!0:!!(a==="kiosk"&&this.onKiosk)).length===0,s||(i=!1))),i}else return!1})}},actions:{setCheckInData(t){const{setHiringCenter:e}=ee();this.checkInData=t,y.setItem(D.storageCheckInKeyName,t),this.currentPageType==="Candidate"&&e(t.office,!0)},openWindow(t,e){(e.fullScreen===null||e.fullScreen===void 0)&&(e.fullScreen=!0),e.name==="Full Profile"&&!e.height&&(e.height=775),e.width=e.width?e.width:screen.availWidth&&e.fullScreen?screen.availWidth:1450,e.height=e.height?e.height:screen.availHeight&&e.fullScreen?screen.availHeight:700;const s=window.top.outerHeight/2+window.top.screenY-e.height/2,i=window.top.outerWidth/2+window.top.screenX-e.width/2;`${e.width}`,`${e.height}`,e.fullScreen,ki(e.url,null,{width:e.width,height:e.height,top:s,left:i,popup:!0,fullscreen:e.fullScreen||!0,menubar:!1,toolbar:!1})},async addTaskToCheckin({task:t,reason:e,active:s}){const i={3:{value:this.checkInData[3]},10:{value:e},27:{value:t}};s&&Object.assign(i,{36:{value:!0}});const{data:r}=await C.upsertRecordsXML({to:"br26nivmr",data:[i],fieldsToReturn:[31],formatObject:31});if(r[0])return this.checkInData=r[0][31],this.checkInData;throw"Something went wrong"},setLang(t){this.lang=t}}}),J=te("user",{state:()=>({user:{},access:[],permissions:[],notifications:[],feathersNotification:null}),getters:{getUser:t=>t.user,userData:t=>t.user,fullName:t=>`${t.user[35]}${t.user[36]!==""?` ${t.user[36]} `:" "}${t.user[37]}`,userLoggedIn:t=>!!t.user[3],userAccess:t=>t.access,employeeLinkRequired:t=>t.user[84]===!0&&(t.user[85]===!0||t.user[82]===!1||t.user[82]===!0&&(t.user[80]===""||!t.user[80])),verifyRequired:t=>(t.user[32]==="Candidate"||t.user[32]==="Employee"||t.user[32]==="Project User")&&!t.user.verified,passwordRequired:t=>t.user[17]||t.user[7]==="",employeeLinked:t=>t.user[82],employeeProfileRID:t=>t.user[80],createEmployeeProfile:t=>t.user[85],userPermissions:t=>t.permissions,primaryOffice:t=>t.access.find(e=>e[15]===!0&&e[7]==="Office")||null,userOffices:t=>t.access.filter(e=>e[7]==="Office"),userProjects:t=>t.access.filter(e=>e[7]==="Project")},actions:{async fetchUser(t){const e=`{'10'.EX.'Active'}${t.rid?`AND{'3'.EX.'${t.rid}'}`:""}${t.email?`AND{'6'.EX.'${t.email}'}`:""}${t.phoneNumber?`AND{'8'.EX.'${t.phoneNumber}'}`:""}${t.userType?`AND{'32'.EX.'${t.userType}'}`:""}`,s=[{7:{value:"User"},8:{value:e},9:{value:t.rid?t.rid:1},14:{value:76}}],i=await C.fetchFromStructureApp({fields:s}),{user:r,access:a,permissions:o}=i.data;return this.setUser(r,!0),this.setAccess(a,!0),this.setPermissions(o,!0),i},async updateUserData({fields:t}){if(!t)throw"No Fields Provided";t[3]===void 0&&Object.assign(t,{3:{value:this.userData[3]}});const{data:e}=await C.upsertRecordsXML({to:"br4pxrbs6",fieldsToReturn:[3,76],data:[t],formatObject:76}),s=e[0][76],i=Object.assign({},s);return delete i.access,delete i.permissions,this.setUser(i,!0),s},setUser(t,e){this.user=t,e&&y.setItem(D.storageUserKeyName,t)},setPhoneNumberVerified(t){this.user[50]=t},setVerified(t){this.user.verified=t},setIdentityVerified(t){typeof t=="number"?this.user[80]=t:this.user[85]=t},setAccess(t,e){this.access=t,e&&y.setItem(D.storageAccessKeyName,t)},setPermissions(t,e){for(let i=0;i<t.length;i++)if(t[i].conditions){if(t[i].conditions.deny&&!Array.isArray(t[i].conditions.deny)){let r=t[i].conditions.deny.split(",");r.forEach(a=>{a=a.trim()}),t[i].conditions.deny=r;continue}if(t[i].conditions.accept&&!Array.isArray(t[i].conditions.accept)){let r=t[i].conditions.accept.split(",");r.forEach(a=>{a=a.trim()}),t[i].conditions.accept=r;continue}}const s=t.concat(at);Ne.update(s),this.permissions=s,e&&y.setItem(D.storagePermissionsKeyName,t)},setFeathersNotification(t){this.feathersNotification=t},async logout(){return await C.logout(),Ne.update(at)}}}),qs=te("boardAppStore",{state:()=>({boardApp:{},requestJobs:null,requestedTimestamp:null}),getters:{getBoardApp:t=>t.boardApp,profileData(){const{profileData:t}=de();return t},jobsForBoard(){if(this.requestJobs){const{employeeData:t}=K(),e=this.requestJobs;return t[3]||(e.forEach(s=>{Object.assign(s,{recommended:s[68]===t[53]&&s[69]===t[51]});const i=t[537].find(r=>r[10]===s[3]);i!==void 0&&Object.assign(s,{applied:!0,appliedOn:i[1].$d!==void 0?V.formatDate(i[1].$d,"MM-DD-YYYY"):i[1].date})}),e.sort((s,i)=>s.recommended===i.recommended?i[1].isAfter(s[1]):s.recommended?-1:1)),e}else return[]},timeRequested(){return this.requestedTimestamp}},actions:{async getRequestJobs(){const t=[{14:{value:224},9:{value:1},8:{value:"{'17'.EX.'Open'}AND{'182'.EX.'false'}AND{'175'.EX.'true'}"},7:{value:"Table Query"},6:{value:"bpzpyqcu4"}}],{data:e}=await C.fetchFromProjectsApp({fields:t});if(e.length>0)return this.setRequestJobs(e,!0),this.requestedTimestamp=x(),e;throw"No jobs"},async applyOnBoard({job:t}){const{employeeData:e}=K(),{data:s}=await C.upsertRecordsXML({to:"bsfq6uktu",data:[{6:{value:e[3]},8:{value:t[56]},10:{value:t[3]},12:{value:t[61]}}],fieldsToReturn:[19],formatObject:19});if(console.log(s),s[0])return s[0][19];throw"Cannot apply"},storeBoardApp(t){this.boardApp=t},setRequestJobs(t,e){const s=t.sort((i,r)=>r[1].isAfter(i[1]));this.requestJobs=s,e&&y.setItem(D.storageJobBoardKeyName,s)}}}),$t=[{link:"https://beis-newhire.sabacloud.com/Saba/Web_wdk/NA3P1PRD0029/index/prelogin.rdf",linkName:"BSLN",img:"https://static-na3p1.sabacloud.com/assets/s/s13cvy4thve9/common/img/favicon.ico"},{link:"https://hrx.talx.com/ec/#/login/13917?divisionid=42",linkName:"HireExpress",img:"https://hrx.talx.com/ec/favicon.ico"}],H=te("kiosk",{state:()=>({kiosk:null,bookmarks:$t,bookMarksOnly:!1}),getters:{getBookMarksOnly:t=>t.bookMarksOnly,getBookmarks:t=>t.bookmarks,kioskAccount:t=>t.kiosk,kioskAvailable:t=>t.kiosk!==null,kioskHiringCenter:t=>t.kiosk?t.kiosk[37]:null,hasAffirmative:t=>t.kiosk?t.kiosk.voluntaryForms.affirmative:!1,hasVets:t=>t.kiosk?t.kiosk.voluntaryForms.vets:!1,hasDisability:t=>t.kiosk?!!t.kiosk.voluntaryForms.disability:!1,goToVoluntary:t=>t.hasAffirmative||t.hasVets||t.hasDisability,availableTests:t=>t.kiosk&&t.kiosk.tests?t.kiosk.tests:[],hasTests:t=>t.kiosk&&t.kiosk.tests?t.kiosk.tests.length>0:!1,testForCraft:t=>{const{currentLang:e}=oe(),{craftId:s}=de();let i=1;return e==="en-US"?i=1:e==="es"&&(i=2),t.kiosk&&t.kiosk.tests&&t.kiosk.tests.find(r=>r[15]===s&&r[16]===i)||!1}},actions:{async fetchKioskAccount(t,e){const s=`{'11'.EX.'${t.email}'}AND{'6'.EX.'Active'}`,i=[{7:{value:"Kiosks"},8:{value:s},9:{value:1},14:{value:30}}];if(!this.kiosk||e){const{data:r}=await C.fetchFromStructureApp({fields:i});if(r.length>0){const a=Object.assign({},r[0][37]);delete a.kiosk,r[0][37]=a,this.setKioskAccount(r[0],!0),t.ticket&&C.setKioskTicket(t.ticket),r[0][45]===!0&&this.setBookmarksOnly(!0,!0)}return r}else return[this.kiosk]},setKioskAccount(t,e){const{setHiringCenter:s}=ee();if(this.kiosk=t,e&&t)y.setItem(D.storageKioskAccount,t),this.setLastKioskFetch();else if(!t){y.removeItem(D.storageKioskAccount),this.removeLastKioskFetch(),s(null,e);return}if(t&&t[37]){const i=Object.assign({},t[37]);s(i,e)}},setBookmarks(t,e){let s=t||[];return s=this.bookmarks.concat(s),this.bookmarks=s,e&&t&&y.setItem(D.storageBookmarks,JSON.parse(JSON.stringify(s))),!0},setLastKioskFetch(){y.setItem(D.storageLastKioskFetch,x())},removeLastKioskFetch(){y.removeItem(D.storageLastKioskFetch)},setBookmarksFromStorage(t,e){return this.bookmarks=t,!0},setBookmarksOnly(t,e){this.bookMarksOnly=t,e&&y.setItem(D.storageBookmarksOnly,t)},removeBookmarks(){this.kioskAvailable&&this.getBookMarksOnly&&this.setKioskAccount(null,!1),this.bookmarks=$t,this.bookMarksOnly=!1,y.removeItem(D.storageBookmarks),y.removeItem(D.storageBookmarksOnly)}}}),de=te("profile",{state:()=>({profile:{6:{field:"Related Employee"},15:{field:"Related Hiring Center"},19:{field:"Related Job"},23:{field:"First"},24:{field:"Middle"},25:{field:"Last"},26:{field:"Suffix"},27:{field:"Phone"},28:{field:"Email"},32:{field:"Street1"},33:{field:"Street2"},34:{field:"City"},35:{field:"State"},36:{field:"Zip"},37:{field:"Country"},38:{field:"Preferred Name"},40:{field:"Related Craft"},42:{field:"Related Experience Option"},44:{field:"Related Employment Status"},46:{field:"Related Contact Method"},49:{field:"Related Kiosk Session"},67:{field:"Related Available Language"}},voluntaryForms:{affirmative:{6:{field:"Related Kiosk Profile"},12:{field:"Related Hiring Center"},16:{field:"Related Affirmative Option (Gender)"},18:{field:"Related Job"},20:{field:"Related Affirmative Option (Ethnicity)"},22:{field:"Related Affirmative Option (Race)"},25:{field:"Related Kiosk Session"},24:{field:"Completion Timestamp"}},veterans:{6:{field:"Related Kiosk Profile"},8:{field:"Related Veteran Status Form"},10:{field:"Related Hiring Center"},16:{field:"Initials"},18:{field:"Related Kiosk Session"},17:{field:"Completion Timestamp"}},disability:{6:{field:"Completion Timestamp"},7:{field:"Name Entered"},8:{field:"Date Entered"},9:{field:"Related Kiosk Profile"},10:{field:"Related Disability Form"},15:{field:"Related Disability Form Option"},17:{field:"Related Hiring Center"},19:{field:"Related Job"},21:{field:"Related Kiosk Session"}},children:{vets:{field:"Veteran Form Selections",value:[]}}},step:0,loading:!0,completed:!1,jobBoardApplication:{},vetsSelections:null,vetsForm:null,craft:null,levelStartTest:null}),getters:{personalInfoNeeded(){const{employeeData:t}=K();return!(t[3]&&t[20]!==""&&t[22]!==""&&t[41]!==""&&t[43]!==""&&t[44]!==""&&t[45]!==""&&t[46]!=="")},onJobBoard(){const{getBoardApp:t}=qs();return!(!t[3]||t[3]===void 0)},profileData:t=>t.profile,profileComplete:t=>t.completed,loadingState:t=>t.loading,proceedToTest(){const{onKiosk:t}=oe(),{testForCraft:e}=H(),{employeeData:s}=K();return s.needsTest&&s.needsTest?t&&!!e:!1},selectedPreferencesOnProfile(){return{craft:this.profile[40],language:this.profile[67]}},experienceLevelOnProfile(){return this.profile[42].value?this.profile[42].value:null},submitProfileData(){const{employeeData:t}=K(),{hiringCenter:e}=ee(),s={},i=[3];for(const[r,a]of Object.entries(this.profile))a.value!==void 0&&a.value!==null&&(Object.assign(s,{[r]:{value:a.value}}),i.push(parseInt(r)));return s[6]===void 0?(Object.assign(s,{6:{value:t[3]}}),i.push(6)):s[6].value=t[3],s[15]===void 0?(Object.assign(s,{15:{value:e?e[3]:""}}),i.push(15)):s[15].value=e?e[3]:"",s[77]&&delete s[77],i.push(77),{to:"bp3gci48x",data:[s],fieldsToReturn:i}},submitDisabilityData(){const{employeeData:t}=K(),{hiringCenter:e}=ee(),s={},i=[];for(const[r,a]of Object.entries(this.voluntaryForms.disability))a.value!==void 0&&a.value!==null&&(Object.assign(s,{[r]:{value:a.value}}),i.push(parseInt(r)));return s[17]===void 0?(Object.assign(s,{17:{value:e?e[3]:""}}),i.push(17)):s[17].value=e?e[3]:"",this.onJobBoard?s[24]===void 0?(Object.assign(s,{24:{value:this.jobBoardApplication[3]?this.jobBoardApplication[3]:""}}),i.push(24)):s[24].value=this.jobBoardApplication[3]?this.jobBoardApplication[3]:"":s[9]===void 0?(Object.assign(s,{9:{value:this.profile[3]?this.profile[3].value:""}}),i.push(9)):s[9].value=this.profile[3]?this.profile[3].value:"",s[22]===void 0?(Object.assign(s,{22:{value:t[3]?t[3]:""}}),i.push(22)):s[22].value=t[3]?t[3]:"",{to:"bqaiuve9q",data:[s],fieldsToReturn:i}},submitAffirmativeData(){const{employeeData:t}=K(),{hiringCenter:e}=ee(),s={},i=[];for(const[r,a]of Object.entries(this.voluntaryForms.affirmative))a.value!==void 0&&a.value!==null&&(Object.assign(s,{[r]:{value:a.value}}),i.push(parseInt(r)));return s[12]===void 0?(Object.assign(s,{12:{value:e?e[3]:""}}),i.push(12)):s[12].value=e?e[3]:"",this.onJobBoard?s[38]===void 0?(Object.assign(s,{38:{value:this.jobBoardApplication[3]?this.jobBoardApplication[3]:""}}),i.push(38)):s[38].value=this.jobBoardApplication[3]?this.jobBoardApplication[3]:"":s[6]===void 0?(Object.assign(s,{6:{value:this.profile[3]?this.profile[3].value:""}}),i.push(6)):s[6].value=this.profile[3]?this.profile[3].value:"",s[35]===void 0?(Object.assign(s,{35:{value:t[3]?t[3]:""}}),i.push(35)):s[35].value=t[3]?t[3]:"",i.push(33),i.push(17),{to:"bp3gcmump",data:[s],fieldsToReturn:i}},async submitVeteransData(){const{employeeData:t}=K(),{hiringCenter:e}=ee(),s={},i=[];if(this.vetsForm){for(const[r,a]of Object.entries(this.voluntaryForms.veterans))a.value!==void 0&&a.value!==null?(Object.assign(s,{[r]:{value:a.value}}),i.push(parseInt(r))):this.vetsForm[r]&&this.vetsForm[r].value&&(Object.assign(s,{[r]:{value:this.vetsForm[r].value}}),i.push(parseInt(r)));return s[10]===void 0?(Object.assign(s,{10:{value:e?e[3]:""}}),i.push(10)):s[10].value=e?e[3]:"",this.onJobBoard?s[20]===void 0?(Object.assign(s,{20:{value:this.jobBoardApplication[3]?this.jobBoardApplication[3]:""}}),i.push(20)):s[20].value=this.jobBoardApplication[3]?this.jobBoardApplication[3]:"":s[6]===void 0?(Object.assign(s,{6:{value:this.profile[3]?this.profile[3].value:""}}),i.push(6)):s[6].value=this.profile[3]?this.profile[3].value:"",s[19]===void 0?(Object.assign(s,{19:{value:t[3]?t[3]:""}}),i.push(19)):s[19].value=t[3]?t[3]:"",i.includes(3)||i.push(3),{to:"bqamq3kr4",data:[s],fieldsToReturn:i}}else return{}},vetsFormSelections(){const t=this.vetsSelections?this.vetsSelections:[],e=[];return t.length>0&&t.forEach(s=>{const i={};for(const[r,a]of Object.entries(s))a.value!==void 0&&a.value!==null&&Object.assign(i,{[r]:{value:a.value}});i[6]===void 0?Object.assign(i,{6:{value:this.voluntaryForms.veterans[3]?this.voluntaryForms.veterans[3].value:""}}):i[6].value=this.voluntaryForms.veterans[3]?this.voluntaryForms.veterans[3].value:"",this.onJobBoard||(i[10]===void 0?Object.assign(i,{10:{value:this.profile[19]?this.profile[19].value:""}}):i[10].value=this.profile[19]?this.profile[19].value:""),e.push(i)}),{to:"bqamrfpj9",data:e,fieldsToReturn:[1,2,3,8,9]}},startLevelForTest:t=>t.levelStartTest,craftId:t=>t.craft},actions:{async submitProfileToQB(){const{updateEmployeeData:t}=K(),{onKiosk:e}=oe(),{testForCraft:s}=H(),{hiringCenter:i}=ee();if(this.onJobBoard)return(await t({fields:{16:{value:i[3]},20:{value:this.profile[23].value===void 0?"":this.profile[23].value},21:{value:this.profile[24].value===void 0?"":this.profile[24].value},22:{value:this.profile[25].value===void 0?"":this.profile[25].value},23:{value:this.profile[26].value===void 0?"":this.profile[26].value},41:{value:this.profile[32].value===void 0?"":this.profile[32].value},42:{value:this.profile[33].value===void 0?"":this.profile[33].value},43:{value:this.profile[34].value===void 0?"":this.profile[34].value},44:{value:this.profile[35].value===void 0?"":this.profile[35].value},45:{value:this.profile[36].value===void 0?"":this.profile[36].value},46:{value:this.profile[37].value===void 0?"":this.profile[37].value},51:{value:this.profile[40].value===void 0?"":this.profile[40].value},53:{value:this.profile[42].value===void 0?"":this.profile[42].value},55:{value:this.profile[44].value===void 0?"":this.profile[44].value},57:{value:this.profile[46].value===void 0?"":this.profile[46].value}}})).needsTest&&s?(t({fields:{122:{value:7}}}),this.storeLocalForage(),this.submitProfileData):(this.storeLocalForage(),this.submitProfileData);{const{data:r}=await C.upsertRecordsXML(this.submitProfileData);if(r[0]){const a=r[0];!this.profile[3]||this.profile[3].value===void 0?Object.assign(this.profile,{3:{value:r[0][3]}}):this.profile[3].value=r[0][3],!this.profile[77]||this.profile[77].value===void 0?Object.assign(this.profile,{77:{value:r[0][77]}}):this.profile[77].value=r[0][77];const o={16:{value:i[3]},20:{value:a[23]===void 0?"":a[23]},21:{value:a[24]===void 0?"":a[24]},22:{value:a[25]===void 0?"":a[25]},23:{value:a[26]===void 0?"":a[26]},41:{value:a[32]===void 0?"":a[32]},42:{value:a[33]===void 0?"":a[33]},43:{value:a[34]===void 0?"":a[34]},44:{value:a[35]===void 0?"":a[35]},45:{value:a[36]===void 0?"":a[36]},46:{value:a[37]===void 0?"":a[37]},51:{value:a[40]===void 0?"":a[40]},53:{value:a[42]===void 0?"":a[42]},55:{value:a[44]===void 0?"":a[44]},57:{value:a[46]===void 0?"":a[46]}},n=await t({fields:o});return n[119]!==void 0&&(this.profile[77].value=n[119]==="Yes"?"No":"Yes"),this.storeLocalForage(),n.needsTest&&s&&!e&&await t({fields:{122:{value:7}}}),a}else throw"Something went wrong"}},async submitDisabilityToQB(){const{updateEmployeeFromApp:t}=K(),{data:e}=await C.upsertRecordsXML(this.submitDisabilityData);if(e[0])Object.assign(this.voluntaryForms.disability,{3:{value:e[0][3]}}),t({action:"push",values:this.voluntaryForms.disability,key:"disability"});else throw"Something went wrong";return this.submitDisabilityData},async submitAffirmativeToQB(){const{updateEmployeeData:t}=K(),{data:e}=await C.upsertRecordsXML(this.submitAffirmativeData);if(e[0]){Object.assign(this.voluntaryForms.affirmative,{3:{value:e[0][3]}});const s={406:{value:e[0][33]},380:{value:e[0][17]}};t({fields:s})}else throw"Something went wrong";return this.submitAffirmativeData},async submitVeteransToQB(){const{updateEmployeeFromApp:t}=K(),e=await this.submitVeteransData,{data:s}=await C.upsertRecordsXML(e);if(s[0]){if(this.voluntaryForms.veterans[3]===void 0?Object.assign(this.voluntaryForms.veterans,{3:{value:s[0][3]}}):this.voluntaryForms.veterans[3].value=s[0][3],(await C.upsertRecordsXML(this.vetsFormSelections)).data.length>0)return Object.assign(this.voluntaryForms.veterans,{selections:s}),t({action:"push",values:this.voluntaryForms.veterans,key:"vets"}),!0;throw"Cannot save vets form selections"}else throw"Cannot save veterans"},async updateProfile(t){if(this.completed=t.completed===void 0?!1:t.completed,this.step=t.next?t.next:0,t.values&&Object.entries(t.values).length>0)for(const[e,s]of Object.entries(t.values))s&&(this.profile[e]!==void 0?(this.profile[e].value=s.value?s.value:s||"",this.profile[e].label=s.label?s.label:""):Object.assign(this.profile,{[e]:{value:!s.value||s.value===void 0?!s||s===void 0?"":s:s.value,label:!s.label||s.label===void 0?"":s.label}}));return this.storeLocalForage(),this.submitProfileData},async updateVoluntaryForm(t){this.step=t.next?t.next:0;const e=this.voluntaryForms[t.type];if(t.values&&Object.entries(t.values).length>0){for(const[s,i]of Object.entries(t.values))e[s]!==void 0?Array.isArray(e[s].value)?i.value&&Array.isArray(i.value)?i.value.forEach(r=>{e[s].value.push(r)}):i&&Array.isArray(i)?i.forEach(r=>{e[s].value.push(r)}):e[s].value.push(i.value?i.value:i||""):(e[s].value=i.value?i.value:i||"",e[s].label=i.label?i.label:""):Object.assign(e,{[s]:{value:i.value?i.value:i||"",label:i.label?i.label:""}});return!0}else throw"Missing data"},async updateVetsForm({next:t,values:e,selections:s}){return this.step=t||0,this.vetsForm=e,this.vetsSelections=s,!0},async updateVetsSelections(t){this.vetsSelections=t},updateStep(t){this.step=t},dataLoaded(t){this.loading=t===void 0?!1:t},toggleLoader(t){this.loading=t},setLevelStartTest(t){this.levelStartTest=t},setCraft(t){this.craft=t},resetProfile(){this.profile={6:{field:"Related Employee"},15:{field:"Related Hiring Center"},19:{field:"Related Job"},23:{field:"First"},24:{field:"Middle"},25:{field:"Last"},26:{field:"Suffix"},27:{field:"Phone"},28:{field:"Email"},32:{field:"Street1"},33:{field:"Street2"},34:{field:"City"},35:{field:"State"},36:{field:"Zip"},37:{field:"Country"},38:{field:"Preferred Name"},40:{field:"Related Craft"},42:{field:"Related Experience Option"},44:{field:"Related Employment Status"},46:{field:"Related Contact Method"},49:{field:"Related Kiosk Session"},67:{field:"Related Available Language"}},this.step=0,this.voluntaryForms={affirmative:{6:{field:"Related Kiosk Profile"},12:{field:"Related Hiring Center"},16:{field:"Related Affirmative Option (Gender)"},18:{field:"Related Job"},20:{field:"Related Affirmative Option (Ethnicity)"},22:{field:"Related Affirmative Option (Race)"},25:{field:"Related Kiosk Session"},24:{field:"Completion Timestamp"}},veterans:{6:{field:"Related Kiosk Profile"},8:{field:"Related Veteran Status Form"},10:{field:"Related Hiring Center"},16:{field:"Initials"},18:{field:"Related Kiosk Session"},17:{field:"Completion Timestamp"}},disability:{6:{field:"Completion Timestamp"},7:{field:"Name Entered"},8:{field:"Date Entered"},9:{field:"Related Kiosk Profile"},10:{field:"Related Disability Form"},15:{field:"Related Disability Form Option"},17:{field:"Related Hiring Center"},19:{field:"Related Job"},21:{field:"Related Kiosk Session"}},children:{vets:{field:"Veteran Form Selections",value:[]}}}},setProfile(t,e){this.profile=t,e&&y.setItem(D.storageProfile,t)},setProfileStep(t,e){this.step=t,e&&y.setItem(D.storageProfileStep,t)},setVoluntaryForms(t,e){this.voluntaryForms=t,e&&y.setItem(D.storageProfileVoluntaryForms,t)},storeLocalForage(){const t=JSON.parse(JSON.stringify(this.profile)),e=JSON.parse(JSON.stringify(this.voluntaryForms));y.setItem(D.storageProfile,t),y.setItem(D.storageProfileStep,this.step),y.setItem(D.storageProfileVoluntaryForms,e)}}}),K=te("employee",{state:()=>({devEmployee:{3:46},employee:{},emergencyContacts:[],history:[],training:[{3:2,6:"Security Passport",7:1,8:"Identification Credentials",11:"",20:"IDs",21:1},{3:1,6:"TWIC Card",7:1,8:"Identification Credentials",11:"",20:"IDs",21:1}],jobBoardApplications:[]}),getters:{noTasks(){return!this.checkInActive&&this.employeeData.complete&&this.voluntaryFormsComplete&&!this.showInProcess&&!this.employeeData.needsTest},employeeActive(){return this.employeeData[408]==="Active"},checkInActive(){const{checkedIn:t,checkInData:e}=oe();return this.showInProcess||this.employeeData[79]===6||e[36]?!1:!!(this.employeeData[408]==="Active"&&t)},voluntaryFormsSubmitted(){return this.employee[3]?{disability:this.employee.disability.length>0?this.employee.disability.sort((t,e)=>t[3]>e[3]?-1:1)[0]:null,affirmative:this.employee.affirmative.length>0?this.employee.affirmative.sort((t,e)=>t[3]>e[3]?-1:1)[0]:null,vets:this.employee.vets.length>0?this.employee.vets.filter(t=>t.selections.length>0).sort((t,e)=>t[3]>e[3]?-1:1)[0]:null}:null},voluntaryFormsComplete(){return!(!this.voluntaryFormsSubmitted||!this.voluntaryFormsSubmitted.disability||!this.voluntaryFormsSubmitted.affirmative||!this.voluntaryFormsSubmitted.vets)},applicationsSubmitted:t=>t.jobBoardApplications,showInProcess(){return this.employee[519]?this.employee[519]===1:!1},showEmployment(){return this.employee[408]?this.employee[408]==="Active":!1},employeeData:t=>t.employee,employeeAvailable(){return!!this.employee[3]},offerData(){return this.employee[1516]&&!Array.isArray(this.employee[1516].offer)?this.employee[1516].offer:null},processingData(){return this.employee[1516]&&!Array.isArray(this.employee[1516].processing)?this.employee[1516].processing:null},savedEmergencyContacts(){return this.emergencyContacts},savedHistory(){const t=[];return this.employee[513]&&this.employee[513].forEach(e=>{const s=e[12].includes("-")?e[12].split("-"):null,i=e[13].includes("-")?e[13].split("-"):null,r=s?V.buildDate({year:s[2],date:s[1],month:s[0]}):e[12],a=i?V.buildDate({year:i[2],date:i[1],month:i[0]}):e[13];e[12]=V.formatDate(r,"MM/DD/YYYY"),e[13]=V.formatDate(a,"MM/DD/YYYY"),Object.assign(e,{company:{value:e[6],label:e[7]}}),Object.assign(e,{craft:{value:e[15],label:e[16]}}),t.push(e)}),t},savedTraining(){return this.training},getEmployee:t=>t.employee,socialRequired:t=>t.employee[3]?t.employee[109]===""||!t.employee[109]:!1},actions:{async updateEmployeeData({fields:t}){if(!t)throw"No Fields Provided";t[3]===void 0&&Object.assign(t,{3:{value:this.employeeData[3]}});const{data:e}=await C.upsertRecordsXML({to:"bp3gb7ng2",fieldsToReturn:[500],data:[t],formatObject:500}),s=e[0][500];return this.setEmployee(s,!0),s},setEmployee(t,e){const{setCraft:s,setLevelStartTest:i}=de();t[507]&&(this.emergencyContacts=t[507]),t.craft&&s(t.craft),t[53]&&i(t[53]),this.employee=t,e&&y.setItem(D.storageEmployeeKeyName,t)},async removeContact(t){await C.upsertRecordsXML({to:"bruxz7dsh",data:[{3:{value:t},17:{value:!0},18:{value:new Date}}],fieldsToReturn:[3,14],formatObject:14}),this.employee[507]=this.employee[507].filter(e=>e[3]!==t)},async addContact(t){const{data:e}=await C.upsertRecordsXML({to:"bruxz7dsh",data:[{6:{value:t[6]},7:{value:t[7]},8:{value:t[16]},10:{value:this.employee[3]},11:{value:t[11]}}],fieldsToReturn:[3,14],formatObject:14});if(!e.length>0)throw"Cannot save contact";t=e[0][14],this.employee[507].push(t)},async updateContact(t){const{data:e}=await C.upsertRecordsXML({to:"bruxz7dsh",data:[{3:{value:t[3]},6:{value:t[6]},7:{value:t[7]},8:{value:t[16]},11:{value:t[11]}}],fieldsToReturn:[3,14],formatObject:14});this.employee[507].forEach((s,i)=>{s[3]===t[3]&&(this.employee[507][i]=e[0][14])})},async addHistory(t){const e={6:{value:t.company.value},10:{value:t[10]},11:{value:t[11]},12:{value:t[12]},13:{value:t[13]},15:{value:t.craft.value},34:{value:this.employeeData[3]}};this.employeeData[234]>0&&Object.assign(e,{8:{value:this.employeeData[234]}});const{data:s}=await C.upsertRecordsXML({to:"bpzpy6pj7",data:[e],fieldsToReturn:[3]});if(!s.length>0)throw"Cannot save experience";t[3]=s[0][3],t[12]=V.formatDate(V.addToDate(t[12],{days:1}),"MM/DD/YYYY"),t[13]=V.formatDate(V.addToDate(t[13],{days:1}),"MM/DD/YYYY"),this.employee[513]&&Array.isArray(this.employee[513])?this.employee[513].push(t):this.employee[513]=[t]},async updateHistory(t){const{data:e}=await C.upsertRecordsXML({to:"bpzpy6pj7",data:[{3:{value:t[3]},6:{value:t.company.value},10:{value:t[10]},11:{value:t[11]},12:{value:t[12]},13:{value:t[13]},15:{value:t.craft.value},34:{value:this.employeeData[3]}}],fieldsToReturn:[3]});if(!e.length>0)throw"Cannot save history";t[12]=V.formatDate(V.addToDate(t[12],{days:1}),"MM/DD/YYYY"),t[13]=V.formatDate(V.addToDate(t[13],{days:1}),"MM/DD/YYYY"),this.employee[513].forEach((s,i)=>{s[3]===t[3]&&(this.employee[513][i]=t)})},async removeHistory(t){const{data:e}=await C.upsertRecordsXML({to:"bpzpy6pj7",data:[{3:{value:t},32:{value:!0},33:{value:new Date}}],fieldsToReturn:[3]});if(!e.length>0)throw"Cannot save history";this.employee[513]=this.employee[513].filter(s=>s[3]!==e[0][3])},addTraining(t){this.training.push(t)},updateTraining(t){this.training.forEach((e,s)=>{e[3]===t[3]&&(this.training[s]=t)})},removeTraining(t){this.training=this.training.filter(e=>e[3]!==t)},async applyOnBoard(t){const{data:e}=await C.upsertRecordsXML({to:"bsfq6uktu",data:[{6:{value:this.employeeData[3]},8:{value:t[56]},10:{value:t[3]},12:{value:t[61]}}],fieldsToReturn:[19],formatObject:19});if(e[0])return this.employee[537].push(e[0][19]),e;throw"Cannot apply"},async acceptDeployment(t){const{data:e}=await C.upsertRecordsXML({to:"bsf2qqd63",data:[{8:{value:this.employeeData[3]},9:{value:t},6:{value:new Date},7:{value:"accept"}}],fieldsToReturn:[11],formatObject:11});if(e[0])return this.employee[1516].processing=e[0][11],e;throw"Cannot accept"},updateEmployeeFromApp({action:t,values:e,key:s}){t==="push"?this.employee[s]===void 0?Object.assign(this.employee,{[s]:e}):this.employee[s].push(e):t==="replace"&&(this.employee[s]===void 0?Object.assign(this.employee,{[s]:e}):this.employee[s]=e)}}});class Ar{formatName(e){if(typeof e!="string")return"";const s=e.trim().split(" ");if(s.length===1){if(e=e.toLowerCase(),e==="de"||e==="dela"||e==="del"||e==="las"||e==="y"||e==="la")return e;try{e=e.charAt(0).toUpperCase()+e.slice(1)}catch{e=e.charAt(0)+e.slice(1)}if(e.startsWith("Mc"))try{e=e.slice(0,2)+e.charAt(2).toUpperCase()+e.slice(3)}catch{e=e.slice(0,2)+e.charAt(2)+e.slice(3)}if(e.includes("'")){const i=e.indexOf("'");try{e=e.slice(0,i+1)+e.charAt(i+1).toUpperCase()+e.slice(i+2)}catch{e=e.slice(0,i+1)+e.charAt(i+1)+(e.slice(i+2)?e.slice(i+2):"")}}if(e.includes("-")){const i=e.indexOf("-");try{e=e.slice(0,i+1)+e.charAt(i+1).toUpperCase()+e.slice(i+2)}catch{e=e.slice(0,i+1)+e.charAt(i+1)+(e.slice(i+2)?e.slice(i+2):"")}}return e}else{for(let i=s.length-1;i>=0;i--)if(s[i]===""){s.splice(i);continue}else{try{s[i]=s[i].toLowerCase()}catch{return s[i]}if(s[i]==="de"||s[i]==="dela"||s[i]==="del"||s[i]==="la"||s[i]==="las"||s[i]==="y")if(i===0&&s[i]==="la"){try{s[i]=s[i].charAt(0).toUpperCase()+s[i].slice(1)}catch{s[i]=s[i].charAt(0)+s[i].slice(1)}continue}else continue;else{try{s[i]=s[i].charAt(0).toUpperCase()+s[i].slice(1)}catch{s[i]=s[i].charAt(0)+s[i].slice(1)}if(s[i].startsWith("Mc"))try{s[i]=s[i].slice(0,2)+s[i][2].toUpperCase()+s[i].slice(3)}catch{s[i]=s[i].slice(0,2)+s[i][2]+s[i].slice(3)}if(s[i].includes("'")){const r=s[i].indexOf("'");try{s[i]=s[i].slice(0,r+1)+s[i][r+1].toUpperCase()+(s[i].slice(r+2)?s[i].slice(r+2):"")}catch{s[i]=s[i].slice(0,r+1)+(s[i][r+1]?s[i][r+1]:"")+(s[i].slice(r+2)?s[i].slice(r+2):"")}}if(s[i].includes("-")){const r=s[i].indexOf("-");try{s[i]=s[i].slice(0,r+1)+s[i][r+1].toUpperCase()+s[i].slice(r+2)}catch{s[i]=s[i].slice(0,r+1)+(s[i][r+1]?s[i][r+1]:"")+(s[i].slice(r+2)?s[i].slice(r+2):"")}}}}return s.join(" ")}}calculateDuration(e){return V.getDateDiff(e.end,e.start,e.unit)}formatPhone(e){const i=(""+e).replace(/\D/g,"").match(/^(\d{3})(\d{3})(\d{4})$/);return i?`(${i[1]}) ${i[2]}-${i[3]}`:null}async converter(e){let s;return e&&Array.isArray(e)?(s=[],e.forEach(i=>{const r=JSON.parse(i);s.push(r)})):s=JSON.parse(e),s}async decode(e){if(e){const s=document.createElement("div");return s.innerHTML=e,s.childNodes[0].nodeValue}else return""}}function kr(){return{helpers:new Ar}}const{helpers:Pt}=kr(),Sr=25,Qr=te("assessment",{state:()=>({step:0,loading:!0,tools:[],testData:{allQuestions:[],selectedQuestions:[],completedQuestions:[],nextQuestions:null,testStatus:"In Progress",currentScope:0,loadIteration:0,qb:{testRecord:{3:{field:"Record ID#",value:24712},6:{field:"Related Kiosk Profile"},13:{field:"Related Hiring Center"},15:{field:"Related Employee"},17:{field:"Related Craft"},23:{field:"Related Available Language"},34:{field:"Test Completion Timestamp"},37:{field:"Test Status"},testQuestions:[{6:{field:"Related Test"},7:{field:"Related All Test Question"},11:{field:"Status"},questionResponse:[{6:{field:"Related Test Question"},8:{field:"Related Question Alternative"}}]}]}}},testId:null,qb:null,questions:[],answers:[],toolListId:null,toolChecklists:[]}),getters:{questionsLoaded(){return this.testData.allQuestions.length>0},nextQuestions(){return this.testData.nextQuestions?this.testData.nextQuestions:null},completedOnIteration(){return this.testData.completedQuestions.filter(t=>t.iteration===this.testData.loadIteration)},algo(){const t=this.testData.completedQuestions.filter(e=>e.selection[14]===1&&e.iteration===this.testData.loadIteration);return t!==void 0?t:[]},ratio(){return isNaN(this.algo.length/this.completedOnIteration.length)?0:(this.algo.length/this.completedOnIteration.length).toFixed(2)},nextScope(){return this.completedOnIteration.length>0?this.ratio>.6?this.testData.currentScope<6?this.testData.currentScope+1:this.testData.currentScope:this.ratio===.6?this.testData.currentScope:this.testData.currentScope>2?this.testData.currentScope-1:this.testData.currentScope:this.testData.currentScope},nextIteration(){return this.testData.loadIteration+1},timeToStop(){const t=this.testData.completedQuestions.filter(s=>s[23]>this.testData.currentScope).length,e=this.testData.completedQuestions.filter(s=>s[23]<this.testData.currentScope).length;return t>0&&e>0&&this.testData.completedQuestions.length>=Sr},toolChecklistData(){const{testForCraft:t}=H(),{hiringCenter:e}=ee(),{employeeData:s}=K(),i={6:{value:this.testId?this.testId:0},11:{value:e?e[3]:0},15:{value:s[3]?s[3]:0},20:{value:t[15]?t[15]:0},22:{value:t[16]?t[16]:0}};return{to:"bp3gcpk2w",data:[i],fieldsToReturn:[3]}},toolsData(){const t=[];return this.tools.length>0&&this.tools.forEach(e=>{const s={6:{value:this.toolListId?this.toolListId:0},7:{value:e.value}};t.push(s)}),{to:"bp928wac2",data:t,fieldsToReturn:[3]}},availableToolChecklists:t=>t.toolChecklists,toolsForCraft(){const{testForCraft:t}=H();if(t){const e=this.availableToolChecklists.find(s=>s[6]===t[3]);return e!==void 0?e[11]:[]}else return[]},toolListInstructions(){const{testForCraft:t}=H();if(t){const e=this.availableToolChecklists.find(s=>s[6]===t[3]);return e!==void 0?e[13]:null}else return null},toolListName(){const{testForCraft:t}=H();if(t){const e=this.availableToolChecklists.find(s=>s[6]===t[3]);return e!==void 0?e[8]:null}else return null}},actions:{async startAssessment(){const{profile:t}=de(),{testForCraft:e}=H(),{hiringCenter:s}=ee(),{employeeData:i,updateEmployeeData:r}=K(),a={13:{value:s[3]},15:{value:i[3]},17:{value:e[15]},23:{value:e[16]},51:{value:e[3]}};t[3]!==void 0&&Object.assign(a,{6:{value:t[3].value}});const{data:o}=await C.upsertRecordsXML({to:"bp3gckirf",data:[a],fieldsToReturn:[3]});if(o[0])return this.testId=o[0][3],r({fields:{122:{value:8}}}),o[0];throw"Something went wrong"},async finishAssessment(){const{metadata:t}=await C.upsertRecordsXML({to:"bp3gckirf",data:[{3:{value:this.testId},34:{value:new Date},37:{value:"Complete"}}],mergeFieldId:3,fieldsToReturn:[3]});if(t.updatedRecordIds[0]){const{data:e}=await C.upsertRecordsXML({to:"bp9np6ckn",data:this.questions,fieldsToReturn:[3,7]});if(!e.length>0)throw"Cannot save questions";{const s=[];e.forEach(r=>{const a=this.answers.findIndex(o=>o.link===r[7]);if(a>-1){const o={6:{value:r[3]},8:{value:this.answers[a][8]}};s.push(o)}});const{metadata:i}=await C.upsertRecordsXML({to:"bp9np9vk7",data:s,fieldsToReturn:[3]});if(!i.createdRecordIds.length===this.answers.length)throw"Something went wrong";return{success:!0}}}else throw"Cannot finish assessment"},async startToolChecklist(){const{data:t}=await C.upsertRecordsXML(this.toolChecklistData);if(t[0])return this.toolListId=t[0][3],t[0];throw"Cannot start checklist"},async finishToolChecklist(){const{metadata:t}=await C.upsertRecordsXML({to:"bp3gcpk2w",data:[{3:{value:this.toolListId},18:{value:new Date},17:{value:"Complete"}}],mergeFieldId:3,fieldsToReturn:[3]});if(t.updatedRecordIds[0]){const{data:e}=await C.upsertRecordsXML(this.toolsData);if(e.length>0)return!0;throw"Cannot save tools"}else throw"Cannot finish tool checklist"},async submitToQB(){const{profile:t}=de(),{testForCraft:e}=H(),{hiringCenter:s}=ee(),{devEmployee:i}=K();this.testData.qb.testRecord[6].value=t[3].value,this.testData.qb.testRecord[13].value=s[3],this.testData.qb.testRecord[15].value=i[3],this.testData.qb.testRecord[17].value=e[15],this.testData.qb.testRecord[23].value=e[16],this.testData.qb.testRecord[34].value=Date.now(),this.testData.qb.testRecord[37].value="Complete";const r=[];return this.testData.completedQuestions.forEach(a=>{const o={6:{value:this.testData.qb.testRecord[3].value},7:{value:a[8]},11:{value:"Complete"},questionResponse:[{6:{value:0},8:{value:a.selection[3]}}]};r.push(o)}),this.testData.qb.testRecord.testQuestions=r,this.testData.qb.testRecord},async updateAssessment(t){return this.step=t.next,t.type==="tools"&&(this.tools=t.values),!0},updateStep(t){this.step=t},dataLoaded(){this.loading=!1},async getAllQuestions(){const{testForCraft:t}=H();if(this.questionsLoaded)return!0;if(t)try{const{data:e}=await C.fetchFromStructureApp({fields:[{6:{value:"bqamed7sr"},7:{value:"Table Query"},8:{value:`{'6'.EX.'${t[9]}'}`},9:{value:1},14:{value:17}}]});if(e)return e.forEach(async s=>{s[20]&&(s.hasImage=!0,s.imageData={src:s[22],alt:s[21]}),s[19].forEach(i=>{i.value=i[3],i.label=i[6]})}),this.testData.allQuestions=e,!0;throw"Something went wrong"}catch(e){console.log(e);const{data:s}=await C.doQuery({from:"bqamed7sr",where:`{'6'.EX.'${t[9]}'}`,select:[3,6,8,9,10,11,12,13,14,18,19,20,21,22,23,24],sortBy:[{fieldId:11,order:"ASC"}]});if(s)return s.forEach(async i=>{i[20]==="Yes"&&(i.hasImage=!0,i.imageData={src:i[22],alt:i[21]}),i[19]=await Pt.converter(i[19]),i[24]=await Pt.converter(i[24]),i[19].forEach(r=>{r.value=r[3],r.label=r[6]})}),this.testData.allQuestions=s,!0;throw"Something went wrong"}else throw"No test for craft"},async loadQuestionGroup(t,e){if(t!==void 0){const s=this.testData.allQuestions.filter(i=>i[23]===t);if(s.length>0)return s.length>5&&(s.length=5),s.forEach(i=>{i.response=null;const r=this.testData.allQuestions.findIndex(a=>a[3]===i[3]);r>-1&&this.testData.allQuestions.splice(r,1)}),this.testData.nextQuestions=s,this.testData.currentScope=t,this.testData.loadIteration=e,s;throw"There are no questions"}},async completeQuestion(t){const e=t.response,s=t[19].find(a=>a.value===e);if(s!==void 0)t.selection=s;else throw"No selection";t.iteration=this.testData.loadIteration,t.storedData={};const i={6:{value:this.testId},7:{value:t[8]},11:{value:"Complete"}};this.questions.push(i);const r={6:null,8:t.selection[3],link:t[8]};return this.answers.push(r),this.testData.completedQuestions.push(t),this.testData.nextQuestions=this.testData.nextQuestions.filter(a=>a[3]!==t[3]),{data:{nextQuestions:this.timeToStop?[]:this.testData.nextQuestions,scope:this.nextScope,iteration:this.nextIteration}}},async fetchCraftToolsFromStorage(){const t=await y.getItem(D.storageToolCheckList);if(t){for(let e=0;e<t.length;e++){const s=Object.keys(t[e]);for(let i=0;i<s.length;i++){typeof t[e][s[i]]=="object"&&t[e][s[i]]!==null&&Object.prototype.hasOwnProperty.call(t[e][s[i]],"$d")&&(t[e][s[i]]=x(t[e][s[i]].$d));try{t[e][s[i]].endsWith(".000Z")&&(t[e][s[i]]=x(t[e][s[i]]))}catch{}}}this.setCraftTools(t,!1)}else return!1},async fetchCraftTools(t){await this.fetchCraftToolsFromStorage();const e=[{6:{value:"bqamh3rpi"},7:{value:"Table Query"},8:{value:"{'10'.EX.'Active'}"},9:{value:1},14:{value:12}}];if(this.toolChecklists.length===0||t){const{data:s}=await C.fetchFromStructureApp({fields:e});return this.setCraftTools(s,!0),s}else return this.toolChecklists},setCraftTools(t,e){this.toolChecklists=t,e&&y.setItem(D.storageToolCheckList,t)}}}),se=te("application",{state:()=>({formOptions:{crafts:[],experience:[],companies:[],credentials:[],relationships:[],employment:[],contactMethods:[]},voluntaryFormOptions:{affirmative:[],veterans:[],disability:{pages:[],options:[],form:{}}},formOptionsLoading:!1,voluntaryFormsLoading:!1,evergreenJobs:[]}),getters:{craftOptions:t=>t.formOptions.crafts,experienceOptions:t=>t.formOptions.experience,companyOptions:t=>t.formOptions.companies,credentialOptions:t=>t.formOptions.credentials,relationshipOptions:t=>t.formOptions.relationships,employmentOptions:t=>t.formOptions.employment,contactMethodOptions:t=>t.formOptions.contactMethods,affirmativeOptions:t=>t.voluntaryFormOptions.affirmative,veteranOptions:t=>t.voluntaryFormOptions.veterans,disabilityOptions:t=>t.voluntaryFormOptions.disability.options,disabilityPages:t=>t.voluntaryFormOptions.disability.pages,disabilityForm:t=>t.voluntaryFormOptions.disability.form,evergreenJobOptions:t=>t.evergreenJobs,formOptionsLoadingState:t=>t.formOptionsLoading,voluntaryLoadingState:t=>t.voluntaryFormsLoading,credentialGroups(){const t=[];return this.formOptions.credentials.forEach(e=>{const s={value:e[7],label:e[8],acronym:e[20],number:e[21]};t.find(r=>r.value===s.value)||t.push(s)}),t.sort((e,s)=>e.number>s.number?1:e.number<s.number?-1:0)},compiledCredentials(){const t=[];return this.credentialGroups.forEach(e=>{const s=e.value;e.list=[],this.formOptions.credentials.forEach(i=>{i[7]===s&&e.list.push(i)}),t.push(e)}),t}},actions:{async fetchFormOptions(){this.formOptionsLoading=!0;const t=[this.fetchExperienceOptions(),this.fetchContactMethodOptions(),this.fetchEmploymentOptions(),this.fetchCompanyOptions(),this.fetchCraftOptions(),this.fetchRelationshipOptions(),this.fetchEverGreenJobs()],e=await Promise.allSettled(t);return this.formOptionsLoading=!1,e},async fetchVoluntaryForms(){this.voluntaryFormsLoading=!0;const t=[this.fetchAffirmativeOptions(),this.fetchVeteranStatusOptions(),this.fetchDisabilityPages()],e=await Promise.allSettled(t);return this.voluntaryFormsLoading=!1,e},async fetchExperienceOptions(t){const e=[{7:{value:"Experience Options"},9:{value:1},14:{value:44}}];if(this.formOptions.experience.length===0||t){const{data:s}=await C.fetchFromRecruitingApp({fields:e});return this.setExperienceOptions(s,!0),s}else return this.formOptions.experience},setExperienceOptions(t,e){this.formOptions.experience=t,e&&y.setItem(D.storageExperienceOptions,t)},async fetchContactMethodOptions(t){const e=[{7:{value:"Contact Methods"},9:{value:1},14:{value:15}}];if(this.formOptions.contactMethods.length===0||t){const{data:s}=await C.fetchFromRecruitingApp({fields:e});return this.setContactMethods(s,!0),s}else return this.formOptions.contactMethods},setContactMethods(t,e){this.formOptions.contactMethods=t,e&&y.setItem(D.storageContactMethods,t)},async fetchEmploymentOptions(t){const e=[{7:{value:"Employment Options"},9:{value:1},14:{value:15}}];if(this.formOptions.employment.length===0||t){const{data:s}=await C.fetchFromRecruitingApp({fields:e});return this.setEmploymentOptions(s,!0),s}else return this.formOptions.employment},setEmploymentOptions(t,e){this.formOptions.employment=t,e&&y.setItem(D.storageEmploymentOptions,t)},async fetchCompanyOptions(t){const e=[{7:{value:"Company Options"},9:{value:1},14:{value:15}}];if(this.formOptions.companies.length===0||t){const{data:s}=await C.fetchFromStructureApp({fields:e});return this.setCompanyOptions(s,!0),s}else return this.formOptions.companies},setCompanyOptions(t,e){this.formOptions.companies=t,e&&y.setItem(D.storageCompanyOptions,t)},async fetchCraftOptions(t){const e=[{6:{value:"bp2pcb379"},7:{value:"Table Query"},8:{value:"{'12'.EX.'Yes'}"},9:{value:1},14:{value:59}}];if(this.formOptions.crafts.length===0||t){const{data:s}=await C.fetchFromStructureApp({fields:e});return this.setCraftOptions(s,!0),s}else return this.formOptions.crafts},setCraftOptions(t,e){this.formOptions.crafts=t,e&&y.setItem(D.storageCraftOptions,t)},async fetchRelationshipOptions(t){const e=[{6:{value:"brux2ptjd"},7:{value:"Table Query"},8:{value:"{'3'.GT.0}"},9:{value:1},14:{value:15}}];if(this.formOptions.relationships.length===0||t){const{data:s}=await C.fetchFromHiringApp({fields:e});return this.setRelationshipOptions(s,!0),s}else return this.formOptions.relationships},setRelationshipOptions(t,e){this.formOptions.relationships=t,e&&y.setItem(D.storageRelationshipOptions,t)},async fetchCredentialOptions(t){const e=[{6:{value:"bp2cdv2rd"},7:{value:"Table Query"},8:{value:"{'3'.GT.0}"},9:{value:1},14:{value:22}}];if(this.formOptions.credentials.length===0||t){const{data:s}=await C.fetchFromCredentialsAndTrainingApp({fields:e});return this.setCredentialOptions(s,!0),s}else return this.formOptions.credentials},setCredentialOptions(t,e){this.formOptions.credentials=t,e&&y.setItem(D.storageCredentialOptions,t)},async fetchAffirmativeOptions(t){const e=[{6:{value:"bqamkyebu"},7:{value:"Table Query"},8:{value:"{'7'.EX.'Active'}"},9:{value:1},14:{value:18}}];if(this.voluntaryFormOptions.affirmative.length===0||t){const{data:s}=await C.fetchFromCredentialsAndTrainingApp({fields:e});return this.setAffirmativeOptions(s,!0),s}else return this.voluntaryFormOptions.affirmative},setAffirmativeOptions(t,e){this.voluntaryFormOptions.affirmative=t,e&&y.setItem(D.storageAffirmativeOptions,t)},async fetchVeteranStatusOptions(t){const e=[{6:{value:"bqampwqag"},7:{value:"Table Query"},8:{value:"{'8'.EX.'Active'}"},9:{value:1},14:{value:14}}];if(this.voluntaryFormOptions.veterans.length===0||t){const{data:s}=await C.fetchFromCredentialsAndTrainingApp({fields:e});return this.setVeteranStatusOptions(s,!0),s}else return this.voluntaryFormOptions.veterans},setVeteranStatusOptions(t,e){this.voluntaryFormOptions.veterans=t,e&&y.setItem(D.storageVeteranStatusOptions,t)},async fetchDisabilityPages(t){const{hasDisability:e,kioskAccount:s}=H();if(e){const i=[{6:{value:"bp96dpdmp"},7:{value:"Table Query"},8:{value:`{26.EX.${s.voluntaryForms.disability[9]}}AND{'46'.EX.'Active'}`},9:{value:1},14:{value:59}}],r=Object.assign({},s.voluntaryForms.disability);if(r.controlNumber=r[11],r.expiration=r[13],r.formId=r[12],r.rid=r[9],r.title=r[10],r.pages=this.voluntaryFormOptions.disability.pages,this.voluntaryFormOptions.disability.pages.length===0||t){const{data:a}=await C.fetchFromCredentialsAndTrainingApp({fields:i});return this.setDisabilityPages(a,!0),r.pages=a,this.setDisabilityForm(r,!0),a}else return this.voluntaryFormOptions.disability.pages}else return!1},setDisabilityPages(t,e){this.voluntaryFormOptions.disability.pages=t,e&&y.setItem(D.storageDisabilityPages,t)},setDisabilityForm(t,e){this.voluntaryFormOptions.disability.form=t,e&&y.setItem(D.storageDisabilityForm,t)},async fetchEverGreenJobs(t){const e=[{6:{value:"bpzpqe2q5"},7:{value:"Jobs"},8:{value:"{'60'.EX.'Yes'}AND{'71'.XEX.'Pending'}"},9:{value:1},14:{value:94}}];if(this.evergreenJobs.length===0||t){const{data:s}=await C.fetchFromStructureApp({fields:e});return this.setEverGreenJobs(s,!0),s}else return this.evergreenJobs},setEverGreenJobs(t,e){this.evergreenJobs=t,e&&y.setItem(D.storageEverGreenJobs,t)}}});var je={get dev(){return!1},get baseURL(){return this.dev?this.productionURL:this.productionURL},get token(){return this.dev?this.prodToken:this.prodToken},productionURL:"https://api.disa.com/api",devURL:"https://apisandbox.disa.com/api",tokenType:"Basic",prodToken:"YnJhbmRzYWZ3YXlhcGk6WFhUSkxXNFMy",devToken:"QnJhbmRzYWZ3YXlhcGk6V0RYQ1YxTEM2"};class Cr{constructor(e,s){q(this,"axiosIns",null);q(this,"config",{...je});q(this,"isAlreadyFetchingAccessToken",!1);q(this,"subscribers",[]);this.axiosIns=e,this.config={...this.config,...s}}onAccessTokenFetched(e){this.subscribers=this.subscribers.filter(s=>s(e))}addSubscriber(e){this.subscribers.push(e)}async status(e,s,i){const r=[],a=[],o=[];let n={};s[10].forEach(w=>{const I=w.trim().replace("  "," ");o.push({name:I,label:`${I} Status`,status:"N/A",dateLabel:`Last ${I} Test`,date:"N/A",type:"DrugScreen"})}),(s[36]||s[10].includes("Background Only"))&&o.push({name:"Background",label:"Background Status",status:"Inactive",dateLabel:"Background Expiration Date",date:"N/A",type:"Background"});const c=[this.justChecking({ownerId:e.ownerId,socialSecurityNumbers:[e.ssn]},i),this.employeeStatus({employeeIdentifiers:{ssn:e.ssn}},i)],l=await Promise.allSettled(c),m=l[0].value.results;let v=[];if(l[1].status==="rejected")if(!e.firstName||!e.lastName||!e.phoneNumber)v=[];else{const w={employeeIdentifiers:{ssn:e.ssn,externalEmployeeId:jt(e.externalEmployeeId)?e.externalEmployeeId:""},firstName:e.firstName,lastName:e.lastName,phoneNumber:e.phoneNumber.replace(/[^0-9]/g,""),emailAddress:jt(e.email)?e.email:""};await this.createEmployee(w,i);try{v=await this.employeeStatus({employeeIdentifiers:{ssn:e.ssn}},i)}catch{v=[]}}else v=l[1].value;return m.length>0&&(n=m[0],n.dateChecked=x(),n.ownerStatus="Inactive",a.push({name:"Last Urine Test",date:x(n.lastUrineTest).isValid()?x(n.lastUrineTest).format("MM/DD/YYYY"):"N/A"}),a.push({name:"Last Hair Test",date:x(n.lastHairTest).isValid()?x(n.lastHairTest).format("MM/DD/YYYY"):"N/A"})),o.forEach(w=>{const I=v.find($=>{const P=$.policyId.split("-")[1].trim().split("Consortium Policy")[0].trim();return P===w.name?$:(w.name==="DCCHT w/ Randoms"||w.name==="DCCHT w/  Randoms")&&(P==="DCCHT w/Randoms"||P==="DCCHT w/ Randoms")?w:""});w.name==="Background"&&(n.backgrounds==="Active"&&(w.status="Active"),w.date=x(n.backgroundsExpDate).isValid()?x(n.backgroundsExpDate).format("MM/DD/YYYY"):"N/A"),w.name==="NASAP"&&(n.nasapStatus==="Active"&&(w.status="Active"),w.date=x(n.lastNASAPTest).isValid()?x(n.lastNASAPTest).format("MM/DD/YYYY"):"N/A"),w.name.startsWith("DCCHA")&&(w.dateLabel="Last Urine Test",w.date=x(n.lastUrineTest).isValid()?x(n.lastUrineTest).format("MM/DD/YYYY"):"N/A"),w.name.startsWith("DCCHT")&&(w.dateLabel="Last Hair Test",w.date=x(n.lastHairTest).isValid()?x(n.lastHairTest).format("MM/DD/YYYY"):"N/A"),w.name==="DCCOF"&&(a.push({name:"Last Oral Fluid Test",date:x(n.lastOralFluidTest).isValid()?x(n.lastOralFluidTest).format("MM/DD/YYYY"):"N/A"}),w.date=x(n.lastOralFluidTest).isValid()?x(n.lastOralFluidTest).format("MM/DD/YYYY"):"N/A"),I&&(w={...w,...I},w.status=I.policyStatus),r.push(w)}),r.find(w=>w.status==="Inactive"||w.status==="Inactive Retest"||w.status==="INACTIVE"||w.status==="Inactive Pending"||w.status==="")||n.dccStatus!=="ACTIVE"?n.ownerStatus="Inactive":n.ownerStatus="Active",{disaStatus:n,policies:r,testDates:a}}async justChecking(e){return this.axiosIns({method:"post",url:"/justChecking",data:e,withCredentials:!0}).then(s=>s.data).catch(s=>{throw s})}employeeStatus(e,s){return this.axiosIns.post("/employee/status",e,{headers:{Authorization:`Basic ${s}`}}).then(i=>i.data).catch(i=>{throw i})}policies(e){return this.axiosIns.get("/drugTest/policy",{headers:{Authorization:`Basic ${e}`}}).then(s=>s.data).catch(s=>{throw s})}testPurposes(e){return this.axiosIns.get("/drugTest/testPurpose",{headers:{Authorization:`Basic ${e}`}}).then(s=>s.data).catch(s=>{throw s})}clientLocations(e){return this.axiosIns.get("/client/locations",{headers:{Authorization:`Basic ${e}`}}).then(s=>s.data).catch(s=>{throw s})}collectionSites(e,s){let i="/drugTest/collectionSite";return e.collectionSiteId?i=`/drugTest/collectionSite/${e.collectionSiteId}`:e.zipCode&&e.radius?i=`/drugTest/collectionSite/zipCode/${e.zipCode}/radius/${e.radius}`:e.zipCode?i=`/drugTest/collectionSite/zipCode/${e.zipCode}`:e.countryCode&&e.stateProvinceCode&&e.cityName?i=`/drugTest/collectionSite/country/${e.countryCode}/stateProvince/${e.stateProvinceCode}/city/${e.cityName}`:e.countryCode&&e.stateProvinceCode&&(i=`/drugTest/collectionSite/country/${e.countryCode}/stateProvince/${e.stateProvinceCode}`),this.axiosIns.get(i,{headers:{Authorization:`Basic ${s}`}}).then(r=>r.data).catch(r=>{throw r})}orderECCF(e,s){return this.axiosIns.post("/drugTest/eccf/order",e,{headers:{Authorization:`Basic ${s}`}}).then(i=>i.data).catch(i=>{throw i})}validateECCF(e,s){return this.axiosIns.post("/drugTest/eccf/validate",e,{headers:{Authorization:`Basic ${s}`}}).then(i=>i.data).catch(i=>{throw i})}getECCFOrder(e,s){if(!e.authorizationNumber)throw"Authorization Number Required!";let i=`/drugTest/eccf/order/${e.authorizationNumber}`;return e.policyId&&e.authorizationNumber&&(i=`/drugTest/eccf/order/${e.authorizationNumber}/policy/${e.policyId}`),this.axiosIns.get(i,{headers:{Authorization:`Basic ${s}`}}).then(r=>r.data).catch(r=>{throw r})}getECCFOrderStatus(e,s){if(!e.authorizationNumber)throw"Authorization Number Required!";let i=`/drugTest/eccf/order/${e.authorizationNumber}/status`;return e.policyId&&e.authorizationNumber&&(i=`/drugTest/eccf/order/${e.authorizationNumber}/policy/${e.policyId}/status`),this.axiosIns.get(i,{headers:{Authorization:`Basic ${s}`}}).then(r=>r.data).catch(r=>{throw r})}}const jt=t=>!(typeof t=="undefined"||t===null||t==="");function Or(t,e){return{disa:new Cr(t,e)}}const Ir=Ut(Bt.create({baseURL:je.baseURL,timeout:5e4,headers:{"Content-Type":"application/json",Authorization:`${je.tokenType} ${je.token}`}}),{maxRequests:6,perMilliseconds:1e3}),{disa:Dr}=Or(Ir,{}),Me=te("hiring",{state:()=>({deployments:[],dispatches:[],inprocesses:[],assignments:[],flaggedAssignments:[],newEmployee:{}}),getters:{userAccess(){const{userAccess:t}=z();return t||[]},deploymentsForProject(){const{active:t}=z();return this.modifiedDeployment.length>0?this.modifiedDeployment.filter(e=>e.map.pid===t[3]):[]},alreadyArrived(){const{active:t}=z();return this.modifiedDeployment.filter(e=>e[20]==="Complete"&&e.map.pid===t[3])},deploymentQuery(){let t="";return this.userAccess.forEach((e,s)=>{t+=`{'134'.EX.'${e[3]}'}${s<this.userAccess.length-1?"OR":""}`}),`(${t})AND({'33'.OAF.'today'}OR{'33'.IR.'last 10 d'})AND({'20'.EX.'In Process'}OR{'20'.EX.'Complete'})AND{'128'.EX.'Yes'}AND({'27'.EX.'6'}OR{'27'.EX.'7'})`},dispatchQuery(){let t="";return this.userAccess.forEach((e,s)=>{t+=`{'94'.EX.'${e[3]}'}${s<this.userAccess.length-1?"OR":""}`}),`(${t})AND{'17'.EX.'In Process'}`},inProcessQuery(){let t="";return this.userAccess.forEach((e,s)=>{t+=`{'108'.EX.'${e[3]}'}${s<this.userAccess.length-1?"OR":""}`}),`(${t})AND{'37'.EX.'In Process'}`},assignmentQuery(){let t="";return this.userAccess.forEach((e,s)=>{t+=`{'74'.EX.'${e[3]}'}${s<this.userAccess.length-1?"OR":""}`}),`(${t})AND{'21'.EX.'In Process'}AND{'102'.EX.'Active'}`},pipelineForProject(){const{active:t}=z();return this.modifiedInProcess.concat(this.modifiedDispatch).concat(this.modifiedDeployment).filter(s=>s.map.pid===t[3])},assignmentsForProject(){const{active:t}=z();return this.modifiedAssignments.filter(e=>e.map.pid===t[3])},modifiedInProcess(){const t=[];return this.inprocesses.forEach(e=>{const s={pid:e[108],name:e[39],phone:e[14],status:"In Process",offerDate:e[197].$d,fullJob:e[106],craft:e[175],job:e[120],start:null,jobNumber:e[44],workdayId:e[216]};Object.assign(e,{map:s}),t.push(e)}),t},modifiedDeployment(){const t=[];return this.deployments.forEach(e=>{const s={pid:e[134],name:e[31],phone:e[42],status:"Deployed",offerDate:e[144]===void 0?"":e[144].$d,fullJob:e[45],craft:e[132],job:e[60],start:e[33],jobNumber:e[85],workdayId:e[152],contact:e[186]};Object.assign(e,{map:s}),t.push(e)}),t},modifiedDispatch(){const t=[];return this.dispatches.forEach(e=>{const s={pid:e[157],name:e[25],phone:e[14],status:"In Process",offerDate:e[165].$d,fullJob:e[45],craft:e[141],job:e[76],start:null,jobNumber:e[63],workdayId:e[178]};Object.assign(e,{map:s}),t.push(e)}),t},modifiedAssignments(){const t=[];return this.assignments.forEach(e=>{const s={pid:e[74],name:e[75],phone:e[76],status:"Arrived",offerDate:e[79].$d,fullJob:e[20],craft:e[68],job:e[33],start:e[1].$d,jobNumber:e[105],workdayId:e[104]};Object.assign(e,{map:s}),t.push(e)}),t},getFlaggedAssignments(){return this.assignmentsForProject.filter(t=>t[112])},getNewEmployee:t=>t.newEmployee},actions:{refreshAssignment({assignment:t}){const e=this.assignments.findIndex(s=>s[3]===t[3]);e>-1&&(this.assignments[e]=t)},async checkDisa({project:t,roster:e}){const s=[];e.forEach(r=>{r.employee[188].length===9&&s.push(r.employee[188])});const i={ownerId:t[322],socialSecurityNumbers:s};try{const a=(await Dr.justChecking(i)).results;console.log(a);const o=[];a.forEach(c=>{c.dateChecked=x(),t[321][36]&&c.dccStatus==="ACTIVE"||c.dccStatus==="ACTIVE"?c.ownerStatus="Active":c.ownerStatus="Inactive";const l=c.socialSecurityNumber.slice(c.socialSecurityNumber.length-4),m=c.name.toLowerCase().trim(),v=e.filter(k=>k.employee[188].slice(k.employee[188].length-4)===l?k:null);if(v.length===1){const k={6:{value:v[0].employee[3]},7:{value:v[0].offer[3]},10:{value:JSON.stringify(c)}};o.push(k)}else if(v.length>1){const k=v.find(w=>{const I=w.employee[20].toLowerCase().trim().split(),$=w.employee[22].toLowerCase().trim().split();return m.includes(I)||m.includes($)?w:null});if(k){const w={6:{value:k.employee[3]},7:{value:k.offer[3]},10:{value:JSON.stringify(c)}};o.push(w)}}else console.log(c)});const{data:n}=await C.upsertRecordsXML({to:"bsfjg3kz9",data:o,fieldsToReturn:[15],formatObject:15});if(!n.length>0)throw"Something went wrong";n.forEach(c=>{const l=this.assignments.findIndex(m=>m.employee[3]===c[15][6]);l>-1?this.assignments[l].employee[556]=c[15]:console.log("no employee found")})}catch(r){throw console.log(r),"Something went wrong"}},async checkHiringData(){const{getUser:t}=J();if(t[11]===11)return await this.getDeployments();if(t[11]===5)return await this.getHiringData()},async getHiringData(){const t=await this.getDeployments();return this.getDispatches(),this.getInProcesses(),this.getAssignments(),t},async getInProcesses(){if(this.inprocesses.length===0){const{data:t}=await C.fetchFromHiringApp({fields:[{6:{value:"bp3gawbee"},7:{value:"Table Query"},8:{value:this.inProcessQuery},9:{value:1},14:{value:239}}]});return this.inprocesses=t,t}else return this.inprocesses},async getDispatches(){if(this.dispatches.length===0){const{data:t}=await C.fetchFromHiringApp({fields:[{6:{value:"bp3gaxedv"},7:{value:"Table Query"},8:{value:this.dispatchQuery},9:{value:1},14:{value:193}}]});return this.dispatches=t,t}else return this.dispatches},async getDeployments(){if(this.deployments.length===0){const{data:t}=await C.fetchFromHiringApp({fields:[{6:{value:"bp3gaymc3"},7:{value:"Table Query"},8:{value:this.deploymentQuery},9:{value:1},14:{value:201}}]});return this.deployments=t,t}else return this.dispatches},async getAssignments(){if(this.assignments.length===0){const{data:t}=await C.fetchFromHiringApp({fields:[{6:{value:"bp3gazpqj"},7:{value:"Table Query"},8:{value:this.assignmentQuery},9:{value:1},14:{value:108}}]});return console.log(t),this.assignments=t,t}else return this.assignments},async updateArrival({row:t,added:e}){const s=t,i=this.deployments.find(r=>r[3]===s[3]?r:!1);i&&(e?(await this.addAssignment(i),await this.editEmployee({id:i.employee[3],status:7}),this.editDeployment(i[3],"Complete")):(await this.cancelAssignment(i),await this.editEmployee({id:i.employee[3],status:6}),this.editDeployment(i[3],"In Process")))},async editEmployee({id:t,status:e}){const{data:s}=await C.upsertRecordsXML({to:"bp3gb7ng2",data:[{3:{value:t},79:{value:e}}],fieldsToReturn:[3]});if(s[0]===void 0)throw"Something went wrong";return s[0]},async editDeployment(t,e){const{data:s}=await C.upsertRecordsXML({to:"bp3gaymc3",data:[{3:{value:t},20:{value:e},22:{value:new Date}}],fieldsToReturn:[201],formatObject:201});if(s[0]!==void 0){const i=this.deployments.findIndex(r=>r[3]===s[0][201][3]);i>-1&&(this.deployments[i]=s[0][201])}},async addAssignment(t){const{data:e}=await C.upsertRecordsXML({to:"bp3gazpqj",data:[{6:{value:t[3]},13:{value:t[15]},18:{value:t.employee[3]},60:{value:""}}],fieldsToReturn:[108],formatObject:108});if(e[0]===void 0)throw"There was an error";return this.assignments.push(e[0][108]),e[0]},async cancelAssignment(t){const{data:e}=await C.upsertRecordsXML({to:"bp3gazpqj",data:[{3:{value:t.assignment[0][3]},22:{value:new Date},21:{value:"Canceled"},19:{value:""},60:{value:""}}],fieldsToReturn:[108],formatObject:108});if(e[0]===void 0)throw"There was an error";{const s=this.assignments.findIndex(i=>i[3]===e[0][108][3]);s>-1&&this.assignments.splice(s,1)}return e[0]},async flagAssignment({record:t,status:e}){const{data:s}=await C.upsertRecordsXML({to:"bp3gazpqj",data:[{3:{value:t[3]},112:{value:e}}],fieldsToReturn:[108],formatObject:108});if(s[0]===void 0)throw"There was an error";{const i=this.assignments.findIndex(r=>r[3]===s[0][108][3]);i>-1&&(this.assignments[i]=s[0][108])}return s[0]},updateNewEmployee({info:t}){for(const[e,s]of Object.entries(t))this.newEmployee[e]===void 0?Object.assign(this.newEmployee,{[e]:{value:s}}):this.newEmployee[e]=s}}}),Mt=te("request",{state:()=>({requests:[],newRequest:{},addedClassifications:[],addedNames:[]}),getters:{getClassifications(){return this.addedClassifications},getNames(){const t=[];return this.addedClassifications.forEach(e=>{e.names.forEach(s=>{t.push(s)})}),t},activeProject(){const{active:t}=z();return t},requestOptions(){return{contacts:[...new Map(this.activeProject.contacts.map(t=>[t[18],t])).values()],crafts:this.activeProject.crafts,jobNumbers:this.activeProject.jobNumbers,locations:this.activeProject.locations,perdiem:this.activeProject.perdiem}},siteContacts(){return[...new Map(this.activeProject.contacts.map(t=>[t[18],t])).values()]},requestQuery(){const{userAccess:t}=J();let e="";return t.forEach((s,i)=>{e+=`{'6'.EX.'${s[9]}'}${i<t.length-1?"OR":""}`}),`(${e})AND{'14'.XEX.'Canceled'}AND{'147'.XEX.'6'}`},modifiedOpenRequests(){const{active:t}=z(),{modifiedInProcess:e,modifiedDispatch:s,modifiedDeployment:i,modifiedAssignments:r}=Me(),a=[];return t.openRequests.forEach(o=>{o.classes.forEach(c=>{Object.assign(c,{duration:c[17]==="Closed"?x.duration(x(c[50].$d).diff(x(c[29].$d))).humanize():x(c[50].$d).fromNow(),aboveAvg:c[23]>c.avgRate,aboveAmount:c[23]>c.avgRate?`$ ${(c[23]-c.avgRate).toFixed(2)} above average`:"",balance:c[18]-c.offers.filter(l=>l[21]==="Accepted").length,offers:c.offers,offersCount:c.offers.length,accepted:c.offers.filter(l=>l[21]==="Accepted"),rejected:c.offers.filter(l=>l[21]==="Rejected"),rescinded:c.offers.filter(l=>l[21]==="Rescinded"),need:c[18],title:`${c[43]} ${c[12]}`})});const n={openDate:o[82],closedDate:o[86],id:o[3],pid:o[6],office:o[103],jobNumber:o[27],offers:o.offers,offersCount:o.offers.length,accepted:o.offers.filter(c=>c[21]==="Accepted"),rejected:o.offers.filter(c=>c[21]==="Rejected"),rescinded:o.offers.filter(c=>c[21]==="Rescinded"),deployNumber:o[243],balance:o.classes.reduce((c,l)=>c+l[18],0)-o.offers.filter(c=>c[21]==="Accepted").length,need:o.classes.reduce((c,l)=>c+l[18],0),inprocesses:e.filter(c=>c[138]===o[3]),dispatches:s.filter(c=>c[95]===o[3]),deployments:i.filter(c=>c[80]===o[3]),assignments:r.filter(c=>c[109]===o[3]),status:o[14],hot:o[121],duration:x(o[82].$d).fromNow()};Object.assign(o,{map:n}),a.push(o)}),a},modifiedClosedRequests(){const{active:t}=z(),{modifiedInProcess:e,modifiedDispatch:s,modifiedDeployment:i,modifiedAssignments:r}=Me(),a=[];return t.closedRequests.forEach(o=>{o.classes.forEach(c=>{Object.assign(c,{duration:x.duration(x(c[50].$d).diff(x(c[29].$d))).humanize(),balance:c[18]-c.offers.filter(l=>l[21]==="Accepted").length,offers:c.offers,offersCount:c.offers.length,accepted:c.offers.filter(l=>l[21]==="Accepted"),rejected:c.offers.filter(l=>l[21]==="Rejected"),rescinded:c.offers.filter(l=>l[21]==="Rescinded"),need:c[18],title:`${c[43]} ${c[12]}`})});const n={created:x(o[82].$d).fromNow(),openDate:o[82],closedDate:o[86],id:o[3],pid:o[6],office:o[103],jobNumber:o[27],need:o.classes.reduce((c,l)=>c+l[18],0),offers:o.offers,offersCount:o.offers.length,accepted:o.offers.filter(c=>c[21]==="Accepted"),rejected:o.offers.filter(c=>c[21]==="Rejected"),rescinded:o.offers.filter(c=>c[21]==="Rescinded"),deployNumber:o[243],balance:o.classes.reduce((c,l)=>c+l[18],0)-o.offers.filter(c=>c[21]==="Accepted").length,inprocesses:e.filter(c=>c[138]===o[3]),dispatches:s.filter(c=>c[95]===o[3]),deployments:i.filter(c=>c[80]===o[3]),assignments:r.filter(c=>c[109]===o[3]),status:o[14],hot:o[121],duration:x.duration(x(o[82].$d).diff(x(o[86].$d))).humanize(),durationRaw:x.duration(x(o[82].$d).diff(x(o[86].$d))).as("milliseconds")};Object.assign(o,{map:n}),a.push(o)}),a},modifiedPendingRequests(){const{active:t}=z(),{modifiedInProcess:e,modifiedDispatch:s,modifiedDeployment:i,modifiedAssignments:r}=Me(),a=[];return t.pendingRequests.forEach(o=>{o.classes.forEach(c=>{Object.assign(c,{duration:x.duration(x(c[50].$d).diff(x(c[29].$d))).humanize(),balance:c[18]-c.offers.filter(l=>l[21]==="Accepted").length,offers:c.offers,offersCount:c.offers.length,accepted:c.offers.filter(l=>l[21]==="Accepted"),rejected:c.offers.filter(l=>l[21]==="Rejected"),rescinded:c.offers.filter(l=>l[21]==="Rescinded"),need:c[18],title:`${c[43]} ${c[12]}`})});const n={created:x(o[82].$d).fromNow(),openDate:o[82],closedDate:o[86],id:o[3],pid:o[6],office:o[103],jobNumber:o[27],need:o.classes.reduce((c,l)=>c+l[18],0),offers:o.offers,offersCount:o.offers.length,accepted:o.offers.filter(c=>c[21]==="Accepted"),rejected:o.offers.filter(c=>c[21]==="Rejected"),rescinded:o.offers.filter(c=>c[21]==="Rescinded"),deployNumber:o[243],balance:o.classes.reduce((c,l)=>c+l[18],0)-o.offers.filter(c=>c[21]==="Accepted").length,inprocesses:e.filter(c=>c[138]===o[3]),dispatches:s.filter(c=>c[95]===o[3]),deployments:i.filter(c=>c[80]===o[3]),assignments:r.filter(c=>c[109]===o[3]),status:o[14],hot:o[121],duration:x.duration(x(o[82].$d).diff(x(o[86].$d))).humanize(),durationRaw:x.duration(x(o[82].$d).diff(x(o[86].$d))).as("milliseconds")};Object.assign(o,{map:n}),a.push(o)}),a.sort((o,n)=>o[1].$d>n[1].$d?-1:1)},openRequestsForProject(){return this.modifiedOpenRequests.length>0?this.modifiedOpenRequests:[]},closedRequestsForProject(){return this.modifiedClosedRequests.length>0?this.modifiedClosedRequests:[]},pendingRequestsForProject(){return this.modifiedPendingRequests.length>0?this.modifiedPendingRequests:[]},openRequestsForProjectSummary(){const t=[];this.openRequestsForProject.forEach(i=>{i.classes.forEach(r=>{t.push(r)})});const{length:e}=t,s=t.reduce((i,r)=>i+r[23]/e,0);return{requestCount:this.openRequestsForProject.length,classCount:this.openRequestsForProject.reduce((i,r)=>i+r.classes.length,0),need:this.openRequestsForProject.reduce((i,r)=>i+r.map.need,0),offers:this.openRequestsForProject.reduce((i,r)=>i+r.map.offersCount,0),balance:this.openRequestsForProject.reduce((i,r)=>i+r.map.balance,0),avgRate:s.toFixed(2)}},closedRequestsForProjectSummary(){const t=[];this.closedRequestsForProject.forEach(i=>{i.classes.forEach(r=>{t.push(r)})});const{length:e}=t,s=t.reduce((i,r)=>i+r[23]/e,0);return{requestCount:this.closedRequestsForProject.length,classCount:this.closedRequestsForProject.reduce((i,r)=>i+r.classes.length,0),need:this.closedRequestsForProject.reduce((i,r)=>i+r.map.need,0),offers:this.closedRequestsForProject.reduce((i,r)=>i+r.map.offersCount,0),balance:this.closedRequestsForProject.reduce((i,r)=>i+r.map.balance,0),avgRate:s.toFixed(2),avgDuration:x.duration(this.closedRequestsForProject.reduce((i,r)=>i+r.map.durationRaw/this.closedRequestsForProject.length,0)).humanize()}},pendingRequestsForProjectSummary(){const t=[];this.pendingRequestsForProject.forEach(i=>{i.classes.forEach(r=>{t.push(r)})});const{length:e}=t,s=t.reduce((i,r)=>i+r[23]/e,0);return{requestCount:this.pendingRequestsForProject.length,classCount:this.pendingRequestsForProject.reduce((i,r)=>i+r.classes.length,0),need:this.pendingRequestsForProject.reduce((i,r)=>i+r.map.need,0),offers:this.pendingRequestsForProject.reduce((i,r)=>i+r.map.offersCount,0),balance:this.pendingRequestsForProject.reduce((i,r)=>i+r.map.balance,0),avgRate:s.toFixed(2)}},nameRequestsForProject(){const t=[],e=this.openRequestsForProject.concat(this.pendingRequestsForProject),s=[];return e.forEach(i=>{i.classes.forEach(r=>{s.push(r)})}),s.forEach(i=>{i.names.forEach(r=>{Object.assign(r,{expand:!1}),t.push(r)})}),t}},actions:{pushClassification(t){this.addedClassifications.push(t)},spliceClassification({item:t}){const e=this.addedClassifications.findIndex(s=>s.id===t.id);e>-1&&this.addedClassifications.splice(e,1)},pushName(t){const e=this.addedClassifications.findIndex(s=>s.id===t.classification.id);this.addedClassifications[e].names===void 0?Object.assign(this.addedClassifications[e],{names:[t]}):this.addedClassifications[e].names.push(t),console.log(this.addedClassifications),console.log(this.getNames)},spliceName({item:t}){const e=this.addedNames.findIndex(s=>s.id===t.id);e>-1&&this.addedNames.splice(e,1)},async storeRequest({request:t}){const{checkForMatch:e}=z(),s=await e({request:t}),{addPendingRequest:i}=z(),{getUser:r}=J();this.newRequest=t;const a={6:{value:this.activeProject[3]},14:{value:"Pending"},92:{value:this.activeProject[12]},9:{value:t.jobNumber[3]},31:{value:t.location[3]},60:{value:t.contact[3]},64:{value:V.formatDate(t.dateNeeded,"MM-DD-YYYY")},68:{value:t.perdiem!==void 0?"Yes":"No"},82:{value:new Date},272:{value:r[3]},147:{value:2},281:{value:!0},280:{value:s?s[3]:""},282:{value:t.restriction.value},284:{value:t.reason.value}};t.perdiem&&t.perdiem[3]!==void 0&&Object.assign(a,{65:{value:t.perdiem[3]}});const{data:o}=await C.upsertRecordsXML({to:"bpzpyjbuy",data:[a],fieldsToReturn:[266],formatObject:266});if(o.length>0){this.newRequest=o[0][266];const n=[],c=[];return this.addedClassifications.forEach(m=>{const v={6:{value:this.newRequest[3]},9:{value:m.job[3]},17:{value:"Pending"},18:{value:m.qty},23:{value:m.rate},238:{value:m.id}};n.push(v),m.names.length>0&&m.names.forEach(k=>{c.push(k)})}),(await this.upsertClassifications({fields:n,names:c})).forEach(m=>{this.newRequest.classes.push(m[220])}),i(this.newRequest),!0}else return!1},async addToRequest({request:t}){const{mergePendingRequest:e}=z();this.newRequest=t;const s=[],i=[];return this.addedClassifications.forEach(a=>{const o=t.classes.find(c=>c[9]===a.job[3]&&c[23]===parseFloat(a.rate)),n=o===void 0?{6:{value:this.newRequest[3]},9:{value:a.job[3]},17:{value:"Pending"},18:{value:parseInt(a.qty)<a.names.length?a.names.length:a.qty},23:{value:a.rate},238:{value:a.id}}:{3:{value:o[3]},18:{value:parseInt(a.qty)<a.names.length?a.names.length+o[18]:parseInt(a.qty)+o[18]},238:{value:a.id}};s.push(n),a.names.length>0&&a.names.forEach(c=>{i.push(c)})}),(await this.upsertClassifications({fields:s,names:i})).forEach(a=>{const o=!this.newRequest.classes||this.newRequest.classes.length===0?-1:this.newRequest.classes.findIndex(n=>n[3]===a[220][3]);o<0?this.newRequest.classes.push(a[220]):this.newRequest.classes[o]=a[220]}),e(this.newRequest),t},async upsertClassifications({fields:t,names:e}){const{getUser:s}=J(),{data:i}=await C.upsertRecordsXML({to:"bpzpyqcu4",data:t,fieldsToReturn:[220],formatObject:220});if(i.length>0)if(e.length>0){const r=[];e.forEach(o=>{const n={6:{value:o.firstName},7:{value:o.lastName},8:{value:o.phone},19:{value:x().tz("America/Chicago")},16:{value:o.ssn},10:{value:"Has Not Arrived"},14:{value:`${s[35]} ${s[37]}`}},c=i.find(l=>l[220][238]===o.classification.id);c!==void 0&&Object.assign(n,{17:{value:c[220][3]}}),r.push(n)});const a=await C.upsertRecordsXML({to:"bsg4yb4wa",data:r,fieldsToReturn:[15],formatObject:15});if(a.data.length>0)return a.data.forEach(o=>{const n=i.findIndex(c=>c[220][3]===o[15][17]);i[n][220].names===void 0?Object.assign(i[n][220],{names:[o[15]]}):i[n][220].names.push(o[15])}),i;throw"Something went wrong"}else return i;else throw"Something went wrong"},resetRequest(){this.newRequest={},this.addedClassifications=[],this.addedNames=[]},async submitCancelRequest({request:t}){const{removeRequest:e}=z(),{getUser:s}=J(),i=[];if(t.classes.forEach(a=>{const o={3:{value:a[3]},17:{value:"Cancelled"},51:{value:new Date},128:{value:6}};i.push(o)}),i.length>0)try{await C.upsertRecordsXML({to:"bpzpyqcu4",data:i,fieldsToReturn:[220],formatObject:220})}catch{throw"There was a problem. Try again later."}const{data:r}=await C.upsertRecordsXML({to:"bpzpyjbuy",data:[{3:{value:t[3]},14:{value:"Cancelled"},84:{value:new Date},147:{value:6},276:{value:s[3]},277:{value:`${s[35]} ${s[37]}`}}],fieldsToReturn:[266],formatObject:266});if(r.length>0)return e({request:r[0][266]}),!0;throw"There was a problem. Try again later."},async submitCancelClassification({item:t}){const{removeClassification:e}=z(),s=[{3:{value:t[3]},17:{value:"Cancelled"},51:{value:new Date},128:{value:6}}],{data:i}=await C.upsertRecordsXML({to:"bpzpyqcu4",data:s,fieldsToReturn:[220],formatObject:220});if(i.length>0){if(i[0][220][243]>0)return e({classification:i[0][220]}),"Classification removed!";{const r={3:i[0][220][6],classes:[]};return await this.submitCancelRequest({request:r}),"Classification removed and request canceled!"}}else throw"There was a problem. Try again later."},async upsertName({name:t,action:e}){const{getUser:s}=J(),{refreshClassification:i}=z(),r=e==="create"?{6:{value:t.firstName},7:{value:t.lastName},8:{value:t.phone},17:{value:t.classification[3]},19:{value:x().tz("America/Chicago")},16:{value:t.ssn},10:{value:"Has Not Arrived"},14:{value:`${s[35]} ${s[37]}`}}:{3:{value:t[3]},11:{value:!0},12:{value:x().tz("America/Chicago")},13:{value:`${s[35]} ${s[37]}`}},{data:a}=await C.upsertRecordsXML({to:"bsg4yb4wa",data:[r],fieldsToReturn:[20],formatObject:20});if(a[0]!==void 0)return i({classification:a[0][20]}),a[0][20]}}}),{capitalize:qt}=Ys,z=te("projects",{state:()=>({projects:[],requests:[],activeProject:{},matrixColumns:[]}),getters:{active(){return this.activeProject[3]!==void 0?this.activeProject:this.projects.length>0?this.projects[0]:{openRequests:[],closedRequests:[]}},userAccess(){return this.projects.length>0?this.projects:null},projectCrafts(){return this.active.crafts!==void 0?this.active.crafts.sort((t,e)=>t.order>e.order?1:-1):null},usersForProject(){return this.active.users!==void 0?this.active.users:[]},availableMatrixColumns(){const t=this.active?this.active.matrix:[],e=[];return this.matrixColumns.forEach(s=>{t.findIndex(r=>r[7]===s[7])<0&&e.push(s)}),e.forEach(s=>{const i=s[7].split(" ");let r="";i.forEach((a,o)=>{r+=o>0?` ${qt(a)}`:qt(a)}),s[7]=r}),e.length>0?[...new Map(e.map(s=>[s[7],s])).values()]:[]}},actions:{addNewMatrixColumn({project:t,data:e}){const s=this.projects.findIndex(i=>i[3]===t[3]);s>-1&&this.projects[s].matrix.push(e)},async getMatrixColumns(){if(this.matrixColumns.length===0){const{data:t}=await C.fetchFromProjectsApp({fields:[{14:{value:12},9:{value:1},8:{value:"{3.GT.0}"},7:{value:"Table Query"},6:{value:"bsiy5quec"}}]});return this.matrixColumns=t,this.availableMatrixColumns}},refreshClassification({classification:t}){const e=this.projects.findIndex(s=>s[3]===t[7]);if(t[131]==="Pending"){const s=this.projects[e].pendingRequests.findIndex(r=>r[3]===t[6]),i=this.projects[e].pendingRequests[s].classes.findIndex(r=>r[3]===t[3]);this.projects[e].pendingRequests[s].classes[i]=t}else if(t[131]==="Open"){const s=this.projects[e].openRequests.findIndex(r=>r[3]===t[6]),i=this.projects[e].openRequests[s].classes.findIndex(r=>r[3]===t[3]);this.projects[e].openRequests[s].classes[i]=t}},addUser({user:t}){this.projects.find(s=>s[3]===this.active[3]).users.push(t)},updateActive({project:t}){this.activeProject=t},async getProjectsData(){const{userAccess:t}=J();return t.forEach(e=>{if(e[7]==="Project"){const s=e.project?e.project:{};(s[3]===void 0?0:this.projects.findIndex(r=>r[3]===s[3]))<0&&this.projects.push(s)}else e[7]==="Facility"&&e.facility.projects.forEach(i=>{this.projects.findIndex(a=>a[3]===i[3])<0&&this.projects.push(i)})}),this.projects},addPendingRequest(t){const e=this.projects.findIndex(s=>s[3]===t[6]);if(e>-1){this.projects[e].pendingRequests.unshift(t);const{resetRequest:s}=Mt();s()}},mergePendingRequest(t){console.log(t),Object.assign(t,{updated:!0});const e=this.projects.findIndex(s=>s[3]===t[6]);if(e>-1){const s=this.projects[e].pendingRequests.findIndex(r=>r[3]===t[3]);s>-1&&(this.projects[e].pendingRequests[s]=t,setTimeout(()=>{this.projects[e].pendingRequests[s].updated=!1},1e4));const{resetRequest:i}=Mt();i()}},removeRequest({request:t}){const e=this.projects.findIndex(s=>s[3]===t[6]);if(e>-1){const s=this.projects[e].pendingRequests.findIndex(i=>i[3]===t[3]);s>-1&&this.projects[e].pendingRequests.splice(s,1)}},removeClassification({classification:t}){const e=this.projects.findIndex(s=>s[3]===t[7]);if(e>-1){const s=this.projects[e].pendingRequests.findIndex(i=>i[3]===t[6]);if(s>-1){const i=this.projects[e].pendingRequests[s].classes.findIndex(r=>r[3]===t[3]);i>-1&&this.projects[e].pendingRequests[s].classes.splice(i,1)}}},udpateProjectCrafts({craft:t}){const e=this.projects.findIndex(s=>s[3]===t[7]);if(e>-1){const s=this.projects[e].crafts.findIndex(i=>i[3]===t[3]);s>-1&&(this.projects[e].crafts[s]=t)}},async checkForMatch({request:t}){let e;return t.perdiem===void 0?e=this.active.openRequests.filter(s=>s[9]===t.jobNumber[3]&&s[31]===t.location[3]&&s[60]===t.contact[3]):e=this.active.openRequests.filter(s=>s[9]===t.jobNumber[3]&&s[31]===t.location[3]&&s[60]===t.contact[3]&&s[65]===t.perdiem[3]),e.length>0?(e.sort((s,i)=>s[1].$d<i[1].$d?1:-1),e[0]):null}}}),Qe=te("processStore",{state:()=>({selectedOffice:null,selfCheckIns:{},profiles:{},scheduledInterviews:{},inProcessInterviews:{},inProcess:{},pending:{},deployments:{},requestedTimeStamps:{}}),getters:{getSelfCheckIns:t=>e=>{if(e)return t.selfCheckIns[e]?t.selfCheckIns[e]:[];{let s=[];return Object.keys(t.selfCheckIns).forEach(i=>{s=s.concat(t.selfCheckIns[i])}),s}},getProfiles:t=>e=>{if(e)return t.profiles[e]?t.profiles[e]:[];{let s=[];return Object.keys(t.profiles).forEach(i=>{s=s.concat(t.profiles[i])}),s}},getScheduledInterviews:t=>e=>{if(e)return t.scheduledInterviews[e]?t.scheduledInterviews[e]:[];{let s=[];return Object.keys(t.scheduledInterviews).forEach(i=>{s=s.concat(t.scheduledInterviews[i])}),s}},getInProcessInterviews:t=>e=>{if(e)return t.inProcessInterviews[e]?t.inProcessInterviews[e]:[];{let s=[];return Object.keys(t.inProcessInterviews).forEach(i=>{s=s.concat(t.inProcessInterviews[i])}),s}},getInProcess:t=>e=>{if(e)return t.inProcess[e]?t.inProcess[e]:[];{let s=[];return Object.keys(t.inProcess).forEach(i=>{s=s.concat(t.inProcess[i])}),s}},getPending:t=>e=>{if(e)return t.pending[e]?t.pending[e]:[];{let s=[];return Object.keys(t.pending).forEach(i=>{s=s.concat(t.pending[i])}),s}},getDeployments:t=>e=>{if(e)return t.deployments[e]?t.deployments[e]:[];{let s=[];return Object.keys(t.deployments).forEach(i=>{s=s.concat(t.deployments[i])}),s}},getRequestedTimeStamps(t){return t.requestedTimeStamps},getSelectedOffice(t){return t.selectedOffice}},actions:{async fetchSelfCheckIns(t){const e=this.getRequestedTimeStamps[t.officeId]||{};let s=!0;const i=[{9:{value:t.officeId},7:{value:"Self Check-Ins"}}];if(e.selfCheckIns&&(e.selfCheckIns.isBefore(x().subtract(1,"minute"))?s=!0:s=t.refresh?t.refresh:!1),s){this.setTimeStamp({officeId:t.officeId,name:"selfCheckIns",timeStamp:x()},!0);const{data:r}=await C.fetchFromRecruitingApp({fields:i});return this.setSelfCheckIns({officeId:t.officeId,data:r},!0),{data:r}}else return{data:[]}},async fetchAllSelfCheckIns(t){const{userOffices:e}=J(),s=[];return e.forEach(r=>{let a=this.fetchSelfCheckIns({...t,officeId:r[8]});s.push(a)}),await Promise.allSettled(s)},async fetchProfiles(t){const e=this.getRequestedTimeStamps[t.officeId]||{};let s=!0;const i=[{9:{value:t.officeId},7:{value:"Employees"}}];if(e.profiles&&(e.profiles.isBefore(x().subtract(1,"minute"))?s=!0:s=t.refresh?t.refresh:!1),s){this.setTimeStamp({officeId:t.officeId,name:"profiles",timeStamp:x()},!0);const{data:r}=await C.fetchFromHiringApp({fields:i});return this.setProfiles({officeId:t.officeId,data:r},!0),{data:r}}else return{data:[]}},setTimeStamp({name:t,timeStamp:e,officeId:s},i){if(this.requestedTimeStamps[s]?this.requestedTimeStamps[s][t]=e:this.requestedTimeStamps[s]={[t]:e},i){const r=JSON.parse(JSON.stringify(this.requestedTimeStamps));y.setItem(`${D.storageProcessTimeStamps}`,r)}},setTimeStampState(t){this.requestedTimeStamps=t},setSelfCheckIns({officeId:t,data:e},s){this.selfCheckIns[t]=e,s&&y.setItem(`${D.storageSelfCheckIns}_${t}`,e)},setProfiles({officeId:t,data:e},s){this.profiles[t]=e,s&&y.setItem(`${D.storageProfiles}_${t}`,e)},setSelectedOffice(t,e){this.selectedOffice=t}}});var Tr={};/*!
 * device-uuid.js v1.0.4 (https://github.com/biggora/device-uuid/)
 * Copyright 2016-2017 Alexey Gordeyev
 * Licensed under MIT (https://github.com/biggora/device-uuid/blob/master/LICENSE)
 */(function(t){var e=["\\+https:\\/\\/developers.google.com\\/\\+\\/web\\/snippet\\/","googlebot","baiduspider","gurujibot","yandexbot","slurp","msnbot","bingbot","facebookexternalhit","linkedinbot","twitterbot","slackbot","telegrambot","applebot","pingdom","tumblr ","Embedly","spbot"],s=new RegExp("^.*("+e.join("|")+").*$"),i=function(r){r=r||{};var a={version:!1,language:!1,platform:!0,os:!0,pixelDepth:!0,colorDepth:!0,resolution:!1,isAuthoritative:!0,silkAccelerated:!0,isKindleFire:!0,isDesktop:!0,isMobile:!0,isTablet:!0,isWindows:!0,isLinux:!0,isLinux64:!0,isChromeOS:!0,isMac:!0,isiPad:!0,isiPhone:!0,isiPod:!0,isAndroid:!0,isSamsung:!0,isSmartTV:!0,isRaspberry:!0,isBlackberry:!0,isTouchScreen:!0,isOpera:!1,isIE:!1,isEdge:!1,isIECompatibilityMode:!1,isSafari:!1,isFirefox:!1,isWebkit:!1,isChrome:!1,isKonqueror:!1,isOmniWeb:!1,isSeaMonkey:!1,isFlock:!1,isAmaya:!1,isPhantomJS:!1,isEpiphany:!1,source:!1,cpuCores:!1};for(var o in r)r.hasOwnProperty(o)&&typeof a[o]!="undefined"&&(a[o]=r[o]);return this.options=a,this.version="1.0.0",this._Versions={Edge:/Edge\/([\d\w\.\-]+)/i,Firefox:/firefox\/([\d\w\.\-]+)/i,IE:/msie\s([\d\.]+[\d])|trident\/\d+\.\d+;.*[rv:]+(\d+\.\d)/i,Chrome:/chrome\/([\d\w\.\-]+)/i,Chromium:/(?:chromium|crios)\/([\d\w\.\-]+)/i,Safari:/version\/([\d\w\.\-]+)/i,Opera:/version\/([\d\w\.\-]+)|OPR\/([\d\w\.\-]+)/i,Ps3:/([\d\w\.\-]+)\)\s*$/i,Psp:/([\d\w\.\-]+)\)?\s*$/i,Amaya:/amaya\/([\d\w\.\-]+)/i,SeaMonkey:/seamonkey\/([\d\w\.\-]+)/i,OmniWeb:/omniweb\/v([\d\w\.\-]+)/i,Flock:/flock\/([\d\w\.\-]+)/i,Epiphany:/epiphany\/([\d\w\.\-]+)/i,WinJs:/msapphost\/([\d\w\.\-]+)/i,PhantomJS:/phantomjs\/([\d\w\.\-]+)/i,UC:/UCBrowser\/([\d\w\.]+)/i},this._Browsers={Edge:/edge/i,Amaya:/amaya/i,Konqueror:/konqueror/i,Epiphany:/epiphany/i,SeaMonkey:/seamonkey/i,Flock:/flock/i,OmniWeb:/omniweb/i,Chromium:/chromium|crios/i,Chrome:/chrome/i,Safari:/safari/i,IE:/msie|trident/i,Opera:/opera|OPR/i,PS3:/playstation 3/i,PSP:/playstation portable/i,Firefox:/firefox/i,WinJs:/msapphost/i,PhantomJS:/phantomjs/i,UC:/UCBrowser/i},this._OS={Windows10:/windows nt 10\.0/i,Windows81:/windows nt 6\.3/i,Windows8:/windows nt 6\.2/i,Windows7:/windows nt 6\.1/i,UnknownWindows:/windows nt 6\.\d+/i,WindowsVista:/windows nt 6\.0/i,Windows2003:/windows nt 5\.2/i,WindowsXP:/windows nt 5\.1/i,Windows2000:/windows nt 5\.0/i,WindowsPhone8:/windows phone 8\./,OSXCheetah:/os x 10[._]0/i,OSXPuma:/os x 10[._]1(\D|$)/i,OSXJaguar:/os x 10[._]2/i,OSXPanther:/os x 10[._]3/i,OSXTiger:/os x 10[._]4/i,OSXLeopard:/os x 10[._]5/i,OSXSnowLeopard:/os x 10[._]6/i,OSXLion:/os x 10[._]7/i,OSXMountainLion:/os x 10[._]8/i,OSXMavericks:/os x 10[._]9/i,OSXYosemite:/os x 10[._]10/i,OSXElCapitan:/os x 10[._]11/i,OSXSierra:/os x 10[._]12/i,Mac:/os x/i,Linux:/linux/i,Linux64:/linux x86_64/i,ChromeOS:/cros/i,Wii:/wii/i,PS3:/playstation 3/i,PSP:/playstation portable/i,iPad:/\(iPad.*os (\d+)[._](\d+)/i,iPhone:/\(iPhone.*os (\d+)[._](\d+)/i,Bada:/Bada\/(\d+)\.(\d+)/i,Curl:/curl\/(\d+)\.(\d+)\.(\d+)/i},this._Platform={Windows:/windows nt/i,WindowsPhone:/windows phone/i,Mac:/macintosh/i,Linux:/linux/i,Wii:/wii/i,Playstation:/playstation/i,iPad:/ipad/i,iPod:/ipod/i,iPhone:/iphone/i,Android:/android/i,Blackberry:/blackberry/i,Samsung:/samsung/i,Curl:/curl/i},this.DefaultAgent={isAuthoritative:!0,isMobile:!1,isTablet:!1,isiPad:!1,isiPod:!1,isiPhone:!1,isAndroid:!1,isBlackberry:!1,isOpera:!1,isIE:!1,isEdge:!1,isIECompatibilityMode:!1,isSafari:!1,isFirefox:!1,isWebkit:!1,isChrome:!1,isKonqueror:!1,isOmniWeb:!1,isSeaMonkey:!1,isFlock:!1,isAmaya:!1,isPhantomJS:!1,isEpiphany:!1,isDesktop:!1,isWindows:!1,isLinux:!1,isLinux64:!1,isMac:!1,isChromeOS:!1,isBada:!1,isSamsung:!1,isRaspberry:!1,isBot:!1,isCurl:!1,isAndroidTablet:!1,isWinJs:!1,isKindleFire:!1,isSilk:!1,isCaptive:!1,isSmartTV:!1,isUC:!1,isTouchScreen:!1,silkAccelerated:!1,colorDepth:-1,pixelDepth:-1,resolution:[],cpuCores:-1,language:"unknown",browser:"unknown",version:"unknown",os:"unknown",platform:"unknown",geoIp:{},source:"",hashInt:function(n){var c=0,l,m,v;if(n.length===0)return c;for(l=0,v=n.length;l<v;l++)m=n.charCodeAt(l),c=(c<<5)-c+m,c|=0;return c},hashMD5:function(n){function c(R,T){return R<<T|R>>>32-T}function l(R,T){var j,N,X,W,B;return X=R&2147483648,W=T&2147483648,j=R&1073741824,N=T&1073741824,B=(R&1073741823)+(T&1073741823),j&N?B^2147483648^X^W:j|N?B&1073741824?B^3221225472^X^W:B^1073741824^X^W:B^X^W}function m(R,T,j){return R&T|~R&j}function v(R,T,j){return R&j|T&~j}function k(R,T,j){return R^T^j}function w(R,T,j){return T^(R|~j)}function I(R,T,j,N,X,W,B){return R=l(R,l(l(m(T,j,N),X),B)),l(c(R,W),T)}function $(R,T,j,N,X,W,B){return R=l(R,l(l(v(T,j,N),X),B)),l(c(R,W),T)}function P(R,T,j,N,X,W,B){return R=l(R,l(l(k(T,j,N),X),B)),l(c(R,W),T)}function U(R,T,j,N,X,W,B){return R=l(R,l(l(w(T,j,N),X),B)),l(c(R,W),T)}function ke(R){for(var T,j=R.length,N=j+8,X=(N-N%64)/64,W=(X+1)*16,B=new Array(W-1),Re=0,le=0;le<j;)T=(le-le%4)/4,Re=le%4*8,B[T]=B[T]|R.charCodeAt(le)<<Re,le++;return T=(le-le%4)/4,Re=le%4*8,B[T]=B[T]|128<<Re,B[W-2]=j<<3,B[W-1]=j>>>29,B}function he(R){var T="",j="",N,X;for(X=0;X<=3;X++)N=R>>>X*8&255,j="0"+N.toString(16),T=T+j.substr(j.length-2,2);return T}function Se(R){R=R.replace(/\r\n/g,`
`);for(var T="",j=0;j<R.length;j++){var N=R.charCodeAt(j);N<128?T+=String.fromCharCode(N):N>127&&N<2048?(T+=String.fromCharCode(N>>6|192),T+=String.fromCharCode(N&63|128)):(T+=String.fromCharCode(N>>12|224),T+=String.fromCharCode(N>>6&63|128),T+=String.fromCharCode(N&63|128))}return T}var S=[],A,xe,Ce,ye,me,h,d,f,u,p=7,g=12,b=17,F=22,O=5,E=9,M=14,L=20,Q=4,ae=11,ie=16,_=23,Oe=6,Ie=10,De=15,Te=21;for(n=Se(n),S=ke(n),h=1732584193,d=4023233417,f=2562383102,u=271733878,A=0;A<S.length;A+=16)xe=h,Ce=d,ye=f,me=u,h=I(h,d,f,u,S[A+0],p,3614090360),u=I(u,h,d,f,S[A+1],g,3905402710),f=I(f,u,h,d,S[A+2],b,606105819),d=I(d,f,u,h,S[A+3],F,3250441966),h=I(h,d,f,u,S[A+4],p,4118548399),u=I(u,h,d,f,S[A+5],g,1200080426),f=I(f,u,h,d,S[A+6],b,2821735955),d=I(d,f,u,h,S[A+7],F,4249261313),h=I(h,d,f,u,S[A+8],p,1770035416),u=I(u,h,d,f,S[A+9],g,2336552879),f=I(f,u,h,d,S[A+10],b,4294925233),d=I(d,f,u,h,S[A+11],F,2304563134),h=I(h,d,f,u,S[A+12],p,1804603682),u=I(u,h,d,f,S[A+13],g,4254626195),f=I(f,u,h,d,S[A+14],b,2792965006),d=I(d,f,u,h,S[A+15],F,1236535329),h=$(h,d,f,u,S[A+1],O,4129170786),u=$(u,h,d,f,S[A+6],E,3225465664),f=$(f,u,h,d,S[A+11],M,643717713),d=$(d,f,u,h,S[A+0],L,3921069994),h=$(h,d,f,u,S[A+5],O,3593408605),u=$(u,h,d,f,S[A+10],E,38016083),f=$(f,u,h,d,S[A+15],M,3634488961),d=$(d,f,u,h,S[A+4],L,3889429448),h=$(h,d,f,u,S[A+9],O,568446438),u=$(u,h,d,f,S[A+14],E,3275163606),f=$(f,u,h,d,S[A+3],M,4107603335),d=$(d,f,u,h,S[A+8],L,1163531501),h=$(h,d,f,u,S[A+13],O,2850285829),u=$(u,h,d,f,S[A+2],E,4243563512),f=$(f,u,h,d,S[A+7],M,1735328473),d=$(d,f,u,h,S[A+12],L,2368359562),h=P(h,d,f,u,S[A+5],Q,4294588738),u=P(u,h,d,f,S[A+8],ae,2272392833),f=P(f,u,h,d,S[A+11],ie,1839030562),d=P(d,f,u,h,S[A+14],_,4259657740),h=P(h,d,f,u,S[A+1],Q,2763975236),u=P(u,h,d,f,S[A+4],ae,1272893353),f=P(f,u,h,d,S[A+7],ie,4139469664),d=P(d,f,u,h,S[A+10],_,3200236656),h=P(h,d,f,u,S[A+13],Q,681279174),u=P(u,h,d,f,S[A+0],ae,3936430074),f=P(f,u,h,d,S[A+3],ie,3572445317),d=P(d,f,u,h,S[A+6],_,76029189),h=P(h,d,f,u,S[A+9],Q,3654602809),u=P(u,h,d,f,S[A+12],ae,3873151461),f=P(f,u,h,d,S[A+15],ie,530742520),d=P(d,f,u,h,S[A+2],_,3299628645),h=U(h,d,f,u,S[A+0],Oe,4096336452),u=U(u,h,d,f,S[A+7],Ie,1126891415),f=U(f,u,h,d,S[A+14],De,2878612391),d=U(d,f,u,h,S[A+5],Te,4237533241),h=U(h,d,f,u,S[A+12],Oe,1700485571),u=U(u,h,d,f,S[A+3],Ie,2399980690),f=U(f,u,h,d,S[A+10],De,4293915773),d=U(d,f,u,h,S[A+1],Te,2240044497),h=U(h,d,f,u,S[A+8],Oe,1873313359),u=U(u,h,d,f,S[A+15],Ie,4264355552),f=U(f,u,h,d,S[A+6],De,2734768916),d=U(d,f,u,h,S[A+13],Te,1309151649),h=U(h,d,f,u,S[A+4],Oe,4149444226),u=U(u,h,d,f,S[A+11],Ie,3174756917),f=U(f,u,h,d,S[A+2],De,718787259),d=U(d,f,u,h,S[A+9],Te,3951481745),h=l(h,xe),d=l(d,Ce),f=l(f,ye),u=l(u,me);var Ns=he(h)+he(d)+he(f)+he(u);return Ns.toLowerCase()}},this.Agent={},this.getBrowser=function(n){switch(!0){case this._Browsers.Edge.test(n):return this.Agent.isEdge=!0,"Edge";case this._Browsers.PhantomJS.test(n):return this.Agent.isPhantomJS=!0,"PhantomJS";case this._Browsers.Konqueror.test(n):return this.Agent.isKonqueror=!0,"Konqueror";case this._Browsers.Amaya.test(n):return this.Agent.isAmaya=!0,"Amaya";case this._Browsers.Epiphany.test(n):return this.Agent.isEpiphany=!0,"Epiphany";case this._Browsers.SeaMonkey.test(n):return this.Agent.isSeaMonkey=!0,"SeaMonkey";case this._Browsers.Flock.test(n):return this.Agent.isFlock=!0,"Flock";case this._Browsers.OmniWeb.test(n):return this.Agent.isOmniWeb=!0,"OmniWeb";case this._Browsers.Opera.test(n):return this.Agent.isOpera=!0,"Opera";case this._Browsers.Chromium.test(n):return this.Agent.isChrome=!0,"Chromium";case this._Browsers.Chrome.test(n):return this.Agent.isChrome=!0,"Chrome";case this._Browsers.Safari.test(n):return this.Agent.isSafari=!0,"Safari";case this._Browsers.WinJs.test(n):return this.Agent.isWinJs=!0,"WinJs";case this._Browsers.IE.test(n):return this.Agent.isIE=!0,"IE";case this._Browsers.PS3.test(n):return"ps3";case this._Browsers.PSP.test(n):return"psp";case this._Browsers.Firefox.test(n):return this.Agent.isFirefox=!0,"Firefox";case this._Browsers.UC.test(n):return this.Agent.isUC=!0,"UCBrowser";default:return n.indexOf("Mozilla")!==0&&/^([\d\w\-\.]+)\/[\d\w\.\-]+/i.test(n)?(this.Agent.isAuthoritative=!1,RegExp.$1):"unknown"}},this.getBrowserVersion=function(n){var c;switch(this.Agent.browser){case"Edge":if(this._Versions.Edge.test(n))return RegExp.$1;break;case"PhantomJS":if(this._Versions.PhantomJS.test(n))return RegExp.$1;break;case"Chrome":if(this._Versions.Chrome.test(n))return RegExp.$1;break;case"Chromium":if(this._Versions.Chromium.test(n))return RegExp.$1;break;case"Safari":if(this._Versions.Safari.test(n))return RegExp.$1;break;case"Opera":if(this._Versions.Opera.test(n))return RegExp.$1?RegExp.$1:RegExp.$2;break;case"Firefox":if(this._Versions.Firefox.test(n))return RegExp.$1;break;case"WinJs":if(this._Versions.WinJs.test(n))return RegExp.$1;break;case"IE":if(this._Versions.IE.test(n))return RegExp.$2?RegExp.$2:RegExp.$1;break;case"ps3":if(this._Versions.Ps3.test(n))return RegExp.$1;break;case"psp":if(this._Versions.Psp.test(n))return RegExp.$1;break;case"Amaya":if(this._Versions.Amaya.test(n))return RegExp.$1;break;case"Epiphany":if(this._Versions.Epiphany.test(n))return RegExp.$1;break;case"SeaMonkey":if(this._Versions.SeaMonkey.test(n))return RegExp.$1;break;case"Flock":if(this._Versions.Flock.test(n))return RegExp.$1;break;case"OmniWeb":if(this._Versions.OmniWeb.test(n))return RegExp.$1;break;case"UCBrowser":if(this._Versions.UC.test(n))return RegExp.$1;break;default:if(this.Agent.browser!=="unknown"&&(c=new RegExp(this.Agent.browser+"[\\/ ]([\\d\\w\\.\\-]+)","i"),c.test(n)))return RegExp.$1}},this.getOS=function(n){switch(!0){case this._OS.WindowsVista.test(n):return this.Agent.isWindows=!0,"Windows Vista";case this._OS.Windows7.test(n):return this.Agent.isWindows=!0,"Windows 7";case this._OS.Windows8.test(n):return this.Agent.isWindows=!0,"Windows 8";case this._OS.Windows81.test(n):return this.Agent.isWindows=!0,"Windows 8.1";case this._OS.Windows10.test(n):return this.Agent.isWindows=!0,"Windows 10.0";case this._OS.Windows2003.test(n):return this.Agent.isWindows=!0,"Windows 2003";case this._OS.WindowsXP.test(n):return this.Agent.isWindows=!0,"Windows XP";case this._OS.Windows2000.test(n):return this.Agent.isWindows=!0,"Windows 2000";case this._OS.WindowsPhone8.test(n):return"Windows Phone 8";case this._OS.Linux64.test(n):return this.Agent.isLinux=!0,this.Agent.isLinux64=!0,"Linux 64";case this._OS.Linux.test(n):return this.Agent.isLinux=!0,"Linux";case this._OS.ChromeOS.test(n):return this.Agent.isChromeOS=!0,"Chrome OS";case this._OS.Wii.test(n):return"Wii";case this._OS.PS3.test(n):return"Playstation";case this._OS.PSP.test(n):return"Playstation";case this._OS.OSXCheetah.test(n):return this.Agent.isMac=!0,"OS X Cheetah";case this._OS.OSXPuma.test(n):return this.Agent.isMac=!0,"OS X Puma";case this._OS.OSXJaguar.test(n):return this.Agent.isMac=!0,"OS X Jaguar";case this._OS.OSXPanther.test(n):return this.Agent.isMac=!0,"OS X Panther";case this._OS.OSXTiger.test(n):return this.Agent.isMac=!0,"OS X Tiger";case this._OS.OSXLeopard.test(n):return this.Agent.isMac=!0,"OS X Leopard";case this._OS.OSXSnowLeopard.test(n):return this.Agent.isMac=!0,"OS X Snow Leopard";case this._OS.OSXLion.test(n):return this.Agent.isMac=!0,"OS X Lion";case this._OS.OSXMountainLion.test(n):return this.Agent.isMac=!0,"OS X Mountain Lion";case this._OS.OSXMavericks.test(n):return this.Agent.isMac=!0,"OS X Mavericks";case this._OS.OSXYosemite.test(n):return this.Agent.isMac=!0,"OS X Yosemite";case this._OS.OSXElCapitan.test(n):return this.Agent.isMac=!0,"OS X El Capitan";case this._OS.OSXSierra.test(n):return this.Agent.isMac=!0,"macOS Sierra";case this._OS.Mac.test(n):return this.Agent.isMac=!0,"OS X";case this._OS.iPad.test(n):return this.Agent.isiPad=!0,n.match(this._OS.iPad)[0].replace("_",".");case this._OS.iPhone.test(n):return this.Agent.isiPhone=!0,n.match(this._OS.iPhone)[0].replace("_",".");case this._OS.Bada.test(n):return this.Agent.isBada=!0,"Bada";case this._OS.Curl.test(n):return this.Agent.isCurl=!0,"Curl";default:return"unknown"}},this.getPlatform=function(n){switch(!0){case this._Platform.Windows.test(n):return"Microsoft Windows";case this._Platform.WindowsPhone.test(n):return this.Agent.isWindowsPhone=!0,"Microsoft Windows Phone";case this._Platform.Mac.test(n):return"Apple Mac";case this._Platform.Curl.test(n):return"Curl";case this._Platform.Android.test(n):return this.Agent.isAndroid=!0,"Android";case this._Platform.Blackberry.test(n):return this.Agent.isBlackberry=!0,"Blackberry";case this._Platform.Linux.test(n):return"Linux";case this._Platform.Wii.test(n):return"Wii";case this._Platform.Playstation.test(n):return"Playstation";case this._Platform.iPad.test(n):return this.Agent.isiPad=!0,"iPad";case this._Platform.iPod.test(n):return this.Agent.isiPod=!0,"iPod";case this._Platform.iPhone.test(n):return this.Agent.isiPhone=!0,"iPhone";case this._Platform.Samsung.test(n):return this.Agent.isiSamsung=!0,"Samsung";default:return"unknown"}},this.testCompatibilityMode=function(){var n=this;if(this.Agent.isIE&&/Trident\/(\d)\.0/i.test(n.Agent.source)){var c=parseInt(RegExp.$1,10),l=parseInt(n.Agent.version,10);l===7&&c===7&&(n.Agent.isIECompatibilityMode=!0,n.Agent.version=11),l===7&&c===6&&(n.Agent.isIECompatibilityMode=!0,n.Agent.version=10),l===7&&c===5&&(n.Agent.isIECompatibilityMode=!0,n.Agent.version=9),l===7&&c===4&&(n.Agent.isIECompatibilityMode=!0,n.Agent.version=8)}},this.testSilk=function(){var n=this;switch(!0){case new RegExp("silk","gi").test(n.Agent.source):this.Agent.isSilk=!0;break}return/Silk-Accelerated=true/gi.test(n.Agent.source)&&(this.Agent.SilkAccelerated=!0),this.Agent.isSilk?"Silk":!1},this.testKindleFire=function(){var n=this;switch(!0){case/KFOT/gi.test(n.Agent.source):return this.Agent.isKindleFire=!0,"Kindle Fire";case/KFTT/gi.test(n.Agent.source):return this.Agent.isKindleFire=!0,"Kindle Fire HD";case/KFJWI/gi.test(n.Agent.source):return this.Agent.isKindleFire=!0,"Kindle Fire HD 8.9";case/KFJWA/gi.test(n.Agent.source):return this.Agent.isKindleFire=!0,"Kindle Fire HD 8.9 4G";case/KFSOWI/gi.test(n.Agent.source):return this.Agent.isKindleFire=!0,"Kindle Fire HD 7";case/KFTHWI/gi.test(n.Agent.source):return this.Agent.isKindleFire=!0,"Kindle Fire HDX 7";case/KFTHWA/gi.test(n.Agent.source):return this.Agent.isKindleFire=!0,"Kindle Fire HDX 7 4G";case/KFAPWI/gi.test(n.Agent.source):return this.Agent.isKindleFire=!0,"Kindle Fire HDX 8.9";case/KFAPWA/gi.test(n.Agent.source):return this.Agent.isKindleFire=!0,"Kindle Fire HDX 8.9 4G";default:return!1}},this.testCaptiveNetwork=function(){var n=this;switch(!0){case/CaptiveNetwork/gi.test(n.Agent.source):return n.Agent.isCaptive=!0,n.Agent.isMac=!0,n.Agent.platform="Apple Mac","CaptiveNetwork";default:return!1}},this.testMobile=function(){var c=this;switch(!0){case c.Agent.isWindows:case c.Agent.isLinux:case c.Agent.isMac:case c.Agent.isChromeOS:c.Agent.isDesktop=!0;break;case c.Agent.isAndroid:case c.Agent.isSamsung:c.Agent.isMobile=!0,c.Agent.isDesktop=!1;break}switch(!0){case c.Agent.isiPad:case c.Agent.isiPod:case c.Agent.isiPhone:case c.Agent.isBada:case c.Agent.isBlackberry:case c.Agent.isAndroid:case c.Agent.isWindowsPhone:c.Agent.isMobile=!0,c.Agent.isDesktop=!1;break}/mobile/i.test(c.Agent.source)&&(c.Agent.isMobile=!0,c.Agent.isDesktop=!1)},this.testTablet=function(){var c=this;switch(!0){case c.Agent.isiPad:case c.Agent.isAndroidTablet:case c.Agent.isKindleFire:c.Agent.isTablet=!0;break}/tablet/i.test(c.Agent.source)&&(c.Agent.isTablet=!0)},this.testNginxGeoIP=function(c){var l=this;Object.keys(c).forEach(function(m){/^GEOIP/i.test(m)&&(l.Agent.geoIp[m]=c[m])})},this.testBot=function(){var c=this,l=s.exec(c.Agent.source.toLowerCase());l?c.Agent.isBot=l[1]:c.Agent.isAuthoritative||(c.Agent.isBot=/bot/i.test(c.Agent.source))},this.testSmartTV=function(){var c=this,l=new RegExp("smart-tv|smarttv|googletv|appletv|hbbtv|pov_tv|netcast.tv","gi").exec(c.Agent.source.toLowerCase());l&&(c.Agent.isSmartTV=l[1])},this.testAndroidTablet=function(){var c=this;c.Agent.isAndroid&&!/mobile/i.test(c.Agent.source)&&(c.Agent.isAndroidTablet=!0)},this.testTouchSupport=function(){var n=this;n.Agent.isTouchScreen="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0},this.getLaguage=function(){var n=this;n.Agent.language=(navigator.language||navigator.userLanguage||navigator.browserLanguage||navigator.systemLanguage||"").toLowerCase()},this.getColorDepth=function(){var n=this;n.Agent.colorDepth=screen.colorDepth||-1},this.getScreenResolution=function(){var n=this;n.Agent.resolution=[screen.availWidth,screen.availHeight]},this.getPixelDepth=function(){var n=this;n.Agent.pixelDepth=screen.pixelDepth||-1},this.getCPU=function(){var n=this;n.Agent.cpuCores=navigator.hardwareConcurrency||-1},this.reset=function(){var c=this;for(var l in c.DefaultAgent)c.DefaultAgent.hasOwnProperty(l)&&(c.Agent[l]=c.DefaultAgent[l]);return c},this.parse=function(c){c=c||navigator.userAgent;var l=new i;return l.Agent.source=c.replace(/^\s*/,"").replace(/\s*$/,""),l.Agent.os=l.getOS(l.Agent.source),l.Agent.platform=l.getPlatform(l.Agent.source),l.Agent.browser=l.getBrowser(l.Agent.source),l.Agent.version=l.getBrowserVersion(l.Agent.source),l.testBot(),l.testSmartTV(),l.testMobile(),l.testAndroidTablet(),l.testTablet(),l.testCompatibilityMode(),l.testSilk(),l.testKindleFire(),l.testCaptiveNetwork(),l.testTouchSupport(),l.getLaguage(),l.getColorDepth(),l.getPixelDepth(),l.getScreenResolution(),l.getCPU(),l.Agent},this.get=function(n){var c="a",l=this.parse(),m=[];for(var v in this.options)this.options.hasOwnProperty(v)&&this.options[v]===!0&&m.push(l[v]);n&&m.push(n),!this.options.resolution&&l.isMobile&&m.push(l.resolution),c="b";var k=l.hashMD5(m.join(":")),w=[k.slice(0,8),k.slice(8,12),"4"+k.slice(12,15),c+k.slice(15,18),k.slice(20)];return w.join("-")},this.Agent=this.DefaultAgent,this};return t.DeviceUUID=i,new i(navigator.userAgent)})(_t);/**
 *
 * @revision    $Id: index.js 2012-03-24 16:21:10 Aleksey $
 * @created     2016-09-24 16:21:10
 * @category    Express Helpers
 * @package     device-uuid
 * @version     1.0.2
 * @copyright   Copyright (c) 2016-2017 - All rights reserved.
 * @license     MIT License
 * @author      Alexey Gordeyev IK <aleksej@gordejev.lv>
 * @link        http://www.gordejev.lv
 *
 */var Rr=Tr;class Fr{constructor(e,s){q(this,"axiosIns",null);q(this,"config",{...Jt});q(this,"appConfig",D);q(this,"isAlreadyFetchingAccessToken",{});q(this,"subscribers",[]);q(this,"rateLimit",null);q(this,"rateLimitRemaining",null);q(this,"rateLimitReset",null);q(this,"router",null);q(this,"loginAttempts",{invalidLogins:0,login:null,exp:null,currentTime:null});q(this,"appStore",null);q(this,"userStore",null);q(this,"employeeStore",null);q(this,"jobBoardStore",null);q(this,"profileStore",null);q(this,"assessmentStore",null);q(this,"applicationStore",null);q(this,"kioskStore",null);q(this,"hiringCenterStore",null);q(this,"projectsStore",null);q(this,"hiringStore",null);q(this,"processStore",null);q(this,"serverAPI",Qs);if(this.axiosIns=e,this.config={...this.config,...s},this.axiosIns.interceptors.request.use(async i=>new Promise(r=>{const{url:a,data:o}=i;let n=null;if(a.includes("act=API_Authenticate")||a.includes("a=API_GetUserInfo")||a.includes("a=API_DoQuery")||a.includes("a=API_AddRecord")||a.includes("?a=API_EditRecord")){if(a.includes("a=API_DoQuery")){n=a.split("/db/")[1].split("?")[0];const c={6:{value:`${this.appConfig.pageType}-${this.appConfig.pageId}`},7:{value:"DoQuery"},8:{value:n}};this.addLogRecord({data:[c]})}r(i)}else if(a.includes("auth/temporary"))this.config.realm&&(i.headers["QB-Realm-Hostname"]=`${this.config.realm}.quickbase.com`),this.config.appToken&&(i.headers["QB-App-Token"]=this.config.appToken),i.headers["Request-Count"]?i.headers["Request-Count"]+=1:i.headers["Request-Count"]=1,r(i);else{if(this.config.realm&&(i.headers["QB-Realm-Hostname"]=`${this.config.realm}.quickbase.com`),this.config.appToken&&(i.headers["QB-App-Token"]=this.config.appToken),i.headers["Request-Count"]?i.headers["Request-Count"]+=1:i.headers["Request-Count"]=1,a==="https://api.quickbase.com/v1/records/query"){n=o.from;const l={6:{value:`${this.appConfig.pageType}-${this.appConfig.pageId}`},7:{value:"Rest Query"},8:{value:n}};this.addLogRecord({data:[l]})}else if(a==="https://api.quickbase.com/v1/records")n=o.to;else if(a.startsWith("https://api.quickbase.com/v1/reports")){const l=new URL(a);n=new URLSearchParams(l.search).get("tableId"),n=o.from;const v={6:{value:`${this.appConfig.pageType}-${this.appConfig.pageId}`},7:{value:"Rest Report"},8:{value:n}};this.addLogRecord({data:[v]})}const c=this;if(!n){const l=JSON.parse(o);n=l.from?l.from:l.to}this.getToken(n).then(l=>{const m=l;if(m)i.headers.Authorization=m,r(i);else if(!c.isAlreadyFetchingAccessToken[`${n}`])c.isAlreadyFetchingAccessToken[`${n}`]=!0,c.refreshToken(n).then(v=>{const{data:k}=v;c.isAlreadyFetchingAccessToken[`${n}`]=!1,c.setToken(k.temporaryAuthorization,n).then(()=>{c.onAccessTokenFetched(k.temporaryAuthorization),i.headers.Authorization=`QB-TEMP-TOKEN ${k.temporaryAuthorization}`,r(i)})});else{const v=m;async function k(){c.getToken(n).then(w=>{const I=w;if(I===v){setTimeout(k,50);return}i.headers.Authorization=I,r(i)})}k()}})}}),i=>Promise.reject(i)),this.axiosIns.interceptors.response.use(i=>{if(i&&i.headers){const{headers:r}=i;this.rateLimit=r["x-ratelimit-limit"],this.rateLimitRemaining=r["x-ratelimit-remaining"],this.rateLimitReset=r["x-ratelimit-reset"]}return i},i=>new Promise((r,a)=>{const{config:o,response:n}=i;console.log(i);const{headers:c}=n;this.rateLimit=c["x-ratelimit-limit"],this.rateLimitRemaining=c["x-ratelimit-remaining"],this.rateLimitReset=c["x-ratelimit-reset"];const l=o,{url:m,data:v}=l;let k=this.config.appDBID;const w=v?JSON.parse(v):null;if(m==="https://api.quickbase.com/v1/records/query"?k=w.from:m==="https://api.quickbase.com/v1/records"&&(k=w.to),n&&n.status===401){const I=new Promise($=>{this.addSubscriber(P=>{l.headers.Authorization=P,$(this.axiosIns(l))})});this.isAlreadyFetchingAccessToken[`${k}`]||(this.isAlreadyFetchingAccessToken[`${k}`]=!0,this.refreshToken(k).then($=>{this.isAlreadyFetchingAccessToken[`${k}`]=!1,this.setToken($.data.temporaryAuthorization,k),this.onAccessTokenFetched($.data.temporaryAuthorization)})),r(I)}else if(n&&n.status===429){const I=this,$=new Promise(P=>{setTimeout(()=>{P(this.axiosIns(l))},I.rateLimitReset)});l.headers["Request-Count"]&&l.headers["Request-Count"]>4?a(i):r($)}else if(n&&n.status===400){const{data:I}=n;if(I.description==="You are not currently signed into the realm.")window.close(),a(i);else if(I.description==="Required header 'Authorization' not specified"){this.isAlreadyFetchingAccessToken[`${k}`]||(this.isAlreadyFetchingAccessToken[`${k}`]=!0,this.refreshToken(k).then(P=>{this.isAlreadyFetchingAccessToken[`${k}`]=!1,this.setToken(P.data.temporaryAuthorization,k),this.onAccessTokenFetched(P.data.temporaryAuthorization)}));const $=new Promise(P=>{this.addSubscriber(U=>{l.headers.Authorization=U,P(this.axiosIns(l))})});r($)}else if(I.description==="Invalid Authorization"){this.isAlreadyFetchingAccessToken[`${k}`]||(this.isAlreadyFetchingAccessToken[`${k}`]=!0,this.refreshToken(k).then(P=>{this.isAlreadyFetchingAccessToken[`${k}`]=!1,this.setToken(P.data.temporaryAuthorization,k),this.onAccessTokenFetched(P.data.temporaryAuthorization)}));const $=new Promise(P=>{this.addSubscriber(U=>{l.headers.Authorization=U,P(this.axiosIns(l))})});r($)}}a(i)})),this.serverAPI.feathersClient){const i=this;this.serverAPI.feathersClient.service("notifications").on("created",function(r){i.processServerNotifications(r)})}}processServerNotifications(e){e.type==="user-notification"?e.task==="reload-user"?this.reloadUserInfo({reAuthenticate:!0}):e.task==="reload-page"?window.location.reload(!0):e.task==="logout"&&this.logout():e.type==="office-notification"&&(e.task==="reload-page"?window.location.reload(!0):this.userStore.setFeathersNotification(e))}onAccessTokenFetched(e){this.subscribers=this.subscribers.filter(s=>s(e))}addSubscriber(e){this.subscribers.push(e)}async getToken(e){return this.config.dev&&this.config.userToken?`QB-USER-TOKEN ${this.config.userToken}`:G.has(`${e}`)?`QB-TEMP-TOKEN ${G.get(`${e}`)}`:null}refreshToken(e){return this.axiosIns.get(`${this.config.refreshEndpoint}/${e}`,{withCredentials:!0})}async setToken(e,s){const i=s||this.config.appDBID;G.set(`${i}`,e,{expires:this.config.tokenExpiration,secure:!0,sameSite:"Strict"})}async setIpInfo(e){y.setItem(this.appConfig.storageIPInfoKeyName,e)}async getIpInfo(){return await y.getItem(this.appConfig.storageIPInfoKeyName)}setUserTicket(e,s){G.set(this.appConfig.storageUserTicketKeyName,e,{expires:s||this.config.cookieExpiration,secure:!0,sameSite:"Strict"})}getUserTicket(){return G.get(this.appConfig.storageUserTicketKeyName)}setKioskTicket(e,s){G.set(this.appConfig.storageKioskAccountTicket,e,{expires:s||this.config.kioskExpiration,secure:!0,sameSite:"Strict"})}getKioskTicket(){return G.get(this.appConfig.storageKioskAccountTicket)}setOfficeLocation(e){this.hiringCenterStore=this.hiringCenterStore||ee(),this.appConfig.pageType!=="Candidate Kiosk"&&this.hiringCenterStore.fetchHiringCenter(e.rid,!0),G.set(this.appConfig.storageOfficeLocationKeyName,e,{expires:this.config.officeExpiration,secure:!0,sameSite:"Strict"})}setCheckIn(e){G.set(this.appConfig.storageCheckInKeyName,e,{expires:this.config.checkInExpiration,secure:!0,sameSite:"Strict"})}removeCheckIn(){G.remove(this.appConfig.storageCheckInKeyName,{secure:!0,sameSite:"Strict"})}getCheckIn(){return G.get(this.appConfig.storageCheckInKeyName)}getOfficeLocation(){return G.get(this.appConfig.storageOfficeLocationKeyName)}async setUserInfo(e,s){this.userStore.setUser(e,s)}async setUserAccess(e,s){this.userStore.setAccess(e,s)}async setUserPermissions(e,s){this.userStore.setPermissions(e,s)}async getUserInfo(){return await y.getItem(this.appConfig.storageUserKeyName)}async getUserAccess(){return await y.getItem(this.appConfig.storageAccessKeyName)}async getUserPermissions(){return await y.getItem(this.appConfig.storagePermissionsKeyName)}async setEmployee(e,s){this.employeeStore.setEmployee(e,s)}async setJobBoard(e,s){this.jobBoardStore.setRequestJobs(e,s)}async getUserTypeFromStore(){return this.appStore.currentUserType}async getEmployeeFromStore(){return this.employeeStore.getEmployee}async getSocialRequired(e){return(this.appConfig.pageType==="Candidate Kiosk"||this.appConfig.pageType==="Candidate")&&e?(this.employeeStore=this.employeeStore||K(),this.employeeStore.socialRequired):!1}async getUserFromStore(e){return e?(this.userStore=this.userStore||J(),this.userStore.getUser):!1}async getLoggedInFromStore(){return this.userStore.isLoggedIn}async verifyRequired(e){return e?(this.userStore=this.userStore||J(),this.userStore.verifyRequired):!1}async setPhoneNumberVerified(e){this.userStore.setPhoneNumberVerified(e)}async setVerified(e){this.userStore.setVerified(e)}async employeeLinkRequired(e){return e?(this.userStore=this.userStore||J(),this.userStore.employeeLinkRequired):!1}async bookmarksValid(){return this.kioskStore=this.kioskStore||H(),!!(this.kioskStore.getBookmarks&&this.kioskStore.getBookmarks.length>0)}async clearBookmarks(){this.kioskStore=this.kioskStore||H(),this.kioskStore.removeBookmarks()}async bookMarksOnly(){return this.kioskStore=this.kioskStore||H(),this.kioskStore.getBookMarksOnly}async setIdentityVerified(e){this.userStore.setIdentityVerified(e)}async isUserLoggedIn(){const e=this.getUserInfo(),s=this.getUserAccess(),i=this.getUserPermissions(),r=await e,a=await s,o=await i;return!!(r&&a&&o&&this.getUserTicket()||this.getUserTicket())}async reloadUserInfo(e){const s=await this.getUserInfo();return this.userStore=this.userStore||J(),e.reAuthenticate&&s?(await this.fetchAndSetUserData({phoneNumber:s[8],userType:s[32],rid:s[3],reAuthenticate:e.reAuthenticate}),this.updateStore()):this.updateStore()}async updateUserData(e){const s=await this.getUserInfo();if(this.appStore=this.appStore||oe(),s)return this.userStore=this.userStore||J(),await this.userStore.updateUserData(e)}async updateEmployeeData(e){const s=await this.getUserInfo();if(this.appStore=this.appStore||oe(),(this.appStore.pageType==="Candidate"||this.appStore.pageType==="Candidate Kiosk")&&s)return this.employeeStore=this.employeeStore||K(),await this.employeeStore.updateEmployeeData(e)}async updateStore(e){const s=await y.keys();for(let i=0;i<s.length;i++){if(s[i]===this.appConfig.storageUserKeyName){const r=await y.getItem(s[i]);Object.keys(r).forEach(a=>{if(typeof r[a]=="object"&&r[a]!==null&&Object.prototype.hasOwnProperty.call(r[a],"$d")){r[a]=x(r[a].$d);return}try{r[a].endsWith(".000Z")&&(r[a]=x(r[a]))}catch{}}),await this.setUserInfo(r,!1)}if(s[i]===this.appConfig.storageAccessKeyName){const r=await y.getItem(s[i]);for(let a=0;a<r.length;a++){const o=Object.keys(r[a]);for(let n=0;n<o.length;n++){typeof r[a][o[n]]=="object"&&r[a][o[n]]!==null&&Object.prototype.hasOwnProperty.call(r[a][o[n]],"$d")&&(r[a][o[n]]=x(r[a][o[n]].$d));try{r[a][o[n]].endsWith(".000Z")&&(r[a][o[n]]=x(r[a][o[n]]))}catch{}}}await this.setUserAccess(r,!1)}if(s[i]===this.appConfig.storagePermissionsKeyName){const r=await y.getItem(s[i]);for(let a=0;a<r.length;a++){const o=Object.keys(r[a]);for(let n=0;n<o.length;n++){typeof r[a][o[n]]=="object"&&r[a][o[n]]!==null&&Object.prototype.hasOwnProperty.call(r[a][o[n]],"$d")&&(r[a][o[n]]=x(r[a][o[n]].$d));try{r[a][o[n]].endsWith(".000Z")&&(r[a][o[n]]=x(r[a][o[n]]))}catch{}}}await this.setUserPermissions(r,!1)}if(s[i]===this.appConfig.storageEmployeeKeyName){const r=await y.getItem(s[i]);for(let a=0;a<r.length;a++){const o=Object.keys(r[a]);for(let n=0;n<o.length;n++){typeof r[a][o[n]]=="object"&&r[a][o[n]]!==null&&Object.prototype.hasOwnProperty.call(r[a][o[n]],"$d")&&(r[a][o[n]]=x(r[a][o[n]].$d));try{r[a][o[n]].endsWith(".000Z")&&(r[a][o[n]]=x(r[a][o[n]]))}catch{}}}await this.setEmployee(r,!1)}if(s[i]===this.appConfig.storageJobBoardKeyName){const r=await y.getItem(s[i]);for(let a=0;a<r.length;a++){const o=Object.keys(r[a]);for(let n=0;n<o.length;n++){typeof r[a][o[n]]=="object"&&r[a][o[n]]!==null&&Object.prototype.hasOwnProperty.call(r[a][o[n]],"$d")&&(r[a][o[n]]=x(r[a][o[n]].$d));try{r[a][o[n]].endsWith(".000Z")&&(r[a][o[n]]=x(r[a][o[n]]))}catch{}}}this.jobBoardStore=this.jobBoardStore||qs(),await this.setJobBoard(r,!1)}if(s[i]===this.appConfig.storageExperienceOptions){const r=await y.getItem(s[i]);for(let a=0;a<r.length;a++){const o=Object.keys(r[a]);for(let n=0;n<o.length;n++){typeof r[a][o[n]]=="object"&&r[a][o[n]]!==null&&Object.prototype.hasOwnProperty.call(r[a][o[n]],"$d")&&(r[a][o[n]]=x(r[a][o[n]].$d));try{r[a][o[n]].endsWith(".000Z")&&(r[a][o[n]]=x(r[a][o[n]]))}catch{}}}this.applicationStore=this.applicationStore||se(),await this.applicationStore.setExperienceOptions(r,!1)}if(s[i]===this.appConfig.storageContactMethods){const r=await y.getItem(s[i]);for(let a=0;a<r.length;a++){const o=Object.keys(r[a]);for(let n=0;n<o.length;n++){typeof r[a][o[n]]=="object"&&r[a][o[n]]!==null&&Object.prototype.hasOwnProperty.call(r[a][o[n]],"$d")&&(r[a][o[n]]=x(r[a][o[n]].$d));try{r[a][o[n]].endsWith(".000Z")&&(r[a][o[n]]=x(r[a][o[n]]))}catch{}}}this.applicationStore=this.applicationStore||se(),await this.applicationStore.setContactMethods(r,!1)}if(s[i]===this.appConfig.storageEmploymentOptions){const r=await y.getItem(s[i]);for(let a=0;a<r.length;a++){const o=Object.keys(r[a]);for(let n=0;n<o.length;n++){typeof r[a][o[n]]=="object"&&r[a][o[n]]!==null&&Object.prototype.hasOwnProperty.call(r[a][o[n]],"$d")&&(r[a][o[n]]=x(r[a][o[n]].$d));try{r[a][o[n]].endsWith(".000Z")&&(r[a][o[n]]=x(r[a][o[n]]))}catch{}}}this.applicationStore=this.applicationStore||se(),await this.applicationStore.setEmploymentOptions(r,!1)}if(s[i]===this.appConfig.storageCompanyOptions){const r=await y.getItem(s[i]);for(let a=0;a<r.length;a++){const o=Object.keys(r[a]);for(let n=0;n<o.length;n++){typeof r[a][o[n]]=="object"&&r[a][o[n]]!==null&&Object.prototype.hasOwnProperty.call(r[a][o[n]],"$d")&&(r[a][o[n]]=x(r[a][o[n]].$d));try{r[a][o[n]].endsWith(".000Z")&&(r[a][o[n]]=x(r[a][o[n]]))}catch{}}}this.applicationStore=this.applicationStore||se(),await this.applicationStore.setCompanyOptions(r,!1)}if(s[i]===this.appConfig.storageCraftOptions){const r=await y.getItem(s[i]);for(let a=0;a<r.length;a++){const o=Object.keys(r[a]);for(let n=0;n<o.length;n++){typeof r[a][o[n]]=="object"&&r[a][o[n]]!==null&&Object.prototype.hasOwnProperty.call(r[a][o[n]],"$d")&&(r[a][o[n]]=x(r[a][o[n]].$d));try{r[a][o[n]].endsWith(".000Z")&&(r[a][o[n]]=x(r[a][o[n]]))}catch{}}}this.applicationStore=this.applicationStore||se(),await this.applicationStore.setCraftOptions(r,!1)}if(s[i]===this.appConfig.storageRelationshipOptions){const r=await y.getItem(s[i]);for(let a=0;a<r.length;a++){const o=Object.keys(r[a]);for(let n=0;n<o.length;n++){typeof r[a][o[n]]=="object"&&r[a][o[n]]!==null&&Object.prototype.hasOwnProperty.call(r[a][o[n]],"$d")&&(r[a][o[n]]=x(r[a][o[n]].$d));try{r[a][o[n]].endsWith(".000Z")&&(r[a][o[n]]=x(r[a][o[n]]))}catch{}}}this.applicationStore=this.applicationStore||se(),await this.applicationStore.setRelationshipOptions(r,!1)}if(s[i]===this.appConfig.storageCredentialOptions){const r=await y.getItem(s[i]);for(let a=0;a<r.length;a++){const o=Object.keys(r[a]);for(let n=0;n<o.length;n++){typeof r[a][o[n]]=="object"&&r[a][o[n]]!==null&&Object.prototype.hasOwnProperty.call(r[a][o[n]],"$d")&&(r[a][o[n]]=x(r[a][o[n]].$d));try{r[a][o[n]].endsWith(".000Z")&&(r[a][o[n]]=x(r[a][o[n]]))}catch{}}}this.applicationStore=this.applicationStore||se(),await this.applicationStore.setCredentialOptions(r,!1)}if(s[i]===this.appConfig.storageAffirmativeOptions){const r=await y.getItem(s[i]);for(let a=0;a<r.length;a++){const o=Object.keys(r[a]);for(let n=0;n<o.length;n++){typeof r[a][o[n]]=="object"&&r[a][o[n]]!==null&&Object.prototype.hasOwnProperty.call(r[a][o[n]],"$d")&&(r[a][o[n]]=x(r[a][o[n]].$d));try{r[a][o[n]].endsWith(".000Z")&&(r[a][o[n]]=x(r[a][o[n]]))}catch{}}}this.applicationStore=this.applicationStore||se(),await this.applicationStore.setAffirmativeOptions(r,!1)}if(s[i]===this.appConfig.storageVeteranStatusOptions){const r=await y.getItem(s[i]);for(let a=0;a<r.length;a++){const o=Object.keys(r[a]);for(let n=0;n<o.length;n++){typeof r[a][o[n]]=="object"&&r[a][o[n]]!==null&&Object.prototype.hasOwnProperty.call(r[a][o[n]],"$d")&&(r[a][o[n]]=x(r[a][o[n]].$d));try{r[a][o[n]].endsWith(".000Z")&&(r[a][o[n]]=x(r[a][o[n]]))}catch{}}}this.applicationStore=this.applicationStore||se(),await this.applicationStore.setVeteranStatusOptions(r,!1)}if(s[i]===this.appConfig.storageDisabilityPages){const r=await y.getItem(s[i]);for(let a=0;a<r.length;a++){const o=Object.keys(r[a]);for(let n=0;n<o.length;n++){typeof r[a][o[n]]=="object"&&r[a][o[n]]!==null&&Object.prototype.hasOwnProperty.call(r[a][o[n]],"$d")&&(r[a][o[n]]=x(r[a][o[n]].$d));try{r[a][o[n]].endsWith(".000Z")&&(r[a][o[n]]=x(r[a][o[n]]))}catch{}}}this.applicationStore=this.applicationStore||se(),await this.applicationStore.setDisabilityPages(r,!1)}if(s[i]===this.appConfig.storageDisabilityForm){const r=await y.getItem(s[i]);for(let a=0;a<r.length;a++){const o=Object.keys(r[a]);for(let n=0;n<o.length;n++){typeof r[a][o[n]]=="object"&&r[a][o[n]]!==null&&Object.prototype.hasOwnProperty.call(r[a][o[n]],"$d")&&(r[a][o[n]]=x(r[a][o[n]].$d));try{r[a][o[n]].endsWith(".000Z")&&(r[a][o[n]]=x(r[a][o[n]]))}catch{}}}this.applicationStore=this.applicationStore||se(),await this.applicationStore.setDisabilityForm(r,!1)}if(s[i]===this.appConfig.storageEverGreenJobs){const r=await y.getItem(s[i]);for(let a=0;a<r.length;a++){const o=Object.keys(r[a]);for(let n=0;n<o.length;n++){typeof r[a][o[n]]=="object"&&r[a][o[n]]!==null&&Object.prototype.hasOwnProperty.call(r[a][o[n]],"$d")&&(r[a][o[n]]=x(r[a][o[n]].$d));try{r[a][o[n]].endsWith(".000Z")&&(r[a][o[n]]=x(r[a][o[n]]))}catch{}}}this.applicationStore=this.applicationStore||se(),await this.applicationStore.setEverGreenJobs(r,!1)}if(s[i]===this.appConfig.storageProfile){const r=await y.getItem(s[i]);for(let a=0;a<r.length;a++){const o=Object.keys(r[a]);for(let n=0;n<o.length;n++){typeof r[a][o[n]]=="object"&&r[a][o[n]]!==null&&Object.prototype.hasOwnProperty.call(r[a][o[n]],"$d")&&(r[a][o[n]]=x(r[a][o[n]].$d));try{r[a][o[n]].endsWith(".000Z")&&(r[a][o[n]]=x(r[a][o[n]]))}catch{}}}this.profileStore=this.profileStore||de(),await this.profileStore.setProfile(r,!1)}if(s[i]===this.appConfig.storageProfileStep){const r=await y.getItem(s[i]);for(let a=0;a<r.length;a++){const o=Object.keys(r[a]);for(let n=0;n<o.length;n++){typeof r[a][o[n]]=="object"&&r[a][o[n]]!==null&&Object.prototype.hasOwnProperty.call(r[a][o[n]],"$d")&&(r[a][o[n]]=x(r[a][o[n]].$d));try{r[a][o[n]].endsWith(".000Z")&&(r[a][o[n]]=x(r[a][o[n]]))}catch{}}}this.profileStore=this.profileStore||de(),await this.profileStore.setProfileStep(r,!1)}if(s[i]===this.appConfig.storageProfileVoluntaryForms){const r=await y.getItem(s[i]);for(let a=0;a<r.length;a++){const o=Object.keys(r[a]);for(let n=0;n<o.length;n++){typeof r[a][o[n]]=="object"&&r[a][o[n]]!==null&&Object.prototype.hasOwnProperty.call(r[a][o[n]],"$d")&&(r[a][o[n]]=x(r[a][o[n]].$d));try{r[a][o[n]].endsWith(".000Z")&&(r[a][o[n]]=x(r[a][o[n]]))}catch{}}}this.profileStore=this.profileStore||de(),await this.profileStore.setVoluntaryForms(r,!1)}if(s[i]===this.appConfig.storageKioskAccount){const r=await y.getItem(s[i]);for(let a=0;a<r.length;a++){const o=Object.keys(r[a]);for(let n=0;n<o.length;n++){typeof r[a][o[n]]=="object"&&r[a][o[n]]!==null&&Object.prototype.hasOwnProperty.call(r[a][o[n]],"$d")&&(r[a][o[n]]=x(r[a][o[n]].$d));try{r[a][o[n]].endsWith(".000Z")&&(r[a][o[n]]=x(r[a][o[n]]))}catch{}}}this.kioskStore=this.kioskStore||H(),await this.kioskStore.setKioskAccount(r,!1)}if(s[i]===this.appConfig.storageBookmarks){const r=await y.getItem(s[i]);for(let a=0;a<r.length;a++){const o=Object.keys(r[a]);for(let n=0;n<o.length;n++){typeof r[a][o[n]]=="object"&&r[a][o[n]]!==null&&Object.prototype.hasOwnProperty.call(r[a][o[n]],"$d")&&(r[a][o[n]]=x(r[a][o[n]].$d));try{r[a][o[n]].endsWith(".000Z")&&(r[a][o[n]]=x(r[a][o[n]]))}catch{}}}this.kioskStore=this.kioskStore||H(),await this.kioskStore.setBookmarksFromStorage(r)}if(s[i]===this.appConfig.storageBookmarksOnly){const r=await y.getItem(s[i]);this.kioskStore=this.kioskStore||H(),await this.kioskStore.setBookmarksOnly(r,!1)}if(s[i]===this.appConfig.storageHiringCenter&&this.appConfig.pageType==="Candidate"){const r=await y.getItem(s[i]);if(r){for(let a=0;a<r.length;a++){const o=Object.keys(r[a]);for(let n=0;n<o.length;n++){typeof r[a][o[n]]=="object"&&r[a][o[n]]!==null&&Object.prototype.hasOwnProperty.call(r[a][o[n]],"$d")&&(r[a][o[n]]=x(r[a][o[n]].$d));try{r[a][o[n]].endsWith(".000Z")&&(r[a][o[n]]=x(r[a][o[n]]))}catch{}}}this.hiringCenterStore=this.hiringCenterStore||ee(),await this.hiringCenterStore.setHiringCenter(r,!1)}}if(s[i].startsWith(this.appConfig.storageSelfCheckIns)&&this.appConfig.pageType==="QuickBase User"){const r=s[i].split("_")[4],a=await y.getItem(s[i]);if(a){for(let o=0;o<a.length;o++){const n=Object.keys(a[o]);for(let c=0;c<n.length;c++){typeof a[o][n[c]]=="object"&&a[o][n[c]]!==null&&Object.prototype.hasOwnProperty.call(a[o][n[c]],"$d")&&(a[o][n[c]]=x(a[o][n[c]].$d));try{a[o][n[c]].endsWith(".000Z")&&(a[o][n[c]]=x(a[o][n[c]]))}catch{}}}this.processStore=this.processStore||Qe(),await this.processStore.setSelfCheckIns({officeId:r,data:a},!1)}}if(s[i].startsWith(this.appConfig.storageProcessTimeStamps)&&this.appConfig.pageType==="QuickBase User"){const r=await y.getItem(s[i]);if(r){const a=Object.keys(r);for(let o=0;o<a.length;o++){const n=Object.keys(r[a[o]]);for(let c=0;c<n.length;c++){typeof r[a[o]][n[c]]=="object"&&r[a[o]][n[c]]!==null&&Object.prototype.hasOwnProperty.call(r[a[o]][n[c]],"$d")&&(r[a[o]][n[c]]=x(r[a[o]][n[c]].$d));try{r[a[o]][n[c]]&&(r[a[o]][n[c]]=x(r[a[o]][n[c]]))}catch{}}}this.processStore=this.processStore||Qe(),await this.processStore.setTimeStampState(r)}}}return!0}async login(e){let s=null;e.redirectPath&&(s=e.redirectPath,delete e.redirectPath);const i=`{'10'.EX.'Active'}${e.email?`AND{'6'.EX.'${e.email}'}`:""}${e.phoneNumber?`AND{'8'.EX.'${e.phoneNumber}'}`:""}${e.userType?`AND{'32'.EX.'${e.userType}'}`:""}`,r=[{7:{value:"User Request"},8:{value:i},9:{value:1},14:{value:77}}],a=e.email?e.email:e.phoneNumber,o=x();if(this.loginAttempts.invalidLogins>=this.config.maxLoginAttempts&&a===this.loginAttempts.login)if(o.isBefore(this.loginAttempts.exp)){const m=o.to(this.loginAttempts.exp,!0);throw{response:{data:{errtext:"Too many failed Login Attempts",errdetail:`Please wait ${m} before attempting to try again.`}}}}else this.loginAttempts={invalidLogins:0,login:null,exp:null,currentTime:null};else this.loginAttempts.exp&&o.isAfter(this.loginAttempts.exp)&&(this.loginAttempts={invalidLogins:0,login:null,exp:null,currentTime:null});const{data:n}=await this.fetchFromStructureApp({fields:r}),c=[{6:{value:"login"}}];let l=await this.getIpInfo();if(l)c[0][8]={value:l.ip},c[0][9]={value:l.loc},c[0][10]={value:l.uag},c[0][11]={value:l.colo};else{try{l=await this.fetchIpInfo()}catch{l=null}l&&(c[0][8]={value:l.ip},c[0][9]={value:l.loc},c[0][10]={value:l.uag},c[0][11]={value:l.colo})}if(n.length===1){const m=n[0];if(c[0][12]={value:m[3]},m[63]===!0&&o.isBefore(m[60])){this.loginAttempts={invalidLogins:m[59],login:a,exp:m[60],currentTime:null};const v=o.to(this.loginAttempts.exp,!0);throw{response:{data:{errtext:"Too many failed Login Attempts",errdetail:`Please wait ${v} before attempting to try again.`}}}}if(m[32]==="QuickBase User"){const v={qdbapi:{username:e.email,password:e.password,hours:e.hours||72}};if(!e.email)throw c[0][7]={value:"Invalid Login"},this.addLoginAttempt(c),{response:{data:{errtext:"Unknown username/password",errdetail:"Sorry! Something's wrong with your sign-in info. Try again."}}};return this.axiosIns({method:"post",url:this.config.loginEndpoint,headers:{"QUICKBASE-ACTION":"API_Authenticate","Content-Type":"application/xml"},data:re(v),withCredentials:!0}).then(k=>{const w=ue(new window.DOMParser().parseFromString(k.data,"text/xml"));if(w.email=e.email,w.errcode!==0)throw k.data=w,c[0][7]={value:"Invalid Login"},this.addLoginAttempt(c),{response:k};if(w.userid==="1.ckbs"||w.userid.startsWith("1."))throw k.data=w,c[0][7]={value:"Invalid Login"},this.addLoginAttempt(c),{response:k};return delete w.action,delete w.errcode,delete w.errtext,k.data=w,c[0][7]={value:"Successful"},this.addLoginAttempt(c),this.setUserTicket(k.data.ticket),this.fetchAndSetUserData({...k.data,redirect:!0,redirectPath:s,rid:m[3],userType:e.userType})}).catch(k=>{throw c[0][7]={value:"Invalid Password"},this.addLoginAttempt(c),k})}else if(m[32]==="Candidate"){if(await Ct.compare(e.password,m[7]))return c[0][7]={value:"Successful"},await this.addLoginAttempt(c,!0),this.fetchAndSetUserData({redirect:!0,redirectPath:s,rid:m[3],userType:e.userType});throw c[0][7]={value:"Invalid Password"},{response:{data:{errtext:"Unknown username/password",errdetail:"Sorry! Something's wrong with your sign-in info. Try again."}}}}else if(m[32]==="Project User"){if(await Ct.compare(e.password,m[7]))return c[0][7]={value:"Successful"},await this.addLoginAttempt(c,!0),this.fetchAndSetUserData({redirect:!0,redirectPath:s,rid:m[3],userType:e.userType});throw c[0][7]={value:"Invalid Password"},this.addLoginAttempt(c),{response:{data:{errtext:"Unknown username/password",errdetail:"Sorry! Something's wrong with your sign-in info. Try again."}}}}else throw c[0][7]={value:"Invalid Login"},this.addLoginAttempt(c),{response:{data:{errtext:"Unknown username/password",errdetail:"Sorry! Something's wrong with your sign-in info. Try again."}}}}else throw c[0][7]={value:"Invalid Login"},this.addLoginAttempt(c),{response:{data:{errtext:"Unknown username/password",errdetail:"Sorry! Something's wrong with your sign-in info. Try again."}}}}async checkIfUserExist(e){const s=`{'10'.EX.'Active'}${e.email?`AND{'6'.EX.'${e.email}'}`:""}${e.phoneNumber?`AND{'8'.EX.'${e.phoneNumber}'}`:""}${e.userType?`AND{'32'.EX.'${e.userType}'}`:""}`,i=[{7:{value:"User Request"},8:{value:s},9:{value:1},14:{value:77}}],{data:r}=await this.fetchFromStructureApp({fields:i});return r.length>0}async fetchAndSetUserData(e){this.userStore=this.userStore||J();const{data:s}=await this.userStore.fetchUser(e);if(!s.user)throw{response:{data:{errtext:"Unknown username/password",errdetail:"Sorry! Something's wrong with your sign-in info. Try again."}}};const i=s.user,r=this.getOfficeLocation(),a=this.getCheckIn();if(this.userType=i[32],i[32]==="QuickBase User"?(e.reAuthenticate&&this.nativeQuickbaseReAuthenticate({}),this.processStore=this.processStore||Qe(),this.processStore.getSelectedOffice||this.processStore.setSelectedOffice(s.access.find(o=>o[15]===!0&&o[7]==="Office")),this.loginFeathers({email:i[34],id:i[3]}).catch(async o=>{console.log(o)})):i[32]==="Candidate"?(this.employeeStore=this.employeeStore||K(),ce(i[102])&&await this.setUserTicket(i[102],i[104].toDate())):i[32]==="Project User"&&(ce(i[102])&&await this.setUserTicket(i[102],i[104].toDate()),s.access.length>0&&(this.projectsStore=this.projectsStore||z(),this.hiringStore=this.hiringStore||Me(),await this.projectsStore.getProjectsData(),await this.hiringStore.getHiringData())),i[82]===!0&&i.empRID&&i[32]==="Candidate"){const o=[{9:{value:i[80]},7:{value:"Employee"}}],{data:n}=await this.fetchFromHiringApp({fields:o});if(this.employeeStore=this.employeeStore||K(),this.employeeStore.setEmployee(n.employee,!0),!n.employee.lang||n.employee.lang===0){let c=1;be.global.locale.value==="en-US"?c=1:be.global.locale.value==="es"&&(c=2);const l={339:{value:c}};this.updateEmployeeData({fields:l})}}if(i[100]===""){this.userStore.$patch(n=>n.user[100]=be.global.locale.value);const o=[{3:{value:i[3]},26:{value:"now"},100:{value:be.global.locale.value}}];this.upsertRecordsXML({to:"br4pxrbs6",fieldsToReturn:[76],data:o,formatObject:76})}else this.appStore=this.appStore||oe(),be.global.locale.value=i[100],this.appStore.setLang(i[100]);if(ce(i[86])&&i[32]==="Candidate"){const o=[{9:{value:i[86]},7:{value:"Self Check-In"}}],{data:n}=await this.fetchFromRecruitingApp({fields:o});n&&(n[13].isToday()&&n[15]==="Called"&&r&&a?this.checkInUser():n[13].isToday()?(this.appStore=this.appStore||oe(),this.appStore.setCheckInData(n)):r&&a?this.checkInUser():(this.appStore=this.appStore||oe(),this.appStore.setCheckInData({})))}else r&&a&&i[32]==="Candidate"&&this.checkInUser();return i}loginFeathers(e){return this.serverAPI.login({strategy:"local-quickbase",email:e.email,quickbaseId:e.id,token:this.getUserTicket()}).catch(s=>{throw s})}feathersReAuthenticate(){return this.serverAPI.reAuthenticate()}feathersAuthenticated(){return this.serverAPI.authenticated()}async nativeQuickbaseLogin(e){const s={qdbapi:{username:e.email,password:e.password,hours:e.hours||720}};return this.axiosIns({method:"post",url:this.config.loginEndpoint,headers:{"QUICKBASE-ACTION":"API_Authenticate","Content-Type":"application/xml"},data:re(s),withCredentials:!0}).then(i=>{const r=ue(new window.DOMParser().parseFromString(i.data,"text/xml"));if(r.email=e.email,r.errcode!==0)throw i.data=r,{response:i};if(r.userid==="1.ckbs"||r.userid.startsWith("1."))throw i.data=r,{response:i};return i.data=r,i.data}).catch(i=>{throw i})}async nativeQuickbaseReAuthenticate(e){let s=this.getUserTicket();if(e.kiosk&&(s=this.getKioskTicket()),!s)return null;const i={qdbapi:{ticket:s,hours:e.hours||336}};return this.axiosIns({method:"post",url:this.config.loginEndpoint,headers:{"QUICKBASE-ACTION":"API_Authenticate","Content-Type":"application/xml"},data:re(i),withCredentials:!0}).then(r=>{const a=ue(new window.DOMParser().parseFromString(r.data,"text/xml"));if(a.errcode!==0)throw r.data=a,{response:r};if(a.userid==="1.ckbs"||a.userid.startsWith("1."))throw r.data=a,{response:r};return r.data=a,e.kiosk?this.setKioskTicket(r.data.ticket):this.setUserTicket(r.data.ticket),r.data}).catch(r=>{throw r})}async checkInUser(e){e=e||{};const s=await this.getUserInfo(),i=this.getOfficeLocation(),r=await this.getIpInfo();if(this.userStore=this.userStore||J(),this.appStore=this.appStore||oe(),this.employeeStore=this.employeeStore||K(),!s||!i)return;if(this.appStore.checkedIn){console.log("already checked in",this.appStore.checkedIn),this.removeCheckIn();return}const a=[{6:{value:s[9]?s[9].phoneNumber:s[8].replace(/[^0-9]/g,"")},7:{value:s[35]},8:{value:s[37]},9:{value:i.rid},10:{value:e.reason?e.reason:"Applying"},11:{value:e.position?e.position:""},13:{value:"now"},16:{value:s[80]},21:{value:!0},24:{value:r?JSON.stringify(r):""}}];try{const{data:o}=await this.upsertRecordsXML({to:"br26nivmr",fieldsToReturn:[3,31],data:a,formatObject:31});this.removeCheckIn(),this.appStore.setCheckInData(o[0][31]);const n=[{3:{value:s[3]},26:{value:"now"},86:{value:o[0][3]}}],{data:c}=await this.upsertRecordsXML({to:"br4pxrbs6",fieldsToReturn:[76],data:n,formatObject:76}),l=c[0][76];if(this.userStore.userLoggedIn){const m=Object.assign({},l);delete m.access,delete m.permissions,this.setUserPermissions(l.permissions,!0),this.setUserAccess(l.access,!0),await this.setUserInfo(m,!0)}return l}catch(o){console.log(o)}}async deActivateAccount(e){const s=`{'10'.EX.'Active'}${e.email?`AND{'6'.EX.'${e.email}'}`:""}${e.phoneNumber?`AND{'8'.EX.'${e.phoneNumber}'}`:""}${e.userType?`AND{'32'.EX.'${e.userType}'}`:""}`,i=[{7:{value:"User Request"},8:{value:s},9:{value:1},14:{value:77}}],{data:r}=await this.fetchFromStructureApp({fields:i});if(r.length>0){const o=[{3:{value:r[0][3]},10:{value:"Inactive"},50:{value:!1},17:{value:!1}}];return await this.upsertRecordsFormat({to:"br4pxrbs6",fieldsToReturn:[76],data:o}),!0}return r}async resetPassword(e){const s=`{'10'.EX.'Active'}${e.email?`AND{'6'.EX.'${e.email}'}`:""}${e.phoneNumber?`AND{'8'.EX.'${e.phoneNumber}'}`:""}${e.userType?`AND{'32'.EX.'${e.userType}'}`:""}${e.firstName?`AND{'35'.CT.'${e.firstName}'}`:""}${e.lastName?`AND{'37'.CT.'${e.lastName}'}`:""}`,i=[{7:{value:"User Request"},8:{value:s},9:{value:1},14:{value:77}}],r=await this.fetchFromStructureApp({fields:i}),a=r.data,o=new Date;if(a.length>0){const c=[{3:{value:a[0][3]},26:{value:o},17:{value:!0}}];return await this.upsertRecordsXML({to:"br4pxrbs6",fieldsToReturn:[76],formatObject:76,data:c})}return r}async clearLocalForage(){let e=[y.removeItem(this.appConfig.storageUserKeyName),y.removeItem(this.appConfig.storageUserTicketKeyName),y.removeItem(this.appConfig.storageIPInfoKeyName),y.removeItem(this.appConfig.storagePermissionsKeyName),y.removeItem(this.appConfig.storageAccessKeyName),y.removeItem(this.appConfig.storageOfficeLocationKeyName),y.removeItem(this.appConfig.storageEmployeeKeyName),y.removeItem(this.appConfig.storageCheckInKeyName),y.removeItem(this.appConfig.storageJobBoardKeyName),y.removeItem(this.appConfig.storageProfile),y.removeItem(this.appConfig.storageProfileStep),y.removeItem(this.appConfig.storageProfileVoluntaryForms)];return this.appConfig.pageType!=="Candidate Kiosk"&&(e=e.concat([y.removeItem(this.appConfig.storageExperienceOptions),y.removeItem(this.appConfig.storageContactMethods),y.removeItem(this.appConfig.storageEmploymentOptions),y.removeItem(this.appConfig.storageCompanyOptions),y.removeItem(this.appConfig.storageCraftOptions),y.removeItem(this.appConfig.storageRelationshipOptions),y.removeItem(this.appConfig.storageCredentialOptions),y.removeItem(this.appConfig.storageAffirmativeOptions),y.removeItem(this.appConfig.storageVeteranStatusOptions),y.removeItem(this.appConfig.storageDisabilityPages),y.removeItem(this.appConfig.storageDisabilityForm),y.removeItem(this.appConfig.storageEverGreenJobs),y.removeItem(this.appConfig.storageToolCheckList)])),await Promise.allSettled(e)}async storeLogout(){return this.userStore=this.userStore||J(),this.userStore.logout()}async logout(e){const s=Ks(),i=[this.clearLocalForage()],r=s._s[Symbol.iterator]();for(const a of r)if(this.appConfig.pageType==="Candidate"||this.appConfig.pageType==="Candidate Kiosk"){if(a[0]==="employee"){i.push(a[1].$reset());continue}if(a[0]==="boardAppStore"){i.push(a[1].$reset());continue}if(a[0]==="profile"){i.push(a[1].$reset());continue}if(a[0]==="assessment"){i.push(a[1].$reset());continue}}else{i.push(a[1].$reset());continue}return G.remove(this.appConfig.storageUserTicketKeyName,{secure:!0,sameSite:"Strict"}),await Promise.allSettled(i),!0}async upsertRecordsFormat(...e){const s=e[0].formatObject||null;e[0].formatObject&&delete e[0].formatObject;const i=await this.axiosIns.post(this.config.insertRecords,...e).then(async r=>{let{data:a}=r.data;const o=a.map(async c=>{Object.keys(c).map(async m=>{c[m]=await c[m].value})});return a=await Promise.all(o),r.data});return s&&i.data.length>0&&i.data.forEach(r=>{Array.isArray(s)?s.forEach(a=>{Z(a)&&r[a]&&(r[a]=Pe(r[a]))}):Z(s)&&(r[s]=Pe(r[s])),r[1]&&(r[1]=x(r[1]).tz("America/Chicago")),r[2]&&(r[2]=x(r[2]).tz("America/Chicago"))}),i}async addRecordNoUser(e){const s={qdbapi:{msInUTC:1}};return this.config.appToken&&(s.qdbapi.apptoken=this.config.appToken),e.fields&&(s.qdbapi.fields=e.fields),s.qdbapi.usertoken=this.config.userToken,this.axiosIns({method:"post",url:`https://elitehcms.quickbase.com/db/${e.to}?a=API_AddRecord`,headers:{"QUICKBASE-ACTION":"API_AddRecord","Content-Type":"application/xml"},data:re(s)}).then(r=>{const a=ue(new window.DOMParser().parseFromString(r.data,"text/xml"));return r.data=a,r.data})}async upsertRecordsXML(e){if(e.data.length>1){const s=[];for(let a=0;a<e.data.length;a++){const o=Object.assign({},e);o.data=[e.data[a]],s.push(this.upsertRecordXML(o))}const i=await Promise.all(s),r={data:[],metadata:{createdRecordIds:[],totalNumberOfRecordsProcessed:0,unchangedRecordIds:[],updatedRecordIds:[]}};return i.forEach((a,o)=>{a.data[0]&&r.data.push(a.data[0]),r.metadata.createdRecordIds=r.metadata.createdRecordIds.concat(a.metadata.createdRecordIds),r.metadata.unchangedRecordIds=r.metadata.unchangedRecordIds.concat(a.metadata.unchangedRecordIds),r.metadata.updatedRecordIds=r.metadata.updatedRecordIds.concat(a.metadata.updatedRecordIds),r.metadata.totalNumberOfRecordsProcessed+=a.metadata.totalNumberOfRecordsProcessed,a.metadata.lineErrors&&(r.metadata.lineErrors||(r.metadata.lineErrors={}),r.metadata.lineErrors[o+1]=a.metadata.lineErrors[1])}),r}else return this.upsertRecordXML(e)}async upsertRecordXML(e){const s={qdbapi:{msInUTC:1}},i=e.formatObject||null,r=e.booleanFields?e.booleanFields.concat(this.config.booleanFields[`${e.to}`]||[]):this.config.booleanFields[`${e.to}`]||[];let a="";e.data[0][3]?(a="API_EditRecord",s.qdbapi.rid=e.data[0][3].value,delete e.data[0][3]):a="API_AddRecord",this.config.appToken&&(s.qdbapi.apptoken=this.config.appToken),e.data&&(s.qdbapi.fields=e.data),e.fieldsToReturn&&(s.qdbapi.clist=e.fieldsToReturn.join("."));const o=await this.getUserTicket();return o?s.qdbapi.ticket=o:this.config.userToken&&this.config.dev&&(s.qdbapi.usertoken=this.config.userToken),this.axiosIns({method:"post",url:`https://elitehcms.quickbase.com/db/${e.to}?a=${a}`,headers:{"QUICKBASE-ACTION":`${a}`,"Content-Type":"application/xml"},data:Le(s)}).then(c=>{let l=ue(new window.DOMParser().parseFromString(c.data,"text/xml"));return l.metadata={createdRecordIds:[],...l.errcode!==0&&{lineErrors:{}},totalNumberOfRecordsProcessed:0,unchangedRecordIds:[],updatedRecordIds:[]},l.errcode!==0?(l.data=[],l.metadata.lineErrors[1]=[l.errdetail]):(l.data=[Pr(new window.DOMParser().parseFromString(c.data,"text/xml"))],i&&(Array.isArray(i)?i.forEach(m=>{Z(m)&&l.data[0][m]&&(l.data[0][m]=Pe(l.data[0][m]))}):Z(i)&&l.data[0][i]&&l.data[0][i]&&(l.data[0][i]=Pe(l.data[0][i]))),r.length>0&&r.forEach(m=>{l.data[0][m]&&(l.data[0][m]=l.data[0][m]===1)}),l.data[0][1]&&(l.data[0][1]=x(l.data[0][1]).tz("America/Chicago")),l.data[0][2]&&(l.data[0][2]=x(l.data[0][2]).tz("America/Chicago"))),l.data[0]&&l.rid&&(l.metadata.totalNumberOfRecordsProcessed=1,l.num_fields_changed===0&&(l.metadata.unchangedRecordIds=[l.rid]),a==="API_EditRecord"&&l.num_fields_changed>0?l.metadata.updatedRecordIds=[l.rid]:a==="API_AddRecord"&&(l.metadata.createdRecordIds=[l.rid])),delete l.action,delete l.errcode,delete l.errdetail,delete l.errtext,delete l.num_fields_changed,delete l.rid,delete l.update_id,delete l.record,c.data=l,c.data})}async addRecordXML(e){const s={qdbapi:{msInUTC:1}};this.config.appToken&&(s.qdbapi.apptoken=this.config.appToken),e.fields&&(s.qdbapi.fields=e.fields),e.list&&(s.qdbapi.clist=e.list.join("."));const i=await this.getUserTicket();return i?s.qdbapi.ticket=i:this.config.userToken&&this.config.dev&&(s.qdbapi.usertoken=this.config.userToken),this.axiosIns({method:"post",url:`https://elitehcms.quickbase.com/db/${e.to}?a=API_AddRecord`,headers:{"QUICKBASE-ACTION":"API_AddRecord","Content-Type":"application/xml"},data:re(s)}).then(a=>{const o=ue(new window.DOMParser().parseFromString(a.data,"text/xml"));return a.data=o,a.data})}async editRecordXML(e){const s={qdbapi:{msInUTC:1}};if(e.rid)s.qdbapi.rid=e.rid;else throw"You must supply rid!";this.config.appToken&&(s.qdbapi.apptoken=this.config.appToken),e.fields&&(s.qdbapi.fields=e.fields),e.list&&(s.qdbapi.clist=e.list.join("."));const i=await this.getUserTicket();return i?s.qdbapi.ticket=i:this.config.userToken&&this.config.dev&&(s.qdbapi.usertoken=this.config.userToken),this.axiosIns({method:"post",url:`https://elitehcms.quickbase.com/db/${e.to}?a=API_EditRecord`,headers:{"QUICKBASE-ACTION":"API_EditRecord","Content-Type":"application/xml"},data:re(s)}).then(a=>{const o=ue(new window.DOMParser().parseFromString(a.data,"text/xml"));return a.data=o,a.data})}async addLogRecord(e){const s={qdbapi:{}};return s.qdbapi.apptoken="dx47ve3djh2kcybbetrvscuqa2gk",e.data&&(s.qdbapi.fields=e.data),e.list&&(s.qdbapi.clist=e.list.join(".")),s.qdbapi.usertoken="b596fu_ng3q_0_dxyp9j657g8xdbgiftajcj56p7s",fetch("https://elitehcms.quickbase.com/db/bsh2qrysj?a=API_AddRecord",{method:"POST",credentials:"omit",headers:{"Content-Type":"application/xml"},body:Le(s)}).then(a=>a.text()).then(a=>a).catch(a=>{throw a})}async fetchFromProjectsApp(e){const s=await this.upsertRecordsXML({to:"bsazqhchc",fieldsToReturn:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],formatObject:12,data:e.fields});return s.data=s.data[0][12],s}async fetchFromStructureApp(e){const s=await this.upsertRecordsXML({to:"br9srnufv",fieldsToReturn:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],formatObject:12,data:e.fields});return s.data=s.data[0][12],s}async fetchFromHiringApp(e){const s=await this.upsertRecordsXML({to:"br9vuzuj7",fieldsToReturn:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],formatObject:12,data:e.fields});return s.data=s.data[0][12],s}async fetchFromRecruitingApp(e){const s=await this.upsertRecordsXML({to:"br9j45fg5",fieldsToReturn:[1,2,3,4,5,6,7,8,9,10,11,12,13,14],formatObject:12,data:e.fields});return s.data=s.data[0][12],s}async fetchFromCredentialsAndTrainingApp(e){const s=await this.upsertRecordsXML({to:"bsgydhtiq",fieldsToReturn:[1,2,3,4,5,6,7,8,9,10,11,12,13,14],formatObject:12,data:e.fields});return s.data=s.data[0][12],s}async softDeleteEmployee(e){const s=new Date,i=[{3:{value:e},109:{value:""},25:{value:""},28:{value:""},16:{value:""},26:{value:""},34:{value:""},509:{value:!0},510:{value:s}}],{data:r}=await this.upsertRecordsFormat({to:"bp3gb7ng2",fieldsToReturn:[3,500],data:i,formatObject:500});return r[3]}fetchIpInfo(){return fetch("https://1.1.1.1/cdn-cgi/trace").then(async e=>{const i=(await e.text()).split(`
`),r={};return i.forEach(a=>{const o=a.split("=");ce(o[0])&&ce(o[1])&&(r[`${o[0]}`]=o[1])}),this.setIpInfo(r),r})}async addLoginAttempt(e,s){try{const l=Rr.DeviceUUID().get();e[0][24]={value:l}}catch(c){console.log(c)}const i=e[0][6]?e[0][6].value:"",r=e[0][7]?e[0][7].value:"",a=x(),o=a.add(this.config.lastAttemptExpMinutes,"minute");r[7]==="Invalid Login"||r[7]==="Invalid Password"?i[6]===this.loginAttempts.login?(this.loginAttempts.invalidLogins+=1,this.loginAttempts.exp=o,this.loginAttempts.currentTime=a,e[0][15]={value:this.loginAttempts.invalidLogins},e[0][16]={value:o.valueOf()}):(this.loginAttempts.invalidLogins=1,this.loginAttempts.exp=o,this.loginAttempts.currentTime=a,this.loginAttempts.login=i[6],e[0][15]={value:this.loginAttempts.invalidLogins},e[0][16]={value:o.valueOf()}):r[7]==="Successful"&&(this.loginAttempts={invalidLogins:0,login:null,exp:null,currentTime:null}),e[0][25]={value:this.appConfig.pageId},e[0][26]={value:this.appConfig.appId};const{data:n}=await this.upsertRecordsXML({to:"br54phpqz",data:e,formatObject:22,fieldsToReturn:[3,22]});if(s&&n.length===1&!!n[0][22])return this.setUserTicket(n[0][22][20],n[0][22][23].toDate())}async doQuery(e){const s={qdbapi:{...this.config.commonParameters}};e.queryTotalRecords=ce(e.queryTotalRecords)?e.queryTotalRecords:!1,e.select&&(s.qdbapi.clist=e.select.join(".")),e.where&&(s.qdbapi.query=e.where);let i=null;if(e.sortBy)for(let c=0;c<e.sortBy.length;c++)c===0?(s.qdbapi.slist=`${e.sortBy[c].fieldId?`${e.sortBy[c].fieldId}.`:""}`,i=`${e.sortBy[c].order==="ASC"?"sortorder-A.":"sortorder-D."}`):(s.qdbapi.slist+=`${e.sortBy[c].fieldId?`${e.sortBy[c].fieldId}.`:""}`,i+=`${e.sortBy[c].order==="ASC"?"sortorder-A.":"sortorder-D."}`);e.options&&(s.qdbapi.options=`${e.options.top?`num-${e.options.top}.`:""}${i||""}${e.options.skip&&e.options.skip>0?`skp-${e.options.skip}`:""}`),this.config.appToken&&(s.qdbapi.apptoken=this.config.appToken);const r=await this.getUserTicket();r&&!e.refresh?s.qdbapi.ticket=r:this.config.userToken&&this.config.dev&&(s.qdbapi.usertoken=this.config.userToken);const a=this.axiosIns({method:"post",url:`https://elitehcms.quickbase.com/db/${e.from}?a=API_DoQuery`,headers:{"QUICKBASE-ACTION":"API_DoQuery","Content-Type":"application/xml"},data:re(s)}).then(c=>{const l={};l.data=$r(new window.DOMParser().parseFromString(c.data,"text/xml")),l.fields=jr(new window.DOMParser().parseFromString(c.data,"text/xml"));const m=[];return l.fields.forEach(v=>{v.type==="checkbox"&&m.push(v.id)}),l.data.forEach(v=>{for(const[k,w]of Object.entries(v))m.includes(k)&&(v[`${k}`]=w===1)}),l.metadata={totalRecords:l.data.length,numRecords:l.data.length,numFields:e.select?e.select.length:0,skip:e.options&&e.options.skip?e.options.skip:0,...e.options&&e.options.top?{top:e.options.top}:{}},c.data=l,c.data});let o=null;e.queryTotalRecords&&(o=this.axiosIns({method:"post",url:`https://elitehcms.quickbase.com/db/${e.from}?a=API_DoQueryCount`,headers:{"QUICKBASE-ACTION":"API_DoQueryCount","Content-Type":"application/xml"},data:re(s)}).then(c=>{const l=ue(new window.DOMParser().parseFromString(c.data,"text/xml"));return c.data=l,c.data}));const n=await a;if(e.queryTotalRecords){const c=await o;n.metadata.totalRecords=c.numMatches}return n}async checkKioskStatus(e){this.kioskStore=this.kioskStore||H(),this.hiringCenterStore=this.hiringCenterStore||ee();let s=await y.getItem(this.appConfig.storageLastKioskFetch);const i=this.getKioskTicket();if(s&&s.$d&&(s=x(s.$d),e=s.isBefore(x().subtract(1,"minute"))),s)if(e||!this.kioskStore.kioskAvailable||!this.hiringCenterStore.hiringCenterAvailable){const{data:r}=await this.getNativeQuickbaseUser();if(r.login==="Anonymous")return!1;{const a=await this.kioskStore.fetchKioskAccount(r,!1);return i&&this.nativeQuickbaseReAuthenticate({kiosk:!0}),a.length!==0}}else{if(this.kioskStore.kioskAvailable&&this.hiringCenterStore.hiringCenterAvailable&&"45"in this.kioskStore.kioskAccount&&(!e||this.config.dev))return!0;if(this.kioskStore.kioskAvailable&&this.hiringCenterStore.hiringCenterAvailable&&(!e||this.config.dev)){const{data:r}=await this.getNativeQuickbaseUser();if(r.login==="Anonymous")return!1;{const a=await this.kioskStore.fetchKioskAccount(r,!1);return i&&this.nativeQuickbaseReAuthenticate({kiosk:!0}),a.length!==0}}else return!1}else{const{data:r}=await this.getNativeQuickbaseUser();if(r.login==="Anonymous")return!1;{const a=await this.kioskStore.fetchKioskAccount(r,!1);return i&&this.nativeQuickbaseReAuthenticate({kiosk:!0}),a.length!==0}}}async getNativeQuickbaseUser(){const e={qdbapi:{}};if(this.config.dev){const r=this.getKioskTicket();e.qdbapi.ticket=r}return await this.axiosIns({method:"post",url:"https://elitehcms.quickbase.com/db/main?a=API_GetUserInfo",headers:{"QUICKBASE-ACTION":"API_GetUserInfo","Content-Type":"application/xml"},data:re(e)}).then(r=>{const a={};return a.data=Er(new window.DOMParser().parseFromString(r.data,"text/xml")),r.data=a,r.data})}}const ce=t=>!(typeof t=="undefined"||t===null||t===""),Z=t=>!isNaN(parseFloat(t))&&isFinite(t),re=t=>{let e="";for(const s in t){if(e+=t[s]instanceof Array?"":`<${s}>`,t[s]instanceof Array)if(s==="fields")for(let i=0;i<t[s].length;i++)if(Object.keys(t[s][i]).length===2&&t[s][i].filename){let r=null;for(const a in t[s][i])Z(a)&&(r=a);e+=`<field fid="${r}" filename="${t[s][i].filename}">${t[s][i][`${r}`]}</field>`}else for(const r in t[s][i])e+=`<field fid="${r}">${t[s][i][r]}</field>`;else for(const i in t[s])e+=`<${s}>`,e+=re(t[s][i]),e+=`</${s}>`;else typeof t[s]=="object"?e+=re(t[s]):e+=t[s];e+=t[s]instanceof Array?"":`</${s}>`}return e=e.replace(/<\/?[0-9]{1,}>/g,""),e},Le=t=>{let e="";for(const s in t){if(e+=t[s]instanceof Array?"":`<${s}>`,t[s]instanceof Array)if(s==="fields")for(let i=0;i<t[s].length;i++)if(Object.keys(t[s][i]).length===2&&t[s][i].filename){let r=null;for(const a in t[s][i])Z(a)&&(r=a);e+=`<field fid="${r}" filename="${t[s][i].filename}">${t[s][i][`${r}`].value}</field>`}else for(const r in t[s][i])e+=`<field fid="${r}">${t[s][i][r].value}</field>`;else for(const i in t[s])e+=`<${s}>`,e+=Le(t[s][i]),e+=`</${s}>`;else typeof t[s]=="object"?e+=Le(t[s]):e+=t[s];e+=t[s]instanceof Array?"":`</${s}>`}return e=e.replace(/<\/?[0-9]{1,}>/g,""),e},ue=t=>{const e=t.querySelector("qdbapi").children,s={};for(let i=0;i<e.length;i++)e[i].tagName!=="table"&&(s[`${e[i].tagName}`]=Z(e[i].innerHTML)?parseInt(e[i].innerHTML):e[i].innerHTML);return s},Er=t=>{const e=t.querySelector("qdbapi user"),s={id:Z(e.id)?parseInt(e.id):e.id};for(let i=0;i<e.children.length;i++)s[`${e.children[i].tagName}`]=Z(e.children[i].innerHTML)?parseInt(e.children[i].innerHTML):e.children[i].innerHTML;return s},$r=t=>{const e=t.querySelector("qdbapi table records"),s=[];for(let i=0;i<e.children.length;i++){const r={};for(let a=0;a<e.children[i].children.length;a++)e.children[i].children[a].id&&(r[`${e.children[i].children[a].id}`]=Z(e.children[i].children[a].innerHTML)?parseInt(e.children[i].children[a].innerHTML):e.children[i].children[a].innerHTML);s.push(r)}return s},Pr=t=>{const e=t.querySelector("qdbapi record"),s={};for(let i=0;i<e.children.length;i++)e.children[i].id&&(s[`${e.children[i].id}`]=Z(e.children[i].innerHTML)?parseInt(e.children[i].innerHTML):e.children[i].innerHTML);return s},jr=t=>{const e=t.querySelector("qdbapi table fields"),s=[];for(let i=0;i<e.children.length;i++){let r=e.children[i].attributes.field_type.value,a=e.children[i].firstElementChild.nodeName==="label"?e.children[i].firstElementChild.innerHTML:null;if(!a){for(let n=0;n<e.children[i].children.length;n++)if(e.children[i].children[n].nodeName==="label"){a=e.children[i].children[n].innerHTML;break}}r==="float"&&(r="numeric");const o={id:e.children[i].id,label:a,type:r};s.push(o)}return s},fe=(t,e)=>(Array.isArray(t)?t.forEach(s=>{Object.keys(s).forEach(i=>{s[i]&&(s[i]=fe(s[i],i))})}):!Z(e)&&typeof t=="object"&&!Array.isArray(t)&&t!==null?Object.keys(t).forEach(s=>{t[s]&&(t[s]=fe(t[s],s))}):ce(t.date)&&ce(t.time)&&t.time!=="::"?(t=`${t.date} ${t.time}`,t=x(t,"MM-DD-YYYY H:m:s").tz("America/Chicago")):ce(t.date)?(t=`${t.date}`,t=x(t,"MM-DD-YYYY").tz("America/Chicago")):ce(t.time)&&t.time!=="::"?(t=`${t.time}`,t=x(t,"H:m:s").tz("America/Chicago")):typeof t=="object"&&!Array.isArray(t)&&t!==null&&Object.keys(t).forEach(s=>{t[s]&&(t[s]=fe(t[s],s))}),t),Pe=t=>{try{let e=JSON.parse(t);return Array.isArray(e)?e.forEach(s=>{Object.keys(s).forEach(i=>{s[i]&&(s[i]=fe(s[i],i))})}):typeof e=="object"&&!Array.isArray(e)&&e!==null&&Object.keys(e).forEach(s=>{Array.isArray(e[s])?e[s].forEach(i=>{Object.keys(i).forEach(r=>{Z(r)&&i[r]?i[r]=fe(i[r],r):i[r]&&typeof i[r]=="object"&&!Array.isArray(i[r])&&i[r]!==null&&Object.keys(i[r]).forEach(a=>{i[r][a]&&(i[r][a]=fe(i[r][a],a))})})}):typeof e[s]=="object"&&!Array.isArray(e[s])&&e[s]!==null&&(Z(s)?e[s]=fe(e[s],s):Object.keys(e[s]).forEach(i=>{e[s][i]&&(e[s][i]=fe(e[s][i],i))}))}),e}catch(e){return console.log(e),console.log("error parsing:",t),[]}};function Mr(t,e){return{quickbase:new Fr(t,e)}}const qr=Ut(Bt.create({baseURL:Jt.baseURL,timeout:25e3,headers:{"Content-Type":"application/json"}}),{maxRequests:6,perMilliseconds:1e3}),{quickbase:C}=Mr(qr,{});var Nr=Ws(({app:t})=>{t.config.globalProperties.$quickbase=C}),zr=Object.freeze(Object.defineProperty({__proto__:null,default:Nr,quickbase:C},Symbol.toStringTag,{value:"Module"}));export{Ne as a,z as b,oe as c,H as d,K as e,V as f,Ct as g,Pt as h,de as i,se as j,ee as k,Qr as l,Me as m,Mt as n,nr as o,qs as p,C as q,Qe as r,zr as s,J as u,Hr as z};
