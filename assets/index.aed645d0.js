import{Q as w}from"./QTd.d22407b3.js";import{Q as C}from"./QTable.5cc7ffc7.js";import{c1 as S,r as s,w as B,aK as N,c as d,z as T,A as y,d as n,bh as p,C as v,aa as h,a6 as b}from"./index.b5f0fe3c.js";import{r as x}from"./quickbase.8650d165.js";import{_ as A}from"./officeSelector.d3e19608.js";import{dayjs as D}from"./dayjs.62e4342b.js";import"./QList.5e8ce258.js";import"./QMarkupTable.60d12315.js";import"./QSelect.659fc465.js";import"./QChip.1f1c4c1f.js";import"./QMenu.51c983fc.js";import"./position-engine.7869b9b0.js";import"./selection.9755dcd0.js";import"./rtl.65b79c69.js";import"./use-fullscreen.c6e73b37.js";import"./_commonjsHelpers.dfee5925.js";import"./localForage.6d9c618d.js";import"./index.7dbe61ef.js";import"./i18n.d12f430e.js";import"./api.7db09cb0.js";const Q={class:"q-pa-md"},ee={__name:"index",setup(P){const r=x(),{fetchSelfCheckIns:i,fetchAllSelfCheckIns:c}=r,{getSelfCheckIns:g,getSelectedOffice:t}=S(r),e=s(t.value?t.value[8]:null),m=s({sortBy:"13",descending:!1,rowsPerPage:100});e.value?(i({officeId:e.value}),fetch({action:"Self Check-Ins"})):c(),B(t,()=>{e.value=t.value?t.value[8]:null,e.value?i({officeId:e.value}):c()});const f=s(new Date),I=setInterval(()=>{f.value=new Date},1e3);N(()=>{clearInterval(I)});const _=[{name:"timeCheckIn",align:"left",label:"Time Check-In",field:"13",sortable:!1},{name:"name",align:"left",label:"Name",field:"17",sortable:!1},{name:"phoneNumber",align:"center",label:"Phone Number",field:"6",sortable:!1},{name:"reason",align:"center",label:"Reason",field:"10",sortable:!1},{name:"status",align:"center",label:"Status",field:"15",sortable:!1},{name:"task",align:"center",label:"Task",field:"27",sortable:!1}],u=d(()=>g.value(e.value).sort((a,l)=>m.value.descending?a[13].isBefore(l[13]):a[13].isAfter(l[13]))),k=d(()=>u.value.map(a=>D(f.value).to(a[13])));return(a,l)=>(T(),y("div",Q,[n(A),n(C,{dense:a.$q.screen.lt.md,title:"Self Check Ins",rows:b(u),columns:_,pagination:m.value,"row-key":"3"},{"body-cell-timeCheckIn":p(o=>[n(w,{props:o},{default:p(()=>[v("div",null,h(o.value.format("h:mm:ss A")),1),v("div",null,h(b(k)[o.rowIndex]),1)]),_:2},1032,["props"])]),_:1},8,["dense","rows","pagination"])]))}};export{ee as default};
