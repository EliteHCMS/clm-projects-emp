var Qe=Object.defineProperty,Ue=Object.defineProperties;var Me=Object.getOwnPropertyDescriptors;var ke=Object.getOwnPropertySymbols;var Be=Object.prototype.hasOwnProperty,Ie=Object.prototype.propertyIsEnumerable;var Ne=(e,a,d)=>a in e?Qe(e,a,{enumerable:!0,configurable:!0,writable:!0,value:d}):e[a]=d,K=(e,a)=>{for(var d in a||(a={}))Be.call(a,d)&&Ne(e,d,a[d]);if(ke)for(var d of ke(a))Ie.call(a,d)&&Ne(e,d,a[d]);return e},ae=(e,a)=>Ue(e,Me(a));import{c as $,bP as Ae,i as Je,p as ze,dm as Se,h as U,bO as j,bI as te,ch as je,g as De,bU as Xe,bX as Ye,r as S,cV as He,c0 as Ke,aU as Ge,bQ as We,l as B,_ as F,aZ as P,A as c,B as V,d as l,bi as r,D as f,ab as A,ao as N,cx as J,bF as ye,an as h,cA as ge,G as Re,cw as T,F as Z,aY as oe,cz as z,bL as fe,au as ie,y as Pe,w as he,bK as Ze,cy as W,H as xe,bM as ea}from"./index.bf0c7c2b.js";import{Q as se,b as le,a as aa}from"./QTabPanels.f2a872e4.js";import{Q as ta}from"./QTabs.9390a896.js";import{Q as Le}from"./QPage.2ae93e6c.js";import{u as H}from"./use-quasar.9f74feb6.js";import{q as E,u as be}from"./quickbase.d58ce3ab.js";import{dayjs as Y}from"./dayjs.58d8c02b.js";import{a as X,c as ne,e as _e}from"./array.a979db32.js";import{a as re,b as oa}from"./useQuerySaver.ae1b8d62.js";import{u as x}from"./dataStore.064a43a7.js";import{Q as de}from"./QSelect.cdcc5b09.js";import{Q as qe}from"./QForm.b24c5aff.js";import{a as we,u as M}from"./vee-validate.esm.3c6e7928.js";import{A as sa,a as la}from"./addNewCustomer.8934fd73.js";import{Q as ue,a as $e}from"./QTable.a22e6d54.js";import{Q as ce}from"./QTr.9875b666.js";import{Q as me}from"./QTd.243c2af4.js";import{N as na}from"./nameRequestData.511365e8.js";import{P as ra}from"./projectPipeline.67dae89c.js";import{u as Oe,P as ia,c as da}from"./pay-rate-v2.cc6be2e2.js";import"./use-panel.653a0aba.js";import"./touch.60582172.js";import"./selection.c939f5d3.js";import"./QResizeObserver.c5e3c45e.js";import"./rtl.cf9bbe47.js";import"./_commonjsHelpers.a26ce4be.js";import"./index.7dbe61ef.js";import"./localForage.8eea1ffc.js";import"./api.06a5dbca.js";import"./i18n.50f8cb71.js";import"./QChip.5a3b0c23.js";import"./QItemLabel.58a8a2bf.js";import"./QMenu.493f5181.js";import"./position-engine.698f4c6e.js";import"./states.03e3d448.js";import"./QList.11fcb9c9.js";import"./QMarkupTable.e769dd43.js";import"./use-fullscreen.62e48e92.js";import"./QTooltip.d565ce3f.js";import"./workday.29f6965c.js";import"./syncEmployeeWithWorkday.84351ff9.js";import"./workdayAPI.baf7b55b.js";import"./QInnerLoading.21f82426.js";import"./export-file.eb604dd4.js";const ua=["top","right","bottom","left"],Ee={type:{type:String,default:"a"},outline:Boolean,push:Boolean,flat:Boolean,unelevated:Boolean,color:String,textColor:String,glossy:Boolean,square:Boolean,padding:String,label:{type:[String,Number],default:""},labelPosition:{type:String,default:"right",validator:e=>ua.includes(e)},externalLabel:Boolean,hideLabel:{type:Boolean},labelClass:[Array,String,Object],labelStyle:[Array,String,Object],disable:Boolean,tabindex:[Number,String]};function Te(e,a){return{formClass:$(()=>`q-fab--form-${e.square===!0?"square":"rounded"}`),stacked:$(()=>e.externalLabel===!1&&["top","bottom"].includes(e.labelPosition)),labelProps:$(()=>{if(e.externalLabel===!0){const d=e.hideLabel===null?a.value===!1:e.hideLabel;return{action:"push",data:{class:[e.labelClass,`q-fab__label q-tooltip--style q-fab__label--external q-fab__label--external-${e.labelPosition}`+(d===!0?" q-fab__label--external-hidden":"")],style:e.labelStyle}}}return{action:["left","top"].includes(e.labelPosition)?"unshift":"push",data:{class:[e.labelClass,`q-fab__label q-fab__label--internal q-fab__label--internal-${e.labelPosition}`+(e.hideLabel===!0?" q-fab__label--internal-hidden":"")],style:e.labelStyle}}})}}const Fe={start:"self-end",center:"self-center",end:"self-start"},ca=Object.keys(Fe);var G=Ae({name:"QFabAction",props:ae(K({},Ee),{icon:{type:String,default:""},anchor:{type:String,validator:e=>ca.includes(e)},to:[String,Object],replace:Boolean}),emits:["click"],setup(e,{slots:a,emit:d}){const o=Je(Se,()=>({showing:{value:!0},onChildClick:ze})),{formClass:s,labelProps:y}=Te(e,o.showing),t=$(()=>{const g=Fe[e.anchor];return s.value+(g!==void 0?` ${g}`:"")}),i=$(()=>e.disable===!0||o.showing.value!==!0);function v(g){o.onChildClick(g),d("click",g)}function _(){const g=[];return a.icon!==void 0?g.push(a.icon()):e.icon!==""&&g.push(U(te,{name:e.icon})),(e.label!==""||a.label!==void 0)&&g[y.value.action](U("div",y.value.data,a.label!==void 0?a.label():[e.label])),je(a.default,g)}const R=De();return Object.assign(R.proxy,{click:v}),()=>U(j,ae(K({class:t.value},e),{noWrap:!0,stack:e.stacked,icon:void 0,label:void 0,noCaps:!0,fabMini:!0,disable:i.value,onClick:v}),_)}});const ma=["up","right","down","left"],fa=["left","center","right"];var Ve=Ae({name:"QFab",props:ae(K(K({},Ee),Xe),{icon:String,activeIcon:String,hideIcon:Boolean,hideLabel:{default:null},direction:{type:String,default:"right",validator:e=>ma.includes(e)},persistent:Boolean,verticalActionsAlign:{type:String,default:"center",validator:e=>fa.includes(e)}}),emits:Ye,setup(e,{slots:a}){const d=S(null),o=S(e.modelValue===!0),s=He(),{proxy:{$q:y}}=De(),{formClass:t,labelProps:i}=Te(e,o),v=$(()=>e.persistent!==!0),{hide:_,toggle:R}=Ke({showing:o,hideOnRouteChange:v}),g=$(()=>({opened:o.value})),k=$(()=>`q-fab z-fab row inline justify-center q-fab--align-${e.verticalActionsAlign} ${t.value}`+(o.value===!0?" q-fab--opened":" q-fab--closed")),p=$(()=>`q-fab__actions flex no-wrap inline q-fab__actions--${e.direction} q-fab__actions--${o.value===!0?"opened":"closed"}`),u=$(()=>{const w={id:s,role:"menu"};return o.value!==!0&&(w["aria-hidden"]="true"),w}),b=$(()=>`q-fab__icon-holder  q-fab__icon-holder--${o.value===!0?"opened":"closed"}`);function q(w,L){const D=a[w],Q=`q-fab__${w} absolute-full`;return D===void 0?U(te,{class:Q,name:e[L]||y.iconSet.fab[L]}):U("div",{class:Q},D(g.value))}function I(){const w=[];return e.hideIcon!==!0&&w.push(U("div",{class:b.value},[q("icon","icon"),q("active-icon","activeIcon")])),(e.label!==""||a.label!==void 0)&&w[i.value.action](U("div",i.value.data,a.label!==void 0?a.label(g.value):[e.label])),je(a.tooltip,w)}return Ge(Se,{showing:o,onChildClick(w){_(w),d.value!==null&&d.value.$el.focus()}}),()=>U("div",{class:k.value},[U(j,ae(K({ref:d,class:t.value},e),{noWrap:!0,stack:e.stacked,align:void 0,icon:void 0,label:void 0,noCaps:!0,fab:!0,"aria-expanded":o.value===!0?"true":"false","aria-haspopup":"true","aria-controls":s,onClick:R}),I),U("div",K({class:p.value},u.value),We(a.default))])}});const ba=B({emits:["cancelEdit"],components:{AddProjectLocationForm:sa,AddCustomerForm:la},props:{config:Object},setup(e,{emit:a}){const d=S(null),o=S(null),s=S(!1),y=async()=>{const{type:u,initialValue:b}=e.config;if(u==="options"){const{getter:q}=e.config;o.value=await q(),d.value=o.value,R.value=b(d.value)}else R.value=b},t=$(()=>X({entry:e.config.formRules})),{meta:i,errors:v,handleSubmit:_}=we({validationSchema:t}),{value:R}=M("entry"),g=(u,b)=>{const{filter:q}=e.config;u===""&&b(()=>{d.value=o.value}),b(()=>{const I=u.toLowerCase();d.value=q(o.value,I)})},k=u=>{s.value=!1,o.value.push(u),d.value.push(u),R.value=u},p=_(async u=>{const{setter:b}=e.config;await b(u.entry),a("cancelEdit")});return y(),{rawOptions:o,options:d,entry:R,formErrors:v,formMeta:i,submit:p,filterOptions:g,addNew:s,newOptionAdded:k}}}),pa={key:0,class:"q-pr-xl"},va={class:"text-caption"},ga={key:0,class:"text-center bg-info"},ya={key:0,class:"text-center bg-info"},ha={key:1,class:"q-pr-xl"},qa={class:"text-caption"};function wa(e,a,d,o,s,y){const t=P("add-project-location-form"),i=P("add-customer-form");return c(),V("div",null,[l(qe,{onSubmit:ye(e.submit,["prevent"])},{default:r(()=>[e.config.type==="options"?(c(),V("div",pa,[l(de,{class:"q-mb-sm",dense:"",label:`Select a ${e.config.fieldLabel}`,"transition-show":"flip-up","transition-hide":"flip-down",modelValue:e.entry,"onUpdate:modelValue":a[3]||(a[3]=v=>e.entry=v),options:e.options,"option-label":e.config.optionLabel,"display-value":`${e.entry?e.entry[e.config.displayValue]:""}`,"bottom-slots":"",error:!!e.formErrors.entry,"stack-label":"","use-input":"","input-debounce":"0",onFilter:e.filterOptions,clearable:"",loading:!e.rawOptions,disable:!e.rawOptions},{error:r(()=>[f("div",va,A(e.formErrors.entry),1)]),after:r(()=>[l(j,{type:"submit",color:"info",icon:"done",dense:"",onClick:e.submit},null,8,["onClick"]),l(j,{color:"dark",icon:"close",dense:"",onClick:a[0]||(a[0]=v=>e.$emit("cancelEdit"))})]),"after-options":r(()=>[e.config.allowNew&&e.options&&e.options.length>0?(c(),V("div",ga,[l(j,{flat:"",color:"white",label:`Add a New ${e.config.fieldLabel}`,onClick:a[1]||(a[1]=v=>e.addNew=!0)},null,8,["label"])])):N("",!0)]),"no-option":r(()=>[e.config.allowNew?(c(),V("div",ya,[l(j,{flat:"",color:"white",label:`Add a New ${e.config.fieldLabel}`,onClick:a[2]||(a[2]=v=>e.addNew=!0)},null,8,["label"])])):N("",!0)]),_:1},8,["label","modelValue","options","option-label","display-value","error","onFilter","loading","disable"])])):N("",!0),e.config.type==="input"?(c(),V("div",ha,[l(J,{class:"q-mb-sm",dense:"",label:e.config.fieldLabel,modelValue:e.entry,"onUpdate:modelValue":a[5]||(a[5]=v=>e.entry=v),"bottom-slots":"",error:!!e.formErrors.entry,"stack-label":""},{error:r(()=>[f("div",qa,A(e.formErrors.entry),1)]),after:r(()=>[l(j,{type:"submit",color:"info",icon:"done",dense:"",onClick:e.submit},null,8,["onClick"]),l(j,{color:"dark",icon:"close",dense:"",onClick:a[4]||(a[4]=v=>e.$emit("cancelEdit"))})]),_:1},8,["label","modelValue","error"])])):N("",!0)]),_:1},8,["onSubmit"]),l(ge,{modelValue:e.addNew,"onUpdate:modelValue":a[8]||(a[8]=v=>e.addNew=v)},{default:r(()=>[e.config.newType==="location"?(c(),h(t,{key:0,onCancelAdd:a[6]||(a[6]=v=>e.addNew=!1),onAddComplete:e.newOptionAdded},null,8,["onAddComplete"])):N("",!0),e.config.newType==="customer"?(c(),h(i,{key:1,onCancelAdd:a[7]||(a[7]=v=>e.addNew=!1),onAddComplete:e.newOptionAdded},null,8,["onAddComplete"])):N("",!0)]),_:1},8,["modelValue"])])}var $a=F(ba,[["render",wa]]);const Ca=B({emits:[],props:{item:Object},components:{EditDetailsForm:$a},setup(e,{emit:a}){const d=S(!1),o=$(()=>{const{permission:s}=e.item.editable&&e.item.config?e.item.config:{action:null,subject:null};return s});return{edit:d,permission:o}}}),ka={key:0,class:"row"},Na={class:"col-12 col-md-4"},Ra={class:"col-12 col-md-8"};function _a(e,a,d,o,s,y){const t=P("edit-details-form");return c(),h(T,{class:"q-py-sm"},{default:r(()=>[e.edit?(c(),h(t,{key:1,type:e.item.label,config:e.item.config,onCancelEdit:a[1]||(a[1]=i=>e.edit=!1)},null,8,["type","config"])):(c(),V("div",ka,[f("div",Na,[f("div",null,[f("span",{class:Re(e.$q.screen.gt.lg?"text-body2":"text-caption")},A(e.item.label),3)])]),f("div",Ra,[f("div",null,[f("span",{class:Re(["text-weight-light",e.$q.screen.gt.lg?"text-body2":"text-caption"])},A(e.item.value),3),e.item.editable&&e.$can(e.permission.action,e.permission.subject)?(c(),h(j,{key:0,color:"accent",flat:"",dense:"",round:"",icon:"edit",size:"sm",onClick:a[0]||(a[0]=i=>e.edit=!0)})):N("",!0)])])]))]),_:1})}var Va=F(Ca,[["render",_a]]);const Aa=B({props:{title:String,details:Array},components:{DetailsSection:Va}}),Sa={class:"text-body1 text-white"};function ja(e,a,d,o,s,y){const t=P("details-section");return c(),V("div",null,[l(z,{class:"text-dark q-pb-sm"},{default:r(()=>[e.title&&e.title!==""?(c(),h(T,{key:0,class:"bg-info q-py-sm"},{default:r(()=>[f("div",Sa,A(e.title.toUpperCase()),1)]),_:1})):N("",!0),(c(!0),V(Z,null,oe(e.details,i=>(c(),V(Z,{key:i},[i.hide?N("",!0):(c(),h(t,{key:0,item:i},null,8,["item"]))],64))),128))]),_:1})])}var Da=F(Aa,[["render",ja]]);const Pa=B({props:{rows:Array},setup(e,a){const d=H();fe();const o=$(()=>d.screen.gt.sm?[{name:1,label:"Created",align:"left",field:t=>t[1].$d,format:t=>`${Y(t).fromNow()}`,sortable:!0},{name:2,label:"ID",align:"left",field:t=>t[3],format:t=>`${t}`,sortable:!0,required:!0},{name:3,label:"Classification",align:"left",field:t=>t[21],format:t=>`${t===""?"Open":t}`,sortable:!0,required:!0},{name:4,label:"Status",align:"left",field:t=>t[17],format:t=>`${t}`,sortable:!0},{name:5,label:"Rate",align:"left",field:t=>t[23],format:t=>`$ ${t.toFixed(2)}`,sortable:!0,required:!0},{name:6,label:"# Requested",align:"right",field:t=>t[18],format:t=>`${t}`},{name:7,label:"Offers",align:"right",field:t=>s(t),format:t=>`${t}`,sortable:!0,required:!0},{name:8,label:"# Names",align:"right",field:t=>t.names,format:t=>t?t.length:0,sortable:!0,required:!0},{name:9,label:"Balance",align:"right",field:t=>y(t),format:t=>`${t}`,sortable:!0,required:!0}]:[]);function s(t){return t.offers.filter(i=>i[21]==="Accepted").length}function y(t){const i=s(t);return t[18]-i}return{columns:o,props:e}}}),La={class:"full-width row flex-center text-primary q-gutter-sm q-py-md"};function Oa(e,a,d,o,s,y){return c(),V("div",null,[l($e,{columns:e.columns,rows:e.props.rows,"row-key":t=>t[3],class:"q-pa-sm",pagination:{rowsPerPage:10},"table-header-class":"bg-dark text-white","no-data-label":"There are no classifications",dense:""},{header:r(t=>[l(ce,{class:"bg-dark text-white",props:t},{default:r(()=>[(c(!0),V(Z,null,oe(t.cols,i=>(c(),h(ue,{key:i.name,props:t},{default:r(()=>[ie(A(i.label),1)]),_:2},1032,["props"]))),128)),l(ue,{"auto-width":""})]),_:2},1032,["props"])]),body:r(t=>[l(ce,{props:t},{default:r(()=>[(c(!0),V(Z,null,oe(t.cols,i=>(c(),h(me,{key:i.name,props:t},{default:r(()=>[ie(A(i.value),1)]),_:2},1032,["props"]))),128)),l(me,{"auto-width":""},{default:r(()=>[t.row[17]==="Pending"&&e.$can("manage","projectRequests")&&!e.$can("read","hireRequests")?(c(),h(te,{key:0,class:"cursor-pointer",size:e.$q.screen.gt.sm?"sm":"xs",color:"primary",round:"",dense:"",onClick:i=>e.$emit("removeRow",t.row),name:"delete_forever"},null,8,["size","onClick"])):N("",!0)]),_:2},1024)]),_:2},1032,["props"])]),"no-data":r(({message:t})=>[f("div",La,[l(te,{size:"2em",name:"fa-solid fa-person-circle-exclamation"}),f("span",null,A(t),1)])]),"top-right":r(()=>[l(j,{color:"secondary",flat:"","icon-right":"refresh",label:"Refresh",onClick:a[0]||(a[0]=t=>e.$emit("refresh"))})]),_:1},8,["columns","rows","row-key"])])}var Ea=F(Pa,[["render",Oa]]);const Ta=B({props:{data:Object},components:{ClassificationsTable:Ea},setup(e,a){const d=H(),{getClassifications:o,fetchClassifications:s,removeData:y,updateViewedRequests:t,getHireRequest:i}=x(),v=$(()=>i(e.data[3])&&i(e.data[3]).classes?i(e.data[3]).classes:o(e.data[3]).sort((g,k)=>g[1].$d<k[1].$d?1:-1));async function _(g){d.loading.show();const{data:k}=await s({id:e.data[3]});t({id:e.data[3],dataset:"classes",data:k}),d.loading.hide()}async function R(g){d.dialog({title:"Confirm",message:`Are you sure you want to remove ${g[12]} from request# ${g[6]}?`,cancel:!0,persistent:!0}).onOk(async()=>{try{const{data:k}=await E.upsertRecordsXML({to:"bpzpyqcu4",data:[{3:{value:g[3]},17:{value:"Cancelled"},51:{value:new Date},128:{value:6}}],fieldsToReturn:[220],formatObject:220});y({type:"classifications",key:k[0][220][6],item:k[0][220],storageKey:"storageRequestClassifications"});const p=v.value.filter(u=>u[3]!==k[0][220][3]);t({id:e.data[3],dataset:"classes",data:p})}catch(k){d.notify({type:"negative",message:"Cannot remove classification"}),console.log(k)}})}return _(),console.log(e.data),{rows:v,removeRow:R,loadData:_}}});function Fa(e,a,d,o,s,y){const t=P("classifications-table");return c(),V("div",null,[l(t,{rows:e.rows,onRemoveRow:e.removeRow,onRefresh:a[0]||(a[0]=i=>e.loadData(!0))},null,8,["rows","onRemoveRow"])])}var Qa=F(Ta,[["render",Fa]]);const Ua=B({props:{data:Object},components:{NameRequestDataTable:na},setup(e,a){const d=H(),o=fe(),{capitalize:s}=Pe,y=S(""),{getNameRequest:t,fetchNameRequest:i,removeData:v}=x(),{userData:_}=be(),R=$(()=>t(e.data[3]).sort((b,q)=>b[1].$d<q[1].$d?1:-1));async function g(){d.loading.show(),await i({id:e.data[3]}),d.loading.hide()}function k(b){return`${s(b[6].toLowerCase())} ${s(b[7].toLowerCase())}`}async function p(b){d.dialog({title:"Confirm",message:`Are you sure you want to remove ${k(b)} from request# ${b[18]}?`,cancel:!0,persistent:!0}).onOk(async()=>{try{const{data:q}=await E.upsertRecordsXML({to:"bsg4yb4wa",data:[{3:{value:b[3]},11:{value:!0},12:{value:Y().tz("America/Chicago")},13:{value:`${_[35]} ${_[37]}`}}],fieldsToReturn:[15],formatObject:15});v({type:"nameRequest",key:q[0][15][18],item:q[0][15],storageKey:"storageNameRequest"})}catch(q){d.notify({type:"negative",message:"Cannot remove name request"}),console.log(q)}})}const u=b=>{o.push({name:"ee-summary",params:{id:b[3]}})};return g(),{nameRequests:R,search:y,removeName:p,viewEmployee:u}}}),Ma={class:"row items-center"},Ba={class:"col-12 col-md-4"};function Ia(e,a,d,o,s,y){const t=P("name-request-data-table");return c(),V("div",null,[l(z,{flat:""},{default:r(()=>[l(T,null,{default:r(()=>[f("div",Ma,[f("div",Ba,[l(J,{dense:"",modelValue:e.search,"onUpdate:modelValue":a[0]||(a[0]=i=>e.search=i),label:"Search"},null,8,["modelValue"])])])]),_:1})]),_:1}),l(t,{requests:e.nameRequests,status:"Named",onRemoveName:e.removeName,onViewEmployee:e.viewEmployee},null,8,["requests","onRemoveName","onViewEmployee"])])}var Ja=F(Ua,[["render",Ia]]);const za=B({props:{rows:Array},setup(e,a){const d=H();return fe(),{columns:$(()=>d.screen.gt.sm?[{name:1,label:"Created",align:"left",field:s=>s[1].$d,format:s=>`${Y(s).fromNow()}`,sortable:!0},{name:2,label:"Offered To",align:"left",field:s=>s.employee[24],format:s=>`${s}`,sortable:!0,required:!0},{name:3,label:"Classification",align:"left",field:s=>s[57],format:s=>`${s===""?"Open":s}`,sortable:!0,required:!0},{name:4,label:"Status",align:"left",field:s=>s[21],format:s=>`${s}`,sortable:!0},{name:5,label:"Rate Offered",align:"left",field:s=>s[22],format:s=>`$ ${s.toFixed(2)}`,sortable:!0,required:!0}]:[{name:1,label:"Created",align:"left",field:s=>s[1].$d,format:s=>`${Y(s).fromNow()}`,sortable:!0},{name:2,label:"Offered To",align:"left",field:s=>s.employee[24],format:s=>`${s}`,sortable:!0,required:!0},{name:3,label:"Classification",align:"left",field:s=>s[57],format:s=>`${s===""?"Open":s}`,sortable:!0,required:!0},{name:4,label:"Status",align:"left",field:s=>s[21],format:s=>`${s}`,sortable:!0},{name:5,label:"Rate Offered",align:"left",field:s=>s[22],format:s=>`$ ${s.toFixed(2)}`,sortable:!0,required:!0}]),props:e}}}),Xa={class:"full-width row flex-center text-primary q-gutter-sm q-py-md"};function Ya(e,a,d,o,s,y){return c(),V("div",null,[l($e,{columns:e.columns,rows:e.props.rows,"row-key":t=>t[3],class:"q-pa-sm",pagination:{rowsPerPage:10},"table-header-class":"bg-dark text-white","no-data-label":"There are no offers",dense:""},{"no-data":r(({message:t})=>[f("div",Xa,[l(te,{size:"2em",name:"fa-solid fa-person-circle-exclamation"}),f("span",null,A(t),1)])]),_:1},8,["columns","rows","row-key"])])}var Ha=F(za,[["render",Ya]]);const Ka=B({props:{data:Array},components:{OffersDataTable:Ha},setup(e){const a=S("");return{offers:$(()=>{const o=[];return e.data.forEach(s=>{`${s.employee[24].toLowerCase}`.includes(a.value.toLowerCase())&&o.push(s)}),o}),search:a}}}),Ga={class:"row items-center"},Wa={class:"col-12 col-md-4"};function Za(e,a,d,o,s,y){const t=P("offers-data-table");return c(),V("div",null,[l(z,{flat:""},{default:r(()=>[l(T,null,{default:r(()=>[f("div",Ga,[f("div",Wa,[l(J,{dense:"",modelValue:e.search,"onUpdate:modelValue":a[0]||(a[0]=i=>e.search=i),label:"Search"},null,8,["modelValue"])])])]),_:1})]),_:1}),l(t,{rows:e.offers},null,8,["rows"])])}var xa=F(Ka,[["render",Za]]);const et={name:"Pipeline",components:{ProjectPipelineTable:ra},props:{request:Object},setup(e){const a=H(),d=S(""),{fetchDeployments:o,fetchInProcess:s,fetchPending:y,getDeployments:t,getInProcess:i,getPending:v}=x(),_=$(()=>t(e.request[3]).filter(b=>b[20]==="Complete")),R=$(()=>{const b=[];return t(e.request[3]).forEach(q=>{q[31].toLowerCase().includes(d.value.toLowerCase())&&b.push(q)}),b}),g=$(()=>{const b=[];return v(e.request[3]).forEach(q=>{q[25].toLowerCase().includes(d.value.toLowerCase())&&b.push(q)}),b}),k=$(()=>{const b=[];return i(e.request[3]).forEach(q=>{q[39].toLowerCase().includes(d.value.toLowerCase())&&b.push(q)}),b}),p=$(()=>k.value.concat(g.value.concat(R.value)));async function u(){a.loading.show(),await o({requestId:e.request[3]}),await s({requestId:e.request[3]}),await y({requestId:e.request[3]}),a.loading.hide()}return u(),he(p,(b,q)=>{console.log(b)}),{arrived:_,allPipeline:p,search:d}}},at={class:"q-pt-sm"},tt={class:"text-h5 text-dark"},ot={class:"text-body2 text-italic q-ml-sm"},st=f("div",{class:"text-subtitle2 text-accent"},"The following people are currently in process or deployed for this request.",-1),lt={class:"row items-center"},nt={class:"col-12 col-md-3 q-px-sm"};function rt(e,a,d,o,s,y){const t=P("project-pipeline-table");return c(),h(Le,{style:{"max-width":"100vw"}},{default:r(()=>[f("div",at,[l(z,{flat:""},{default:r(()=>[l(T,{class:"q-pb-none"},{default:r(()=>[f("div",tt,[ie(" Staffing Pipeline "),f("span",ot,"("+A(o.allPipeline.length)+" total)",1)]),st]),_:1}),l(T,null,{default:r(()=>[f("div",lt,[f("div",nt,[l(J,{dense:"",modelValue:o.search,"onUpdate:modelValue":a[0]||(a[0]=i=>o.search=i),label:"Search"},null,8,["modelValue"])])])]),_:1})]),_:1}),l(t,{rows:o.allPipeline},null,8,["rows"])])]),_:1})}var it=F(et,[["render",rt]]);const dt=B({emits:["namesAdded","closeNames"],components:{},props:{request:Object},setup(e,{emit:a}){const d=H(),{getClassifications:o,addNameRequest:s}=x(),{userData:y}=be(),{capitalize:t}=Pe;S(!1);const i=S(10);S(null);const v=S([]),_=$(()=>o(e.request[3])||[]),R=[{name:0,label:"#",align:"left",field:n=>n.id,format:n=>`${n}`},{name:1,label:"First Name",align:"left",field:n=>n.firstName,format:n=>`${t(n.toLowerCase())}`,sortable:!0},{name:2,label:"Last Name",align:"left",field:n=>n.lastName,format:n=>`${t(n.toLowerCase())}`,sortable:!0},{name:3,label:"Phone",align:"left",field:n=>n.phone,format:n=>`${n}`,sortable:!1,required:!0},{name:4,label:"Last 4",align:"left",field:n=>n.ssn,format:n=>`${n}`}],g=$(()=>{const n=new RegExp("^[0-9]{"+i.value+"}","g");return X({job:X().required("Classification is required"),firstName:ne().required().label("First Name"),lastName:ne().required().label("Last Name"),phoneNumber:ne().matches(n,{excludeEmptyString:!0,message:"Number Only!"}).required().label("Phone Number"),ssn:ne().matches(/^\d+$/,{excludeEmptyString:!0,message:"Numbers Only!"}).required().label("Last 4 of SSN")})}),{errors:k,handleSubmit:p,resetForm:u,isSubmitting:b}=we({validationSchema:g,initialValues:{job:_.value.length===1?_.value[0]:null}}),{value:q}=M("job"),{value:I}=M("firstName"),{value:w}=M("lastName"),{value:L}=M("phoneNumber"),{value:D}=M("ssn"),Q=p(n=>{const m={id:v.value.length+1,classification:n.job,firstName:n.firstName,lastName:n.lastName,phone:n.phoneNumber,ssn:n.ssn};v.value.push(m),u()}),pe=n=>{const m=v.value.filter(C=>C.id!==n.id);v.value=m},ee=async n=>{const m=y;m.access&&delete m.access,m.permissions&&delete m.permissions;const{data:C}=await E.upsertRecordsXML({to:"bsg4yb4wa",data:[{6:{value:n.firstName},7:{value:n.lastName},8:{value:n.phone},10:{value:"Has Not Arrived"},19:{value:Y()},16:{value:n.ssn},14:{value:`${m[35]} ${m[37]}`},17:{value:n.classification[3]}}],fieldsToReturn:[15],formatObject:15}),O=C[0][15];return O[45]>O[43]&&Oe({id:O[17],qty:O[45]}),O};return{formErrors:k,submit:Q,job:q,firstName:I,lastName:w,phoneNumber:L,ssn:D,resetForm:u,classifications:_,names:v,columns:R,removeRow:pe,submitNames:async()=>{d.loading.show();const n=[];v.value.forEach(O=>{const ve=ee(O);n.push(ve)});const C=(await Promise.allSettled(n)).map(O=>O.value);console.log(C),s({id:e.request[3],data:C}),d.notify({type:"positive",message:"Names successfully added!"}),a("namesAdded"),d.loading.hide()}}}}),ut={class:"q-mb-sm"},ct={class:"text-caption"},mt={class:"q-mb-sm"},ft={class:"text-caption"},bt={class:"q-mb-sm"},pt={class:"text-caption"},vt={class:"q-mb-sm"},gt={class:"text-caption"},yt={class:"text-caption"},ht={class:"text-caption"};function qt(e,a,d,o,s,y){return c(),h(qe,{onSubmit:ye(e.submit,["prevent"])},{default:r(()=>[l(z,null,{default:r(()=>[l(T,{class:"q-pb-sm"},{default:r(()=>[f("div",ut,[l(J,{dense:"",label:"First Name",modelValue:e.firstName,"onUpdate:modelValue":a[0]||(a[0]=t=>e.firstName=t),error:!!e.formErrors.firstName,"bottom-slots":""},{error:r(()=>[f("div",ct,A(e.formErrors.firstName),1)]),_:1},8,["modelValue","error"])]),f("div",mt,[l(J,{dense:"",label:"Last Name",modelValue:e.lastName,"onUpdate:modelValue":a[1]||(a[1]=t=>e.lastName=t),error:!!e.formErrors.lastName,"bottom-slots":""},{error:r(()=>[f("div",ft,A(e.formErrors.lastName),1)]),_:1},8,["modelValue","error"])]),f("div",bt,[l(J,{dense:"",label:"Phone Number",modelValue:e.phoneNumber,"onUpdate:modelValue":a[2]||(a[2]=t=>e.phoneNumber=t),error:!!e.formErrors.phoneNumber,"bottom-slots":""},{error:r(()=>[f("div",pt,A(e.formErrors.phoneNumber),1)]),_:1},8,["modelValue","error"])]),f("div",vt,[l(J,{maxlength:"4",dense:"",label:"SSN Last 4",modelValue:e.ssn,"onUpdate:modelValue":a[3]||(a[3]=t=>e.ssn=t),error:!!e.formErrors.ssn,"bottom-slots":""},{error:r(()=>[f("div",gt,A(e.formErrors.ssn),1)]),_:1},8,["modelValue","error"])]),f("div",null,[l(de,{dense:"",label:"Classification","transition-show":"flip-up","transition-hide":"flip-down",modelValue:e.job,"onUpdate:modelValue":a[4]||(a[4]=t=>e.job=t),options:e.classifications,"option-label":t=>t?`${t[21]}`:"","display-value":e.job?`${e.job[21]}`:"","bottom-slots":"",error:!!e.formErrors.job},{error:r(()=>[f("div",yt,A(e.formErrors.job),1)]),_:1},8,["modelValue","options","option-label","display-value","error"])])]),_:1}),l(Ze),l(W,{class:"q-pt-sm",align:"right"},{default:r(()=>[e.names.length===0?(c(),h(j,{key:0,dense:"",label:"Cancel",color:"secondary",onClick:a[5]||(a[5]=t=>e.$emit("closeNames"))})):N("",!0),l(j,{dense:"",color:"info",label:"Save Name",type:"submit",onClick:e.submit},null,8,["onClick"])]),_:1}),e.names.length>0?(c(),h(T,{key:0,class:"q-px-none"},{default:r(()=>[l($e,{flat:"",columns:e.columns,rows:e.names,"row-key":t=>t.name,class:"q-pa-sm",pagination:{rowsPerPage:100},"table-header-class":"bg-dark text-white",dense:"","hide-pagination":""},{header:r(t=>[l(ce,{class:"bg-dark text-white",props:t},{default:r(()=>[(c(!0),V(Z,null,oe(t.cols,i=>(c(),h(ue,{class:"text-left",key:i.name},{default:r(()=>[ie(A(i.label),1)]),_:2},1024))),128)),l(ue,{"auto-width":""})]),_:2},1032,["props"])]),body:r(t=>[l(ce,{"no-hover":"",props:t},{default:r(()=>[(c(!0),V(Z,null,oe(t.cols,i=>(c(),h(me,{key:i.name,props:t},{default:r(()=>[f("span",ht,A(i.value),1)]),_:2},1032,["props"]))),128)),l(me,{"auto-width":""},{default:r(()=>[l(j,{round:"",flat:"",icon:"delete",color:"accent",onClick:i=>e.removeRow(t.row)},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["props"])]),_:1},8,["columns","rows","row-key"])]),_:1})):N("",!0),e.names.length>0?(c(),h(W,{key:1,align:"right"},{default:r(()=>[l(j,{dense:"",label:"Cancel",color:"secondary",onClick:a[6]||(a[6]=t=>e.$emit("closeNames"))}),l(j,{dense:"",color:"primary",label:"Submit These Names",onClick:e.submitNames},null,8,["onClick"])]),_:1})):N("",!0)]),_:1})]),_:1},8,["onSubmit"])}var wt=F(dt,[["render",qt]]);const $t=B({emits:["jobsAdded","closeJobs","jobUpdated"],components:{PayRateField:ia},props:{request:Object},setup(e,{emit:a}){H();const{getClassifications:d}=x();be();const o=S([]),s=$(()=>d(e.request[3])||[]),y=X({craft:X().required().nullable().label("Craft"),classification:X().required().nullable().label("Classification"),rate:_e().required().nullable().label("Rate"),qty:_e().required().nullable().label("Quantity")}),{errors:t,handleSubmit:i,resetForm:v,isSubmitting:_,setFieldError:R}=we({validationSchema:y}),{value:g}=M("craft"),{value:k}=M("classification"),{value:p}=M("rate"),{value:u}=M("qty"),b=i(async w=>{const L=s.value.find(D=>D[9]===w.classification[3]&&D[23]===w.rate);if(L){const D=L[18]+w.qty,Q=await Oe({id:L[3],qty:D});a("jobUpdated",Q)}else{const D=await da({requestData:e.request,job:w});a("jobsAdded",D)}}),q=async()=>{const{data:w}=await E.fetchFromProjectsApp({fields:[re({type:"projectCrafts",query:`{'7'.EX.'${e.request[6]}'}AND{'6'.EX.'Active'}`})]}),L=w.sort((D,Q)=>D[20]>Q[20]?1:-1);o.value=L,console.log(s.value)},I=$(()=>{const w=g.value&&g.value.classifications?g.value.classifications:[];return w.length>0?w.sort((L,D)=>L[32]>D[32]?-1:1):[]});return he(k,(w,L)=>{w&&w.hasFixedRate?p.value=w.fixedRate:p.value&&(p.value=null)}),q(),{errors:t,submit:b,classificationOptions:I,craft:g,classification:k,rate:p,qty:u,crafts:o}}}),Ct={key:0,class:"text-body2 text-italic text-weight-bold text-dark"},kt={key:1,class:"text-body2 text-italic text-weight-bold text-dark"},Nt={class:"row q-mb-md"},Rt={class:"col-6 q-pr-sm"},_t={class:"text-caption"},Vt={class:"col-6 q-pl-sm"},At={class:"text-caption"},St={class:"row"},jt={class:"col-6 q-pr-sm"},Dt={class:"text-caption"},Pt={class:"col-6 q-pl-sm"};function Lt(e,a,d,o,s,y){const t=P("pay-rate-field");return c(),h(qe,xe(e.$attrs,{onSubmit:ye(e.submit,["prevent"])}),{default:r(()=>[l(z,null,{default:r(()=>[l(T,null,{default:r(()=>[e.$attrs.hideInstructions?(c(),V("div",kt," Enter the following information about the classification and click Submit. ")):(c(),V("div",Ct," Enter the following information about the classification and click Save. Repeat until all classifications you are requesting have been saved. Then click Continue. ")),f("div",Nt,[f("div",Rt,[l(de,{class:"q-mt-md",dense:"",clearable:"","transition-show":"flip-up","transition-hide":"flip-down",label:"Select Craft",modelValue:e.craft,"onUpdate:modelValue":a[0]||(a[0]=i=>e.craft=i),options:e.crafts,"option-label":i=>i[10],"display-value":e.craft?`${e.craft[10]}`:"",error:!!e.errors.craft,"bottom-slots":""},{error:r(()=>[f("div",_t,A(e.errors.craft),1)]),_:1},8,["modelValue","options","option-label","display-value","error"])]),f("div",Vt,[l(de,{class:"q-mt-md",dense:"",clearable:"","transition-show":"flip-up","transition-hide":"flip-down",label:"Classification",modelValue:e.classification,"onUpdate:modelValue":a[1]||(a[1]=i=>e.classification=i),options:e.classificationOptions,"option-label":i=>i[18],"display-value":e.classification?`${e.classification[18]}`:"",error:!!e.errors.classification,"bottom-slots":"",disable:!e.craft},{error:r(()=>[f("div",At,A(e.errors.classification),1)]),_:1},8,["modelValue","options","option-label","display-value","error","disable"])])]),f("div",St,[f("div",jt,[l(J,{dense:"",type:"number",label:"Quantity",modelValue:e.qty,"onUpdate:modelValue":a[2]||(a[2]=i=>e.qty=i),modelModifiers:{number:!0},error:!!e.errors.qty,disable:!e.classification,"bottom-slots":""},{error:r(()=>[f("div",Dt,A(e.errors.qty),1)]),_:1},8,["modelValue","error","disable"])]),f("div",Pt,[l(t,{class:"q-mb-md",type:"number",step:"any",dense:"",label:"Hourly Rate",modelValue:e.rate,"onUpdate:modelValue":a[3]||(a[3]=i=>e.rate=i),modelModifiers:{number:!0},prefix:"$",disable:!e.classification||e.classification.hasFixedRate&&!e.$can("manage","rates"),error:!!e.errors.rate,"error-message":e.errors.rate,"bottom-slots":""},null,8,["modelValue","disable","error","error-message"])])])]),_:1}),l(W,{align:"right"},{default:r(()=>[l(j,{dense:"",color:"secondary",label:"Cancel",onClick:a[4]||(a[4]=i=>e.$emit("closeJobs"))}),l(j,{dense:"",color:"primary",label:"Submit",type:"submit",onClick:e.submit},null,8,["onClick"])]),_:1})]),_:1})]),_:1},16,["onSubmit"])}var Ot=F($t,[["render",Lt]]);const Et={name:"View Request",components:{ClassificationsTab:Qa,NamesTab:Ja,PipelineTab:it,OffersTab:xa,NamesForm:wt,DetailsCard:Da,ClassificationForm:Ot},setup(){const e=S(!0),a=S(!1),d=S(!1),o=S(!1),s=H(),y=ea(),t=fe(),i=S(0),{getHireRequest:v,fetchHireRequest:_,updateViewedRequests:R,setHireRequests:g}=x(),{getUserType:k,userData:p}=be(),u=$(()=>v(y.params.id)),b=async n=>{if(!u.value[3]||n){s.loading.show();const{data:m}=await E.fetchFromProjectsApp({fields:[re({type:"requests",id:y.params.id})]});g({requestId:y.params.id,data:m}),s.loading.hide()}},q=()=>{t.go(-1)},I=()=>{t.push({name:"project-general",params:{id:u.value[6]}})};b(),he(u,(n,m)=>{console.log(n)});const w=()=>{s.dialog({title:"Confirm",message:"Are you sure you want to cancel this request?",cancel:!0,persistent:!0}).onOk(()=>{L()})},L=async()=>{const n={3:{value:u.value[3]},14:{value:"Cancelled"},84:{value:new Date},147:{value:6},276:{value:p[3]},277:{value:`${p[35]} ${p[37]}`}},m=[];u.value.classes.forEach(C=>{const O={3:{value:C[3]},17:{value:"Cancelled"},51:{value:new Date},128:{value:6}};m.push(O)});try{E.upsertRecordsXML({to:"bpzpyjbuy",data:[n],fieldsToReturn:[3]}),E.upsertRecordsXML({to:"bpzpyqcu4",data:m,fieldsToReturn:[3]}),t.go(-1),s.notify({type:"positive",message:"Request successfully canceled"})}catch(C){throw{error:C,message:"Cannot cancel request"}}},D=()=>{i.value=1,d.value=!1,b(!0)},Q=n=>{o.value=!1,b(!0),R({id:u.value[3],dataset:"classes",data:n,push:!0})},pe=n=>{o.value=!1,b(!0);const m=v(u.value[3]).classes,C=m.findIndex(O=>O[3]===n[3]);C>-1?(m[C]=n,R({id:u.value[3],dataset:"classes",data:m})):R({id:u.value[3],dataset:"classes",data:n,push:!0})},ee=n=>{const m=[];for(const[C,O]of Object.entries(n)){const ve={fid:C,value:O};m.push(ve)}R({id:u.value[3],props:m})},Ce=$(()=>u.value[3]?[{label:"Request ID",value:u.value[3],editable:!1},{label:"Date Created",value:Y(u.value[1].$d).format("MM/DD/YYYY hh:mm:ss a"),editable:!1},{label:"Status",value:`${u.value[14]} (${u.value[59]})`,editable:!1},{label:"Opened On",value:u.value[82].$d?Y(u.value[82].$d).format("MM/DD/YYYY hh:mm:ss a"):null,editable:!1,hide:u.value[14]!=="Open"&&u.value[14]!=="Closed"},{label:"Closed On",value:u.value[86].$d?Y(u.value[86].$d).format("MM/DD/YYYY hh:mm:ss a"):null,editable:!1,hide:u.value[14]!=="Closed"},{label:"Project Name",value:u.value[91],editable:!1},{label:"Job Number",value:u.value[27],editable:u.value[14]!=="Closed",config:{permission:{action:"manage",subject:"projectRequests"},type:"options",allowNew:!1,newType:"customer",initialValue:n=>n.find(m=>m[3]===u.value[9]),formRules:X().required().label("Job Number").nullable(),fieldLabel:"Job Number",optionLabel:"11",displayValue:11,getter:async()=>{const{data:n}=await E.fetchFromProjectsApp({fields:[re({type:"jobNumbers",query:`{'6'.EX.'${u.value[6]}'}AND{'29'.EX.'Active'}`})]});return n.sort((m,C)=>m[1].$d>C[1].$d?-1:1)},setter:async n=>{try{const{data:m}=await E.upsertRecordsXML({to:"bpzpyjbuy",data:[{3:{value:u.value[3]},9:{value:n[3]}}],fieldsToReturn:[9,27]});ee(m[0]),s.notify({type:"positive",message:"Job Number successfully updated"})}catch{s.notify({type:"negative",message:"Error updating Job Number"})}},filter:(n,m)=>n.filter(C=>C[11].toLowerCase().indexOf(m)>-1)}},{label:"Site Contact",value:u.value[76],editable:u.value[14]!=="Closed",config:{permission:{action:"manage",subject:"projectRequests"},type:"options",allowNew:!1,newType:"location",initialValue:n=>n.find(m=>m[3]===u.value[60]),formRules:X().required().label("Site Contact").nullable(),fieldLabel:"Site Contact",optionLabel:"17",displayValue:17,getter:async()=>{const{data:n}=await E.fetchFromProjectsApp({fields:[re({type:"siteContacts",query:`{'7'.EX.'${u.value[6]}'}AND{'6'.EX.'Active'}`})]});return n.sort((m,C)=>m[17]>C[17]?1:-1)},setter:async n=>{try{const{data:m}=await E.upsertRecordsXML({to:"bpzpyjbuy",data:[{3:{value:u.value[3]},60:{value:n[3]}}],fieldsToReturn:[60,76]});ee(m[0]),s.notify({type:"positive",message:"Site Contact successfully updated"})}catch{s.notify({type:"negative",message:"Error updating Site Contact"})}},filter:(n,m)=>n.filter(C=>C[17].toLowerCase().indexOf(m)>-1)}},{label:"Meeting Location",value:u.value[32],editable:u.value[14]!=="Closed",config:{permission:{action:"manage",subject:"projectRequests"},type:"options",allowNew:!1,newType:"location",initialValue:n=>n.find(m=>m[3]===u.value[31]),formRules:X().required().label("Meeting Location").nullable(),fieldLabel:"Meeting Location",optionLabel:"6",displayValue:6,getter:async()=>{const{data:n}=await E.fetchFromStructureApp({fields:[oa({type:"meetingLocations",query:`{'15'.EX.'${u.value[8]}'}AND{'14'.EX.'Active'}`})]});return n.sort((m,C)=>m[6]>C[6]?1:-1)},setter:async n=>{try{const{data:m}=await E.upsertRecordsXML({to:"bpzpyjbuy",data:[{3:{value:u.value[3]},31:{value:n[3]}}],fieldsToReturn:[31,32,33]});ee(m[0]),s.notify({type:"positive",message:"Meeting Location successfully updated"})}catch{s.notify({type:"negative",message:"Error updating Meeting Location"})}},filter:(n,m)=>n.filter(C=>C[6].toLowerCase().indexOf(m)>-1)}},{label:"Address",value:u.value[33],editable:!1}]:[]);return{hireRequestData:u,tab:i,back:q,confirmCancel:w,showAddNames:d,showAddJobs:o,namesAdded:D,details:Ce,viewProject:I,actions:e,navs:a,jobsAdded:Q,jobUpdated:pe,getUserType:k}}},Tt={key:0,class:"q-pa-sm"},Ft={class:"row"},Qt={class:"col-12 col-md-6"},Ut={class:"col-12 col-md-6"},Mt={class:"row"},Bt={class:"col-12 col-md-4 q-pr-sm"},It={class:"col-12 col-md-8 q-pl-sm"};function Jt(e,a,d,o,s,y){const t=P("details-card"),i=P("classifications-tab"),v=P("names-tab"),_=P("offers-tab"),R=P("pipeline-tab"),g=P("names-form"),k=P("classification-form");return c(),h(Le,{style:{"max-width":"100vw"}},{default:r(()=>[o.hireRequestData[3]?(c(),V("div",Tt,[l(z,{flat:""},{default:r(()=>[l(T,{class:"q-pa-none"},{default:r(()=>[f("div",Ft,[f("div",Qt,[l(W,{class:"q-pt-none",align:"left"},{default:r(()=>[l(j,{label:"Go Back",color:"secondary",icon:"keyboard_return",onClick:o.back},null,8,["onClick"])]),_:1})]),f("div",Ut,[o.getUserType==="Project User"?(c(),h(W,{key:0,class:"q-pt-none",align:"right"},{default:r(()=>[e.$can("manage","projectRequests")&&o.hireRequestData[14]==="Pending"||e.$can("manage","nameRequests")&&o.hireRequestData[14]!=="Closed"&&o.hireRequestData[282]!=="Open"||e.$can("manage","projectRequests")&&!e.$can("read","hireRequests")&&o.hireRequestData[14]==="Pending"?(c(),h(Ve,{key:0,modelValue:o.actions,"onUpdate:modelValue":a[2]||(a[2]=p=>o.actions=p),square:"",color:"accent",icon:"keyboard_arrow_left",direction:"left",label:"Actions",padding:"sm"},{default:r(()=>[e.$can("manage","projectRequests")&&o.hireRequestData[14]==="Pending"?(c(),h(G,{key:0,label:"Add Classifications",color:"primary",icon:"add",onClick:a[0]||(a[0]=p=>o.showAddJobs=!0)})):N("",!0),e.$can("manage","nameRequests")&&o.hireRequestData[14]!=="Closed"&&o.hireRequestData[282]!=="Open"?(c(),h(G,{key:1,label:"Add Names to Request",color:"accent",icon:"person_add",onClick:a[1]||(a[1]=p=>o.showAddNames=!0)})):N("",!0),e.$can("manage","projectRequests")&&!e.$can("read","hireRequests")&&o.hireRequestData[14]==="Pending"?(c(),h(G,{key:2,label:"Cancel Hire Request",color:"dark",icon:"cancel",onClick:o.confirmCancel},null,8,["onClick"])):N("",!0)]),_:1},8,["modelValue"])):N("",!0)]),_:1})):o.getUserType==="QuickBase User"?(c(),h(W,{key:1,class:"q-pt-none",align:"right"},{default:r(()=>[l(Ve,{modelValue:o.actions,"onUpdate:modelValue":a[5]||(a[5]=p=>o.actions=p),square:"",color:"accent",icon:"keyboard_arrow_left",direction:"left",label:"Actions",padding:"sm"},{default:r(()=>[e.$can("manage","projectRequests")&&(o.hireRequestData[14]==="Open"||o.hireRequestData[14]==="Pending")?(c(),h(G,{key:0,label:"Add Classifications",color:"primary",icon:"add",onClick:a[3]||(a[3]=p=>o.showAddJobs=!0)})):N("",!0),e.$can("manage","nameRequests")&&(o.hireRequestData[14]==="Open"||o.hireRequestData[14]==="Pending")?(c(),h(G,{key:1,label:"Add Names to Request",color:"accent",icon:"person_add",onClick:a[4]||(a[4]=p=>o.showAddNames=!0)})):N("",!0),e.$can("manage","projectRequests")&&(o.hireRequestData[14]==="Open"||o.hireRequestData[14]==="Pending")?(c(),h(G,{key:2,label:"Cancel Hire Request",color:"dark",icon:"cancel",onClick:o.confirmCancel},null,8,["onClick"])):N("",!0)]),_:1},8,["modelValue"])]),_:1})):N("",!0)])])]),_:1})]),_:1}),f("div",Mt,[f("div",Bt,[l(t,{details:o.details,title:"Details"},null,8,["details"])]),f("div",It,[l(ta,{class:"q-py-xs bg-info text-white shadow-2 rounded-borders",align:"left",modelValue:o.tab,"onUpdate:modelValue":a[6]||(a[6]=p=>o.tab=p),dense:"","indicator-color":"accent","outside-arrows":"","mobile-arrows":"","inline-label":""},{default:r(()=>[l(se,{name:0,label:"Classifications"}),l(se,{name:1,label:"Names"}),o.hireRequestData[14]!=="Pending"?(c(),h(se,{key:0,name:2,label:"Offers"})):N("",!0),o.hireRequestData[14]!=="Pending"?(c(),h(se,{key:1,name:3,label:"Pipeline"})):N("",!0)]),_:1},8,["modelValue"]),l(aa,{modelValue:o.tab,"onUpdate:modelValue":a[7]||(a[7]=p=>o.tab=p),animated:"",class:"q-px-none"},{default:r(()=>[l(le,{class:"q-px-xs",name:0},{default:r(()=>[o.hireRequestData[3]?(c(),h(i,{key:0,data:o.hireRequestData},null,8,["data"])):N("",!0)]),_:1}),l(le,{class:"q-px-xs",name:1},{default:r(()=>[l(v,{data:o.hireRequestData},null,8,["data"])]),_:1}),l(le,{class:"q-px-xs",name:2},{default:r(()=>[l(_,{data:o.hireRequestData.offers},null,8,["data"])]),_:1}),l(le,{class:"q-px-xs",name:3},{default:r(()=>[l(R,{request:o.hireRequestData},null,8,["request"])]),_:1})]),_:1},8,["modelValue"])])]),l(ge,{persistent:"",modelValue:o.showAddNames,"onUpdate:modelValue":a[9]||(a[9]=p=>o.showAddNames=p)},{default:r(()=>[l(z,{flat:"",style:{width:"500px"}},{default:r(()=>[l(T,{class:"q-pa-none"},{default:r(()=>[l(g,{onCloseNames:a[8]||(a[8]=p=>o.showAddNames=!1),onNamesAdded:o.namesAdded,request:o.hireRequestData},null,8,["onNamesAdded","request"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(ge,{persistent:"",modelValue:o.showAddJobs,"onUpdate:modelValue":a[11]||(a[11]=p=>o.showAddJobs=p)},{default:r(()=>[l(z,{flat:"",style:{width:"500px"}},{default:r(()=>[l(T,{class:"q-pa-none"},{default:r(()=>[l(k,{hideInstructions:!0,request:o.hireRequestData,onCloseJobs:a[10]||(a[10]=p=>o.showAddJobs=!1),onJobsAdded:o.jobsAdded,onJobUpdated:o.jobUpdated},null,8,["request","onJobsAdded","onJobUpdated"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])):N("",!0)]),_:1})}var To=F(Et,[["render",Jt]]);export{To as default};
