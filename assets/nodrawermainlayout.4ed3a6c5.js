import{Q as O,a as R}from"./QHeader.7190bc87.js";import{_ as P,l as E,r as n,bU as H,bV as I,bW as L,w as S,b6 as g,B as _,ar as V,bs as r,d as t,C as h,as as j,ad as c,E as m,bX as Q,bR as C,bu as z}from"./index.2e7fe8e8.js";import{Q as K}from"./QMenu.aa89615f.js";import{Q as N}from"./QToolbar.cde6ee4d.js";import{Q as A,a as F}from"./QLayout.93ed4ba2.js";import{C as W}from"./ClosePopup.baafa49d.js";import{u as X}from"./use-quasar.40d4c05b.js";import{u as x}from"./i18n.2ffb039e.js";import{u as G,b as J,q as $}from"./app.1914f476.js";import{_ as Y}from"./languageSelector.1f51c99c.js";import{_ as Z}from"./version.b1a28bdc.js";import"./QResizeObserver.29993df0.js";import"./position-engine.fae1bc72.js";import"./selection.87b1e79a.js";import"./_commonjsHelpers.a26ce4be.js";import"./dayjs.d259e186.js";import"./localForage.efbf8f90.js";import"./api.15b844fb.js";import"./index.04bc0a32.js";import"./QSelect.63d8c041.js";import"./QChip.1e62c9f1.js";import"./rtl.b51694b1.js";import"./QList.ca4b78d4.js";const ee=E({name:"MainLayout",components:{languageSelector:Y,version:Z},setup(){const s=X(),{locale:y}=x(),p=n(!1),o=n(!1),f=n(!1),u=n(!1),d=n(!1),i=H(),a=I(),b=G(),k=J(),{toolbarTitle:U}=k,{onKiosk:l,activeMenu:B,pageType:T,startPageEnabled:q,kioskActive:D}=L(k),v=async e=>{await $.checkKioskStatus(e)||(d.value=!0)};if(l.value&&v(!0),a.query&&a.query.office_id){const e=Object.assign({},a.query);delete e.office_id,delete e.qr,i.replace({query:e})}S(D,e=>{!e&&l.value&&v()}),S(()=>a.query,async()=>{if(l.value&&v(!1),a.query.office_id){const e=Object.assign({},a.query);delete e.office_id,e.qr&&($.checkInUser(),delete e.qr),i.replace({query:e})}});const w=async()=>{l.value&&(y.value="en-US"),b.logout().then(()=>{q.value&&l.value?i.replace({name:"start"}):i.replace({name:"login"})})},M=()=>{w()};return{tab:n("mails"),userStore:b,leftDrawerOpen:p,rightDrawerOpen:f,miniState:o,miniHover:u,kioskPrompt:d,onIdle:M,onKiosk:l,activeMenu:B,miniMouseOver(){o.value===!0&&(u.value=!1)},miniMouseOut(){o.value===!0&&(u.value=!0)},toggleLeftDrawer(){s.screen.gt.sm?(o.value=!o.value,o.value===!0&&(u.value=!0)):p.value=!p.value},toggleRightDrawer(){f.value=!f.value},drawerClick(e){o.value&&(o.value=!1,e.stopPropagation())},logout:w,toolbarTitle:U,pageType:T,startPageEnabled:q}}}),te={key:0,class:"q-mr-sm q-ml-sm",src:"https://cdn.jsdelivr.net/gh/EliteHCMS/assets@latest/public/logo-white.png",alt:"BrandSafway Logo",height:"25"},se={key:0},oe={key:1},ae={class:"q-gutter-sm row items-center no-wrap"},re={class:"row no-wrap q-pa-md"},ie={class:"column items-center"},le={class:"text-subtitle1 q-mt-md q-mb-xs"};function ne(s,y,p,o,f,u){const d=g("languageSelector"),i=g("router-view"),a=g("version");return _(),V(F,{view:"hHh lpR fFf"},{default:r(()=>[t(O,{class:"print-hide",elevated:""},{default:r(()=>[t(N,{style:{height:"62px"}},{default:r(()=>[s.$q.screen.gt.sm?(_(),h("img",te)):j("",!0),t(R,null,{default:r(()=>[s.$q.screen.lt.sm?(_(),h("span",se)):(_(),h("span",oe,c(s.toolbarTitle),1))]),_:1}),m("div",ae,[t(d,{dense:"",borderless:"",class:"lang-white"}),t(Q,{flat:"",dense:"",color:"white"},{default:r(()=>[m("div",null,c(s.userStore.getUser[35])+" "+c(s.userStore.getUser[37]),1),t(C,{right:"",size:"2.2em",name:"account_circle"}),t(K,null,{default:r(()=>[m("div",re,[m("div",ie,[t(C,{right:"",size:"72px",name:"account_circle",class:"q-mr-md"}),m("div",le,c(s.userStore.getUser[35])+" "+c(s.userStore.getUser[37]),1),z(t(Q,{color:"primary",label:s.$t("logout"),push:"",size:"sm",onClick:s.logout},null,8,["label","onClick"]),[[W]])])])]),_:1})]),_:1})])]),_:1})]),_:1}),t(A,null,{default:r(()=>[t(i)]),_:1}),t(a)]),_:1})}var Oe=P(ee,[["render",ne]]);export{Oe as default};
