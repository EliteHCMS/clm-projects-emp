import{Q as ye}from"./QPage.6ad619dd.js";import{Q as ge,a as $e,b as he}from"./QTabPanels.f9656363.js";import{Q as Ce}from"./QTabs.b09ba654.js";import{Q as we}from"./QToolbar.35802955.js";import{u as ee}from"./use-quasar.8076b8cd.js";import{k as _,c1 as B,r as h,_ as z,v as me,z as $,am as T,bh as d,d as n,c2 as L,C as c,aa as V,cy as le,c6 as M,b$ as ce,c3 as Z,bE as ie,c as F,cx as re,aY as X,A,an as R,d4 as ke,w as Ye,o as Se,bX as Ve,F as Ae,aX as Te,cz as Me,at as De,aU as Ee,aS as Ne}from"./index.52c71ca6.js";import{a as W}from"./QSelect.02464590.js";import{Q as qe}from"./QTd.be89a153.js";import{Q as Qe}from"./QTr.f779068e.js";import{Q as je}from"./QTable.34b4b377.js";import{b as U,u as ue,q as H,O as ae,J as oe}from"./quickbase.0d6b62e6.js";import{e as Fe}from"./export-file.6b95af49.js";import{dayjs as w}from"./dayjs.7e2f14dc.js";import{Q as de}from"./QForm.c6176f23.js";import{a as x,b as pe,u as ne,c as Re}from"./array.8d580dc2.js";import"./use-panel.7eae50bb.js";import"./touch.52aa58ff.js";import"./selection.445971ab.js";import"./QResizeObserver.cd0d3c43.js";import"./rtl.a367ced8.js";import"./QChip.bee081d7.js";import"./QMenu.b5435217.js";import"./position-engine.901fa583.js";import"./QList.dade0d45.js";import"./QMarkupTable.6709601e.js";import"./use-fullscreen.57b102bc.js";import"./_commonjsHelpers.dfee5925.js";import"./localForage.83b50c47.js";import"./index.7dbe61ef.js";import"./i18n.3d69f992.js";import"./api.14a19609.js";const Le=_({setup(e,t){ee();const{availableMatrixColumns:p,active:m}=B(U()),{addNewMatrixColumn:b}=U(),{getUser:i}=B(ue()),{capitalize:r}=me,g=h(null),s=x({selection:x().required().nullable()}),{meta:f,errors:D,handleSubmit:E,handleReset:N}=pe({validationSchema:s}),{value:k}=ne("selection"),Y=E(async C=>{console.log(C);const y={6:{value:`${i.value[35]} ${i.value[37]}`},7:{value:C.selection[6].toLowerCase()},10:{value:m.value[3]},13:{value:C.selection[8]},14:{value:C.selection[3]}},{data:O}=await H.upsertRecordsXML({to:"bsiy5quec",data:[y],fieldsToReturn:[12],formatObject:12});O.length>0?(b({project:m.value,data:O[0][12]}),t.emit("newColumnAdded")):t.emit("newColumnFailed"),N()});return{formMeta:f,formErrors:D,submit:Y,selection:k,availableMatrixColumns:p,selectionError:g,capitalize:r}}}),Ue=c("div",{class:"text-body1 text-white"},"Add a Column to Matrix",-1),ze=c("div",{class:"text-body1"},"Select an Existing Column",-1),Oe=c("div",{class:"q-pl-sm text-caption text-italic"}," Selecting an existing column will display any information previously entered for the employee by any job site. ",-1),Pe={class:"text-caption"},Ie=c("div",{class:"text-body2"},"Don't see your column? You can add a new one.",-1);function Be(e,t,p,m,b,i){return $(),T(de,{onSubmit:ie(e.submit,["prevent"])},{default:d(()=>[n(Z,null,{default:d(()=>[n(L,{class:"bg-dark"},{default:d(()=>[Ue]),_:1}),n(L,{class:"q-pb-xs"},{default:d(()=>[ze,Oe,n(W,{class:"q-mb-sm",dense:"",label:"Select a Column to Add","transition-show":"flip-up","transition-hide":"flip-down",modelValue:e.selection,"onUpdate:modelValue":t[0]||(t[0]=r=>e.selection=r),options:e.availableMatrixColumns,"option-label":"6","display-value":e.selection?`${e.selection[6]} - ${e.capitalize(e.selection[8])}`:"","bottom-slots":"",error:!!(e.formErrors.selection||e.selectionError)},{error:d(()=>[c("div",Pe,V(e.formErrors.selection?e.formErrors.selection:e.selectionError),1)]),_:1},8,["modelValue","options","display-value","error"])]),_:1}),n(L,{class:"q-py-xs"},{default:d(()=>[Ie]),_:1}),n(le,{align:"left"},{default:d(()=>[n(M,{label:"Add a New Column",color:"info",onClick:t[1]||(t[1]=r=>e.$emit("continueToNewColumn"))})]),_:1}),n(ce),n(le,{class:"bg-accent",align:"right"},{default:d(()=>[n(M,{size:e.$q.screen.lt.md?"sm":"",color:"secondary",label:"Cancel",onClick:t[2]||(t[2]=r=>e.$emit("closeAddColumn"))},null,8,["size"]),n(M,{type:"submit",size:e.$q.screen.lt.md?"sm":"",color:"primary",label:"Save"},null,8,["size"])]),_:1})]),_:1})]),_:1},8,["onSubmit"])}var Xe=z(Le,[["render",Be]]);const _e=_({setup(e,t){const{availableMatrixColumns:p,active:m}=B(U()),{addNewMatrixColumn:b}=U(),{getUser:i}=B(ue()),r=h(null),g=h(null),s=F(()=>x({label:Re().required().nullable().label("Column Name"),type:x().required().nullable().label("Data Type")})),{meta:f,errors:D,handleSubmit:E,handleReset:N}=pe({validationSchema:s}),{value:k}=ne("label"),{value:Y}=ne("type"),C=E(async y=>{if(!p.value.find(q=>q[7].toLowerCase()===y.label.toLowerCase()&&q[13]===y.type.value)){const q={7:{value:`${i.value[35]} ${i.value[37]}`},6:{value:y.label.toLowerCase()},8:{value:y.type.value}},{data:G}=await H.upsertRecordsXML({to:"bsjdig6gn",data:[q],fieldsToReturn:[9],formatObject:9});if(G.length>0){const J=G[0][9][3],K=await H.upsertRecordsXML({to:"bsiy5quec",data:[{6:{value:`${i.value[35]} ${i.value[37]}`},7:{value:y.label.toLowerCase()},13:{value:y.type.value},10:{value:m.value[3]},14:{value:J}}],fieldsToReturn:[12],formatObject:12});K.data.length>0?(b({project:m.value,data:K.data[0][12]}),t.emit("newColumnAdded")):t.emit("newColumnFailed")}else t.emit("newColumnFailed")}N()});return{formMeta:f,formErrors:D,submit:C,label:k,type:Y,labelError:r,typeError:g}}}),Je=c("div",{class:"text-body1 text-white"},"Add a Column to Matrix",-1),We=c("div",{class:"text-body1 text-dark"},"Add a New Column",-1),He={class:"text-caption"},Ge={class:"text-caption"};function Ke(e,t,p,m,b,i){return $(),T(de,{onSubmit:ie(e.submit,["prevent"])},{default:d(()=>[n(Z,null,{default:d(()=>[n(L,{class:"bg-dark"},{default:d(()=>[Je]),_:1}),n(L,{class:"q-pt-md"},{default:d(()=>[We,n(re,{class:"q-mb-md",dense:"",type:"text","bottom-slots":"",error:!!(e.formErrors.label||e.labelError),modelValue:e.label,"onUpdate:modelValue":t[0]||(t[0]=r=>e.label=r),label:"Column Name"},{error:d(()=>[c("div",He,V(e.formErrors.label?e.formErrors.label:e.labelError),1)]),_:1},8,["error","modelValue"]),n(W,{dense:"",label:"Select Data Type",modelValue:e.type,"onUpdate:modelValue":t[1]||(t[1]=r=>e.type=r),options:[{value:"text",label:"Text"},{value:"date",label:"Date"},{value:"checkbox",label:"Checkbox"}],"bottom-slots":"",error:!!(e.formErrors.type||e.typeError)},{error:d(()=>[c("div",Ge,V(e.formErrors.type?e.formErrors.type:e.typeError),1)]),_:1},8,["modelValue","error"])]),_:1}),n(ce),n(le,{class:"bg-accent",align:"right"},{default:d(()=>[n(M,{size:e.$q.screen.lt.md?"sm":"",color:"secondary",label:"Cancel",onClick:t[2]||(t[2]=r=>e.$emit("closeAddColumn"))},null,8,["size"]),n(M,{type:"submit",size:e.$q.screen.lt.md?"sm":"",color:"primary",label:"Save"},null,8,["size"])]),_:1})]),_:1})]),_:1},8,["onSubmit"])}var Ze=z(_e,[["render",Ke]]);const xe=_({components:{SelectColumn:Xe,EnterColumn:Ze},setup(){const e=ee(),t=h(0),{getMatrixColumns:p}=U();async function m(){e.loading.show(),(await p()).length===0&&(t.value=1),e.loading.hide()}return m(),{step:t}}});function et(e,t,p,m,b,i){const r=X("select-column"),g=X("enter-column");return $(),A("div",null,[c("div",null,[e.step===0?($(),T(r,{key:0,onNoOptions:t[0]||(t[0]=s=>e.step=1),onCloseAddColumn:t[1]||(t[1]=s=>e.$emit("closeAddColumn")),onContinueToNewColumn:t[2]||(t[2]=s=>e.step=1),onNewColumnAdded:t[3]||(t[3]=s=>e.$emit("newColumnAdded")),onNewColumnFailed:t[4]||(t[4]=s=>e.$emit("newColumnFailed"))})):R("",!0),e.step===1?($(),T(g,{key:1,onCloseAddColumn:t[5]||(t[5]=s=>e.$emit("closeAddColumn")),onBackToSelect:t[6]||(t[6]=s=>e.step=0),onNewColumnAdded:t[7]||(t[7]=s=>e.$emit("newColumnAdded")),onNewColumnFailed:t[8]||(t[8]=s=>e.$emit("newColumnFailed"))})):R("",!0)])])}var tt=z(xe,[["render",et]]);const lt=_({props:{inputType:String,row:Object,col:Object,currentValue:String,checkValue:Boolean},setup(e,t){const p=h(""),m=h(null),b=h(e.checkValue),i=h(!1),r=h(e.currentValue),{getUser:g}=ue(),{refreshAssignment:s}=ae();function f(){console.log(oe.formatDate(e.col.value,"YYYY-MM-DD")),e.inputType==="date"?(m.value=oe.formatDate(e.col.value,"YYYY-MM-DD"),i.value=!0):e.inputType==="checkbox"?(b.value=e.col.value,i.value=!0):(p.value=e.col.value,i.value=!0)}const D=F(()=>!!(r.value&&r.value!==""&&r.value!==void 0));async function E(){let k;if(e.inputType==="checkbox"&&b.value===!1){N();return}else i.value?k={3:{value:e.row[e.col.keyString][3]},10:{value:`${g[35]} ${g[37]}`}}:k={12:{value:e.row.employee[3]},13:{value:e.col.name},6:{value:e.inputType},17:{value:e.col.colRid},10:{value:`${g[35]} ${g[37]}`}};e.inputType==="date"?Object.assign(k,{8:{value:m.value}}):e.inputType==="checkbox"&&b.value!==!1?Object.assign(k,{9:{value:b.value}}):Object.assign(k,{7:{value:p.value}});const{data:Y}=await H.upsertRecordsXML({to:"bsi3t4bcz",data:[k],fieldsToReturn:[11],formatObject:11});if(Y.length>0){const C=e.row;Object.assign(C,{[e.col.keyString]:Y[0][11]}),s({assignment:C}),e.inputType==="date"?(r.value=w(m.value,"YYYY-MM-DD").format("MM/DD/YYYY"),m.value=null):(r.value=p.value,p.value=""),i.value&&(i.value=!1)}}async function N(){const Y={3:{value:e.row[e.col.keyString][3]},16:{value:`${g[35]} ${g[37]}`},15:{value:!0}};e.inputType==="checkbox"&&Object.assign(Y,{9:{value:b.value}});const{data:C}=await H.upsertRecordsXML({to:"bsi3t4bcz",data:[Y],fieldsToReturn:[11],formatObject:11});if(console.log(C),C.length>0){const y=e.row;delete y[e.col.keyString],s({assignment:y}),e.inputType==="date"?(r.value="",m.value=null):(r.value="",p.value=""),i.value&&(i.value=!1)}}return{textEntry:p,dateEntry:m,checkEntry:b,props:e,editMode:i,hasValue:D,setValue:r,submit:E,showEdit:f,remove:N}}}),at={key:0,class:"row"},ot={class:"col-2"},nt={class:"col-10"},st={key:2,align:"center"};function it(e,t,p,m,b,i){return $(),A("div",null,[e.hasValue&&!e.editMode&&e.props.inputType!=="checkbox"?($(),A("div",at,[c("div",ot,[n(M,{size:"sm",dense:"",flat:"","text-color":"primary",icon:"edit",onClick:e.showEdit},null,8,["onClick"])]),c("div",nt,[c("span",null,V(e.setValue),1)])])):R("",!0),e.props.inputType!=="checkbox"&&(!e.hasValue||e.editMode)?($(),T(de,{key:1,onSubmit:ie(e.submit,["prevent"])},{default:d(()=>[e.props.inputType==="date"?($(),T(re,{key:0,clearable:"",filled:"","input-class":"text-caption",dense:"",type:"date",modelValue:e.dateEntry,"onUpdate:modelValue":t[0]||(t[0]=r=>e.dateEntry=r),onClear:t[1]||(t[1]=r=>e.remove())},{prepend:d(()=>[e.dateEntry?($(),T(M,{key:0,"text-color":"primary",flat:"",type:"submit",size:"sm",dense:"",icon:"save",onClick:e.submit},null,8,["onClick"])):R("",!0)]),_:1},8,["modelValue"])):R("",!0)]),_:1},8,["onSubmit"])):R("",!0),e.props.inputType==="checkbox"?($(),A("div",st,[n(ke,{modelValue:e.checkEntry,"onUpdate:modelValue":[t[2]||(t[2]=r=>e.checkEntry=r),e.submit]},null,8,["modelValue","onUpdate:modelValue"])])):R("",!0)])}var rt=z(lt,[["render",it]]);const{capitalize:I}=me,se=e=>{const t=e[20]!==""?I(e[20].toLowerCase().trim()):"",p=e[22]!==""?I(e[22].toLowerCase().trim()):"",m=e[21]!==""?` ${I(e[21].toLowerCase().trim())}`:"",b=e[23]!==""?` ${I(e[23])}`:"";return`${p}${b}, ${t}${m}`},ut=[{name:1,label:"Name",align:"left",field:e=>e.employee[22],format:(e,t)=>`${se(t.employee)}`,sortable:!0,sortOrder:"ad"},{name:7,label:"Workday ID",align:"left",field:e=>e.employee[378],format:e=>`${e}`,sortable:!0,sortOrder:"ad"},{name:2,label:"Payroll ID",align:"left",field:e=>e.employee[213],format:e=>e===""?"not available":e,sortable:!0},{name:4,label:"Classification",align:"left",field:e=>e.map.fullJob,format:e=>`${!e||e===""?"Not Assigned":e}`,sortable:!0},{name:5,label:"Job #",align:"left",field:e=>e.map.jobNumber,format:e=>`${e===""||!e?"Not Assigned":e}`,sortable:!0},{name:6,label:"Arrival Date",align:"left",field:e=>e.map.start,format:e=>`${e?oe.formatDate(e,"MM/DD/YYYY"):"TBD"}`,sortable:!0}],dt=_({name:"Table",components:{AddColumn:tt,TableEdit:rt},setup(){const e=ee(),t=ae(),p=U(),{assignmentsForProject:m}=B(t),b=m,{active:i}=B(U()),{getAssignments:r,checkDisa:g}=ae(),s=h(""),f=h(null),D=h(null),E=h(null),N=h(0),k=h(!1),Y=h(!1),C=h(!1);r();const y=F(()=>{let u=b.value;return u=u.filter(a=>a[75].toLowerCase().includes(s.value.toLowerCase())),u=f.value?f.value==="Not Active"?u.filter(a=>a.employee[556]&&a.employee[556][10]&&a.employee[556][10].ownerStatus!=="Active"):u.filter(a=>a.employee[556]&&a.employee[556][10]&&a.employee[556][10].ownerStatus===f.value):u,u=D.value?u.filter(a=>a.employee[556]&&a.employee[556][10]&&a.employee[556][10].hasPendingRandom===D.value.value):u,u=E.value?u.filter(a=>a.employee[556]&&a.employee[556][10]&&a.employee[556][10].backgrounds===E.value):u,u.sort((a,l)=>a.employee[22].toLowerCase().trim()>l.employee[22].toLowerCase().trim()?1:-1).filter(a=>!a[112])});function O(u,a,l){let v=a!==void 0?a(u,l):u;return v=v==null?"":String(v),v=v.split('"').join('""'),`"${v}"`}async function q(){Y.value=!0,e.loading.show({message:"Checking Disa Status. This may take a few moments..."});try{await g({project:i.value,roster:y.value})}catch(u){console.log(u),e.notify({message:"There was a problem...",color:"negative",icon:"warning"})}e.loading.hide(),Y.value=!1}const G=F(()=>[...new Map(i.value.matrix.map(a=>[a[7],a])).values()]),J=F(()=>{const u=[{name:1,label:"Name",align:"left",field:l=>se(l.employee),format:l=>l,sortable:!0,sortOrder:"ad"},{name:0,label:"Status",align:"center",field:l=>l.employee[556]&&l.employee[556][10]?l.employee[556][10].ownerStatus:null,format:l=>l||"N/A",sortable:!0}];if(i.value[322]){const l=i.value[321];l[36]&&u.push({name:5,label:"Background",align:"center",field:o=>o.employee[556]&&o.employee[556][10]?o.employee[556][10].backgrounds:null,format:o=>o||"N/A",sortable:!0}),u.push({name:3,label:"Random",align:"left",field:o=>o.employee[556]&&o.employee[556][10]?o.employee[556][10].hasPendingRandom:null,format:o=>o?"Yes":"No",sortable:!0},{name:4,label:"Days Left",align:"right",field:o=>o.employee[556]&&o.employee[556][10]&&o.employee[556][10].hasPendingRandom?o.employee[556][10].daysUntilWindowCloses:null,format:o=>o?parseInt(o):"N/A",sortable:!0});const v=l[10].split(",");v&&Array.isArray(v)&&v.forEach((o,te)=>{const S=6+(te+1);let Q="";o=o.toLowerCase().trim(),o.includes("w/ randoms")&&(o=o.replace(" w/ randoms","")),o.includes(" (view)")&&(o=o.replace(" (view)","")),o==="dccha"||o==="dcceo"||o.includes("upstream")?Q="lastUrineTest":o==="dccht"?Q="lastHairTest":o==="nasap"?Q="lastNASAPTest":o==="dccof"&&(Q="lastOralFluidTest");const be={policy:o,key:Q};u.push({name:S,label:`${o.toUpperCase()} Last Test`,align:"right",field:j=>j.employee[556]&&j.employee[556][10]?j.employee[556][10][be.key]:null,format:j=>j&&w(j).isValid()?`${w(j).format("MM/DD/YYYY")}`:"N/A",sortable:!0})}),l[36]&&u.push({name:6,label:"BG Exp",align:"right",field:o=>o.employee[556]&&o.employee[556][10]?o.employee[556][10].backgroundsExpDate:null,format:o=>o&&w(o).isValid()?`${w(o).format("MM/DD/YYYY")}`:"N/A",sortable:!0})}return[{keyString:"basic_plus",colRid:7,allowEdit:!0,editInputType:"date",name:"basic_plus",classes:"editable",label:"Basic Plus Exp",align:"right",field:l=>l.basic_plus?l.basic_plus.value:null,format:l=>l?w(l,"MM-DD-YYYY").format("MM/DD/YYYY"):null,sortable:!0},{keyString:"twic",colRid:8,allowEdit:!0,editInputType:"date",name:"twic",classes:"editable",label:"TWIC Exp",align:"right",field:l=>l.twic?l.twic.value:null,format:l=>l?w(l,"MM-DD-YYYY").format("MM/DD/YYYY"):null,sortable:!0}].forEach(l=>{u.push(l)}),G.value.forEach(l=>{let v="";l[7].split(" ").forEach((S,Q)=>{v+=Q>0?` ${I(S)}`:I(S)});const te={keyString:l[18],colRid:l[14],allowEdit:!0,editInputType:l[13],name:l[18],classes:"editable",label:v,align:"right",field:S=>S[l[18]]?S[l[18]].value:null,format:S=>S?l[13]==="date"?w(S,"MM-DD-YYYY").format("MM/DD/YYYY"):S:null,sortable:!0};u.push(te)}),u}),K=F(()=>({notActive:y.value.filter(a=>!a.employee[556]||a.employee[556][10].ownerStatus!=="Active").length,active:y.value.filter(a=>a.employee[556]&&a.employee[556][10].ownerStatus==="Active").length,randoms:y.value.filter(a=>a.employee[556]&&a.employee[556][10].hasPendingRandom).length})),P=F(()=>{if(i.value[322])if(console.log(y.value),y.value.length>0){const u=y.value.filter(a=>a.employee[556]&&a.employee[556][10]&&w(a.employee[556][10].dateChecked).isValid());if(u.length>0){const a=u.sort((l,v)=>l.employee[556][10].dateChecked>v.employee[556][10].dateChecked?-1:1)[0].employee[556][10].dateChecked;return a?w(a):null}else return null}else return null;else return null});Ye(P,()=>{i.value&&i.value[322]&&P.value&&P.value.isBefore(w(),"day")&&q()}),Se(()=>{i.value&&i.value[322]&&P.value&&P.value.isBefore(w(),"day")&&q()});function fe(){C.value=!1,e.notify({type:"positive",message:"New Column Added!",position:"top-right"})}function ve(){C.value=!1,e.notify({type:"negative",message:"Cannot add new column",position:"top-right"})}return console.log(i.value),{columns:ut,rows:y,initialPagination:h({rowsPerPage:25}),separator:"vertical",projectStore:p,active:i,search:s,statusFilter:f,bgFilter:E,randomFilter:D,assignmentsForProject:m,tab:N,showEmployee:k,formatName:se,exportAllEmployees(){const u=[J.value.map(l=>O(l.label))].concat(y.value.map(l=>J.value.map(v=>O(typeof v.field=="function"?v.field(l):l[v.field===void 0?v.name:v.field],v.format,l)).join(","))).join(`\r
`);Fe(`${w().format("MM.DD.YYYY")} ${i.value[20]} Site-Matrix-Export.csv`,u,"text/csv")!==!0&&e.notify({message:"Browser denied file download...",color:"negative",icon:"warning"})},checkDisaStatus:q,computedColumns:J,checkingStatus:Y,statusSummary:K,dayjs:w,lastChecked:P,showAddColumn:C,newColumnAdded:fe,newColumnFailed:ve}}}),mt=e=>(Ee("data-v-d6680520"),e=e(),Ne(),e),ct={key:0},pt={class:"row items-center"},ft={class:"col-12 col-md-3 q-px-sm"},vt={class:"col-12 col-md-2 q-px-sm"},bt={class:"col-12 col-md-2 q-px-sm"},yt={class:"col-12 col-md-2 q-px-sm"},gt={class:"text-primary text-italic text-body2"},$t={class:"text-dark text-italic text-body2 q-mt-sm"},ht=De(" Last Checked: "),Ct={class:"text-accent"},wt={class:"full-width row flex-center text-primary q-gutter-sm q-py-md"},kt={key:1},Yt={key:1},St=mt(()=>c("div",{class:"text-primary text-body1"},"Coming soon. This is available for Disa sites only right now.",-1));function Vt(e,t,p,m,b,i){const r=X("table-edit"),g=X("add-column");return $(),A("div",null,[e.active[322]?($(),A("div",ct,[n(Z,{flat:""},{default:d(()=>[n(L,{class:"q-pt-none"},{default:d(()=>[c("div",pt,[c("div",ft,[n(re,{dense:"",modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=s=>e.search=s),label:"Search"},null,8,["modelValue"])]),c("div",vt,[n(W,{dense:"",label:"Status","transition-show":"flip-up","transition-hide":"flip-down",modelValue:e.statusFilter,"onUpdate:modelValue":t[1]||(t[1]=s=>e.statusFilter=s),options:["Active","Not Active"],"use-chips":""},null,8,["modelValue"])]),c("div",bt,[n(W,{dense:"",label:"Pending Random","transition-show":"flip-up","transition-hide":"flip-down",modelValue:e.randomFilter,"onUpdate:modelValue":t[2]||(t[2]=s=>e.randomFilter=s),options:[{label:"Yes",value:!0},{label:"No",value:!1}],"use-chips":""},null,8,["modelValue"])]),c("div",yt,[n(W,{dense:"",label:"Background","transition-show":"flip-up","transition-hide":"flip-down",modelValue:e.bgFilter,"onUpdate:modelValue":t[3]||(t[3]=s=>e.bgFilter=s),options:["Active","Not Active"],"use-chips":""},null,8,["modelValue"])])])]),_:1})]),_:1}),n(je,{"title-class":e.$q.screen.gt.sm?"text-primary text-h6":"text-primary text-body1",title:e.$q.screen.lt.sm?"Matrix":`Matrix for ${e.active[20]}`,columns:e.computedColumns,rows:e.rows,"row-key":"3",class:"q-pa-sm sticky-header-table",pagination:e.initialPagination,"onUpdate:pagination":t[5]||(t[5]=s=>e.initialPagination=s),"rows-per-page-options":[0],separator:"vertical","table-header-class":"bg-dark text-white","no-data-label":`There are no employees for ${e.active[20]}`,grid:e.$q.screen.lt.sm,dense:""},{"top-right":d(()=>[n(M,{dense:e.$q.screen.lt.md,color:"accent",label:"Check Disa Status",onClick:e.checkDisaStatus},null,8,["dense","onClick"]),n(M,{dense:e.$q.screen.lt.md,class:"q-ml-sm",color:"info",label:"Add a Column",onClick:t[4]||(t[4]=s=>e.showAddColumn=!0)},null,8,["dense"]),n(M,{dense:e.$q.screen.lt.md,class:"q-ml-sm",color:"primary",label:"Download",onClick:e.exportAllEmployees,disable:e.rows.length<1},null,8,["dense","onClick","disable"])]),"top-left":d(()=>[c("div",gt," ("+V(e.statusSummary.active)+" active / "+V(e.statusSummary.notActive)+" not active / "+V(e.statusSummary.randoms)+" pending randoms) ",1),c("div",$t,[ht,c("span",Ct,V(e.lastChecked?e.lastChecked.format("MM/DD/YYYY hh:mm:ss a z"):"Never"),1)])]),"no-data":d(({message:s})=>[c("div",wt,[n(Ve,{size:"2em",name:"fa-solid fa-person-circle-exclamation"}),c("span",null,V(s),1)])]),body:d(s=>[n(Qe,{props:s},{default:d(()=>[($(!0),A(Ae,null,Te(s.cols,f=>($(),T(qe,{key:f.name,props:s},{default:d(()=>[f.allowEdit?($(),T(r,{key:0,hasValue:!!(f.value||f.value!==""||f.value!==void 0),col:f,currentValue:f.editInputType==="checkbox"?"":f.value,checkValue:f.value==="true",inputType:f.editInputType?f.editInputType:"text",row:s.row},null,8,["hasValue","col","currentValue","checkValue","inputType","row"])):($(),A("span",kt,V(f.value),1))]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),_:1},8,["title-class","title","columns","rows","pagination","no-data-label","grid"])])):($(),A("div",Yt,[n(Z,null,{default:d(()=>[n(L,{class:"text-center"},{default:d(()=>[St]),_:1})]),_:1})])),n(Me,{modelValue:e.showAddColumn,"onUpdate:modelValue":t[7]||(t[7]=s=>e.showAddColumn=s),persistent:""},{default:d(()=>[n(g,{onCloseAddColumn:t[6]||(t[6]=s=>e.showAddColumn=!1),onNewColumnAdded:e.newColumnAdded,onNewColumnFailed:e.newColumnFailed},null,8,["onNewColumnAdded","onNewColumnFailed"])]),_:1},8,["modelValue"])])}var At=z(dt,[["render",Vt],["__scopeId","data-v-d6680520"]]);const Tt=_({name:"Projects",components:{MatrixTab:At},setup(){return ee(),{tab:h(0)}}}),Mt={class:"q-px-sm"};function Dt(e,t,p,m,b,i){const r=X("matrix-tab");return $(),A("div",Mt,[n(we,{class:"bg-info text-white shadow-2 rounded-borders"},{default:d(()=>[n(Ce,{modelValue:e.tab,"onUpdate:modelValue":t[0]||(t[0]=g=>e.tab=g),"bg-color":"none","indicator-color":"accent",align:"justify",dense:""},{default:d(()=>[n(ge,{name:0,label:"Matrix"})]),_:1},8,["modelValue"])]),_:1}),n(he,{modelValue:e.tab,"onUpdate:modelValue":t[1]||(t[1]=g=>e.tab=g),animated:""},{default:d(()=>[n($e,{class:"q-px-xs",name:0},{default:d(()=>[n(r)]),_:1})]),_:1},8,["modelValue"])])}var Et=z(Tt,[["render",Dt]]);const Nt={name:"Compliance",components:{Tabs:Et},setup(){return{}}};function qt(e,t,p,m,b,i){const r=X("tabs");return $(),T(ye,{style:{"max-width":"100vw"}},{default:d(()=>[n(r)]),_:1})}var ml=z(Nt,[["render",qt]]);export{ml as default};
