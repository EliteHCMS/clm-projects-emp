import{Q as S,a as R}from"./QHeader.1128d55f.js";import{l as D,bL as E,_ as T,A as a,an as g,bi as t,d as o,cw as W,D as f,ab as c,B as w,ao as _,cy as B,bO as k,cz as O,r as p,bM as z,c as F,w as I,aZ as h,bI as q,bk as P,aY as j,H as G,F as X}from"./index.1b5374c8.js";import{Q as Y}from"./QMenu.d63f2496.js";import{Q as M}from"./QToolbar.40b55e19.js";import{Q as Z}from"./QImg.287cfb6a.js";import{Q as J}from"./QList.4ca8141b.js";import{Q as K,a as x}from"./QDrawer.3563d493.js";import{a as ee,Q as oe}from"./QLayout.ba0751b5.js";import{C as te}from"./ClosePopup.60b5ea3a.js";import{u as se}from"./use-quasar.a24d697c.js";import{u as ae}from"./useQuerySaver.b2d7aad9.js";import{u as re,b as ie,q as ne}from"./quickbase.2ee72534.js";import{u as H}from"./dataStore.a9f42791.js";import{_ as le}from"./version.f368ea09.js";import{M as me}from"./MenuNav.38e1f51f.js";import{_ as ue}from"./languageSelector.7ca221c5.js";import"./workday.f682c64c.js";import{a as pe}from"./syncEmployeeWithWorkday.4114e194.js";import"./QResizeObserver.3970a03c.js";import"./position-engine.c9766907.js";import"./selection.971e5b60.js";import"./TouchPan.ebf8db50.js";import"./touch.60582172.js";import"./_commonjsHelpers.a26ce4be.js";import"./dayjs.5d57e85b.js";import"./index.7dbe61ef.js";import"./localForage.f1f06786.js";import"./i18n.6386200b.js";import"./api.d146f206.js";import"./QItemLabel.ee2c7196.js";import"./QBadge.7ad63891.js";import"./MenuSubLink.8972ab03.js";import"./QSlideTransition.c282a0fc.js";import"./QSelect.7256ef6b.js";import"./QChip.de32f227.js";import"./rtl.cf9bbe47.js";import"./workdayAPI.dd056a89.js";const ce=D({props:{employee:Object,mini:Boolean},setup(e){const r=E(),{setEmployees:n,setWorkdayData:l}=H(),s=async()=>{const{clm:i,sync:d}=await pe({clm:e.employee});n({id:e.employee[3],data:i}),l({id:e.employee[3],data:d})},m=()=>{r.push({name:"ee-termination"})};return s(),{props:e,goToTermination:m}}}),de={class:"text-h5 text-white q-mb-sm"},fe={key:0,class:"text-body1 text-white"};function ge(e,r,n,l,s,m){return a(),g(O,{class:"bg-accent q-my-lg q-pt-none",flat:"",square:""},{default:t(()=>[o(W,{class:"text-center"},{default:t(()=>[f("div",de,c(e.employee[24]),1),e.employee[378]!==""?(a(),w("div",fe,"ID: "+c(e.employee[378]),1)):_("",!0)]),_:1}),o(B,{align:"center"},{default:t(()=>[e.$route.name!=="ee-termination"&&e.$route.name!=="view-ee-release"&&!e.employee[581]?(a(),g(k,{key:0,label:"Release",color:"primary",dense:"",onClick:e.goToTermination},null,8,["onClick"])):_("",!0)]),_:1})]),_:1})}var ye=T(ce,[["render",ge]]);const ve=D({name:"View Employee",components:{MenuNav:me,version:le,languageSelector:ue,BasicEmployeeCard:ye},setup(){const e=p(null),r=p(!1),n=se(),l=p(!1),s=p(!1),m=p(!1),i=p(!1),d=E(),y=z(),v=re(),{getUserType:C}=v,{toolbarTitle:u,viewEmployeeMenu:U}=ie(),{setEmployees:V,getEmployee:L}=H(),Q=F(()=>L(y.params.id)),N=async()=>{const{state:b}=d.options.history;if(e.value=b.back,!Q.value){n.loading.show();const{data:$}=await ne.fetchFromHiringApp({fields:[ae({type:"employee",query:`{'3'.EX.'${y.params.id}'}`,id:y.params.id})]},{action:"read",type:"employee"});V({id:$[3],data:$}),n.loading.hide()}},A=async()=>{v.logout().then(()=>{d.replace({name:"login"})})};return N(),I(Q,(b,$)=>{}),{tab:p("mails"),fab:r,userStore:v,leftDrawerOpen:l,rightDrawerOpen:m,miniState:s,miniHover:i,miniMouseOver(){s.value===!0&&(i.value=!1)},miniMouseOut(){s.value===!0&&(i.value=!0)},toggleLeftDrawer(){n.screen.gt.sm?(s.value=!s.value,s.value===!0&&(i.value=!0)):l.value=!l.value},toggleRightDrawer(){m.value=!m.value},drawerClick(b){s.value&&(s.value=!1,b.stopPropagation())},logout:A,toolbarTitle:u,viewEmployeeMenu:U,employee:Q,getUserType:C,opener:e,closeWindow(){window.close()}}}}),he={key:0,class:"q-mr-sm q-ml-sm",src:"https://cdn.jsdelivr.net/gh/EliteHCMS/assets@latest/public/logo-white.png",alt:"BrandSafway Logo",height:"25"},we={key:0},_e={key:1},be={class:"q-gutter-sm row items-center no-wrap"},ke={class:"row no-wrap q-pa-md"},Ce={class:"column items-center"},Qe={class:"text-subtitle1 q-mt-md q-mb-xs"};function $e(e,r,n,l,s,m){const i=h("languageSelector"),d=h("basic-employee-card"),y=h("MenuNav"),v=h("router-view"),C=h("version");return a(),g(oe,{view:"hHh lpR fFf"},{default:t(()=>[o(R,{elevated:""},{default:t(()=>[o(M,{style:{height:"62px"}},{default:t(()=>[e.$q.screen.gt.sm?(a(),w("img",he)):_("",!0),o(S,null,{default:t(()=>[e.$q.screen.lt.sm?(a(),w("span",we)):(a(),w("span",_e,c(e.toolbarTitle),1))]),_:1}),f("div",be,[o(i,{dense:"",borderless:"",class:"lang-white"}),o(k,{flat:"",dense:"",color:"white"},{default:t(()=>[f("div",null,c(e.userStore.getUser[35])+" "+c(e.userStore.getUser[37]),1),o(q,{right:"",size:"2.2em",name:"account_circle"}),o(Y,null,{default:t(()=>[f("div",ke,[f("div",Ce,[o(q,{right:"",size:"72px",name:"account_circle",class:"q-mr-md"}),f("div",Qe,c(e.userStore.getUser[35])+" "+c(e.userStore.getUser[37]),1),P(o(k,{color:"primary",label:e.$t("logout"),push:"",size:"sm",onClick:e.logout},null,8,["label","onClick"]),[[te]])])])]),_:1})]),_:1})])]),_:1})]),_:1}),o(x,{modelValue:e.leftDrawerOpen,"onUpdate:modelValue":r[0]||(r[0]=u=>e.leftDrawerOpen=u),side:"left","show-if-above":"",bordered:"",mini:e.miniState&&e.miniHover,onMouseover:e.miniMouseOver,onMouseout:e.miniMouseOut,onClickCapture:e.drawerClick,class:"text-primary bg-accent print-hide"},{default:t(()=>[o(K,{class:"fit"},{default:t(()=>[e.$q.screen.lt.sm?(a(),g(M,{key:0,class:"bg-white",style:{height:"64px"}},{default:t(()=>[o(S,{class:"items-center"},{default:t(()=>[o(Z,{src:"https://cdn.jsdelivr.net/gh/EliteHCMS/assets@latest/public/logo.svg",style:{"max-width":"245px"},fit:"center",class:"q-ml-md"})]),_:1})]),_:1})):_("",!0),e.employee?(a(),g(d,{key:1,employee:e.employee,mini:e.miniState},null,8,["employee","mini"])):_("",!0),o(J,{class:"q-mt-sm"},{default:t(()=>[(a(!0),w(X,null,j(e.viewEmployeeMenu,u=>(a(),g(y,G({key:u.title},u,{mini:e.miniState}),null,16,["mini"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue","mini","onMouseover","onMouseout","onClickCapture"]),o(ee,null,{default:t(()=>[o(O,{class:"print-hide",flat:""},{default:t(()=>[o(B,{class:"q-pb-xs",align:"right"},{default:t(()=>[o(k,{icon:"close",label:"Close",color:"dark",onClick:r[1]||(r[1]=u=>e.getUserType==="QuickBase User"?e.closeWindow():e.$router.replace({path:e.opener?e.opener:"/"}))})]),_:1})]),_:1}),o(v)]),_:1}),o(C)]),_:1})}var mo=T(ve,[["render",$e]]);export{mo as default};
