import{bC as we,bD as ke,r as h,bE as qe,c as o,bF as G,bG as ut,aJ as st,aF as ct,bH as Le,bI as Oe,aH as ze,h as v,bJ as dt,bg as re,g as Me,bK as Re,bL as Ee,bM as vt,i as ft,bN as mt,bO as We,bP as ht,w as q,aE as xe,o as bt,bQ as Ie,bR as Ue,bS as gt,k as ue,_ as se,v as z,aj as B,be as p,bT as X,d as y,bU as le,ak as ee,aq as Fe,a7 as Z,B as $e,bV as Ce,W as yt,bW as Ke,bX as pt,bY as Be,bz as St,bZ as _t,aV as K,x as ae,aU as Ge,C as ve,F as Xe,b_ as wt,b$ as kt,c0 as qt,c1 as Se,z as oe}from"./index.811ca9e3.js";import{Q as Pe,a as zt}from"./QHeader.ce3df7a3.js";import{Q as Mt}from"./QMenu.83db8540.js";import{Q as Qe}from"./QToolbar.51b05a1e.js";import{Q as $t}from"./QImg.f2069064.js";import{Q as Je}from"./QList.7611c980.js";import{Q as Ae}from"./QResizeObserver.df79dd1f.js";import{Q as Ct,a as Tt,b as Lt}from"./QLayout.d3f8dda0.js";import{T as ie}from"./TouchPan.a90be36c.js";import{C as Ot}from"./ClosePopup.53901b86.js";import{Q as fe}from"./QSelect.4412e137.js";import{Q as xt}from"./QSlideTransition.e66754e3.js";import{u as It}from"./use-quasar.a17fc782.js";import{u as Bt}from"./i18n.e51ad334.js";import{u as Pt,b as Qt,q as De}from"./quickbase.a0218821.js";import{_ as At}from"./KioskLogin.6c5dc1cf.js";import{_ as Dt}from"./languageSelector.0aa46cc1.js";import"./position-engine.81c45612.js";import"./selection.bea517bf.js";import"./touch.d8ab472d.js";import"./rtl.65b79c69.js";import"./_commonjsHelpers.dfee5925.js";import"./dayjs.29da661d.js";import"./localForage.912bf39a.js";import"./index.7dbe61ef.js";import"./api.5e01916d.js";import"./array.e4578931.js";const He=["vertical","horizontal"],_e={vertical:{offset:"offsetY",scroll:"scrollTop",dir:"down",dist:"y"},horizontal:{offset:"offsetX",scroll:"scrollLeft",dir:"right",dist:"x"}},je={prevent:!0,mouse:!0,mouseAllDir:!0},Ve=e=>e>=250?50:Math.ceil(e/5);var Ht=we({name:"QScrollArea",props:{...ke,thumbStyle:Object,verticalThumbStyle:Object,horizontalThumbStyle:Object,barStyle:[Array,String,Object],verticalBarStyle:[Array,String,Object],horizontalBarStyle:[Array,String,Object],contentStyle:[Array,String,Object],contentActiveStyle:[Array,String,Object],delay:{type:[String,Number],default:1e3},visible:{type:Boolean,default:null},tabindex:[String,Number],onScroll:Function},setup(e,{slots:_,emit:S}){const b=h(!1),m=h(!1),c=h(!1),u={vertical:h(0),horizontal:h(0)},t={vertical:{ref:h(null),position:h(0),size:h(0)},horizontal:{ref:h(null),position:h(0),size:h(0)}},C=Me(),l=qe(e,C.proxy.$q);let M,T;const $=h(null),g=o(()=>"q-scrollarea"+(l.value===!0?" q-scrollarea--dark":""));t.vertical.percentage=o(()=>{const n=t.vertical.size.value-u.vertical.value;if(n<=0)return 0;const r=G(t.vertical.position.value/n,0,1);return Math.round(r*1e4)/1e4}),t.vertical.thumbHidden=o(()=>(e.visible===null?c.value:e.visible)!==!0&&b.value===!1&&m.value===!1||t.vertical.size.value<=u.vertical.value+1),t.vertical.thumbStart=o(()=>t.vertical.percentage.value*(u.vertical.value-t.vertical.thumbSize.value)),t.vertical.thumbSize=o(()=>Math.round(G(u.vertical.value*u.vertical.value/t.vertical.size.value,Ve(u.vertical.value),u.vertical.value))),t.vertical.style=o(()=>({...e.thumbStyle,...e.verticalThumbStyle,top:`${t.vertical.thumbStart.value}px`,height:`${t.vertical.thumbSize.value}px`})),t.vertical.thumbClass=o(()=>"q-scrollarea__thumb q-scrollarea__thumb--v absolute-right"+(t.vertical.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),t.vertical.barClass=o(()=>"q-scrollarea__bar q-scrollarea__bar--v absolute-right"+(t.vertical.thumbHidden.value===!0?" q-scrollarea__bar--invisible":"")),t.horizontal.percentage=o(()=>{const n=t.horizontal.size.value-u.horizontal.value;if(n<=0)return 0;const r=G(t.horizontal.position.value/n,0,1);return Math.round(r*1e4)/1e4}),t.horizontal.thumbHidden=o(()=>(e.visible===null?c.value:e.visible)!==!0&&b.value===!1&&m.value===!1||t.horizontal.size.value<=u.horizontal.value+1),t.horizontal.thumbStart=o(()=>t.horizontal.percentage.value*(u.horizontal.value-t.horizontal.thumbSize.value)),t.horizontal.thumbSize=o(()=>Math.round(G(u.horizontal.value*u.horizontal.value/t.horizontal.size.value,Ve(u.horizontal.value),u.horizontal.value))),t.horizontal.style=o(()=>({...e.thumbStyle,...e.horizontalThumbStyle,left:`${t.horizontal.thumbStart.value}px`,width:`${t.horizontal.thumbSize.value}px`})),t.horizontal.thumbClass=o(()=>"q-scrollarea__thumb q-scrollarea__thumb--h absolute-bottom"+(t.horizontal.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),t.horizontal.barClass=o(()=>"q-scrollarea__bar q-scrollarea__bar--h absolute-bottom"+(t.horizontal.thumbHidden.value===!0?" q-scrollarea__bar--invisible":""));const Q=o(()=>t.vertical.thumbHidden.value===!0&&t.horizontal.thumbHidden.value===!0?e.contentStyle:e.contentActiveStyle),k=[[ie,n=>{J(n,"vertical")},void 0,{vertical:!0,...je}]],f=[[ie,n=>{J(n,"horizontal")},void 0,{horizontal:!0,...je}]];function H(){const n={};return He.forEach(r=>{const d=t[r];n[r+"Position"]=d.position.value,n[r+"Percentage"]=d.percentage.value,n[r+"Size"]=d.size.value,n[r+"ContainerSize"]=u[r].value}),n}const w=ut(()=>{const n=H();n.ref=C.proxy,S("scroll",n)},0);function E(n,r,d){if(He.includes(n)===!1){console.error("[QScrollArea]: wrong first param of setScrollPosition (vertical/horizontal)");return}(n==="vertical"?Oe:Le)($.value,r,d)}function W({height:n,width:r}){let d=!1;u.vertical.value!==n&&(u.vertical.value=n,d=!0),u.horizontal.value!==r&&(u.horizontal.value=r,d=!0),d===!0&&N()}function j({position:n}){let r=!1;t.vertical.position.value!==n.top&&(t.vertical.position.value=n.top,r=!0),t.horizontal.position.value!==n.left&&(t.horizontal.position.value=n.left,r=!0),r===!0&&N()}function ne({height:n,width:r}){t.horizontal.size.value!==r&&(t.horizontal.size.value=r,N()),t.vertical.size.value!==n&&(t.vertical.size.value=n,N())}function J(n,r){const d=t[r];if(n.isFirst===!0){if(d.thumbHidden.value===!0)return;T=d.position.value,m.value=!0}else if(m.value!==!0)return;n.isFinal===!0&&(m.value=!1);const R=_e[r],te=u[r].value,me=(d.size.value-te)/(te-d.thumbSize.value),ce=n.distance[R.dist],he=T+(n.direction===R.dir?1:-1)*ce*me;A(he,r)}function V(n,r){const d=t[r];if(d.thumbHidden.value!==!0){const R=n[_e[r].offset];if(R<d.thumbStart.value||R>d.thumbStart.value+d.thumbSize.value){const te=R-d.thumbSize.value/2;A(te/u[r].value*d.size.value,r)}d.ref.value!==null&&d.ref.value.dispatchEvent(new MouseEvent(n.type,n))}}function I(n){V(n,"vertical")}function D(n){V(n,"horizontal")}function N(){b.value===!0?clearTimeout(M):b.value=!0,M=setTimeout(()=>{b.value=!1},e.delay),e.onScroll!==void 0&&w()}function A(n,r){$.value[_e[r].scroll]=n}function i(){c.value=!0}function L(){c.value=!1}Object.assign(C.proxy,{getScrollTarget:()=>$.value,getScroll:H,getScrollPosition:()=>({top:t.vertical.position.value,left:t.horizontal.position.value}),getScrollPercentage:()=>({top:t.vertical.percentage.value,left:t.horizontal.percentage.value}),setScrollPosition:E,setScrollPercentage(n,r,d){E(n,r*(t[n].size.value-u[n].value),d)}});let O=null;return st(()=>{O={top:t.vertical.position.value,left:t.horizontal.position.value}}),ct(()=>{if(O===null)return;const n=$.value;n!==null&&(Le(n,O.left),Oe(n,O.top))}),ze(w.cancel),()=>v("div",{class:g.value,onMouseenter:i,onMouseleave:L},[v("div",{ref:$,class:"q-scrollarea__container scroll relative-position fit hide-scrollbar",tabindex:e.tabindex!==void 0?e.tabindex:void 0},[v("div",{class:"q-scrollarea__content absolute",style:Q.value},dt(_.default,[v(Ae,{debounce:0,onResize:ne})])),v(Ct,{axis:"both",onScroll:j})]),v(Ae,{debounce:0,onResize:W}),v("div",{class:t.vertical.barClass.value,style:[e.barStyle,e.verticalBarStyle],"aria-hidden":"true",onMousedown:I}),v("div",{class:t.horizontal.barClass.value,style:[e.barStyle,e.horizontalBarStyle],"aria-hidden":"true",onMousedown:D}),re(v("div",{ref:t.vertical.ref,class:t.vertical.thumbClass.value,style:t.vertical.style.value,"aria-hidden":"true"}),k),re(v("div",{ref:t.horizontal.ref,class:t.horizontal.thumbClass.value,style:t.horizontal.style.value,"aria-hidden":"true"}),f)])}});const Ne=150;var jt=we({name:"QDrawer",inheritAttrs:!1,props:{...Re,...ke,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...Ee,"on-layout","mini-state"],setup(e,{slots:_,emit:S,attrs:b}){const m=Me(),{proxy:{$q:c}}=m,u=qe(e,c),{preventBodyScroll:t}=gt(),{registerTimeout:C}=vt(),l=ft(mt,()=>{console.error("QDrawer needs to be child of QLayout")});let M,T,$;const g=h(e.behavior==="mobile"||e.behavior!=="desktop"&&l.totalWidth.value<=e.breakpoint),Q=o(()=>e.mini===!0&&g.value!==!0),k=o(()=>Q.value===!0?e.miniWidth:e.width),f=h(e.showIfAbove===!0&&g.value===!1?!0:e.modelValue===!0),H=o(()=>e.persistent!==!0&&(g.value===!0||R.value===!0));function w(a,s){if(ne(),a!==!1&&l.animate(),P(0),g.value===!0){const x=l.instances[O.value];x!==void 0&&x.belowBreakpoint===!0&&x.hide(!1),U(1),l.isContainer.value!==!0&&t(!0)}else U(0),a!==!1&&ge(!1);C(()=>{a!==!1&&ge(!0),s!==!0&&S("show",a)},Ne)}function E(a,s){J(),a!==!1&&l.animate(),U(0),P(D.value*k.value),ye(),s!==!0&&C(()=>{S("hide",a)},Ne)}const{show:W,hide:j}=We({showing:f,hideOnRouteChange:H,handleShow:w,handleHide:E}),{addToHistory:ne,removeFromHistory:J}=ht(f,j,H),V={belowBreakpoint:g,hide:j},I=o(()=>e.side==="right"),D=o(()=>(c.lang.rtl===!0?-1:1)*(I.value===!0?1:-1)),N=h(0),A=h(!1),i=h(!1),L=h(k.value*D.value),O=o(()=>I.value===!0?"left":"right"),n=o(()=>f.value===!0&&g.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:k.value:0),r=o(()=>e.overlay===!0||e.miniToOverlay===!0||l.view.value.indexOf(I.value?"R":"L")>-1||c.platform.is.ios===!0&&l.isContainer.value===!0),d=o(()=>e.overlay===!1&&f.value===!0&&g.value===!1),R=o(()=>e.overlay===!0&&f.value===!0&&g.value===!1),te=o(()=>"fullscreen q-drawer__backdrop"+(f.value===!1&&A.value===!1?" hidden":"")),me=o(()=>({backgroundColor:`rgba(0,0,0,${N.value*.4})`})),ce=o(()=>I.value===!0?l.rows.value.top[2]==="r":l.rows.value.top[0]==="l"),he=o(()=>I.value===!0?l.rows.value.bottom[2]==="r":l.rows.value.bottom[0]==="l"),Ye=o(()=>{const a={};return l.header.space===!0&&ce.value===!1&&(r.value===!0?a.top=`${l.header.offset}px`:l.header.space===!0&&(a.top=`${l.header.size}px`)),l.footer.space===!0&&he.value===!1&&(r.value===!0?a.bottom=`${l.footer.offset}px`:l.footer.space===!0&&(a.bottom=`${l.footer.size}px`)),a}),Ze=o(()=>{const a={width:`${k.value}px`,transform:`translateX(${L.value}px)`};return g.value===!0?a:Object.assign(a,Ye.value)}),et=o(()=>"q-drawer__content fit "+(l.isContainer.value!==!0?"scroll":"overflow-auto")),tt=o(()=>`q-drawer q-drawer--${e.side}`+(i.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+(u.value===!0?" q-drawer--dark q-dark":"")+(A.value===!0?" no-transition":f.value===!0?"":" q-layout--prevent-focus")+(g.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${Q.value===!0?"mini":"standard"}`+(r.value===!0||d.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(ce.value===!0?" q-drawer--top-padding":""))),at=o(()=>{const a=c.lang.rtl===!0?e.side:O.value;return[[ie,it,void 0,{[a]:!0,mouse:!0}]]}),lt=o(()=>{const a=c.lang.rtl===!0?O.value:e.side;return[[ie,Te,void 0,{[a]:!0,mouse:!0}]]}),nt=o(()=>{const a=c.lang.rtl===!0?O.value:e.side;return[[ie,Te,void 0,{[a]:!0,mouse:!0,mouseAllDir:!0}]]});function be(){rt(g,e.behavior==="mobile"||e.behavior!=="desktop"&&l.totalWidth.value<=e.breakpoint)}q(g,a=>{a===!0?(M=f.value,f.value===!0&&j(!1)):e.overlay===!1&&e.behavior!=="mobile"&&M!==!1&&(f.value===!0?(P(0),U(0),ye()):W(!1))}),q(()=>e.side,(a,s)=>{l.instances[s]===V&&(l.instances[s]=void 0,l[s].space=!1,l[s].offset=0),l.instances[a]=V,l[a].size=k.value,l[a].space=d.value,l[a].offset=n.value}),q(l.totalWidth,()=>{(l.isContainer.value===!0||document.qScrollPrevented!==!0)&&be()}),q(()=>e.behavior+e.breakpoint,be),q(l.isContainer,a=>{f.value===!0&&t(a!==!0),a===!0&&be()}),q(l.scrollbarWidth,()=>{P(f.value===!0?0:void 0)}),q(n,a=>{F("offset",a)}),q(d,a=>{S("on-layout",a),F("space",a)}),q(I,()=>{P()}),q(k,a=>{P(),pe(e.miniToOverlay,a)}),q(()=>e.miniToOverlay,a=>{pe(a,k.value)}),q(()=>c.lang.rtl,()=>{P()}),q(()=>e.mini,()=>{e.modelValue===!0&&(ot(),l.animate())}),q(Q,a=>{S("mini-state",a)});function P(a){a===void 0?xe(()=>{a=f.value===!0?0:k.value,P(D.value*a)}):(l.isContainer.value===!0&&I.value===!0&&(g.value===!0||Math.abs(a)===k.value)&&(a+=D.value*l.scrollbarWidth.value),L.value=a)}function U(a){N.value=a}function ge(a){const s=a===!0?"remove":l.isContainer.value!==!0?"add":"";s!==""&&document.body.classList[s]("q-body--drawer-toggle")}function ot(){clearTimeout(T),m.proxy&&m.proxy.$el&&m.proxy.$el.classList.add("q-drawer--mini-animate"),i.value=!0,T=setTimeout(()=>{i.value=!1,m&&m.proxy&&m.proxy.$el&&m.proxy.$el.classList.remove("q-drawer--mini-animate")},150)}function it(a){if(f.value!==!1)return;const s=k.value,x=G(a.distance.x,0,s);if(a.isFinal===!0){x>=Math.min(75,s)===!0?W():(l.animate(),U(0),P(D.value*s)),A.value=!1;return}P((c.lang.rtl===!0?I.value!==!0:I.value)?Math.max(s-x,0):Math.min(0,x-s)),U(G(x/s,0,1)),a.isFirst===!0&&(A.value=!0)}function Te(a){if(f.value!==!0)return;const s=k.value,x=a.direction===e.side,de=(c.lang.rtl===!0?x!==!0:x)?G(a.distance.x,0,s):0;if(a.isFinal===!0){Math.abs(de)<Math.min(75,s)===!0?(l.animate(),U(1),P(0)):j(),A.value=!1;return}P(D.value*de),U(G(1-de/s,0,1)),a.isFirst===!0&&(A.value=!0)}function ye(){t(!1),ge(!0)}function F(a,s){l.update(e.side,a,s)}function rt(a,s){a.value!==s&&(a.value=s)}function pe(a,s){F("size",a===!0?e.miniWidth:s)}return l.instances[e.side]=V,pe(e.miniToOverlay,k.value),F("space",d.value),F("offset",n.value),e.showIfAbove===!0&&e.modelValue!==!0&&f.value===!0&&e["onUpdate:modelValue"]!==void 0&&S("update:modelValue",!0),bt(()=>{S("on-layout",d.value),S("mini-state",Q.value),M=e.showIfAbove===!0;const a=()=>{(f.value===!0?w:E)(!1,!0)};if(l.totalWidth.value!==0){xe(a);return}$=q(l.totalWidth,()=>{$(),$=void 0,f.value===!1&&e.showIfAbove===!0&&g.value===!1?W(!1):a()})}),ze(()=>{$!==void 0&&$(),clearTimeout(T),f.value===!0&&ye(),l.instances[e.side]===V&&(l.instances[e.side]=void 0,F("size",0),F("offset",0),F("space",!1))}),()=>{const a=[];g.value===!0&&(e.noSwipeOpen===!1&&a.push(re(v("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),at.value)),a.push(Ie("div",{ref:"backdrop",class:te.value,style:me.value,"aria-hidden":"true",onClick:j},void 0,"backdrop",e.noSwipeBackdrop!==!0&&f.value===!0,()=>nt.value)));const s=Q.value===!0&&_.mini!==void 0,x=[v("div",{...b,key:""+s,class:[et.value,b.class]},s===!0?_.mini():Ue(_.default))];return e.elevated===!0&&f.value===!0&&x.push(v("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),a.push(Ie("aside",{ref:"content",class:tt.value,style:Ze.value},x,"contentclose",e.noSwipeClose!==!0&&g.value===!0,()=>lt.value)),v("div",{class:"q-drawer-container"},a)}}});const Vt=ue({name:"MenuLink",props:{title:{type:String,required:!0},caption:{type:String,default:""},to:{type:Object,default:()=>({path:"",exact:!0})},icon:{type:String,default:""},mini:{type:Boolean,default:!1},subMenu:{type:Array,default:null}}});function Nt(e,_,S,b,m,c){return z(),B(Ce,{to:e.to,class:$e(["rounded-borders bg-white",{"q-ma-sm":!e.mini,"q-ma-xs":e.mini}]),"active-class":e.mini?"brand-active-menu text-white":"brand-active-menu text-white q-py-md",exact:""},{default:p(()=>[e.icon?(z(),B(X,{key:0,avatar:""},{default:p(()=>[y(le,{name:e.icon},null,8,["name"])]),_:1})):ee("",!0),y(X,null,{default:p(()=>[y(fe,null,{default:p(()=>[Fe(Z(e.title),1)]),_:1})]),_:1})]),_:1},8,["to","class","active-class"])}var Rt=se(Vt,[["render",Nt]]);const Y=yt({}),Et=Object.keys(Ke);var Wt=we({name:"QExpansionItem",props:{...Ke,...Re,...ke,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:Number,headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...Ee,"click","after-show","after-hide"],setup(e,{slots:_,emit:S}){const{proxy:{$q:b}}=Me(),m=qe(e,b),c=h(e.modelValue!==null?e.modelValue:e.defaultOpened),u=h(null),{hide:t,toggle:C}=We({showing:c});let l,M;const T=o(()=>`q-expansion-item q-item-type q-expansion-item--${c.value===!0?"expanded":"collapsed"} q-expansion-item--${e.popup===!0?"popup":"standard"}`),$=o(()=>{if(e.contentInsetLevel===void 0)return null;const i=b.lang.rtl===!0?"Right":"Left";return{["padding"+i]:e.contentInsetLevel*56+"px"}}),g=o(()=>e.disable!==!0&&(e.href!==void 0||e.to!==void 0&&e.to!==null&&e.to!=="")),Q=o(()=>{const i={};return Et.forEach(L=>{i[L]=e[L]}),i}),k=o(()=>g.value===!0||e.expandIconToggle!==!0),f=o(()=>e.expandedIcon!==void 0&&c.value===!0?e.expandedIcon:e.expandIcon||b.iconSet.expansionItem[e.denseToggle===!0?"denseIcon":"icon"]),H=o(()=>e.disable!==!0&&(g.value===!0||e.expandIconToggle===!0));q(()=>e.group,i=>{M!==void 0&&M(),i!==void 0&&J()});function w(i){g.value!==!0&&C(i),S("click",i)}function E(i){i.keyCode===13&&W(i,!0)}function W(i,L){L!==!0&&u.value!==null&&u.value.focus(),C(i),_t(i)}function j(){S("after-show")}function ne(){S("after-hide")}function J(){l===void 0&&(l=pt()),c.value===!0&&(Y[e.group]=l);const i=q(c,O=>{O===!0?Y[e.group]=l:Y[e.group]===l&&delete Y[e.group]}),L=q(()=>Y[e.group],(O,n)=>{n===l&&O!==void 0&&O!==l&&t()});M=()=>{i(),L(),Y[e.group]===l&&delete Y[e.group],M=void 0}}function V(){const i={class:[`q-focusable relative-position cursor-pointer${e.denseToggle===!0&&e.switchToggleSide===!0?" items-end":""}`,e.expandIconClass],side:e.switchToggleSide!==!0,avatar:e.switchToggleSide},L=[v(le,{class:"q-expansion-item__toggle-icon"+(e.expandedIcon===void 0&&c.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:f.value})];return H.value===!0&&(Object.assign(i,{tabindex:0,onClick:W,onKeyup:E}),L.unshift(v("div",{ref:u,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),v(X,i,()=>L)}function I(){let i;return _.header!==void 0?i=[].concat(_.header()):(i=[v(X,()=>[v(fe,{lines:e.labelLines},()=>e.label||""),e.caption?v(fe,{lines:e.captionLines,caption:!0},()=>e.caption):null])],e.icon&&i[e.switchToggleSide===!0?"push":"unshift"](v(X,{side:e.switchToggleSide===!0,avatar:e.switchToggleSide!==!0},()=>v(le,{name:e.icon})))),e.disable!==!0&&i[e.switchToggleSide===!0?"unshift":"push"](V()),i}function D(){const i={ref:"item",style:e.headerStyle,class:e.headerClass,dark:m.value,disable:e.disable,dense:e.dense,insetLevel:e.headerInsetLevel};return k.value===!0&&(i.clickable=!0,i.onClick=w,g.value===!0&&Object.assign(i,Q.value)),v(Ce,i,I)}function N(){return re(v("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:$.value},Ue(_.default)),[[St,c.value]])}function A(){const i=[D(),v(xt,{duration:e.duration,onShow:j,onHide:ne},N)];return e.expandSeparator===!0&&i.push(v(Be,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:m.value}),v(Be,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:m.value})),i}return e.group!==void 0&&J(),ze(()=>{M!==void 0&&M()}),()=>v("div",{class:T.value},[v("div",{class:"q-expansion-item__container relative-position"},A())])}});const Ut=ue({name:"MenuLink",props:{title:{type:String,required:!0},caption:{type:String,default:""},to:{type:Object,default:()=>({path:"",exact:!0})},icon:{type:String,default:""},mini:{type:Boolean,default:!1},subMenu:{type:Array,default:null}}});function Ft(e,_,S,b,m,c){return z(),B(Ce,{to:e.to,class:$e(["rounded-borders bg-primary text-white",{"q-ml-sm":!e.mini,"q-mt-sm":!e.mini,"q-ma-xs":e.mini}]),"active-class":"brand-active-menu text-white",exact:""},{default:p(()=>[e.icon?(z(),B(X,{key:0,avatar:""},{default:p(()=>[y(le,{name:e.icon},null,8,["name"])]),_:1})):ee("",!0),y(X,null,{default:p(()=>[y(fe,null,{default:p(()=>[Fe(Z(e.title),1)]),_:1})]),_:1})]),_:1},8,["to","class"])}var Kt=se(Ut,[["render",Ft]]);const Gt=ue({name:"MenuExpanded",components:{MenuSubLink:Kt},props:{title:{type:String,required:!0},caption:{type:String,default:""},to:{type:Object,default:()=>({path:"",exact:!0})},icon:{type:String,default:""},mini:{type:Boolean,default:!1},subMenu:{type:Array,default:null}}});function Xt(e,_,S,b,m,c){const u=K("MenuSubLink");return z(),B(Wt,{icon:e.icon,label:e.title,class:$e(["rounded-borders bg-white",{"q-ma-sm":!e.mini,"q-ma-xs":e.mini}]),"active-class":"brand-active-menu text-white",exact:""},{default:p(()=>[y(X,{class:"bg-secondary"},{default:p(()=>[y(Je,null,{default:p(()=>[(z(!0),ae(Xe,null,Ge(e.subMenu,t=>(z(),B(u,ve({key:t},t,{mini:e.mini}),null,16,["mini"]))),128))]),_:1})]),_:1})]),_:1},8,["icon","label","class"])}var Jt=se(Gt,[["render",Xt]]);const Yt=ue({name:"MenuNav",components:{MenuLink:Rt,MenuExpanded:Jt},props:{title:{type:String,required:!0},caption:{type:String,default:""},to:{type:Object,default:()=>({path:"",exact:!0})},icon:{type:String,default:""},mini:{type:Boolean,default:!1},subMenu:{type:Array,default:null}}});function Zt(e,_,S,b,m,c){const u=K("MenuLink"),t=K("MenuExpanded");return z(),ae("div",null,[!e.subMenu&&e.to?(z(),B(u,ve({key:0},{...e.$props,...e.$attrs},{mini:e.mini}),null,16,["mini"])):e.subMenu&&e.subMenu.length>0?(z(),B(t,ve({key:1},{...e.$props,...e.$attrs},{mini:e.mini}),null,16,["mini"])):ee("",!0)])}var ea=se(Yt,[["render",Zt]]);const ta=ue({name:"MainLayout",components:{MenuNav:ea,kioskLogin:At,languageSelector:Dt},setup(){const e=It(),{locale:_}=Bt(),S=h(!1),b=h(!1),m=h(!1),c=h(!1),u=h(!1),t=wt(),C=kt(),l=Pt(),M=Qt(),{toolbarTitle:T}=M,{onKiosk:$,activeMenu:g}=qt(M),Q=h(window.location.href),k=async w=>{await De.checkKioskStatus(w)||(u.value=!0)};if($.value&&k(!0),C.query){const w=Object.assign({},C.query);delete w.office_id,delete w.qr,t.replace({query:w})}q(()=>C.query,async()=>{if(Q.value=window.location.href,$.value&&k(!1),C.query.office_id){const w=Object.assign({},C.query);delete w.office_id,w.qr&&(De.checkInUser(),delete w.qr),t.replace({query:w})}});const f=async()=>{$.value&&(_.value="en-US"),l.logout().then(()=>{t.replace({name:"login"})})},H=()=>{f()};return{tab:h("mails"),userStore:l,leftDrawerOpen:S,rightDrawerOpen:m,miniState:b,miniHover:c,kioskPrompt:u,onIdle:H,onKiosk:$,activeMenu:g,miniMouseOver(){b.value===!0&&(c.value=!1)},miniMouseOut(){b.value===!0&&(c.value=!0)},toggleLeftDrawer(){e.screen.gt.sm?(b.value=!b.value,b.value===!0&&(c.value=!0)):S.value=!S.value},toggleRightDrawer(){m.value=!m.value},drawerClick(w){b.value&&(b.value=!1,w.stopPropagation())},logout:f,toolbarTitle:T}}}),aa={key:0,class:"q-mr-sm q-ml-sm",src:"https://cdn.jsdelivr.net/gh/EliteHCMS/assets@latest/public/logo-white.png",alt:"BrandSafway Logo",height:"25"},la={key:0},na={key:1},oa={class:"q-gutter-sm row items-center no-wrap"},ia={class:"row no-wrap q-pa-md"},ra={class:"column items-center"},ua={class:"text-subtitle1 q-mt-md q-mb-xs"};function sa(e,_,S,b,m,c){const u=K("languageSelector"),t=K("MenuNav"),C=K("router-view"),l=K("kioskLogin"),M=K("v-idle");return z(),B(Tt,{view:"hHh lpR fFf"},{default:p(()=>[y(zt,{elevated:""},{default:p(()=>[y(Qe,{style:{height:"62px"}},{default:p(()=>[y(Se,{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu",onClick:e.toggleLeftDrawer},null,8,["onClick"]),e.$q.screen.gt.sm?(z(),ae("img",aa)):ee("",!0),y(Pe,null,{default:p(()=>[e.$q.screen.lt.sm?(z(),ae("span",la)):(z(),ae("span",na,Z(e.toolbarTitle),1))]),_:1}),oe("div",oa,[y(u,{dense:"",borderless:"",class:"lang-white"}),y(Se,{flat:"",dense:"",color:"white"},{default:p(()=>[oe("div",null,Z(e.userStore.getUser[35])+" "+Z(e.userStore.getUser[37]),1),y(le,{right:"",size:"2.2em",name:"account_circle"}),y(Mt,null,{default:p(()=>[oe("div",ia,[oe("div",ra,[y(le,{right:"",size:"72px",name:"account_circle",class:"q-mr-md"}),oe("div",ua,Z(e.userStore.getUser[35])+" "+Z(e.userStore.getUser[37]),1),re(y(Se,{color:"primary",label:e.$t("logout"),push:"",size:"sm",onClick:e.logout},null,8,["label","onClick"]),[[Ot]])])])]),_:1})]),_:1})])]),_:1})]),_:1}),y(jt,{modelValue:e.leftDrawerOpen,"onUpdate:modelValue":_[0]||(_[0]=T=>e.leftDrawerOpen=T),side:"left","show-if-above":"",bordered:"",mini:e.miniState&&e.miniHover,onMouseover:e.miniMouseOver,onMouseout:e.miniMouseOut,onClickCapture:e.drawerClick,class:"text-primary bg-white"},{default:p(()=>[y(Ht,{class:"fit"},{default:p(()=>[e.$q.screen.lt.sm?(z(),B(Qe,{key:0,style:{height:"64px"}},{default:p(()=>[y(Pe,{class:"items-center"},{default:p(()=>[y($t,{src:"https://cdn.jsdelivr.net/gh/EliteHCMS/assets@latest/public/logo.svg",style:{"max-width":"245px"},fit:"center",class:"q-ml-md"})]),_:1})]),_:1})):ee("",!0),y(Je,{class:"q-mt-sm"},{default:p(()=>[(z(!0),ae(Xe,null,Ge(e.activeMenu,T=>(z(),B(t,ve({key:T.title},T,{mini:e.miniState}),null,16,["mini"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue","mini","onMouseover","onMouseout","onClickCapture"]),y(Lt,null,{default:p(()=>[y(C)]),_:1}),e.onKiosk?(z(),B(l,{key:0,modelValue:e.kioskPrompt,"onUpdate:modelValue":_[1]||(_[1]=T=>e.kioskPrompt=T)},null,8,["modelValue"])):ee("",!0),e.onKiosk?(z(),B(M,{key:1,onIdle:e.onIdle,duration:300,style:{display:"none"}},null,8,["onIdle"])):ee("",!0)]),_:1})}var Da=se(ta,[["render",sa]]);export{Da as default};
