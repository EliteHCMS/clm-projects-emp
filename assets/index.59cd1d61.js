import{c1 as P,r as n,w as T,aK as j,c as x,z as d,A as u,d as o,bh as i,c2 as L,C as p,cx as N,a6 as c,bX as k,c3 as q,aa as Q}from"./index.6c674a19.js";import{Q as Y}from"./QSpace.d6e66ed5.js";import{Q as A}from"./QTd.47fad94d.js";import{u as O}from"./use-quasar.4e60ec94.js";import{e as E}from"./export-file.6b95af49.js";import{R as M}from"./quickbase.c9a9fc75.js";import{dayjs as R}from"./dayjs.69e964e9.js";import{_ as U}from"./hiringTabs.8e61b8fc.js";import{a as z,_ as K}from"./aTable.c1971c23.js";import"./_commonjsHelpers.dfee5925.js";import"./localForage.7e70884e.js";import"./index.7dbe61ef.js";import"./i18n.8e2a8376.js";import"./api.51f82bf2.js";import"./QBadge.13ae6f49.js";import"./QTabs.fdd105db.js";import"./QResizeObserver.061bdc7b.js";import"./rtl.a367ced8.js";import"./QSelect.fdd46d88.js";import"./QChip.6c6d3173.js";import"./QMenu.b7fb2919.js";import"./position-engine.703db134.js";import"./selection.7761caf6.js";import"./QTable.5a1eb1d4.js";import"./QList.76fc6ce7.js";import"./QMarkupTable.9a5d9dcd.js";import"./use-fullscreen.f7d9f446.js";const X={class:"q-pa-md"},F={class:"row items-center"},G={class:"col-12 col-md-5 q-px-sm"},H={class:"col-12 col-md-4 q-px-sm"},J={key:0},W={key:1},Ie={__name:"index",setup(Z){const v=O(),_=M(),{fetchProfiles:b,fetchAllProfiles:g}=_,{getProfiles:B,getSelectedOffice:s,getLoadingState:D}=P(_),r=n(s.value?s.value[8]:null),w=n("Profiles"),I=n("profiles"),m=n(""),S=n({sortBy:"1",descending:!1,rowsPerPage:150});r.value?b({selectedId:r.value}):g({can:"read"}),T(s,()=>{r.value=s.value?s.value[8]:null,r.value?b({selectedId:r.value}):g({can:"read"})});const V=n(new Date),$=setInterval(()=>{V.value=new Date},1e3);j(()=>{clearInterval($)});const f=x(()=>[{name:"id",align:"left",label:"ID",field:"3",sortable:!1},{name:"submissionTime",align:"left",label:"Time",field:"78",sortable:!1},{name:"name",align:"left",label:"Name",field:"24",sortable:!1},{name:"phoneNumber",align:"center",label:"Phone Number",field:"25",sortable:!1},{name:"craft",align:"center",label:"Craft",field:"52",sortable:!1},{name:"latestScore",align:"center",label:"Latest Score",field:"155",sortable:!1},{name:"employmentStatus",align:"center",label:"Employment Status",field:"56",sortable:!1},...s.value?[]:[{name:"office",align:"center",label:"Office",field:"191",sortable:!1}],{name:"action",align:"center",label:"",sortable:!1}]),h=x(()=>B.value(r.value).filter(t=>!0).sort((t,l)=>S.value.descending?t[1].isBefore(l[1]):t[1].isAfter(l[1]))),y=(t,l,e)=>{let a=l!==void 0?l(t,e):t;return a=a==null?"":String(a),a=a.split('"').join('""'),`"${a}"`},C=()=>{const t=[f.value.map(e=>y(e.label))].concat(h.value.map(e=>f.value.map(a=>y(typeof a.field=="function"?a.field(e):e[a.field===void 0?a.name:a.field],a.format,e)).join(","))).join(`\r
`);E(`${w.value} ${R().format("MM.DD.YYYY")}.csv`,t,"text/csv")!==!0&&v.notify({message:"Browser denied file download...",color:"negative",icon:"warning"})};return(t,l)=>(d(),u("div",X,[o(U),o(q,{flat:"",class:"q-pt-none"},{default:i(()=>[o(L,null,{default:i(()=>[p("div",F,[p("div",G,[o(N,{dense:c(v).screen.lt.md,modelValue:m.value,"onUpdate:modelValue":l[0]||(l[0]=e=>m.value=e),label:"Search...",clearable:""},{prepend:i(()=>[o(k,{name:"search"})]),_:1},8,["dense","modelValue"])]),o(Y),p("div",H,[o(z,{styleSelection:!0})])])]),_:1})]),_:1}),o(K,{rows:c(h),columns:c(f),pagination:S.value,filter:m.value,title:w.value,separator:"vertical","row-key":"3",loading:c(D)(I.value),downloadButton:!0,onDownload:C},{"body-cell-submissionTime":i(e=>[o(A,{props:e},{default:i(()=>[t.$dayjs(e.value).isValid()?(d(),u("div",J,Q(e.value.format("L LT")),1)):(d(),u("div",W,Q(e.row[1].format("L LT")),1))]),_:2},1032,["props"])]),_:1},8,["rows","columns","pagination","filter","title","loading"])]))}};export{Ie as default};
