var pt=Object.defineProperty;var lt=(o,r,n)=>r in o?pt(o,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[r]=n;var U=(o,r,n)=>(lt(o,typeof r!="symbol"?r+"":r,n),n);import{l as We,t as Le,f as dt}from"./index.1012e11c.js";import{a as H,g as yt}from"./_commonjsHelpers.dfee5925.js";import{r as gt,a as mt}from"./index.7dbe61ef.js";var je={get dev(){return!1},baseURL:"https://api.elitehcms.com",apiDevURL:"https://api.elitehcms.com",socketDevURL:"wss://api.elitehcms.com",storageTokenKeyName:"feathers-jwt",tokenType:"Bearer",tokenExpiration:"12h",apiToken:"dafcbf3f-35d1-44ea-b9e6-732ef3812777"},Pe={exports:{}},ne={exports:{}};(function(o,r){(function(n,i){o.exports=i()})(H,function(){var n=typeof Object.getOwnPropertySymbols=="function";function i(s,e,a,u){var d=typeof e=="function",g=function(){var p=this._super;this._super=d?e:s[a];var m=u.apply(this,arguments);return this._super=p,m};return d&&(Object.keys(e).forEach(function(p){g[p]=e[p]}),n&&Object.getOwnPropertySymbols(e).forEach(function(p){g[p]=e[p]})),g}return{create:function(){var s=Object.create(this),e=typeof s.__init=="string"?s.__init:"init";return typeof s[e]=="function"&&s[e].apply(s,arguments),s},mixin:function(s,e){var a=e||this,u=/\b_super\b/,d=Object.getPrototypeOf(a)||a.prototype,g={},p=s,m=function(h){var c=Object.getOwnPropertyDescriptor(p,h);!g[h]&&c&&(g[h]=c)};do Object.getOwnPropertyNames(p).forEach(m),n&&Object.getOwnPropertySymbols(p).forEach(m);while((p=Object.getPrototypeOf(p))&&Object.getPrototypeOf(p));var y=function(h){var c=g[h];typeof c.value=="function"&&u.test(c.value)&&(c.value=i(d,a[h],h,c.value)),Object.defineProperty(a,h,c)};return Object.keys(g).forEach(y),n&&Object.getOwnPropertySymbols(g).forEach(y),a},extend:function(s,e){return this.mixin(s,Object.create(e||this))},proxy:function(s){var e=this[s],a=Array.prototype.slice.call(arguments,1);return a.unshift(this),e.bind.apply(e,a)}}})})(ne);var V={exports:{}},W=1e3,X=W*60,J=X*60,$=J*24,vt=$*7,bt=$*365.25,wt=function(o,r){r=r||{};var n=typeof o;if(n==="string"&&o.length>0)return Ct(o);if(n==="number"&&isFinite(o))return r.long?At(o):kt(o);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(o))};function Ct(o){if(o=String(o),!(o.length>100)){var r=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(o);if(!!r){var n=parseFloat(r[1]),i=(r[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return n*bt;case"weeks":case"week":case"w":return n*vt;case"days":case"day":case"d":return n*$;case"hours":case"hour":case"hrs":case"hr":case"h":return n*J;case"minutes":case"minute":case"mins":case"min":case"m":return n*X;case"seconds":case"second":case"secs":case"sec":case"s":return n*W;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function kt(o){var r=Math.abs(o);return r>=$?Math.round(o/$)+"d":r>=J?Math.round(o/J)+"h":r>=X?Math.round(o/X)+"m":r>=W?Math.round(o/W)+"s":o+"ms"}function At(o){var r=Math.abs(o);return r>=$?Z(o,r,$,"day"):r>=J?Z(o,r,J,"hour"):r>=X?Z(o,r,X,"minute"):r>=W?Z(o,r,W,"second"):o+" ms"}function Z(o,r,n,i){var s=r>=n*1.5;return Math.round(o/n)+" "+i+(s?"s":"")}function Ot(o){n.debug=n,n.default=n,n.coerce=d,n.disable=e,n.enable=s,n.enabled=a,n.humanize=wt,n.destroy=g,Object.keys(o).forEach(p=>{n[p]=o[p]}),n.names=[],n.skips=[],n.formatters={};function r(p){let m=0;for(let y=0;y<p.length;y++)m=(m<<5)-m+p.charCodeAt(y),m|=0;return n.colors[Math.abs(m)%n.colors.length]}n.selectColor=r;function n(p){let m,y=null,h,c;function l(...t){if(!l.enabled)return;const f=l,v=Number(new Date),b=v-(m||v);f.diff=b,f.prev=m,f.curr=v,m=v,t[0]=n.coerce(t[0]),typeof t[0]!="string"&&t.unshift("%O");let w=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,(C,x)=>{if(C==="%%")return"%";w++;const k=n.formatters[x];if(typeof k=="function"){const O=t[w];C=k.call(f,O),t.splice(w,1),w--}return C}),n.formatArgs.call(f,t),(f.log||n.log).apply(f,t)}return l.namespace=p,l.useColors=n.useColors(),l.color=n.selectColor(p),l.extend=i,l.destroy=n.destroy,Object.defineProperty(l,"enabled",{enumerable:!0,configurable:!1,get:()=>y!==null?y:(h!==n.namespaces&&(h=n.namespaces,c=n.enabled(p)),c),set:t=>{y=t}}),typeof n.init=="function"&&n.init(l),l}function i(p,m){const y=n(this.namespace+(typeof m=="undefined"?":":m)+p);return y.log=this.log,y}function s(p){n.save(p),n.namespaces=p,n.names=[],n.skips=[];let m;const y=(typeof p=="string"?p:"").split(/[\s,]+/),h=y.length;for(m=0;m<h;m++)!y[m]||(p=y[m].replace(/\*/g,".*?"),p[0]==="-"?n.skips.push(new RegExp("^"+p.slice(1)+"$")):n.names.push(new RegExp("^"+p+"$")))}function e(){const p=[...n.names.map(u),...n.skips.map(u).map(m=>"-"+m)].join(",");return n.enable(""),p}function a(p){if(p[p.length-1]==="*")return!0;let m,y;for(m=0,y=n.skips.length;m<y;m++)if(n.skips[m].test(p))return!1;for(m=0,y=n.names.length;m<y;m++)if(n.names[m].test(p))return!0;return!1}function u(p){return p.toString().substring(2,p.toString().length-2).replace(/\.\*\?$/,"*")}function d(p){return p instanceof Error?p.stack||p.message:p}function g(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}var _t=Ot;(function(o,r){r.formatArgs=i,r.save=s,r.load=e,r.useColors=n,r.storage=a(),r.destroy=(()=>{let d=!1;return()=>{d||(d=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),r.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(d){if(d[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+d[0]+(this.useColors?"%c ":" ")+"+"+o.exports.humanize(this.diff),!this.useColors)return;const g="color: "+this.color;d.splice(1,0,g,"color: inherit");let p=0,m=0;d[0].replace(/%[a-zA-Z%]/g,y=>{y!=="%%"&&(p++,y==="%c"&&(m=p))}),d.splice(m,0,g)}r.log=console.debug||console.log||(()=>{});function s(d){try{d?r.storage.setItem("debug",d):r.storage.removeItem("debug")}catch{}}function e(){let d;try{d=r.storage.getItem("debug")}catch{}return!d&&typeof process!="undefined"&&"env"in process&&(d={}.DEBUG),d}function a(){try{return localStorage}catch{}}o.exports=_t(r);const{formatters:u}=o.exports;u.j=function(d){try{return JSON.stringify(d)}catch(g){return"[UnexpectedJSONParseError]: "+g.message}}})(V,V.exports);var Y={},R={},Be={};(function(o){Object.defineProperty(o,"__esModule",{value:!0}),o.createSymbol=o.makeUrl=o.isPromise=o._=o.stripSlashes=void 0;function r(e){return e.replace(/^(\/+)|(\/+)$/g,"")}o.stripSlashes=r,o._={each(e,a){e&&typeof e.forEach=="function"?e.forEach(a):o._.isObject(e)&&Object.keys(e).forEach(u=>a(e[u],u))},some(e,a){return Object.keys(e).map(u=>[e[u],u]).some(([u,d])=>a(u,d))},every(e,a){return Object.keys(e).map(u=>[e[u],u]).every(([u,d])=>a(u,d))},keys(e){return Object.keys(e)},values(e){return o._.keys(e).map(a=>e[a])},isMatch(e,a){return o._.keys(a).every(u=>e[u]===a[u])},isEmpty(e){return o._.keys(e).length===0},isObject(e){return typeof e=="object"&&!Array.isArray(e)&&e!==null},isObjectOrArray(e){return typeof e=="object"&&e!==null},extend(e,...a){return Object.assign(e,...a)},omit(e,...a){const u=o._.extend({},e);return a.forEach(d=>delete u[d]),u},pick(e,...a){return a.reduce((u,d)=>(e[d]!==void 0&&(u[d]=e[d]),u),{})},merge(e,a){return o._.isObject(e)&&o._.isObject(a)&&Object.keys(a).forEach(u=>{o._.isObject(a[u])?(e[u]||Object.assign(e,{[u]:{}}),o._.merge(e[u],a[u])):Object.assign(e,{[u]:a[u]})}),e}};function n(e){return o._.isObject(e)&&typeof e.then=="function"}o.isPromise=n;function i(e,a={}){const u=typeof a.get=="function"?a.get.bind(a):()=>{},d=u("env")||"production",g=u("host")||{}.HOST_NAME||"localhost",p=d==="development"||d==="test"||d===void 0?"http":"https",m=u("port")||{}.PORT||3030,y=d==="development"||d==="test"||d===void 0?`:${m}`:"";return e=e||"",`${p}://${g}${y}/${o.stripSlashes(e)}`}o.makeUrl=i;function s(e){return typeof Symbol!="undefined"?Symbol(e):e}o.createSymbol=s})(Be);Object.defineProperty(R,"__esModule",{value:!0});R.enableHooks=R.processHooks=R.getHooks=R.isHookObject=R.convertHookData=R.makeArguments=R.defaultMakeArguments=R.createHookObject=R.ACTIVATE_HOOKS=void 0;const Xe=Be,{each:he,pick:Et}=Xe._;R.ACTIVATE_HOOKS=(0,Xe.createSymbol)("__feathersActivateHooks");function xt(o,r={}){const n={};return Object.defineProperty(n,"toJSON",{value(){return Et(this,"type","method","path","params","id","data","result","error")}}),Object.assign(n,r,{method:o,get path(){const{app:i,service:s}=r;return!s||!i||!i.services?null:Object.keys(i.services).find(e=>i.services[e]===s)}})}R.createHookObject=xt;function Je(o){const r=[];return typeof o.id!="undefined"&&r.push(o.id),o.data&&r.push(o.data),r.push(o.params||{}),r}R.defaultMakeArguments=Je;function St(o){switch(o.method){case"find":return[o.params];case"get":case"remove":return[o.id,o.params];case"update":case"patch":return[o.id,o.data,o.params];case"create":return[o.data,o.params]}return Je(o)}R.makeArguments=St;function Ve(o){let r={};return Array.isArray(o)?r={all:o}:typeof o!="object"?r={all:[o]}:he(o,function(n,i){r[i]=Array.isArray(n)?n:[n]}),r}R.convertHookData=Ve;function Ye(o){return typeof o=="object"&&typeof o.method=="string"&&typeof o.type=="string"}R.isHookObject=Ye;function Ft(o,r,n,i,s=!1){const e=o.__hooks[n][i]||[],a=r.__hooks[n][i]||[];return s?a.concat(e):e.concat(a)}R.getHooks=Ft;function jt(o,r){let n=r;const i=e=>{if(e){if(!Ye(e))throw new Error(`${n.type} hook for '${n.method}' method returned invalid hook object`);n=e}return n};return o.reduce((e,a)=>{const u=a.bind(this);return e.then(d=>u(d)).then(i)},Promise.resolve(n)).then(()=>n).catch(e=>{throw e.hook=n,e})}R.processHooks=jt;function Pt(o,r,n){if(typeof o.hooks=="function")return o;const i={};return n.forEach(s=>{i[s]={}}),Object.defineProperty(o,"__hooks",{configurable:!0,value:i,writable:!0}),Object.assign(o,{hooks(s){return he(s,(e,a)=>{if(!this.__hooks[a])throw new Error(`'${a}' is not a valid hook type`);const u=Ve(e);he(u,(d,g)=>{if(g!=="all"&&r.indexOf(g)===-1)throw new Error(`'${g}' is not a valid hook method`)}),r.forEach(d=>{const g=this.__hooks[a][d]||(this.__hooks[a][d]=[]);u.all&&g.push.apply(g,u.all),u[d]&&g.push.apply(g,u[d])})}),this}})}R.enableHooks=Pt;(function(o){var r=H&&H.__createBinding||(Object.create?function(a,u,d,g){g===void 0&&(g=d);var p=Object.getOwnPropertyDescriptor(u,d);(!p||("get"in p?!u.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return u[d]}}),Object.defineProperty(a,g,p)}:function(a,u,d,g){g===void 0&&(g=d),a[g]=u[d]}),n=H&&H.__setModuleDefault||(Object.create?function(a,u){Object.defineProperty(a,"default",{enumerable:!0,value:u})}:function(a,u){a.default=u}),i=H&&H.__importStar||function(a){if(a&&a.__esModule)return a;var u={};if(a!=null)for(var d in a)d!=="default"&&Object.prototype.hasOwnProperty.call(a,d)&&r(u,a,d);return n(u,a),u},s=H&&H.__exportStar||function(a,u){for(var d in a)d!=="default"&&!Object.prototype.hasOwnProperty.call(u,d)&&r(u,a,d)};Object.defineProperty(o,"__esModule",{value:!0}),o.hooks=void 0;const e=i(R);s(Be,o),o.hooks=e})(Y);var fe={exports:{}},Te={exports:{}},K=typeof Reflect=="object"?Reflect:null,Re=K&&typeof K.apply=="function"?K.apply:function(r,n,i){return Function.prototype.apply.call(r,n,i)},ee;K&&typeof K.ownKeys=="function"?ee=K.ownKeys:Object.getOwnPropertySymbols?ee=function(r){return Object.getOwnPropertyNames(r).concat(Object.getOwnPropertySymbols(r))}:ee=function(r){return Object.getOwnPropertyNames(r)};function Bt(o){console&&console.warn&&console.warn(o)}var Ge=Number.isNaN||function(r){return r!==r};function N(){N.init.call(this)}Te.exports=N;Te.exports.once=Rt;N.EventEmitter=N;N.prototype._events=void 0;N.prototype._eventsCount=0;N.prototype._maxListeners=void 0;var Me=10;function oe(o){if(typeof o!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof o)}Object.defineProperty(N,"defaultMaxListeners",{enumerable:!0,get:function(){return Me},set:function(o){if(typeof o!="number"||o<0||Ge(o))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+o+".");Me=o}});N.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};N.prototype.setMaxListeners=function(r){if(typeof r!="number"||r<0||Ge(r))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+r+".");return this._maxListeners=r,this};function Qe(o){return o._maxListeners===void 0?N.defaultMaxListeners:o._maxListeners}N.prototype.getMaxListeners=function(){return Qe(this)};N.prototype.emit=function(r){for(var n=[],i=1;i<arguments.length;i++)n.push(arguments[i]);var s=r==="error",e=this._events;if(e!==void 0)s=s&&e.error===void 0;else if(!s)return!1;if(s){var a;if(n.length>0&&(a=n[0]),a instanceof Error)throw a;var u=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw u.context=a,u}var d=e[r];if(d===void 0)return!1;if(typeof d=="function")Re(d,this,n);else for(var g=d.length,p=nt(d,g),i=0;i<g;++i)Re(p[i],this,n);return!0};function Ze(o,r,n,i){var s,e,a;if(oe(n),e=o._events,e===void 0?(e=o._events=Object.create(null),o._eventsCount=0):(e.newListener!==void 0&&(o.emit("newListener",r,n.listener?n.listener:n),e=o._events),a=e[r]),a===void 0)a=e[r]=n,++o._eventsCount;else if(typeof a=="function"?a=e[r]=i?[n,a]:[a,n]:i?a.unshift(n):a.push(n),s=Qe(o),s>0&&a.length>s&&!a.warned){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(r)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=o,u.type=r,u.count=a.length,Bt(u)}return o}N.prototype.addListener=function(r,n){return Ze(this,r,n,!1)};N.prototype.on=N.prototype.addListener;N.prototype.prependListener=function(r,n){return Ze(this,r,n,!0)};function Tt(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function et(o,r,n){var i={fired:!1,wrapFn:void 0,target:o,type:r,listener:n},s=Tt.bind(i);return s.listener=n,i.wrapFn=s,s}N.prototype.once=function(r,n){return oe(n),this.on(r,et(this,r,n)),this};N.prototype.prependOnceListener=function(r,n){return oe(n),this.prependListener(r,et(this,r,n)),this};N.prototype.removeListener=function(r,n){var i,s,e,a,u;if(oe(n),s=this._events,s===void 0)return this;if(i=s[r],i===void 0)return this;if(i===n||i.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete s[r],s.removeListener&&this.emit("removeListener",r,i.listener||n));else if(typeof i!="function"){for(e=-1,a=i.length-1;a>=0;a--)if(i[a]===n||i[a].listener===n){u=i[a].listener,e=a;break}if(e<0)return this;e===0?i.shift():Nt(i,e),i.length===1&&(s[r]=i[0]),s.removeListener!==void 0&&this.emit("removeListener",r,u||n)}return this};N.prototype.off=N.prototype.removeListener;N.prototype.removeAllListeners=function(r){var n,i,s;if(i=this._events,i===void 0)return this;if(i.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):i[r]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete i[r]),this;if(arguments.length===0){var e=Object.keys(i),a;for(s=0;s<e.length;++s)a=e[s],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=i[r],typeof n=="function")this.removeListener(r,n);else if(n!==void 0)for(s=n.length-1;s>=0;s--)this.removeListener(r,n[s]);return this};function tt(o,r,n){var i=o._events;if(i===void 0)return[];var s=i[r];return s===void 0?[]:typeof s=="function"?n?[s.listener||s]:[s]:n?Lt(s):nt(s,s.length)}N.prototype.listeners=function(r){return tt(this,r,!0)};N.prototype.rawListeners=function(r){return tt(this,r,!1)};N.listenerCount=function(o,r){return typeof o.listenerCount=="function"?o.listenerCount(r):rt.call(o,r)};N.prototype.listenerCount=rt;function rt(o){var r=this._events;if(r!==void 0){var n=r[o];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}N.prototype.eventNames=function(){return this._eventsCount>0?ee(this._events):[]};function nt(o,r){for(var n=new Array(r),i=0;i<r;++i)n[i]=o[i];return n}function Nt(o,r){for(;r+1<o.length;r++)o[r]=o[r+1];o.pop()}function Lt(o){for(var r=new Array(o.length),n=0;n<r.length;++n)r[n]=o[n].listener||o[n];return r}function Rt(o,r){return new Promise(function(n,i){function s(a){o.removeListener(r,e),i(a)}function e(){typeof o.removeListener=="function"&&o.removeListener("error",s),n([].slice.call(arguments))}ot(o,r,e,{once:!0}),r!=="error"&&Mt(o,s,{once:!0})})}function Mt(o,r,n){typeof o.on=="function"&&ot(o,"error",r,n)}function ot(o,r,n,i){if(typeof o.on=="function")i.once?o.once(r,n):o.on(r,n);else if(typeof o.addEventListener=="function")o.addEventListener(r,function s(e){i.once&&o.removeEventListener(r,s),n(e)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof o)}(function(o,r){const{EventEmitter:n}=Te.exports,i=ne.exports,s=r.eventHook=function(){return function(u){const{app:d,service:g}=u,p=u.event===null?u.event:d.eventMappings[u.method],m=g._hookEvents&&g._hookEvents.indexOf(p)!==-1;p&&m&&u.type!=="error"&&(Array.isArray(u.result)?u.result:[u.result]).forEach(h=>g.emit(p,h,u))}},e=r.eventMixin=function(u){if(u._serviceEvents)return;const d=this,g=typeof u.on=="function"&&typeof u.emit=="function";typeof u.mixin=="function"&&!g&&u.mixin(n.prototype),Object.defineProperties(u,{_serviceEvents:{value:Array.isArray(u.events)?u.events.slice():[]},_hookEvents:{value:[]}}),Object.keys(d.eventMappings).forEach(p=>{const m=d.eventMappings[p],y=u._serviceEvents.indexOf(m)!==-1;typeof u[p]=="function"&&!y&&(u._serviceEvents.push(m),u._hookEvents.push(m))})};o.exports=function(){return function(a){Object.assign(a,{eventMappings:{create:"created",update:"updated",remove:"removed",patch:"patched"}}),a.hooks({finally:s()}),i.mixin(n.prototype,a),a.mixins.push(e)}}})(fe,fe.exports);var re={exports:{}};const{_:Ht}=Y,Dt=o=>{const{service:r,method:n}=o,i=r.methods[n];return o.arguments.forEach((s,e)=>{o[i[e]]=s}),o.params||(o.params={}),o},qt=o=>{const{service:r,method:n,path:i}=o,s=r.methods[n];if(s.includes("id")&&o.id===void 0)throw new Error(`An id must be provided to the '${i}.${n}' method`);if(s.includes("data")&&!Ht.isObjectOrArray(o.data))throw new Error(`A data object must be provided to the '${i}.${n}' method`);return o};var It=[Dt,qt];(function(o,r){const{hooks:n,isPromise:i}=Y,s=It,{createHookObject:e,getHooks:a,processHooks:u,enableHooks:d,ACTIVATE_HOOKS:g}=n,p=function({app:h,service:c,method:l,original:t}){return(f={})=>{const v=h.hookTypes.reduce((b,w)=>{const A=f[w]||[];return b[w]=Array.isArray(A)?A:[A],b},{});return function(...b){const w=b[b.length-1]===!0?b.pop():!1,A=e(l,{type:"before",arguments:b,service:c,app:h});return Promise.resolve(A).then(C=>u.call(c,s.concat(v.before),C)).then(C=>typeof C.result!="undefined"?C:new Promise(k=>{const O=t||c[l],_=c.methods[l].map(S=>C[S]),E=O.apply(c,_);if(!i(E))throw new Error(`Service method '${C.method}' for '${C.path}' service must return a promise`);k(E)}).then(k=>(C.result=k,C)).catch(k=>{throw k.hook=C,k})).then(C=>{const x=Object.assign({},C,{type:"after"});return u.call(c,v.after,x)}).catch(C=>{const x=Object.assign({},C.hook,{type:"error",original:C.hook,error:C,result:void 0});return u.call(c,v.error,x).catch(k=>Object.assign({},k.hook,{error:k,result:void 0}))}).then(C=>u.call(c,v.finally,C).catch(x=>Object.assign({},x.hook,{error:x,result:void 0}))).then(C=>typeof C.error!="undefined"&&typeof C.result=="undefined"?Promise.reject(w?C:C.error):w?C:C.result)}}},m=r.hookMixin=function(h){if(typeof h.hooks=="function")return;h.methods=Object.getOwnPropertyNames(h).filter(f=>typeof h[f]=="function"&&h[f][g]).reduce((f,v)=>(f[v]=h[v][g],f),h.methods||{}),Object.assign(h.methods,{find:["params"],get:["id","params"],create:["data","params"],update:["id","data","params"],patch:["id","data","params"],remove:["id","params"]});const c=this,l=Object.keys(h.methods),t=l.reduce((f,v)=>(typeof h[v]!="function"||(f[v]=function(){const b=this,w=Array.from(arguments),A=b._super.bind(b);return p({app:c,service:b,method:v,original:A})({before:a(c,b,"before",v),after:a(c,b,"after",v,!0),error:a(c,b,"error",v,!0),finally:a(c,b,"finally",v,!0)})(...w)}),f),{});d(h,l,c.hookTypes),h.mixin(t)};o.exports=function(){return function(y){Object.assign(y,{hookTypes:["before","after","error","finally"]}),d(y,y.methods,y.hookTypes),y.mixins.push(m)}},o.exports.withHooks=p,o.exports.ACTIVATE_HOOKS=g,o.exports.activateHooks=function(h){return c=>(Object.defineProperty(c,g,{value:h}),c)}})(re,re.exports);var it="4.5.15";const ue=V.exports("feathers:application"),{stripSlashes:He}=Y,Ut=ne.exports,$t=fe.exports,zt=re.exports,Kt=it,De=Ut.extend({create:null}),Wt={init(){Object.assign(this,{version:Kt,methods:["find","get","create","update","patch","remove"],mixins:[],services:{},providers:[],_setup:!1,settings:{}}),this.configure(zt()),this.configure($t())},get(o){return this.settings[o]},set(o,r){return this.settings[o]=r,this},disable(o){return this.settings[o]=!1,this},disabled(o){return!this.settings[o]},enable(o){return this.settings[o]=!0,this},enabled(o){return!!this.settings[o]},configure(o){return o.call(this,this),this},service(o,r){if(typeof r!="undefined")throw new Error("Registering a new service with `app.service(path, service)` is no longer supported. Use `app.use(path, service)` instead.");const n=He(o)||"/",i=this.services[n];return typeof i=="undefined"&&typeof this.defaultService=="function"?this.use(n,this.defaultService(n)).service(n):i},use(o,r,n={}){if(typeof o!="string")throw new Error(`'${o}' is not a valid service path.`);const i=He(o)||"/",s=typeof r.service=="function"&&r.services,e=this.methods.concat("setup").some(u=>typeof r[u]=="function");if(s){const u=r;return Object.keys(u.services).forEach(d=>this.use(`${i}/${d}`,u.service(d))),this}if(!e)throw new Error(`Invalid service object passed for path \`${i}\``);const a=De.isPrototypeOf(r)?r:De.extend(r);return ue(`Registering new service at \`${i}\``),this.mixins.forEach(u=>u.call(this,a,i,n)),typeof a._setup=="function"&&a._setup(this,i),this.providers.forEach(u=>u.call(this,a,i,n)),this._isSetup&&typeof a.setup=="function"&&(ue(`Setting up service for \`${i}\``),a.setup(this,i)),this.services[i]=a,this},setup(){return Object.keys(this.services).forEach(o=>{const r=this.services[o];ue(`Setting up service for \`${o}\``),typeof r.setup=="function"&&r.setup(this,o)}),this._isSetup=!0,this}};var Xt=Wt;const Jt=ne.exports,Vt=Xt,Yt=it,{ACTIVATE_HOOKS:Gt,activateHooks:Qt}=re.exports,Zt=Object.create(null);function G(){const o=Object.create(Zt);return Jt.mixin(Vt,o),o.init(),o}G.version=Yt;G.ACTIVATE_HOOKS=Gt;G.activateHooks=Qt;Pe.exports=G;Pe.exports.default=G;var er=Pe.exports,Ne={exports:{}},ie={};const qe=V.exports("@feathersjs/errors");function P(o,r,n,i,s){o=o||"Error";let e,a,u;o instanceof Error?(a=o.message||"Error",o.errors&&(e=o.errors)):typeof o=="object"?(a=o.message||"Error",s=o):a=o,s&&(u=JSON.parse(JSON.stringify(s)),u.errors?(e=u.errors,delete u.errors):s.errors&&(e=JSON.parse(JSON.stringify(s.errors)))),this.type="FeathersError",this.name=r,this.message=a,this.code=n,this.className=i,this.data=u,this.errors=e||{},qe(`${this.name}(${this.code}): ${this.message}`),qe(this.errors),Error.captureStackTrace?Error.captureStackTrace(this,P):this.stack=new Error().stack}function D(o,r){o.prototype=Object.create(r.prototype),o.prototype.constructor=o}D(P,Error);Object.defineProperty(P.prototype,"toJSON",{value:function(){return{name:this.name,message:this.message,code:this.code,className:this.className,data:this.data,errors:this.errors}}});function pe(o,r){P.call(this,o,"BadRequest",400,"bad-request",r)}D(pe,P);function le(o,r){P.call(this,o,"NotAuthenticated",401,"not-authenticated",r)}D(le,P);function de(o,r){P.call(this,o,"PaymentError",402,"payment-error",r)}D(de,P);function ye(o,r){P.call(this,o,"Forbidden",403,"forbidden",r)}D(ye,P);function ge(o,r){P.call(this,o,"NotFound",404,"not-found",r)}D(ge,P);function me(o,r){P.call(this,o,"MethodNotAllowed",405,"method-not-allowed",r)}D(me,P);function ve(o,r){P.call(this,o,"NotAcceptable",406,"not-acceptable",r)}D(ve,P);function be(o,r){P.call(this,o,"Timeout",408,"timeout",r)}D(be,P);function we(o,r){P.call(this,o,"Conflict",409,"conflict",r)}D(we,P);function Ce(o,r){P(this,o,"Gone",410,"gone")}D(Ce,P);function ke(o,r){P.call(this,o,"LengthRequired",411,"length-required",r)}D(ke,P);function Ae(o,r){P.call(this,o,"Unprocessable",422,"unprocessable",r)}D(Ae,P);function Oe(o,r){P.call(this,o,"TooManyRequests",429,"too-many-requests",r)}D(Oe,P);function _e(o,r){P.call(this,o,"GeneralError",500,"general-error",r)}D(_e,P);function Ee(o,r){P.call(this,o,"NotImplemented",501,"not-implemented",r)}D(Ee,P);function xe(o,r){P.call(this,o,"BadGateway",502,"bad-gateway",r)}D(xe,P);function Se(o,r){P.call(this,o,"Unavailable",503,"unavailable",r)}D(Se,P);const st={FeathersError:P,BadRequest:pe,NotAuthenticated:le,PaymentError:de,Forbidden:ye,NotFound:ge,MethodNotAllowed:me,NotAcceptable:ve,Timeout:be,Conflict:we,Gone:Ce,LengthRequired:ke,Unprocessable:Ae,TooManyRequests:Oe,GeneralError:_e,NotImplemented:Ee,BadGateway:xe,Unavailable:Se,400:pe,401:le,402:de,403:ye,404:ge,405:me,406:ve,408:be,409:we,410:Ce,411:ke,422:Ae,429:Oe,500:_e,501:Ee,502:xe,503:Se};function tr(o){if(!o)return o;const r=st[o.name],n=r?new r(o.message,o.data):new Error(o.message||o);return typeof o=="object"&&Object.assign(n,o),n}var at=Object.assign({convert:tr},st),rr=H&&H.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(ie,"__esModule",{value:!0});ie.Service=void 0;const nr=rr(V.exports),Ie=at,ct=(0,nr.default)("@feathersjs/transport-commons/client"),or=["addListener","emit","listenerCount","listeners","on","once","prependListener","prependOnceListener","removeAllListeners","removeListener"],ir=["eventNames","getMaxListeners","setMaxListeners"],sr=o=>{ir.forEach(r=>{o[r]=function(...n){if(typeof this.connection[r]!="function")throw new Error(`Can not call '${r}' on the client service connection`);return this.connection[r](...n)}}),or.forEach(r=>{o[r]=function(n,...i){if(typeof this.connection[r]!="function")throw new Error(`Can not call '${r}' on the client service connection`);const s=`${this.path} ${n}`;ct(`Calling emitter method ${r} with namespaced event '${s}'`);const e=this.connection[r](s,...i);return e===this.connection?this:e}})};class ar{constructor(r){this.events=r.events,this.path=r.name,this.connection=r.connection,this.method=r.method,this.timeout=r.timeout||5e3,sr(this)}send(r,...n){return new Promise((i,s)=>{const e=setTimeout(()=>s(new Ie.Timeout(`Timeout of ${this.timeout}ms exceeded calling ${r} on ${this.path}`,{timeout:this.timeout,method:r,path:this.path})),this.timeout);n.unshift(r,this.path),n.push(function(a,u){return a=(0,Ie.convert)(a),clearTimeout(e),a?s(a):i(u)}),ct(`Sending socket.${this.method}`,n),this.connection[this.method](...n)})}find(r={}){return this.send("find",r.query||{})}get(r,n={}){return this.send("get",r,n.query||{})}create(r,n={}){return this.send("create",r,n.query||{})}update(r,n,i={}){return this.send("update",r,n,i.query||{})}patch(r,n,i={}){return this.send("patch",r,n,i.query||{})}remove(r,n={}){return this.send("remove",r,n.query||{})}off(r,...n){if(typeof this.connection.off=="function"){const i=this.connection.off(`${this.path} ${r}`,...n);return i===this.connection?this:i}else if(n.length===0)return this.removeAllListeners(r);return this.removeListener(r,...n)}}ie.Service=ar;var cr=ie.Service;const Ue=cr;function ut(o,r){if(!o)throw new Error("Socket.io connection needs to be provided");if(o&&o.io&&o.io.engine&&o.io.engine.transport&&o.io.engine.transport.query&&o.io.engine.transport.query.EIO>3)throw console.error("You are trying to use the Socket.io client version 3 or later with Feathers v4 which only supports Socket.io version 2. Please use socket.io-client version 2 instead."),new Error("socket.io-client must be version 2.x");const n=function(s){const e=Object.keys(this.eventMappings||{}).map(u=>this.eventMappings[u]),a=Object.assign({},r,{events:e,name:s,connection:o,method:"emit"});return new Ue(a)},i=function(s){if(typeof s.defaultService=="function")throw new Error("Only one default client provider can be configured");s.io=o,s.defaultService=n};return i.Service=Ue,i.service=n,i}Ne.exports=ut;Ne.exports.default=ut;var ur=Ne.exports,ht={exports:{}};/*!
 * Socket.IO v2.4.0
 * (c) 2014-2021 Guillermo Rauch
 * Released under the MIT License.
 */(function(o,r){(function(n,i){o.exports=i()})(H,function(){return function(n){function i(e){if(s[e])return s[e].exports;var a=s[e]={exports:{},id:e,loaded:!1};return n[e].call(a.exports,a,a.exports,i),a.loaded=!0,a.exports}var s={};return i.m=n,i.c=s,i.p="",i(0)}([function(n,i,s){function e(m,y){typeof m=="object"&&(y=m,m=void 0),y=y||{};var h,c=a(m),l=c.source,t=c.id,f=c.path,v=p[t]&&f in p[t].nsps,b=y.forceNew||y["force new connection"]||y.multiplex===!1||v;return b?(g("ignoring socket cache for %s",l),h=d(l,y)):(p[t]||(g("new io instance for %s",l),p[t]=d(l,y)),h=p[t]),c.query&&!y.query&&(y.query=c.query),h.socket(c.path,y)}var a=s(1),u=s(7),d=s(12),g=s(3)("socket.io-client");n.exports=i=e;var p=i.managers={};i.protocol=u.protocol,i.connect=e,i.Manager=s(12),i.Socket=s(37)},function(n,i,s){function e(d,g){var p=d;g=g||typeof location!="undefined"&&location,d==null&&(d=g.protocol+"//"+g.host),typeof d=="string"&&(d.charAt(0)==="/"&&(d=d.charAt(1)==="/"?g.protocol+d:g.host+d),/^(https?|wss?):\/\//.test(d)||(u("protocol-less url %s",d),d=typeof g!="undefined"?g.protocol+"//"+d:"https://"+d),u("parse %s",d),p=a(d)),p.port||(/^(http|ws)$/.test(p.protocol)?p.port="80":/^(http|ws)s$/.test(p.protocol)&&(p.port="443")),p.path=p.path||"/";var m=p.host.indexOf(":")!==-1,y=m?"["+p.host+"]":p.host;return p.id=p.protocol+"://"+y+":"+p.port,p.href=p.protocol+"://"+y+(g&&g.port===p.port?"":":"+p.port),p}var a=s(2),u=s(3)("socket.io-client:url");n.exports=e},function(n,i){function s(d,g){var p=/\/{2,9}/g,m=g.replace(p,"/").split("/");return g.substr(0,1)!="/"&&g.length!==0||m.splice(0,1),g.substr(g.length-1,1)=="/"&&m.splice(m.length-1,1),m}function e(d,g){var p={};return g.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(m,y,h){y&&(p[y]=h)}),p}var a=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,u=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];n.exports=function(d){var g=d,p=d.indexOf("["),m=d.indexOf("]");p!=-1&&m!=-1&&(d=d.substring(0,p)+d.substring(p,m).replace(/:/g,";")+d.substring(m,d.length));for(var y=a.exec(d||""),h={},c=14;c--;)h[u[c]]=y[c]||"";return p!=-1&&m!=-1&&(h.source=g,h.host=h.host.substring(1,h.host.length-1).replace(/;/g,":"),h.authority=h.authority.replace("[","").replace("]","").replace(/;/g,":"),h.ipv6uri=!0),h.pathNames=s(h,h.path),h.queryKey=e(h,h.query),h}},function(n,i,s){(function(e){function a(){return!(typeof window=="undefined"||!window.process||window.process.type!=="renderer")||(typeof navigator=="undefined"||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function u(h){var c=this.useColors;if(h[0]=(c?"%c":"")+this.namespace+(c?" %c":" ")+h[0]+(c?"%c ":" ")+"+"+i.humanize(this.diff),c){var l="color: "+this.color;h.splice(1,0,l,"color: inherit");var t=0,f=0;h[0].replace(/%[a-zA-Z%]/g,function(v){v!=="%%"&&(t++,v==="%c"&&(f=t))}),h.splice(f,0,l)}}function d(){return(typeof console=="undefined"?"undefined":y(console))==="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function g(h){try{h==null?i.storage.removeItem("debug"):i.storage.debug=h}catch{}}function p(){var h;try{h=i.storage.debug}catch{}return!h&&typeof e!="undefined"&&"env"in e&&(h=e.env.DEBUG),h}function m(){try{return window.localStorage}catch{}}var y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h};i=n.exports=s(5),i.log=d,i.formatArgs=u,i.save=g,i.load=p,i.useColors=a,i.storage=typeof chrome!="undefined"&&typeof chrome.storage!="undefined"?chrome.storage.local:m(),i.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],i.formatters.j=function(h){try{return JSON.stringify(h)}catch(c){return"[UnexpectedJSONParseError]: "+c.message}},i.enable(p())}).call(i,s(4))},function(n,i){function s(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}function a(b){if(y===setTimeout)return setTimeout(b,0);if((y===s||!y)&&setTimeout)return y=setTimeout,setTimeout(b,0);try{return y(b,0)}catch{try{return y.call(null,b,0)}catch{return y.call(this,b,0)}}}function u(b){if(h===clearTimeout)return clearTimeout(b);if((h===e||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(b);try{return h(b)}catch{try{return h.call(null,b)}catch{return h.call(this,b)}}}function d(){f&&l&&(f=!1,l.length?t=l.concat(t):v=-1,t.length&&g())}function g(){if(!f){var b=a(d);f=!0;for(var w=t.length;w;){for(l=t,t=[];++v<w;)l&&l[v].run();v=-1,w=t.length}l=null,f=!1,u(b)}}function p(b,w){this.fun=b,this.array=w}function m(){}var y,h,c=n.exports={};(function(){try{y=typeof setTimeout=="function"?setTimeout:s}catch{y=s}try{h=typeof clearTimeout=="function"?clearTimeout:e}catch{h=e}})();var l,t=[],f=!1,v=-1;c.nextTick=function(b){var w=new Array(arguments.length-1);if(arguments.length>1)for(var A=1;A<arguments.length;A++)w[A-1]=arguments[A];t.push(new p(b,w)),t.length!==1||f||a(g)},p.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=m,c.addListener=m,c.once=m,c.off=m,c.removeListener=m,c.removeAllListeners=m,c.emit=m,c.prependListener=m,c.prependOnceListener=m,c.listeners=function(b){return[]},c.binding=function(b){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(b){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},function(n,i,s){function e(y){var h,c=0;for(h in y)c=(c<<5)-c+y.charCodeAt(h),c|=0;return i.colors[Math.abs(c)%i.colors.length]}function a(y){function h(){if(h.enabled){var l=h,t=+new Date,f=t-(c||t);l.diff=f,l.prev=c,l.curr=t,c=t;for(var v=new Array(arguments.length),b=0;b<v.length;b++)v[b]=arguments[b];v[0]=i.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");var w=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,function(C,x){if(C==="%%")return C;w++;var k=i.formatters[x];if(typeof k=="function"){var O=v[w];C=k.call(l,O),v.splice(w,1),w--}return C}),i.formatArgs.call(l,v);var A=h.log||i.log||console.log.bind(console);A.apply(l,v)}}var c;return h.namespace=y,h.enabled=i.enabled(y),h.useColors=i.useColors(),h.color=e(y),h.destroy=u,typeof i.init=="function"&&i.init(h),i.instances.push(h),h}function u(){var y=i.instances.indexOf(this);return y!==-1&&(i.instances.splice(y,1),!0)}function d(y){i.save(y),i.names=[],i.skips=[];var h,c=(typeof y=="string"?y:"").split(/[\s,]+/),l=c.length;for(h=0;h<l;h++)c[h]&&(y=c[h].replace(/\*/g,".*?"),y[0]==="-"?i.skips.push(new RegExp("^"+y.substr(1)+"$")):i.names.push(new RegExp("^"+y+"$")));for(h=0;h<i.instances.length;h++){var t=i.instances[h];t.enabled=i.enabled(t.namespace)}}function g(){i.enable("")}function p(y){if(y[y.length-1]==="*")return!0;var h,c;for(h=0,c=i.skips.length;h<c;h++)if(i.skips[h].test(y))return!1;for(h=0,c=i.names.length;h<c;h++)if(i.names[h].test(y))return!0;return!1}function m(y){return y instanceof Error?y.stack||y.message:y}i=n.exports=a.debug=a.default=a,i.coerce=m,i.disable=g,i.enable=d,i.enabled=p,i.humanize=s(6),i.instances=[],i.names=[],i.skips=[],i.formatters={}},function(n,i){function s(h){if(h=String(h),!(h.length>100)){var c=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(h);if(c){var l=parseFloat(c[1]),t=(c[2]||"ms").toLowerCase();switch(t){case"years":case"year":case"yrs":case"yr":case"y":return l*y;case"days":case"day":case"d":return l*m;case"hours":case"hour":case"hrs":case"hr":case"h":return l*p;case"minutes":case"minute":case"mins":case"min":case"m":return l*g;case"seconds":case"second":case"secs":case"sec":case"s":return l*d;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return l;default:return}}}}function e(h){return h>=m?Math.round(h/m)+"d":h>=p?Math.round(h/p)+"h":h>=g?Math.round(h/g)+"m":h>=d?Math.round(h/d)+"s":h+"ms"}function a(h){return u(h,m,"day")||u(h,p,"hour")||u(h,g,"minute")||u(h,d,"second")||h+" ms"}function u(h,c,l){if(!(h<c))return h<1.5*c?Math.floor(h/c)+" "+l:Math.ceil(h/c)+" "+l+"s"}var d=1e3,g=60*d,p=60*g,m=24*p,y=365.25*m;n.exports=function(h,c){c=c||{};var l=typeof h;if(l==="string"&&h.length>0)return s(h);if(l==="number"&&isNaN(h)===!1)return c.long?a(h):e(h);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(h))}},function(n,i,s){function e(){}function a(w){var A=""+w.type;if(i.BINARY_EVENT!==w.type&&i.BINARY_ACK!==w.type||(A+=w.attachments+"-"),w.nsp&&w.nsp!=="/"&&(A+=w.nsp+","),w.id!=null&&(A+=w.id),w.data!=null){var C=u(w.data);if(C===!1)return b;A+=C}return c("encoded %j as %s",w,A),A}function u(w){try{return JSON.stringify(w)}catch{return!1}}function d(w,A){function C(x){var k=t.deconstructPacket(x),O=a(k.packet),_=k.buffers;_.unshift(O),A(_)}t.removeBlobs(w,C)}function g(){this.reconstructor=null}function p(w){var A=0,C={type:Number(w.charAt(0))};if(i.types[C.type]==null)return h("unknown packet type "+C.type);if(i.BINARY_EVENT===C.type||i.BINARY_ACK===C.type){for(var x="";w.charAt(++A)!=="-"&&(x+=w.charAt(A),A!=w.length););if(x!=Number(x)||w.charAt(A)!=="-")throw new Error("Illegal attachments");C.attachments=Number(x)}if(w.charAt(A+1)==="/")for(C.nsp="";++A;){var k=w.charAt(A);if(k===","||(C.nsp+=k,A===w.length))break}else C.nsp="/";var O=w.charAt(A+1);if(O!==""&&Number(O)==O){for(C.id="";++A;){var k=w.charAt(A);if(k==null||Number(k)!=k){--A;break}if(C.id+=w.charAt(A),A===w.length)break}C.id=Number(C.id)}if(w.charAt(++A)){var _=m(w.substr(A)),E=_!==!1&&(C.type===i.ERROR||f(_));if(!E)return h("invalid payload");C.data=_}return c("decoded %s as %j",w,C),C}function m(w){try{return JSON.parse(w)}catch{return!1}}function y(w){this.reconPack=w,this.buffers=[]}function h(w){return{type:i.ERROR,data:"parser error: "+w}}var c=s(3)("socket.io-parser"),l=s(8),t=s(9),f=s(10),v=s(11);i.protocol=4,i.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],i.CONNECT=0,i.DISCONNECT=1,i.EVENT=2,i.ACK=3,i.ERROR=4,i.BINARY_EVENT=5,i.BINARY_ACK=6,i.Encoder=e,i.Decoder=g;var b=i.ERROR+'"encode error"';e.prototype.encode=function(w,A){if(c("encoding packet %j",w),i.BINARY_EVENT===w.type||i.BINARY_ACK===w.type)d(w,A);else{var C=a(w);A([C])}},l(g.prototype),g.prototype.add=function(w){var A;if(typeof w=="string")A=p(w),i.BINARY_EVENT===A.type||i.BINARY_ACK===A.type?(this.reconstructor=new y(A),this.reconstructor.reconPack.attachments===0&&this.emit("decoded",A)):this.emit("decoded",A);else{if(!v(w)&&!w.base64)throw new Error("Unknown type: "+w);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");A=this.reconstructor.takeBinaryData(w),A&&(this.reconstructor=null,this.emit("decoded",A))}},g.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},y.prototype.takeBinaryData=function(w){if(this.buffers.push(w),this.buffers.length===this.reconPack.attachments){var A=t.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),A}return null},y.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(n,i,s){function e(u){if(u)return a(u)}function a(u){for(var d in e.prototype)u[d]=e.prototype[d];return u}n.exports=e,e.prototype.on=e.prototype.addEventListener=function(u,d){return this._callbacks=this._callbacks||{},(this._callbacks["$"+u]=this._callbacks["$"+u]||[]).push(d),this},e.prototype.once=function(u,d){function g(){this.off(u,g),d.apply(this,arguments)}return g.fn=d,this.on(u,g),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(u,d){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var g=this._callbacks["$"+u];if(!g)return this;if(arguments.length==1)return delete this._callbacks["$"+u],this;for(var p,m=0;m<g.length;m++)if(p=g[m],p===d||p.fn===d){g.splice(m,1);break}return g.length===0&&delete this._callbacks["$"+u],this},e.prototype.emit=function(u){this._callbacks=this._callbacks||{};for(var d=new Array(arguments.length-1),g=this._callbacks["$"+u],p=1;p<arguments.length;p++)d[p-1]=arguments[p];if(g){g=g.slice(0);for(var p=0,m=g.length;p<m;++p)g[p].apply(this,d)}return this},e.prototype.listeners=function(u){return this._callbacks=this._callbacks||{},this._callbacks["$"+u]||[]},e.prototype.hasListeners=function(u){return!!this.listeners(u).length}},function(n,i,s){function e(y,h){if(!y)return y;if(d(y)){var c={_placeholder:!0,num:h.length};return h.push(y),c}if(u(y)){for(var l=new Array(y.length),t=0;t<y.length;t++)l[t]=e(y[t],h);return l}if(typeof y=="object"&&!(y instanceof Date)){var l={};for(var f in y)l[f]=e(y[f],h);return l}return y}function a(y,h){if(!y)return y;if(y&&y._placeholder)return h[y.num];if(u(y))for(var c=0;c<y.length;c++)y[c]=a(y[c],h);else if(typeof y=="object")for(var l in y)y[l]=a(y[l],h);return y}var u=s(10),d=s(11),g=Object.prototype.toString,p=typeof Blob=="function"||typeof Blob!="undefined"&&g.call(Blob)==="[object BlobConstructor]",m=typeof File=="function"||typeof File!="undefined"&&g.call(File)==="[object FileConstructor]";i.deconstructPacket=function(y){var h=[],c=y.data,l=y;return l.data=e(c,h),l.attachments=h.length,{packet:l,buffers:h}},i.reconstructPacket=function(y,h){return y.data=a(y.data,h),y.attachments=void 0,y},i.removeBlobs=function(y,h){function c(f,v,b){if(!f)return f;if(p&&f instanceof Blob||m&&f instanceof File){l++;var w=new FileReader;w.onload=function(){b?b[v]=this.result:t=this.result,--l||h(t)},w.readAsArrayBuffer(f)}else if(u(f))for(var A=0;A<f.length;A++)c(f[A],A,f);else if(typeof f=="object"&&!d(f))for(var C in f)c(f[C],C,f)}var l=0,t=y;c(t),l||h(t)}},function(n,i){var s={}.toString;n.exports=Array.isArray||function(e){return s.call(e)=="[object Array]"}},function(n,i){function s(d){return e&&Buffer.isBuffer(d)||a&&(d instanceof ArrayBuffer||u(d))}n.exports=s;var e=typeof Buffer=="function"&&typeof Buffer.isBuffer=="function",a=typeof ArrayBuffer=="function",u=function(d){return typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(d):d.buffer instanceof ArrayBuffer}},function(n,i,s){function e(t,f){if(!(this instanceof e))return new e(t,f);t&&typeof t=="object"&&(f=t,t=void 0),f=f||{},f.path=f.path||"/socket.io",this.nsps={},this.subs=[],this.opts=f,this.reconnection(f.reconnection!==!1),this.reconnectionAttempts(f.reconnectionAttempts||1/0),this.reconnectionDelay(f.reconnectionDelay||1e3),this.reconnectionDelayMax(f.reconnectionDelayMax||5e3),this.randomizationFactor(f.randomizationFactor||.5),this.backoff=new c({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(f.timeout==null?2e4:f.timeout),this.readyState="closed",this.uri=t,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var v=f.parser||g;this.encoder=new v.Encoder,this.decoder=new v.Decoder,this.autoConnect=f.autoConnect!==!1,this.autoConnect&&this.open()}var a=s(13),u=s(37),d=s(8),g=s(7),p=s(39),m=s(40),y=s(3)("socket.io-client:manager"),h=s(36),c=s(41),l=Object.prototype.hasOwnProperty;n.exports=e,e.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var t in this.nsps)l.call(this.nsps,t)&&this.nsps[t].emit.apply(this.nsps[t],arguments)},e.prototype.updateSocketIds=function(){for(var t in this.nsps)l.call(this.nsps,t)&&(this.nsps[t].id=this.generateId(t))},e.prototype.generateId=function(t){return(t==="/"?"":t+"#")+this.engine.id},d(e.prototype),e.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},e.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},e.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this.backoff&&this.backoff.setMin(t),this):this._reconnectionDelay},e.prototype.randomizationFactor=function(t){return arguments.length?(this._randomizationFactor=t,this.backoff&&this.backoff.setJitter(t),this):this._randomizationFactor},e.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this.backoff&&this.backoff.setMax(t),this):this._reconnectionDelayMax},e.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},e.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()},e.prototype.open=e.prototype.connect=function(t,f){if(y("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;y("opening %s",this.uri),this.engine=a(this.uri,this.opts);var v=this.engine,b=this;this.readyState="opening",this.skipReconnect=!1;var w=p(v,"open",function(){b.onopen(),t&&t()}),A=p(v,"error",function(k){if(y("connect_error"),b.cleanup(),b.readyState="closed",b.emitAll("connect_error",k),t){var O=new Error("Connection error");O.data=k,t(O)}else b.maybeReconnectOnOpen()});if(this._timeout!==!1){var C=this._timeout;y("connect attempt will timeout after %d",C),C===0&&w.destroy();var x=setTimeout(function(){y("connect attempt timed out after %d",C),w.destroy(),v.close(),v.emit("error","timeout"),b.emitAll("connect_timeout",C)},C);this.subs.push({destroy:function(){clearTimeout(x)}})}return this.subs.push(w),this.subs.push(A),this},e.prototype.onopen=function(){y("open"),this.cleanup(),this.readyState="open",this.emit("open");var t=this.engine;this.subs.push(p(t,"data",m(this,"ondata"))),this.subs.push(p(t,"ping",m(this,"onping"))),this.subs.push(p(t,"pong",m(this,"onpong"))),this.subs.push(p(t,"error",m(this,"onerror"))),this.subs.push(p(t,"close",m(this,"onclose"))),this.subs.push(p(this.decoder,"decoded",m(this,"ondecoded")))},e.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},e.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},e.prototype.ondata=function(t){this.decoder.add(t)},e.prototype.ondecoded=function(t){this.emit("packet",t)},e.prototype.onerror=function(t){y("error",t),this.emitAll("error",t)},e.prototype.socket=function(t,f){function v(){~h(w.connecting,b)||w.connecting.push(b)}var b=this.nsps[t];if(!b){b=new u(this,t,f),this.nsps[t]=b;var w=this;b.on("connecting",v),b.on("connect",function(){b.id=w.generateId(t)}),this.autoConnect&&v()}return b},e.prototype.destroy=function(t){var f=h(this.connecting,t);~f&&this.connecting.splice(f,1),this.connecting.length||this.close()},e.prototype.packet=function(t){y("writing packet %j",t);var f=this;t.query&&t.type===0&&(t.nsp+="?"+t.query),f.encoding?f.packetBuffer.push(t):(f.encoding=!0,this.encoder.encode(t,function(v){for(var b=0;b<v.length;b++)f.engine.write(v[b],t.options);f.encoding=!1,f.processPacketQueue()}))},e.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}},e.prototype.cleanup=function(){y("cleanup");for(var t=this.subs.length,f=0;f<t;f++){var v=this.subs.shift();v.destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},e.prototype.close=e.prototype.disconnect=function(){y("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,this.readyState==="opening"&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},e.prototype.onclose=function(t){y("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},e.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)y("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var f=this.backoff.duration();y("will wait %dms before reconnect attempt",f),this.reconnecting=!0;var v=setTimeout(function(){t.skipReconnect||(y("attempting reconnect"),t.emitAll("reconnect_attempt",t.backoff.attempts),t.emitAll("reconnecting",t.backoff.attempts),t.skipReconnect||t.open(function(b){b?(y("reconnect attempt error"),t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",b.data)):(y("reconnect success"),t.onreconnect())}))},f);this.subs.push({destroy:function(){clearTimeout(v)}})}},e.prototype.onreconnect=function(){var t=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",t)}},function(n,i,s){n.exports=s(14),n.exports.parser=s(22)},function(n,i,s){function e(c,l){return this instanceof e?(l=l||{},c&&typeof c=="object"&&(l=c,c=null),c?(c=y(c),l.hostname=c.host,l.secure=c.protocol==="https"||c.protocol==="wss",l.port=c.port,c.query&&(l.query=c.query)):l.host&&(l.hostname=y(l.host).host),this.secure=l.secure!=null?l.secure:typeof location!="undefined"&&location.protocol==="https:",l.hostname&&!l.port&&(l.port=this.secure?"443":"80"),this.agent=l.agent||!1,this.hostname=l.hostname||(typeof location!="undefined"?location.hostname:"localhost"),this.port=l.port||(typeof location!="undefined"&&location.port?location.port:this.secure?443:80),this.query=l.query||{},typeof this.query=="string"&&(this.query=h.decode(this.query)),this.upgrade=l.upgrade!==!1,this.path=(l.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!l.forceJSONP,this.jsonp=l.jsonp!==!1,this.forceBase64=!!l.forceBase64,this.enablesXDR=!!l.enablesXDR,this.withCredentials=l.withCredentials!==!1,this.timestampParam=l.timestampParam||"t",this.timestampRequests=l.timestampRequests,this.transports=l.transports||["polling","websocket"],this.transportOptions=l.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=l.policyPort||843,this.rememberUpgrade=l.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=l.onlyBinaryUpgrades,this.perMessageDeflate=l.perMessageDeflate!==!1&&(l.perMessageDeflate||{}),this.perMessageDeflate===!0&&(this.perMessageDeflate={}),this.perMessageDeflate&&this.perMessageDeflate.threshold==null&&(this.perMessageDeflate.threshold=1024),this.pfx=l.pfx||null,this.key=l.key||null,this.passphrase=l.passphrase||null,this.cert=l.cert||null,this.ca=l.ca||null,this.ciphers=l.ciphers||null,this.rejectUnauthorized=l.rejectUnauthorized===void 0||l.rejectUnauthorized,this.forceNode=!!l.forceNode,this.isReactNative=typeof navigator!="undefined"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",(typeof self=="undefined"||this.isReactNative)&&(l.extraHeaders&&Object.keys(l.extraHeaders).length>0&&(this.extraHeaders=l.extraHeaders),l.localAddress&&(this.localAddress=l.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,void this.open()):new e(c,l)}function a(c){var l={};for(var t in c)c.hasOwnProperty(t)&&(l[t]=c[t]);return l}var u=s(15),d=s(8),g=s(3)("engine.io-client:socket"),p=s(36),m=s(22),y=s(2),h=s(30);n.exports=e,e.priorWebsocketSuccess=!1,d(e.prototype),e.protocol=m.protocol,e.Socket=e,e.Transport=s(21),e.transports=s(15),e.parser=s(22),e.prototype.createTransport=function(c){g('creating transport "%s"',c);var l=a(this.query);l.EIO=m.protocol,l.transport=c;var t=this.transportOptions[c]||{};this.id&&(l.sid=this.id);var f=new u[c]({query:l,socket:this,agent:t.agent||this.agent,hostname:t.hostname||this.hostname,port:t.port||this.port,secure:t.secure||this.secure,path:t.path||this.path,forceJSONP:t.forceJSONP||this.forceJSONP,jsonp:t.jsonp||this.jsonp,forceBase64:t.forceBase64||this.forceBase64,enablesXDR:t.enablesXDR||this.enablesXDR,withCredentials:t.withCredentials||this.withCredentials,timestampRequests:t.timestampRequests||this.timestampRequests,timestampParam:t.timestampParam||this.timestampParam,policyPort:t.policyPort||this.policyPort,pfx:t.pfx||this.pfx,key:t.key||this.key,passphrase:t.passphrase||this.passphrase,cert:t.cert||this.cert,ca:t.ca||this.ca,ciphers:t.ciphers||this.ciphers,rejectUnauthorized:t.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:t.perMessageDeflate||this.perMessageDeflate,extraHeaders:t.extraHeaders||this.extraHeaders,forceNode:t.forceNode||this.forceNode,localAddress:t.localAddress||this.localAddress,requestTimeout:t.requestTimeout||this.requestTimeout,protocols:t.protocols||void 0,isReactNative:this.isReactNative});return f},e.prototype.open=function(){var c;if(this.rememberUpgrade&&e.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)c="websocket";else{if(this.transports.length===0){var l=this;return void setTimeout(function(){l.emit("error","No transports available")},0)}c=this.transports[0]}this.readyState="opening";try{c=this.createTransport(c)}catch{return this.transports.shift(),void this.open()}c.open(),this.setTransport(c)},e.prototype.setTransport=function(c){g("setting transport %s",c.name);var l=this;this.transport&&(g("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=c,c.on("drain",function(){l.onDrain()}).on("packet",function(t){l.onPacket(t)}).on("error",function(t){l.onError(t)}).on("close",function(){l.onClose("transport close")})},e.prototype.probe=function(c){function l(){if(k.onlyBinaryUpgrades){var O=!this.supportsBinary&&k.transport.supportsBinary;x=x||O}x||(g('probe transport "%s" opened',c),C.send([{type:"ping",data:"probe"}]),C.once("packet",function(_){if(!x)if(_.type==="pong"&&_.data==="probe"){if(g('probe transport "%s" pong',c),k.upgrading=!0,k.emit("upgrading",C),!C)return;e.priorWebsocketSuccess=C.name==="websocket",g('pausing current transport "%s"',k.transport.name),k.transport.pause(function(){x||k.readyState!=="closed"&&(g("changing transport and sending upgrade packet"),A(),k.setTransport(C),C.send([{type:"upgrade"}]),k.emit("upgrade",C),C=null,k.upgrading=!1,k.flush())})}else{g('probe transport "%s" failed',c);var E=new Error("probe error");E.transport=C.name,k.emit("upgradeError",E)}}))}function t(){x||(x=!0,A(),C.close(),C=null)}function f(O){var _=new Error("probe error: "+O);_.transport=C.name,t(),g('probe transport "%s" failed because of error: %s',c,O),k.emit("upgradeError",_)}function v(){f("transport closed")}function b(){f("socket closed")}function w(O){C&&O.name!==C.name&&(g('"%s" works - aborting "%s"',O.name,C.name),t())}function A(){C.removeListener("open",l),C.removeListener("error",f),C.removeListener("close",v),k.removeListener("close",b),k.removeListener("upgrading",w)}g('probing transport "%s"',c);var C=this.createTransport(c,{probe:1}),x=!1,k=this;e.priorWebsocketSuccess=!1,C.once("open",l),C.once("error",f),C.once("close",v),this.once("close",b),this.once("upgrading",w),C.open()},e.prototype.onOpen=function(){if(g("socket open"),this.readyState="open",e.priorWebsocketSuccess=this.transport.name==="websocket",this.emit("open"),this.flush(),this.readyState==="open"&&this.upgrade&&this.transport.pause){g("starting upgrade probes");for(var c=0,l=this.upgrades.length;c<l;c++)this.probe(this.upgrades[c])}},e.prototype.onPacket=function(c){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(g('socket receive: type "%s", data "%s"',c.type,c.data),this.emit("packet",c),this.emit("heartbeat"),c.type){case"open":this.onHandshake(JSON.parse(c.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var l=new Error("server error");l.code=c.data,this.onError(l);break;case"message":this.emit("data",c.data),this.emit("message",c.data)}else g('packet received with socket readyState "%s"',this.readyState)},e.prototype.onHandshake=function(c){this.emit("handshake",c),this.id=c.sid,this.transport.query.sid=c.sid,this.upgrades=this.filterUpgrades(c.upgrades),this.pingInterval=c.pingInterval,this.pingTimeout=c.pingTimeout,this.onOpen(),this.readyState!=="closed"&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},e.prototype.onHeartbeat=function(c){clearTimeout(this.pingTimeoutTimer);var l=this;l.pingTimeoutTimer=setTimeout(function(){l.readyState!=="closed"&&l.onClose("ping timeout")},c||l.pingInterval+l.pingTimeout)},e.prototype.setPing=function(){var c=this;clearTimeout(c.pingIntervalTimer),c.pingIntervalTimer=setTimeout(function(){g("writing ping packet - expecting pong within %sms",c.pingTimeout),c.ping(),c.onHeartbeat(c.pingTimeout)},c.pingInterval)},e.prototype.ping=function(){var c=this;this.sendPacket("ping",function(){c.emit("ping")})},e.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emit("drain"):this.flush()},e.prototype.flush=function(){this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(g("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},e.prototype.write=e.prototype.send=function(c,l,t){return this.sendPacket("message",c,l,t),this},e.prototype.sendPacket=function(c,l,t,f){if(typeof l=="function"&&(f=l,l=void 0),typeof t=="function"&&(f=t,t=null),this.readyState!=="closing"&&this.readyState!=="closed"){t=t||{},t.compress=t.compress!==!1;var v={type:c,data:l,options:t};this.emit("packetCreate",v),this.writeBuffer.push(v),f&&this.once("flush",f),this.flush()}},e.prototype.close=function(){function c(){f.onClose("forced close"),g("socket closing - telling transport to close"),f.transport.close()}function l(){f.removeListener("upgrade",l),f.removeListener("upgradeError",l),c()}function t(){f.once("upgrade",l),f.once("upgradeError",l)}if(this.readyState==="opening"||this.readyState==="open"){this.readyState="closing";var f=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?t():c()}):this.upgrading?t():c()}return this},e.prototype.onError=function(c){g("socket error %j",c),e.priorWebsocketSuccess=!1,this.emit("error",c),this.onClose("transport error",c)},e.prototype.onClose=function(c,l){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){g('socket close with reason: "%s"',c);var t=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",c,l),t.writeBuffer=[],t.prevBufferLen=0}},e.prototype.filterUpgrades=function(c){for(var l=[],t=0,f=c.length;t<f;t++)~p(this.transports,c[t])&&l.push(c[t]);return l}},function(n,i,s){function e(p){var m,y=!1,h=!1,c=p.jsonp!==!1;if(typeof location!="undefined"){var l=location.protocol==="https:",t=location.port;t||(t=l?443:80),y=p.hostname!==location.hostname||t!==p.port,h=p.secure!==l}if(p.xdomain=y,p.xscheme=h,m=new a(p),"open"in m&&!p.forceJSONP)return new u(p);if(!c)throw new Error("JSONP disabled");return new d(p)}var a=s(16),u=s(19),d=s(33),g=s(34);i.polling=e,i.websocket=g},function(n,i,s){var e=s(17),a=s(18);n.exports=function(u){var d=u.xdomain,g=u.xscheme,p=u.enablesXDR;try{if(typeof XMLHttpRequest!="undefined"&&(!d||e))return new XMLHttpRequest}catch{}try{if(typeof XDomainRequest!="undefined"&&!g&&p)return new XDomainRequest}catch{}if(!d)try{return new a[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}},function(n,i){try{n.exports=typeof XMLHttpRequest!="undefined"&&"withCredentials"in new XMLHttpRequest}catch{n.exports=!1}},function(n,i){n.exports=function(){return typeof self!="undefined"?self:typeof window!="undefined"?window:Function("return this")()}()},function(n,i,s){function e(){}function a(t){if(p.call(this,t),this.requestTimeout=t.requestTimeout,this.extraHeaders=t.extraHeaders,typeof location!="undefined"){var f=location.protocol==="https:",v=location.port;v||(v=f?443:80),this.xd=typeof location!="undefined"&&t.hostname!==location.hostname||v!==t.port,this.xs=t.secure!==f}}function u(t){this.method=t.method||"GET",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=t.async!==!1,this.data=t.data!==void 0?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.withCredentials=t.withCredentials,this.requestTimeout=t.requestTimeout,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders,this.create()}function d(){for(var t in u.requests)u.requests.hasOwnProperty(t)&&u.requests[t].abort()}var g=s(16),p=s(20),m=s(8),y=s(31),h=s(3)("engine.io-client:polling-xhr"),c=s(18);if(n.exports=a,n.exports.Request=u,y(a,p),a.prototype.supportsBinary=!0,a.prototype.request=function(t){return t=t||{},t.uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.withCredentials=this.withCredentials,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,t.requestTimeout=this.requestTimeout,t.extraHeaders=this.extraHeaders,new u(t)},a.prototype.doWrite=function(t,f){var v=typeof t!="string"&&t!==void 0,b=this.request({method:"POST",data:t,isBinary:v}),w=this;b.on("success",f),b.on("error",function(A){w.onError("xhr post error",A)}),this.sendXhr=b},a.prototype.doPoll=function(){h("xhr poll");var t=this.request(),f=this;t.on("data",function(v){f.onData(v)}),t.on("error",function(v){f.onError("xhr poll error",v)}),this.pollXhr=t},m(u.prototype),u.prototype.create=function(){var t={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized;var f=this.xhr=new g(t),v=this;try{h("xhr open %s: %s",this.method,this.uri),f.open(this.method,this.uri,this.async);try{if(this.extraHeaders){f.setDisableHeaderCheck&&f.setDisableHeaderCheck(!0);for(var b in this.extraHeaders)this.extraHeaders.hasOwnProperty(b)&&f.setRequestHeader(b,this.extraHeaders[b])}}catch{}if(this.method==="POST")try{this.isBinary?f.setRequestHeader("Content-type","application/octet-stream"):f.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{f.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in f&&(f.withCredentials=this.withCredentials),this.requestTimeout&&(f.timeout=this.requestTimeout),this.hasXDR()?(f.onload=function(){v.onLoad()},f.onerror=function(){v.onError(f.responseText)}):f.onreadystatechange=function(){if(f.readyState===2)try{var w=f.getResponseHeader("Content-Type");(v.supportsBinary&&w==="application/octet-stream"||w==="application/octet-stream; charset=UTF-8")&&(f.responseType="arraybuffer")}catch{}f.readyState===4&&(f.status===200||f.status===1223?v.onLoad():setTimeout(function(){v.onError(typeof f.status=="number"?f.status:0)},0))},h("xhr data %s",this.data),f.send(this.data)}catch(w){return void setTimeout(function(){v.onError(w)},0)}typeof document!="undefined"&&(this.index=u.requestsCount++,u.requests[this.index]=this)},u.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},u.prototype.onData=function(t){this.emit("data",t),this.onSuccess()},u.prototype.onError=function(t){this.emit("error",t),this.cleanup(!0)},u.prototype.cleanup=function(t){if(typeof this.xhr!="undefined"&&this.xhr!==null){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=e:this.xhr.onreadystatechange=e,t)try{this.xhr.abort()}catch{}typeof document!="undefined"&&delete u.requests[this.index],this.xhr=null}},u.prototype.onLoad=function(){var t;try{var f;try{f=this.xhr.getResponseHeader("Content-Type")}catch{}t=f==="application/octet-stream"||f==="application/octet-stream; charset=UTF-8"?this.xhr.response||this.xhr.responseText:this.xhr.responseText}catch(v){this.onError(v)}t!=null&&this.onData(t)},u.prototype.hasXDR=function(){return typeof XDomainRequest!="undefined"&&!this.xs&&this.enablesXDR},u.prototype.abort=function(){this.cleanup()},u.requestsCount=0,u.requests={},typeof document!="undefined"){if(typeof attachEvent=="function")attachEvent("onunload",d);else if(typeof addEventListener=="function"){var l="onpagehide"in c?"pagehide":"unload";addEventListener(l,d,!1)}}},function(n,i,s){function e(h){var c=h&&h.forceBase64;y&&!c||(this.supportsBinary=!1),a.call(this,h)}var a=s(21),u=s(30),d=s(22),g=s(31),p=s(32),m=s(3)("engine.io-client:polling");n.exports=e;var y=function(){var h=s(16),c=new h({xdomain:!1});return c.responseType!=null}();g(e,a),e.prototype.name="polling",e.prototype.doOpen=function(){this.poll()},e.prototype.pause=function(h){function c(){m("paused"),l.readyState="paused",h()}var l=this;if(this.readyState="pausing",this.polling||!this.writable){var t=0;this.polling&&(m("we are currently polling - waiting to pause"),t++,this.once("pollComplete",function(){m("pre-pause polling complete"),--t||c()})),this.writable||(m("we are currently writing - waiting to pause"),t++,this.once("drain",function(){m("pre-pause writing complete"),--t||c()}))}else c()},e.prototype.poll=function(){m("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},e.prototype.onData=function(h){var c=this;m("polling got data %s",h);var l=function(t,f,v){return c.readyState==="opening"&&t.type==="open"&&c.onOpen(),t.type==="close"?(c.onClose(),!1):void c.onPacket(t)};d.decodePayload(h,this.socket.binaryType,l),this.readyState!=="closed"&&(this.polling=!1,this.emit("pollComplete"),this.readyState==="open"?this.poll():m('ignoring poll - transport state "%s"',this.readyState))},e.prototype.doClose=function(){function h(){m("writing close packet"),c.write([{type:"close"}])}var c=this;this.readyState==="open"?(m("transport open - closing"),h()):(m("transport not open - deferring close"),this.once("open",h))},e.prototype.write=function(h){var c=this;this.writable=!1;var l=function(){c.writable=!0,c.emit("drain")};d.encodePayload(h,this.supportsBinary,function(t){c.doWrite(t,l)})},e.prototype.uri=function(){var h=this.query||{},c=this.secure?"https":"http",l="";this.timestampRequests!==!1&&(h[this.timestampParam]=p()),this.supportsBinary||h.sid||(h.b64=1),h=u.encode(h),this.port&&(c==="https"&&Number(this.port)!==443||c==="http"&&Number(this.port)!==80)&&(l=":"+this.port),h.length&&(h="?"+h);var t=this.hostname.indexOf(":")!==-1;return c+"://"+(t?"["+this.hostname+"]":this.hostname)+l+this.path+h}},function(n,i,s){function e(d){this.path=d.path,this.hostname=d.hostname,this.port=d.port,this.secure=d.secure,this.query=d.query,this.timestampParam=d.timestampParam,this.timestampRequests=d.timestampRequests,this.readyState="",this.agent=d.agent||!1,this.socket=d.socket,this.enablesXDR=d.enablesXDR,this.withCredentials=d.withCredentials,this.pfx=d.pfx,this.key=d.key,this.passphrase=d.passphrase,this.cert=d.cert,this.ca=d.ca,this.ciphers=d.ciphers,this.rejectUnauthorized=d.rejectUnauthorized,this.forceNode=d.forceNode,this.isReactNative=d.isReactNative,this.extraHeaders=d.extraHeaders,this.localAddress=d.localAddress}var a=s(22),u=s(8);n.exports=e,u(e.prototype),e.prototype.onError=function(d,g){var p=new Error(d);return p.type="TransportError",p.description=g,this.emit("error",p),this},e.prototype.open=function(){return this.readyState!=="closed"&&this.readyState!==""||(this.readyState="opening",this.doOpen()),this},e.prototype.close=function(){return this.readyState!=="opening"&&this.readyState!=="open"||(this.doClose(),this.onClose()),this},e.prototype.send=function(d){if(this.readyState!=="open")throw new Error("Transport not open");this.write(d)},e.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},e.prototype.onData=function(d){var g=a.decodePacket(d,this.socket.binaryType);this.onPacket(g)},e.prototype.onPacket=function(d){this.emit("packet",d)},e.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(n,i,s){function e(k,O){var _="b"+i.packets[k.type]+k.data.data;return O(_)}function a(k,O,_){if(!O)return i.encodeBase64Packet(k,_);var E=k.data,S=new Uint8Array(E),F=new Uint8Array(1+E.byteLength);F[0]=w[k.type];for(var j=0;j<S.length;j++)F[j+1]=S[j];return _(F.buffer)}function u(k,O,_){if(!O)return i.encodeBase64Packet(k,_);var E=new FileReader;return E.onload=function(){i.encodePacket({type:k.type,data:E.result},O,!0,_)},E.readAsArrayBuffer(k.data)}function d(k,O,_){if(!O)return i.encodeBase64Packet(k,_);if(b)return u(k,O,_);var E=new Uint8Array(1);E[0]=w[k.type];var S=new x([E.buffer,k.data]);return _(S)}function g(k){try{k=t.decode(k,{strict:!1})}catch{return!1}return k}function p(k,O,_){for(var E=new Array(k.length),S=l(k.length,_),F=function(T,B,L){O(B,function(M,I){E[T]=I,L(M,E)})},j=0;j<k.length;j++)F(j,k[j],S)}var m,y=s(23),h=s(24),c=s(25),l=s(26),t=s(27);typeof ArrayBuffer!="undefined"&&(m=s(28));var f=typeof navigator!="undefined"&&/Android/i.test(navigator.userAgent),v=typeof navigator!="undefined"&&/PhantomJS/i.test(navigator.userAgent),b=f||v;i.protocol=3;var w=i.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},A=y(w),C={type:"error",data:"parser error"},x=s(29);i.encodePacket=function(k,O,_,E){typeof O=="function"&&(E=O,O=!1),typeof _=="function"&&(E=_,_=null);var S=k.data===void 0?void 0:k.data.buffer||k.data;if(typeof ArrayBuffer!="undefined"&&S instanceof ArrayBuffer)return a(k,O,E);if(typeof x!="undefined"&&S instanceof x)return d(k,O,E);if(S&&S.base64)return e(k,E);var F=w[k.type];return k.data!==void 0&&(F+=_?t.encode(String(k.data),{strict:!1}):String(k.data)),E(""+F)},i.encodeBase64Packet=function(k,O){var _="b"+i.packets[k.type];if(typeof x!="undefined"&&k.data instanceof x){var E=new FileReader;return E.onload=function(){var B=E.result.split(",")[1];O(_+B)},E.readAsDataURL(k.data)}var S;try{S=String.fromCharCode.apply(null,new Uint8Array(k.data))}catch{for(var F=new Uint8Array(k.data),j=new Array(F.length),T=0;T<F.length;T++)j[T]=F[T];S=String.fromCharCode.apply(null,j)}return _+=btoa(S),O(_)},i.decodePacket=function(k,O,_){if(k===void 0)return C;if(typeof k=="string"){if(k.charAt(0)==="b")return i.decodeBase64Packet(k.substr(1),O);if(_&&(k=g(k),k===!1))return C;var S=k.charAt(0);return Number(S)==S&&A[S]?k.length>1?{type:A[S],data:k.substring(1)}:{type:A[S]}:C}var E=new Uint8Array(k),S=E[0],F=c(k,1);return x&&O==="blob"&&(F=new x([F])),{type:A[S],data:F}},i.decodeBase64Packet=function(k,O){var _=A[k.charAt(0)];if(!m)return{type:_,data:{base64:!0,data:k.substr(1)}};var E=m.decode(k.substr(1));return O==="blob"&&x&&(E=new x([E])),{type:_,data:E}},i.encodePayload=function(k,O,_){function E(j){return j.length+":"+j}function S(j,T){i.encodePacket(j,!!F&&O,!1,function(B){T(null,E(B))})}typeof O=="function"&&(_=O,O=null);var F=h(k);return O&&F?x&&!b?i.encodePayloadAsBlob(k,_):i.encodePayloadAsArrayBuffer(k,_):k.length?void p(k,S,function(j,T){return _(T.join(""))}):_("0:")},i.decodePayload=function(k,O,_){if(typeof k!="string")return i.decodePayloadAsBinary(k,O,_);typeof O=="function"&&(_=O,O=null);var E;if(k==="")return _(C,0,1);for(var S,F,j="",T=0,B=k.length;T<B;T++){var L=k.charAt(T);if(L===":"){if(j===""||j!=(S=Number(j))||(F=k.substr(T+1,S),j!=F.length))return _(C,0,1);if(F.length){if(E=i.decodePacket(F,O,!1),C.type===E.type&&C.data===E.data)return _(C,0,1);var M=_(E,T+S,B);if(M===!1)return}T+=S,j=""}else j+=L}return j!==""?_(C,0,1):void 0},i.encodePayloadAsArrayBuffer=function(k,O){function _(E,S){i.encodePacket(E,!0,!0,function(F){return S(null,F)})}return k.length?void p(k,_,function(E,S){var F=S.reduce(function(B,L){var M;return M=typeof L=="string"?L.length:L.byteLength,B+M.toString().length+M+2},0),j=new Uint8Array(F),T=0;return S.forEach(function(B){var L=typeof B=="string",M=B;if(L){for(var I=new Uint8Array(B.length),q=0;q<B.length;q++)I[q]=B.charCodeAt(q);M=I.buffer}L?j[T++]=0:j[T++]=1;for(var Q=M.byteLength.toString(),q=0;q<Q.length;q++)j[T++]=parseInt(Q[q]);j[T++]=255;for(var I=new Uint8Array(M),q=0;q<I.length;q++)j[T++]=I[q]}),O(j.buffer)}):O(new ArrayBuffer(0))},i.encodePayloadAsBlob=function(k,O){function _(E,S){i.encodePacket(E,!0,!0,function(F){var j=new Uint8Array(1);if(j[0]=1,typeof F=="string"){for(var T=new Uint8Array(F.length),B=0;B<F.length;B++)T[B]=F.charCodeAt(B);F=T.buffer,j[0]=0}for(var L=F instanceof ArrayBuffer?F.byteLength:F.size,M=L.toString(),I=new Uint8Array(M.length+1),B=0;B<M.length;B++)I[B]=parseInt(M[B]);if(I[M.length]=255,x){var q=new x([j.buffer,I.buffer,F]);S(null,q)}})}p(k,_,function(E,S){return O(new x(S))})},i.decodePayloadAsBinary=function(k,O,_){typeof O=="function"&&(_=O,O=null);for(var E=k,S=[];E.byteLength>0;){for(var F=new Uint8Array(E),j=F[0]===0,T="",B=1;F[B]!==255;B++){if(T.length>310)return _(C,0,1);T+=F[B]}E=c(E,2+T.length),T=parseInt(T);var L=c(E,0,T);if(j)try{L=String.fromCharCode.apply(null,new Uint8Array(L))}catch{var M=new Uint8Array(L);L="";for(var B=0;B<M.length;B++)L+=String.fromCharCode(M[B])}S.push(L),E=c(E,T)}var I=S.length;S.forEach(function(q,Q){_(i.decodePacket(q,O,!0),Q,I)})}},function(n,i){n.exports=Object.keys||function(s){var e=[],a=Object.prototype.hasOwnProperty;for(var u in s)a.call(s,u)&&e.push(u);return e}},function(n,i,s){function e(p){if(!p||typeof p!="object")return!1;if(a(p)){for(var m=0,y=p.length;m<y;m++)if(e(p[m]))return!0;return!1}if(typeof Buffer=="function"&&Buffer.isBuffer&&Buffer.isBuffer(p)||typeof ArrayBuffer=="function"&&p instanceof ArrayBuffer||d&&p instanceof Blob||g&&p instanceof File)return!0;if(p.toJSON&&typeof p.toJSON=="function"&&arguments.length===1)return e(p.toJSON(),!0);for(var h in p)if(Object.prototype.hasOwnProperty.call(p,h)&&e(p[h]))return!0;return!1}var a=s(10),u=Object.prototype.toString,d=typeof Blob=="function"||typeof Blob!="undefined"&&u.call(Blob)==="[object BlobConstructor]",g=typeof File=="function"||typeof File!="undefined"&&u.call(File)==="[object FileConstructor]";n.exports=e},function(n,i){n.exports=function(s,e,a){var u=s.byteLength;if(e=e||0,a=a||u,s.slice)return s.slice(e,a);if(e<0&&(e+=u),a<0&&(a+=u),a>u&&(a=u),e>=u||e>=a||u===0)return new ArrayBuffer(0);for(var d=new Uint8Array(s),g=new Uint8Array(a-e),p=e,m=0;p<a;p++,m++)g[m]=d[p];return g.buffer}},function(n,i){function s(a,u,d){function g(m,y){if(g.count<=0)throw new Error("after called too many times");--g.count,m?(p=!0,u(m),u=d):g.count!==0||p||u(null,y)}var p=!1;return d=d||e,g.count=a,a===0?u():g}function e(){}n.exports=s},function(n,i){function s(f){for(var v,b,w=[],A=0,C=f.length;A<C;)v=f.charCodeAt(A++),v>=55296&&v<=56319&&A<C?(b=f.charCodeAt(A++),(64512&b)==56320?w.push(((1023&v)<<10)+(1023&b)+65536):(w.push(v),A--)):w.push(v);return w}function e(f){for(var v,b=f.length,w=-1,A="";++w<b;)v=f[w],v>65535&&(v-=65536,A+=t(v>>>10&1023|55296),v=56320|1023&v),A+=t(v);return A}function a(f,v){if(f>=55296&&f<=57343){if(v)throw Error("Lone surrogate U+"+f.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function u(f,v){return t(f>>v&63|128)}function d(f,v){if((4294967168&f)==0)return t(f);var b="";return(4294965248&f)==0?b=t(f>>6&31|192):(4294901760&f)==0?(a(f,v)||(f=65533),b=t(f>>12&15|224),b+=u(f,6)):(4292870144&f)==0&&(b=t(f>>18&7|240),b+=u(f,12),b+=u(f,6)),b+=t(63&f|128)}function g(f,v){v=v||{};for(var b,w=v.strict!==!1,A=s(f),C=A.length,x=-1,k="";++x<C;)b=A[x],k+=d(b,w);return k}function p(){if(l>=c)throw Error("Invalid byte index");var f=255&h[l];if(l++,(192&f)==128)return 63&f;throw Error("Invalid continuation byte")}function m(f){var v,b,w,A,C;if(l>c)throw Error("Invalid byte index");if(l==c)return!1;if(v=255&h[l],l++,(128&v)==0)return v;if((224&v)==192){if(b=p(),C=(31&v)<<6|b,C>=128)return C;throw Error("Invalid continuation byte")}if((240&v)==224){if(b=p(),w=p(),C=(15&v)<<12|b<<6|w,C>=2048)return a(C,f)?C:65533;throw Error("Invalid continuation byte")}if((248&v)==240&&(b=p(),w=p(),A=p(),C=(7&v)<<18|b<<12|w<<6|A,C>=65536&&C<=1114111))return C;throw Error("Invalid UTF-8 detected")}function y(f,v){v=v||{};var b=v.strict!==!1;h=s(f),c=h.length,l=0;for(var w,A=[];(w=m(b))!==!1;)A.push(w);return e(A)}/*! https://mths.be/utf8js v2.1.2 by @mathias */var h,c,l,t=String.fromCharCode;n.exports={version:"2.1.2",encode:g,decode:y}},function(n,i){(function(s){i.encode=function(e){var a,u=new Uint8Array(e),d=u.length,g="";for(a=0;a<d;a+=3)g+=s[u[a]>>2],g+=s[(3&u[a])<<4|u[a+1]>>4],g+=s[(15&u[a+1])<<2|u[a+2]>>6],g+=s[63&u[a+2]];return d%3===2?g=g.substring(0,g.length-1)+"=":d%3===1&&(g=g.substring(0,g.length-2)+"=="),g},i.decode=function(e){var a,u,d,g,p,m=.75*e.length,y=e.length,h=0;e[e.length-1]==="="&&(m--,e[e.length-2]==="="&&m--);var c=new ArrayBuffer(m),l=new Uint8Array(c);for(a=0;a<y;a+=4)u=s.indexOf(e[a]),d=s.indexOf(e[a+1]),g=s.indexOf(e[a+2]),p=s.indexOf(e[a+3]),l[h++]=u<<2|d>>4,l[h++]=(15&d)<<4|g>>2,l[h++]=(3&g)<<6|63&p;return c}})("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},function(n,i){function s(m){return m.map(function(y){if(y.buffer instanceof ArrayBuffer){var h=y.buffer;if(y.byteLength!==h.byteLength){var c=new Uint8Array(y.byteLength);c.set(new Uint8Array(h,y.byteOffset,y.byteLength)),h=c.buffer}return h}return y})}function e(m,y){y=y||{};var h=new u;return s(m).forEach(function(c){h.append(c)}),y.type?h.getBlob(y.type):h.getBlob()}function a(m,y){return new Blob(s(m),y||{})}var u=typeof u!="undefined"?u:typeof WebKitBlobBuilder!="undefined"?WebKitBlobBuilder:typeof MSBlobBuilder!="undefined"?MSBlobBuilder:typeof MozBlobBuilder!="undefined"&&MozBlobBuilder,d=function(){try{var m=new Blob(["hi"]);return m.size===2}catch{return!1}}(),g=d&&function(){try{var m=new Blob([new Uint8Array([1,2])]);return m.size===2}catch{return!1}}(),p=u&&u.prototype.append&&u.prototype.getBlob;typeof Blob!="undefined"&&(e.prototype=Blob.prototype,a.prototype=Blob.prototype),n.exports=function(){return d?g?Blob:a:p?e:void 0}()},function(n,i){i.encode=function(s){var e="";for(var a in s)s.hasOwnProperty(a)&&(e.length&&(e+="&"),e+=encodeURIComponent(a)+"="+encodeURIComponent(s[a]));return e},i.decode=function(s){for(var e={},a=s.split("&"),u=0,d=a.length;u<d;u++){var g=a[u].split("=");e[decodeURIComponent(g[0])]=decodeURIComponent(g[1])}return e}},function(n,i){n.exports=function(s,e){var a=function(){};a.prototype=e.prototype,s.prototype=new a,s.prototype.constructor=s}},function(n,i){function s(h){var c="";do c=d[h%g]+c,h=Math.floor(h/g);while(h>0);return c}function e(h){var c=0;for(y=0;y<h.length;y++)c=c*g+p[h.charAt(y)];return c}function a(){var h=s(+new Date);return h!==u?(m=0,u=h):h+"."+s(m++)}for(var u,d="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),g=64,p={},m=0,y=0;y<g;y++)p[d[y]]=y;a.encode=s,a.decode=e,n.exports=a},function(n,i,s){function e(){}function a(h){u.call(this,h),this.query=this.query||{},p||(p=g.___eio=g.___eio||[]),this.index=p.length;var c=this;p.push(function(l){c.onData(l)}),this.query.j=this.index,typeof addEventListener=="function"&&addEventListener("beforeunload",function(){c.script&&(c.script.onerror=e)},!1)}var u=s(20),d=s(31),g=s(18);n.exports=a;var p,m=/\n/g,y=/\\n/g;d(a,u),a.prototype.supportsBinary=!1,a.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),u.prototype.doClose.call(this)},a.prototype.doPoll=function(){var h=this,c=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),c.async=!0,c.src=this.uri(),c.onerror=function(f){h.onError("jsonp poll error",f)};var l=document.getElementsByTagName("script")[0];l?l.parentNode.insertBefore(c,l):(document.head||document.body).appendChild(c),this.script=c;var t=typeof navigator!="undefined"&&/gecko/i.test(navigator.userAgent);t&&setTimeout(function(){var f=document.createElement("iframe");document.body.appendChild(f),document.body.removeChild(f)},100)},a.prototype.doWrite=function(h,c){function l(){t(),c()}function t(){if(f.iframe)try{f.form.removeChild(f.iframe)}catch(x){f.onError("jsonp polling iframe removal error",x)}try{var C='<iframe src="javascript:0" name="'+f.iframeId+'">';v=document.createElement(C)}catch{v=document.createElement("iframe"),v.name=f.iframeId,v.src="javascript:0"}v.id=f.iframeId,f.form.appendChild(v),f.iframe=v}var f=this;if(!this.form){var v,b=document.createElement("form"),w=document.createElement("textarea"),A=this.iframeId="eio_iframe_"+this.index;b.className="socketio",b.style.position="absolute",b.style.top="-1000px",b.style.left="-1000px",b.target=A,b.method="POST",b.setAttribute("accept-charset","utf-8"),w.name="d",b.appendChild(w),document.body.appendChild(b),this.form=b,this.area=w}this.form.action=this.uri(),t(),h=h.replace(y,`\\
`),this.area.value=h.replace(m,"\\n");try{this.form.submit()}catch{}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){f.iframe.readyState==="complete"&&l()}:this.iframe.onload=l}},function(n,i,s){function e(l){var t=l&&l.forceBase64;t&&(this.supportsBinary=!1),this.perMessageDeflate=l.perMessageDeflate,this.usingBrowserWebSocket=a&&!l.forceNode,this.protocols=l.protocols,this.usingBrowserWebSocket||(c=u),d.call(this,l)}var a,u,d=s(21),g=s(22),p=s(30),m=s(31),y=s(32),h=s(3)("engine.io-client:websocket");if(typeof WebSocket!="undefined"?a=WebSocket:typeof self!="undefined"&&(a=self.WebSocket||self.MozWebSocket),typeof window=="undefined")try{u=s(35)}catch{}var c=a||u;n.exports=e,m(e,d),e.prototype.name="websocket",e.prototype.supportsBinary=!0,e.prototype.doOpen=function(){if(this.check()){var l=this.uri(),t=this.protocols,f={};this.isReactNative||(f.agent=this.agent,f.perMessageDeflate=this.perMessageDeflate,f.pfx=this.pfx,f.key=this.key,f.passphrase=this.passphrase,f.cert=this.cert,f.ca=this.ca,f.ciphers=this.ciphers,f.rejectUnauthorized=this.rejectUnauthorized),this.extraHeaders&&(f.headers=this.extraHeaders),this.localAddress&&(f.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?t?new c(l,t):new c(l):new c(l,t,f)}catch(v){return this.emit("error",v)}this.ws.binaryType===void 0&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},e.prototype.addEventListeners=function(){var l=this;this.ws.onopen=function(){l.onOpen()},this.ws.onclose=function(){l.onClose()},this.ws.onmessage=function(t){l.onData(t.data)},this.ws.onerror=function(t){l.onError("websocket error",t)}},e.prototype.write=function(l){function t(){f.emit("flush"),setTimeout(function(){f.writable=!0,f.emit("drain")},0)}var f=this;this.writable=!1;for(var v=l.length,b=0,w=v;b<w;b++)(function(A){g.encodePacket(A,f.supportsBinary,function(C){if(!f.usingBrowserWebSocket){var x={};if(A.options&&(x.compress=A.options.compress),f.perMessageDeflate){var k=typeof C=="string"?Buffer.byteLength(C):C.length;k<f.perMessageDeflate.threshold&&(x.compress=!1)}}try{f.usingBrowserWebSocket?f.ws.send(C):f.ws.send(C,x)}catch{h("websocket closed before onclose event")}--v||t()})})(l[b])},e.prototype.onClose=function(){d.prototype.onClose.call(this)},e.prototype.doClose=function(){typeof this.ws!="undefined"&&this.ws.close()},e.prototype.uri=function(){var l=this.query||{},t=this.secure?"wss":"ws",f="";this.port&&(t==="wss"&&Number(this.port)!==443||t==="ws"&&Number(this.port)!==80)&&(f=":"+this.port),this.timestampRequests&&(l[this.timestampParam]=y()),this.supportsBinary||(l.b64=1),l=p.encode(l),l.length&&(l="?"+l);var v=this.hostname.indexOf(":")!==-1;return t+"://"+(v?"["+this.hostname+"]":this.hostname)+f+this.path+l},e.prototype.check=function(){return!(!c||"__initialize"in c&&this.name===e.prototype.name)}},function(n,i){},function(n,i){var s=[].indexOf;n.exports=function(e,a){if(s)return e.indexOf(a);for(var u=0;u<e.length;++u)if(e[u]===a)return u;return-1}},function(n,i,s){function e(t,f,v){this.io=t,this.nsp=f,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},v&&v.query&&(this.query=v.query),this.io.autoConnect&&this.open()}var a=s(7),u=s(8),d=s(38),g=s(39),p=s(40),m=s(3)("socket.io-client:socket"),y=s(30),h=s(24);n.exports=e;var c={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},l=u.prototype.emit;u(e.prototype),e.prototype.subEvents=function(){if(!this.subs){var t=this.io;this.subs=[g(t,"open",p(this,"onopen")),g(t,"packet",p(this,"onpacket")),g(t,"close",p(this,"onclose"))]}},e.prototype.open=e.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.reconnecting||this.io.open(),this.io.readyState==="open"&&this.onopen(),this.emit("connecting"),this)},e.prototype.send=function(){var t=d(arguments);return t.unshift("message"),this.emit.apply(this,t),this},e.prototype.emit=function(t){if(c.hasOwnProperty(t))return l.apply(this,arguments),this;var f=d(arguments),v={type:(this.flags.binary!==void 0?this.flags.binary:h(f))?a.BINARY_EVENT:a.EVENT,data:f};return v.options={},v.options.compress=!this.flags||this.flags.compress!==!1,typeof f[f.length-1]=="function"&&(m("emitting packet with ack id %d",this.ids),this.acks[this.ids]=f.pop(),v.id=this.ids++),this.connected?this.packet(v):this.sendBuffer.push(v),this.flags={},this},e.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)},e.prototype.onopen=function(){if(m("transport is open - connecting"),this.nsp!=="/")if(this.query){var t=typeof this.query=="object"?y.encode(this.query):this.query;m("sending connect packet with query %s",t),this.packet({type:a.CONNECT,query:t})}else this.packet({type:a.CONNECT})},e.prototype.onclose=function(t){m("close (%s)",t),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",t)},e.prototype.onpacket=function(t){var f=t.nsp===this.nsp,v=t.type===a.ERROR&&t.nsp==="/";if(f||v)switch(t.type){case a.CONNECT:this.onconnect();break;case a.EVENT:this.onevent(t);break;case a.BINARY_EVENT:this.onevent(t);break;case a.ACK:this.onack(t);break;case a.BINARY_ACK:this.onack(t);break;case a.DISCONNECT:this.ondisconnect();break;case a.ERROR:this.emit("error",t.data)}},e.prototype.onevent=function(t){var f=t.data||[];m("emitting event %j",f),t.id!=null&&(m("attaching ack callback to event"),f.push(this.ack(t.id))),this.connected?l.apply(this,f):this.receiveBuffer.push(f)},e.prototype.ack=function(t){var f=this,v=!1;return function(){if(!v){v=!0;var b=d(arguments);m("sending ack %j",b),f.packet({type:h(b)?a.BINARY_ACK:a.ACK,id:t,data:b})}}},e.prototype.onack=function(t){var f=this.acks[t.id];typeof f=="function"?(m("calling ack %s with %j",t.id,t.data),f.apply(this,t.data),delete this.acks[t.id]):m("bad ack %s",t.id)},e.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},e.prototype.emitBuffered=function(){var t;for(t=0;t<this.receiveBuffer.length;t++)l.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]},e.prototype.ondisconnect=function(){m("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},e.prototype.destroy=function(){if(this.subs){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.subs=null}this.io.destroy(this)},e.prototype.close=e.prototype.disconnect=function(){return this.connected&&(m("performing disconnect (%s)",this.nsp),this.packet({type:a.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},e.prototype.compress=function(t){return this.flags.compress=t,this},e.prototype.binary=function(t){return this.flags.binary=t,this}},function(n,i){function s(e,a){var u=[];a=a||0;for(var d=a||0;d<e.length;d++)u[d-a]=e[d];return u}n.exports=s},function(n,i){function s(e,a,u){return e.on(a,u),{destroy:function(){e.removeListener(a,u)}}}n.exports=s},function(n,i){var s=[].slice;n.exports=function(e,a){if(typeof a=="string"&&(a=e[a]),typeof a!="function")throw new Error("bind() requires a function");var u=s.call(arguments,2);return function(){return a.apply(e,u.concat(s.call(arguments)))}}},function(n,i){function s(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}n.exports=s,s.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var a=Math.random(),u=Math.floor(a*this.jitter*e);e=(1&Math.floor(10*a))==0?e-u:e+u}return 0|Math.min(e,this.max)},s.prototype.reset=function(){this.attempts=0},s.prototype.setMin=function(e){this.ms=e},s.prototype.setMax=function(e){this.max=e},s.prototype.setJitter=function(e){this.jitter=e}}])})})(ht);var hr=ht.exports,Fe={exports:{}},se={},z={};Object.defineProperty(z,"__esModule",{value:!0});z.StorageWrapper=z.MemoryStorage=void 0;class fr{constructor(){this.store={}}getItem(r){return Promise.resolve(this.store[r])}setItem(r,n){return Promise.resolve(this.store[r]=n)}removeItem(r){const n=this.store[r];return delete this.store[r],Promise.resolve(n)}}z.MemoryStorage=fr;class pr{constructor(r){this.storage=r}getItem(r){return Promise.resolve(this.storage.getItem(r))}setItem(r,n){return Promise.resolve(this.storage.setItem(r,n))}removeItem(r){return Promise.resolve(this.storage.removeItem(r))}}z.StorageWrapper=pr;Object.defineProperty(se,"__esModule",{value:!0});se.AuthenticationClient=void 0;const $e=at,lr=z,ze=(o,r)=>{const n=new RegExp(`(?:&?)${r}=([^&]*)`),i=o.hash?o.hash.match(n):null;if(i!==null){const[,s]=i;return[s,n]}return[null,n]};class dr{constructor(r,n){const i=r.io||r.primus,s=new lr.StorageWrapper(r.get("storage")||n.storage);this.app=r,this.options=n,this.authenticated=!1,this.app.set("storage",s),i&&this.handleSocket(i)}get service(){return this.app.service(this.options.path)}get storage(){return this.app.get("storage")}handleSocket(r){const n=this.app.io?"connect":"open",i=this.app.io?"disconnect":"disconnection";r.on(i,()=>{const s=new Promise(e=>r.once(n,a=>e(a))).then(()=>this.authenticated?this.reAuthenticate(!0):null);this.app.set("authentication",s)})}getFromLocation(r){const[n,i]=ze(r,this.options.locationKey);if(n!==null)return r.hash=r.hash.replace(i,""),Promise.resolve(n);const[s,e]=ze(r,this.options.locationErrorKey);return s!==null?(r.hash=r.hash.replace(e,""),Promise.reject(new $e.NotAuthenticated(decodeURIComponent(s)))):Promise.resolve(null)}setAccessToken(r){return this.storage.setItem(this.options.storageKey,r)}getAccessToken(){return this.storage.getItem(this.options.storageKey).then(r=>!r&&typeof window!="undefined"&&window.location?this.getFromLocation(window.location):r||null)}removeAccessToken(){return this.storage.removeItem(this.options.storageKey)}reset(){return this.app.set("authentication",null),this.authenticated=!1,Promise.resolve(null)}handleError(r,n){if(r.code===401||r.code===403){const i=this.removeAccessToken().then(()=>this.reset());return n==="logout"?i:i.then(()=>Promise.reject(r))}return Promise.reject(r)}reAuthenticate(r=!1,n){const i=this.app.get("authentication");return!i||r===!0?this.getAccessToken().then(s=>{if(!s)throw new $e.NotAuthenticated("No accessToken found in storage");return this.authenticate({strategy:n||this.options.jwtStrategy,accessToken:s})}):i}authenticate(r,n){if(!r)return this.reAuthenticate();const i=this.service.create(r,n).then(s=>{const{accessToken:e}=s;return this.authenticated=!0,this.app.emit("login",s),this.app.emit("authenticated",s),this.setAccessToken(e).then(()=>s)}).catch(s=>this.handleError(s,"authenticate"));return this.app.set("authentication",i),i}logout(){return Promise.resolve(this.app.get("authentication")).then(()=>this.service.remove(null).then(r=>this.removeAccessToken().then(()=>this.reset()).then(()=>(this.app.emit("logout",r),r)))).catch(r=>this.handleError(r,"logout"))}}se.AuthenticationClient=dr;var ft={},ae={};Object.defineProperty(ae,"__esModule",{value:!0});ae.authentication=void 0;const yr=Y,gr=()=>o=>{const{app:r,params:n,path:i,method:s,app:{authentication:e}}=o;return(0,yr.stripSlashes)(e.options.path)===i&&s==="create"?o:Promise.resolve(r.get("authentication")).then(a=>(a&&(o.params=Object.assign({},a,n)),o))};ae.authentication=gr;var ce={};Object.defineProperty(ce,"__esModule",{value:!0});ce.populateHeader=void 0;const mr=()=>o=>{const{app:r,params:{accessToken:n}}=o,i=r.authentication;if(r.rest&&n){const{scheme:s,header:e}=i.options,a=`${s} ${n}`;o.params.headers=Object.assign({},{[e]:a},o.params.headers)}return o};ce.populateHeader=mr;(function(o){Object.defineProperty(o,"__esModule",{value:!0}),o.populateHeader=o.authentication=void 0;var r=ae;Object.defineProperty(o,"authentication",{enumerable:!0,get:function(){return r.authentication}});var n=ce;Object.defineProperty(o,"populateHeader",{enumerable:!0,get:function(){return n.populateHeader}})})(ft);(function(o,r){var n=H&&H.__createBinding||(Object.create?function(p,m,y,h){h===void 0&&(h=y);var c=Object.getOwnPropertyDescriptor(m,y);(!c||("get"in c?!m.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return m[y]}}),Object.defineProperty(p,h,c)}:function(p,m,y,h){h===void 0&&(h=y),p[h]=m[y]}),i=H&&H.__setModuleDefault||(Object.create?function(p,m){Object.defineProperty(p,"default",{enumerable:!0,value:m})}:function(p,m){p.default=m}),s=H&&H.__importStar||function(p){if(p&&p.__esModule)return p;var m={};if(p!=null)for(var y in p)y!=="default"&&Object.prototype.hasOwnProperty.call(p,y)&&n(m,p,y);return i(m,p),m};Object.defineProperty(r,"__esModule",{value:!0}),r.defaults=r.defaultStorage=r.hooks=r.MemoryStorage=r.AuthenticationClient=r.getDefaultStorage=void 0;const e=se;Object.defineProperty(r,"AuthenticationClient",{enumerable:!0,get:function(){return e.AuthenticationClient}});const a=s(ft);r.hooks=a;const u=z;Object.defineProperty(r,"MemoryStorage",{enumerable:!0,get:function(){return u.MemoryStorage}});const d=()=>{try{return new u.StorageWrapper(window.localStorage)}catch{}return new u.MemoryStorage};r.getDefaultStorage=d,r.defaultStorage=(0,r.getDefaultStorage)(),r.defaults={header:"Authorization",scheme:"Bearer",storageKey:"feathers-jwt",locationKey:"access_token",locationErrorKey:"error",jwtStrategy:"jwt",path:"/authentication",Authentication:e.AuthenticationClient,storage:r.defaultStorage};const g=(p={})=>{const m=Object.assign({},r.defaults,p),{Authentication:y}=m;return h=>{const c=new y(h,m);h.authentication=c,h.authenticate=c.authenticate.bind(c),h.reAuthenticate=c.reAuthenticate.bind(c),h.logout=c.logout.bind(c),h.hooks({before:{all:[a.authentication(),a.populateHeader()]}})}};r.default=g,o.exports=Object.assign(g,o.exports)})(Fe,Fe.exports);var vr=yt(Fe.exports);let Ke=null,te=null;We.pageType==="QuickBase User"&&(Ke=hr(`${je.socketDevURL}`),te=er(),te.configure(ur(Ke,{timeout:1e4})),te.configure(vr()));var br=te;class wr{constructor(r,n){U(this,"axiosIns",null);U(this,"appConfig",We);U(this,"feathersConfig",{...je});U(this,"isAlreadyFetchingAccessToken",!1);U(this,"subscribers",[]);U(this,"socket",null);U(this,"feathersClient",br);this.axiosIns=r,this.feathersConfig={...this.feathersConfig,...n},this.axiosIns.interceptors.request.use(i=>(i.headers["x-access-token"]=this.feathersConfig.apiToken,i),i=>Promise.reject(i))}createMessageQueue(r){return this.axiosIns.post("messages/queue",r).then(n=>n.data).catch(n=>{throw n})}createNotification(r){return this.axiosIns.post("notifications",r).then(n=>n.data).catch(n=>{throw n})}onAccessTokenFetched(r){this.subscribers=this.subscribers.filter(n=>n(r))}addSubscriber(r){this.subscribers.push(r)}getToken(){return Le.get(this.feathersConfig.storageTokenKeyName)}setToken(r){Le.set(this.feathersConfig.storageTokenKeyName,r,{expires:this.feathersConfig.tokenExpiration,secure:!0,sameSite:"Strict"})}login(r){return this.feathersClient.authenticate(r).then(n=>{this.setToken(n.accessToken)})}logout(){return this.feathersClient.logout()}reAuthenticate(){return this.feathersClient.reAuthenticate()}getUsers(r){return this.feathersClient.service("users").find(r).catch(n=>{throw n})}async getUser(){const{user:r}=await this.feathersClient.get("authentication");return r}authenticated(){return this.feathersClient.authentication.authenticated}}function Cr(o,r){return{api:new wr(o,r)}}const kr=gt(mt.create({baseURL:je.baseURL,timeout:25e3,headers:{"Content-Type":"application/json"}}),{maxRequests:6,perMilliseconds:1e3}),{api:Ar}=Cr(kr,{});var Sr=dt(({app:o})=>{o.config.globalProperties.$api=Ar});export{Ar as api,Sr as default};
