import{l as j,_ as H,B as s,as as r,bt as t,bR as p,d as e,bS as M,at as u,az as V,ae as b,H as U,bT as E,b7 as Q,bU as me,C as w,F as K,b6 as X,I as L,r as q,bV as ce,bW as de,bX as D,w as R,bY as C,aa as n,E as h,bv as pe}from"./index.8838c464.js";import{Q as fe,a as A}from"./QHeader.63e47eaa.js";import{Q as _e}from"./QMenu.b8edc490.js";import{Q as W}from"./QToolbar.1e286d91.js";import{Q as ve}from"./QImg.6949a204.js";import{Q as I}from"./QList.43880dff.js";import{Q as T}from"./QSelect.78b00ca7.js";import{Q as ye,a as be}from"./QDrawer.c3208804.js";import{Q as ge,a as ke}from"./QLayout.671ebad3.js";import{C as he}from"./ClosePopup.c3165d18.js";import{Q as we}from"./QBadge.44381be8.js";import{M as qe,Q as Me}from"./MenuSubLink.a5c6ff4d.js";import{u as Qe}from"./use-quasar.ed4be5d9.js";import{u as Se}from"./i18n.c69e89dd.js";import{u as $e,b as Ce,c as Ue,q as F}from"./app.42c36b1f.js";import{_ as Le}from"./KioskLogin.6beea9d2.js";import{_ as xe}from"./languageSelector.0306ca5b.js";import{_ as Be}from"./version.039f5186.js";import{h as Ve}from"./HelpDeskTicket.b95b9670.js";import"./QResizeObserver.9199488f.js";import"./position-engine.cba8bd09.js";import"./selection.26380b58.js";import"./QChip.5ba75959.js";import"./rtl.b51694b1.js";import"./TouchPan.de3fb80c.js";import"./touch.3df10340.js";import"./QSlideTransition.1f3f1635.js";import"./_commonjsHelpers.a26ce4be.js";import"./dayjs.106d80ab.js";import"./localForage.ca6e9d39.js";import"./index.04bc0a32.js";import"./vee-validate.esm.ac2c348d.js";import"./array.59f93f43.js";import"./QTooltip.72214d5e.js";import"./QFile.e9e2ebe5.js";import"./QSpinnerGears.38af54e3.js";import"./QForm.fc17450c.js";const Ee=j({name:"MenuLink",props:{title:{type:String,required:!0},caption:{type:String,default:""},to:{type:Object,default:()=>({path:"",exact:!0})},icon:{type:String,default:""},mini:{type:Boolean,default:!1},subMenu:{type:Array,default:null},count:{type:Number,default:null}}});function Ie(a,f,S,_,l,v){return s(),r(E,{to:a.to,class:U(["rounded-borders bg-white",{"q-ma-sm":!a.mini,"q-ma-xs":a.mini}]),"active-class":a.mini?"brand-active-menu text-white":"brand-active-menu text-white q-py-md",exact:""},{default:t(()=>[a.icon?(s(),r(p,{key:0,avatar:""},{default:t(()=>[e(M,{name:a.icon},null,8,["name"])]),_:1})):u("",!0),e(p,null,{default:t(()=>[e(T,null,{default:t(()=>[V(b(a.title),1)]),_:1})]),_:1}),a.count?(s(),r(p,{key:1,side:"",top:""},{default:t(()=>[e(we,{color:"primary",label:a.count},null,8,["label"])]),_:1})):u("",!0)]),_:1},8,["to","class","active-class"])}var Te=H(Ee,[["render",Ie]]);const je=j({name:"MenuExpanded",components:{MenuSubLink:qe},props:{title:{type:String,required:!0},caption:{type:String,default:""},to:{type:Object,default:()=>({path:"",exact:!0})},icon:{type:String,default:""},mini:{type:Boolean,default:!1},subMenu:{type:Array,default:null}}});function He(a,f,S,_,l,v){const y=Q("MenuSubLink");return s(),r(Me,{icon:a.icon,label:a.title,class:U(["rounded-borders bg-white",{"q-ma-sm":!a.mini,"q-ma-xs":a.mini}]),"active-class":"brand-active-menu text-white",exact:""},{default:t(()=>[e(me),e(p,null,{default:t(()=>[e(I,null,{default:t(()=>[(s(!0),w(K,null,X(a.subMenu,i=>(s(),r(y,L({key:i},i,{mini:a.mini}),null,16,["mini"]))),128))]),_:1})]),_:1})]),_:1},8,["icon","label","class"])}var Ne=H(je,[["render",He]]);const Oe=j({name:"MenuNav",components:{MenuLink:Te,MenuExpanded:Ne},props:{title:{type:String,required:!0},caption:{type:String,default:""},to:{type:Object,default:()=>({path:"",exact:!0})},icon:{type:String,default:""},mini:{type:Boolean,default:!1},subMenu:{type:Array,default:null}}});function Pe(a,f,S,_,l,v){const y=Q("MenuLink"),i=Q("MenuExpanded");return s(),w("div",null,[!a.subMenu&&a.to?(s(),r(y,L({key:0},{...a.$props,...a.$attrs},{mini:a.mini}),null,16,["mini"])):a.subMenu&&a.subMenu.length>0?(s(),r(i,L({key:1},{...a.$props,...a.$attrs},{mini:a.mini}),null,16,["mini"])):u("",!0)])}var ze=H(Oe,[["render",Pe]]);const De={key:0,class:"q-mr-sm q-ml-sm",src:"https://cdn.jsdelivr.net/gh/EliteHCMS/assets@latest/public/logo-white.png",alt:"BrandSafway Logo",height:"25"},Re={key:0},Ae={key:1},We={class:"q-gutter-sm row items-center no-wrap"},Fe={class:"row no-wrap q-pa-md"},Ke={class:"column items-center"},Xe={class:"text-subtitle1 q-mt-md q-mb-xs"},Vt={__name:"MainLayout",setup(a){const f=Qe(),{locale:S}=Se(),_=q(!1),l=q(!1),v=q(!1),y=q(!1),i=ce(),g=de(),k=$e(),N=Ce(),Y=Ue(),{getUnReadCount:G}=D(Y),{openWindow:J,toolbarTitle:Z}=N,{getUserType:$}=k,{onKiosk:d,activeMenu:ee,startPageEnabled:O,kioskActive:te,homeButtonEnabled:ae}=D(N),x=q(!1),B=async o=>{await F.checkKioskStatus(o)||(y.value=!0)};if(d.value&&B(!0),g.query&&g.query.office_id){const o=Object.assign({},g.query);delete o.office_id,delete o.qr,i.replace({query:o})}R(te,o=>{!o&&d.value&&B()}),R(()=>g.query,async()=>{if(d.value&&B(!1),g.query.office_id){const o=Object.assign({},g.query);delete o.office_id,o.qr&&(F.checkInUser(),delete o.qr),i.replace({query:o})}});const P=async()=>{d.value&&(S.value="en-US"),k.logout().then(()=>{O.value&&d.value?i.replace({name:"start"}):i.replace({name:"login"})})},z=()=>{P()},se=()=>{l.value===!0&&(v.value=!1)},ne=()=>{l.value===!0&&(v.value=!0)},oe=()=>{f.screen.gt.sm?(l.value=!l.value,l.value===!0&&(v.value=!0)):_.value=!_.value},le=o=>{l.value&&(l.value=!1,o.stopPropagation())},re=o=>{J(null,{url:"https://www.myworkday.com/brandsafway/wdhelp/helpcenter/create",name:"Workday Help"})};return(o,m)=>{const ue=Q("router-view"),ie=Q("v-idle");return s(),r(ke,{view:"hHh lpR fFf"},{default:t(()=>[e(fe,{elevated:""},{default:t(()=>[e(W,{style:{height:"62px"}},{default:t(()=>[e(C,{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu",onClick:oe}),n(f).screen.gt.sm?(s(),w("img",De)):u("",!0),e(A,null,{default:t(()=>[n(f).screen.lt.sm?(s(),w("span",Re)):(s(),w("span",Ae,b(n(Z)),1))]),_:1}),h("div",We,[e(xe,{dense:"",borderless:"",class:"lang-white"}),e(C,{flat:"",dense:"",color:"white"},{default:t(()=>[h("div",null,b(n(k).getUser[35])+" "+b(n(k).getUser[37]),1),e(M,{right:"",size:"2.2em",name:"account_circle"}),e(_e,null,{default:t(()=>[h("div",Fe,[h("div",Ke,[e(M,{right:"",size:"72px",name:"account_circle",class:"q-mr-md"}),h("div",Xe,b(n(k).getUser[35])+" "+b(n(k).getUser[37]),1),pe(e(C,{color:"primary",label:o.$t("logout"),push:"",size:"sm",onClick:P},null,8,["label"]),[[he]])])])]),_:1})]),_:1})])]),_:1})]),_:1}),e(ye,{modelValue:_.value,"onUpdate:modelValue":m[1]||(m[1]=c=>_.value=c),side:"left","show-if-above":"",bordered:"",mini:l.value&&v.value,onMouseover:se,onMouseout:ne,onClickCapture:le,class:"text-primary bg-white"},{default:t(()=>[e(be,{class:"fit"},{default:t(()=>[n(f).screen.lt.sm?(s(),r(W,{key:0,style:{height:"64px"}},{default:t(()=>[e(A,{class:"items-center"},{default:t(()=>[e(ve,{src:"https://cdn.jsdelivr.net/gh/EliteHCMS/assets@latest/public/logo.svg",style:{"max-width":"245px"},fit:"center",class:"q-ml-md"})]),_:1})]),_:1})):u("",!0),e(I,{class:"q-mt-sm"},{default:t(()=>[(s(!0),w(K,null,X(n(ee),c=>(s(),r(ze,L({key:c.title},c,{mini:l.value}),null,16,["mini"]))),128))]),_:1}),n($)==="Project User"||n($)==="QuickBase User"?(s(),r(I,{key:1,class:"q-mt-sm"},{default:t(()=>[h("div",null,[n($)==="Project User"?(s(),r(E,{key:0,class:U(["rounded-borders bg-white",{"q-ma-sm":!l.value,"q-ma-xs":l.value}]),clickable:"",onClick:m[0]||(m[0]=c=>x.value=!0)},{default:t(()=>[e(p,{avatar:""},{default:t(()=>[e(M,{name:"fa-solid fa-circle-info"})]),_:1}),e(p,null,{default:t(()=>[e(T,null,{default:t(()=>[V("Request Support "+b(n(G)),1)]),_:1})]),_:1})]),_:1},8,["class"])):u("",!0),n($)==="QuickBase User"?(s(),r(E,{key:1,class:U(["rounded-borders bg-white",{"q-ma-sm":!l.value,"q-ma-xs":l.value}]),clickable:"",onClick:re},{default:t(()=>[e(p,{avatar:""},{default:t(()=>[e(M,{name:"fa-solid fa-circle-info"})]),_:1}),e(p,null,{default:t(()=>[e(T,null,{default:t(()=>[V("Workday Help")]),_:1})]),_:1})]),_:1},8,["class"])):u("",!0)])]),_:1})):u("",!0)]),_:1})]),_:1},8,["modelValue","mini"]),e(ge,null,{default:t(()=>[e(ue)]),_:1}),n(d)?(s(),r(Le,{key:0,modelValue:y.value,"onUpdate:modelValue":m[2]||(m[2]=c=>y.value=c)},null,8,["modelValue"])):u("",!0),n(d)?(s(),r(ie,{key:1,onIdle:z,duration:300,style:{display:"none"}})):u("",!0),n(d)&&n(O)&&n(ae)?(s(),r(C,{key:2,icon:"o_home",onClick:z,class:"z-max home-button-main",size:"xl",ripple:!0})):u("",!0),e(Be),e(Ve,{modelValue:x.value,"onUpdate:modelValue":m[3]||(m[3]=c=>x.value=c)},null,8,["modelValue"])]),_:1})}}};export{Vt as default};
