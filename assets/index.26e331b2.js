import{bX as Re,r as S,c as q,w as E,aR as Lt,aV as Mt,aT as wt,o as Ot,b$ as Qt,h as A,bY as Vt,cJ as Rt,dm as ve,cK as Se,dn as je,aQ as Y,cE as $e,ce as Ht,cp as jt,g as He,i as Ft,bZ as xe,b_ as Bt,cM as zt,cA as Ut,dj as Wt,a8 as K,N as Kt,W as Yt,b as St,Z as Gt,l as Xt,Y as pe,bV as Te,A as C,B,aq as k,br as g,D as Ie,d as b,ck as Jt,F as Ne,b4 as qe,ax as F,ac as W,dd as De,G as me,ar as V,bU as Zt,bT as ea,cS as Fe,bW as ne,E as Be,bN as Pe,bt as ee,bR as re,bP as U,dc as ze,bQ as Ue,cy as ta,cT as We,cU as Ce,cV as aa}from"./index.22455e7e.js";import{Q as oa,a as Ke}from"./QHeader.2c886e66.js";import{Q as Ee}from"./QList.131acc05.js";import{Q as na}from"./QMenu.d9f9b248.js";import{Q as ra}from"./QToolbar.5ff594dd.js";import{Q as Ye}from"./QSelect.99070920.js";import{Q as la,a as sa}from"./QDrawer.6955d11f.js";import{Q as ua,a as ia}from"./QLayout.dc967438.js";import{Q as ca}from"./QResizeObserver.53988e8d.js";import{C as se}from"./ClosePopup.322a92d0.js";import{u as da}from"./use-quasar.2334e11b.js";import{Q as fa}from"./QImg.b861773f.js";import{c as $t,i as X,u as va}from"./app.19f5f40c.js";import{p as ma}from"./VueTelInput.ed90700c.js";import{c as pa}from"./array.59f93f43.js";import{u as ha}from"./i18n.1cf3d43f.js";import{u as ga}from"./vee-validate.esm.4ba5a060.js";import{_ as ya}from"./officeSelector.91fca44f.js";import"./position-engine.f48b51a0.js";import"./selection.f6b3a316.js";import"./QChip.ef3b261f.js";import"./rtl.b51694b1.js";import"./TouchPan.cca89e8b.js";import"./touch.3df10340.js";import"./_commonjsHelpers.a26ce4be.js";import"./dayjs.58f50073.js";import"./localForage.2097a71b.js";import"./api.c9ce69c6.js";import"./index.04bc0a32.js";const{passive:te}=Rt;var xt=Re({name:"QInfiniteScroll",props:{offset:{type:Number,default:500},debounce:{type:[String,Number],default:100},scrollTarget:{default:void 0},initialIndex:Number,disable:Boolean,reverse:Boolean},emits:["load"],setup(e,{slots:t,emit:a}){const o=S(!1),n=S(!0),r=S(null),l=S(null);let s=e.initialIndex||0,u,d;const i=q(()=>"q-infinite-scroll__loading"+(o.value===!0?"":" invisible"));function f(){if(e.disable===!0||o.value===!0||n.value===!1)return;const $=ve(u),N=Se(u),H=je(u);e.reverse===!1?Math.round(N+H+e.offset)>=Math.round($)&&c():Math.round(N)<=e.offset&&c()}function c(){if(e.disable===!0||o.value===!0||n.value===!1)return;s++,o.value=!0;const $=ve(u);a("load",s,N=>{n.value===!0&&(o.value=!1,Y(()=>{if(e.reverse===!0){const H=ve(u),J=Se(u),ie=H-$;$e(u,J+ie)}N===!0?x():r.value&&r.value.closest("body")&&d()}))})}function v(){s=0}function _(){n.value===!1&&(n.value=!0,u.addEventListener("scroll",d,te)),f()}function x(){n.value===!0&&(n.value=!1,o.value=!1,u.removeEventListener("scroll",d,te),d!==void 0&&d.cancel!==void 0&&d.cancel())}function w(){if(u&&n.value===!0&&u.removeEventListener("scroll",d,te),u=Ht(r.value,e.scrollTarget),n.value===!0){if(u.addEventListener("scroll",d,te),e.reverse===!0){const $=ve(u),N=je(u);$e(u,$-N)}f()}}function T($){s=$}function L($){$=parseInt($,10);const N=d;d=$<=0?f:jt(f,isNaN($)===!0?100:$),u&&n.value===!0&&(N!==void 0&&u.removeEventListener("scroll",N,te),u.addEventListener("scroll",d,te))}function D($){if(I.value===!0){if(l.value===null){$!==!0&&Y(()=>{D(!0)});return}const N=`${o.value===!0?"un":""}pauseAnimations`;Array.from(l.value.getElementsByTagName("svg")).forEach(H=>{H[N]()})}}const I=q(()=>e.disable!==!0&&n.value===!0);E([o,I],()=>{D()}),E(()=>e.disable,$=>{$===!0?x():_()}),E(()=>e.reverse,()=>{o.value===!1&&n.value===!0&&f()}),E(()=>e.scrollTarget,w),E(()=>e.debounce,L);let y=!1;Lt(()=>{y!==!1&&u&&$e(u,y)}),Mt(()=>{y=u?Se(u):!1}),wt(()=>{n.value===!0&&u.removeEventListener("scroll",d,te)}),Ot(()=>{L(e.debounce),w(),o.value===!1&&D()});const P=He();return Object.assign(P.proxy,{poll:()=>{d!==void 0&&d()},trigger:c,stop:x,reset:v,resume:_,setIndex:T}),()=>{const $=Qt(t.default,[]);return I.value===!0&&$[e.reverse===!1?"push":"unshift"](A("div",{ref:l,class:i.value},Vt(t.loading))),A("div",{class:"q-infinite-scroll",ref:r},$)}}}),_a=Re({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:t,emit:a}){const{proxy:{$q:o}}=He(),n=Ft(Bt,xe);if(n===xe)return console.error("QFooter needs to be child of QLayout"),xe;const r=S(parseInt(e.heightHint,10)),l=S(!0),s=S(zt.value===!0||n.isContainer.value===!0?0:window.innerHeight),u=q(()=>e.reveal===!0||n.view.value.indexOf("F")>-1||o.platform.is.ios&&n.isContainer.value===!0),d=q(()=>n.isContainer.value===!0?n.containerHeight.value:s.value),i=q(()=>{if(e.modelValue!==!0)return 0;if(u.value===!0)return l.value===!0?r.value:0;const y=n.scroll.value.position+d.value+r.value-n.height.value;return y>0?y:0}),f=q(()=>e.modelValue!==!0||u.value===!0&&l.value!==!0),c=q(()=>e.modelValue===!0&&f.value===!0&&e.reveal===!0),v=q(()=>"q-footer q-layout__section--marginal "+(u.value===!0?"fixed":"absolute")+"-bottom"+(e.bordered===!0?" q-footer--bordered":"")+(f.value===!0?" q-footer--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus"+(u.value!==!0?" hidden":""):"")),_=q(()=>{const y=n.rows.value.bottom,P={};return y[0]==="l"&&n.left.space===!0&&(P[o.lang.rtl===!0?"right":"left"]=`${n.left.size}px`),y[2]==="r"&&n.right.space===!0&&(P[o.lang.rtl===!0?"left":"right"]=`${n.right.size}px`),P});function x(y,P){n.update("footer",y,P)}function w(y,P){y.value!==P&&(y.value=P)}function T({height:y}){w(r,y),x("size",y)}function L(){if(e.reveal!==!0)return;const{direction:y,position:P,inflectionPoint:$}=n.scroll.value;w(l,y==="up"||P-$<100||n.height.value-d.value-P-r.value<300)}function D(y){c.value===!0&&w(l,!0),a("focusin",y)}E(()=>e.modelValue,y=>{x("space",y),w(l,!0),n.animate()}),E(i,y=>{x("offset",y)}),E(()=>e.reveal,y=>{y===!1&&w(l,e.modelValue)}),E(l,y=>{n.animate(),a("reveal",y)}),E([r,n.scroll,n.height],L),E(()=>o.screen.height,y=>{n.isContainer.value!==!0&&w(s,y)});const I={};return n.instances.footer=I,e.modelValue===!0&&x("size",r.value),x("space",e.modelValue),x("offset",i.value),wt(()=>{n.instances.footer===I&&(n.instances.footer=void 0,x("size",0),x("offset",0),x("space",!1))}),()=>{const y=Ut(t.default,[A(ca,{debounce:0,onResize:T})]);return e.elevated===!0&&y.push(A("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),A("footer",{class:v.value,style:_.value,onFocusin:D},y)}}}),ba=Re({name:"QChatMessage",props:{sent:Boolean,label:String,bgColor:String,textColor:String,name:String,avatar:String,text:Array,stamp:String,size:String,labelHtml:Boolean,nameHtml:Boolean,textHtml:Boolean,stampHtml:Boolean},setup(e,{slots:t}){const a=q(()=>e.sent===!0?"sent":"received"),o=q(()=>`q-message-text-content q-message-text-content--${a.value}`+(e.textColor!==void 0?` text-${e.textColor}`:"")),n=q(()=>`q-message-text q-message-text--${a.value}`+(e.bgColor!==void 0?` text-${e.bgColor}`:"")),r=q(()=>"q-message-container row items-end no-wrap"+(e.sent===!0?" reverse":"")),l=q(()=>e.size!==void 0?`col-${e.size}`:""),s=q(()=>({msg:e.textHtml===!0?"innerHTML":"textContent",stamp:e.stampHtml===!0?"innerHTML":"textContent",name:e.nameHtml===!0?"innerHTML":"textContent",label:e.labelHtml===!0?"innerHTML":"textContent"}));function u(i){return t.stamp!==void 0?[i,A("div",{class:"q-message-stamp"},t.stamp())]:e.stamp?[i,A("div",{class:"q-message-stamp",[s.value.stamp]:e.stamp})]:[i]}function d(i,f){const c=f===!0?i.length>1?v=>v:v=>A("div",[v]):v=>A("div",{[s.value.msg]:v});return i.map((v,_)=>A("div",{key:_,class:n.value},[A("div",{class:o.value},u(c(v)))]))}return()=>{const i=[];t.avatar!==void 0?i.push(t.avatar()):e.avatar!==void 0&&i.push(A("img",{class:`q-message-avatar q-message-avatar--${a.value}`,src:e.avatar,"aria-hidden":"true"}));const f=[];t.name!==void 0?f.push(A("div",{class:`q-message-name q-message-name--${a.value}`},t.name())):e.name!==void 0&&f.push(A("div",{class:`q-message-name q-message-name--${a.value}`,[s.value.name]:e.name})),t.default!==void 0?f.push(d(Wt(t.default()),!0)):e.text!==void 0&&f.push(d(e.text)),i.push(A("div",{class:l.value},f));const c=[];return t.label!==void 0?c.push(A("div",{class:"q-message-label"},t.label())):e.label!==void 0&&c.push(A("div",{class:"q-message-label",[s.value.label]:e.label})),c.push(A("div",{class:r.value},i)),A("div",{class:`q-message q-message-${a.value}`},c)}}}),Ge;const ue=typeof window!="undefined",wa=e=>typeof e=="function",Oa=e=>typeof e=="string",z=()=>{},ke=ue&&((Ge=window==null?void 0:window.navigator)==null?void 0:Ge.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function M(e){return typeof e=="function"?e():K(e)}function Pt(e,t){function a(...o){return new Promise((n,r)=>{Promise.resolve(e(()=>t.apply(this,o),{fn:t,thisArg:this,args:o})).then(n).catch(r)})}return a}function Sa(e,t={}){let a,o,n=z;const r=s=>{clearTimeout(s),n(),n=z};return s=>{const u=M(e),d=M(t.maxWait);return a&&r(a),u<=0||d!==void 0&&d<=0?(o&&(r(o),o=null),Promise.resolve(s())):new Promise((i,f)=>{n=t.rejectOnCancel?f:i,d&&!o&&(o=setTimeout(()=>{a&&r(a),o=null,i(s())},d)),a=setTimeout(()=>{o&&r(o),o=null,i(s())},u)})}}function $a(e,t=!0,a=!0,o=!1){let n=0,r,l=!0,s=z,u;const d=()=>{r&&(clearTimeout(r),r=void 0,s(),s=z)};return f=>{const c=M(e),v=Date.now()-n,_=()=>u=f();return d(),c<=0?(n=Date.now(),_()):(v>c&&(a||!l)?(n=Date.now(),_()):t&&(u=new Promise((x,w)=>{s=o?w:x,r=setTimeout(()=>{n=Date.now(),l=!0,x(_()),d()},Math.max(0,c-v))})),!a&&!r&&(r=setTimeout(()=>l=!0,c)),l=!1,u)}}const G={mounted:"mounted",updated:"updated",unmounted:"unmounted"};function xa(e){return e}function ae(e){return Kt()?(Yt(e),!0):!1}function Pa(e,t=200,a={}){return Pt(Sa(t,a),e)}function Ca(e,t=200,a=!1,o=!0,n=!1){return Pt($a(t,a,o,n),e)}function Ea(e){return typeof e=="function"?q(e):S(e)}function Ta(e,t=!0){He()?Ot(e):t?e():Y(e)}function Ia(e,t=1e3,a={}){const{immediate:o=!0,immediateCallback:n=!1}=a;let r=null;const l=S(!1);function s(){r&&(clearInterval(r),r=null)}function u(){l.value=!1,s()}function d(){const i=M(t);i<=0||(l.value=!0,n&&e(),s(),r=setInterval(e,i))}if(o&&ue&&d(),St(t)||wa(t)){const i=E(t,()=>{l.value&&ue&&d()});ae(i)}return ae(u),{isActive:l,pause:u,resume:d}}const Na=ue?window:void 0,Ae=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Le="__vueuse_ssr_handlers__";Ae[Le]=Ae[Le]||{};Ae[Le];function qa(e,t={}){const{immediate:a=!0,window:o=Na}=t,n=S(!1);let r=0,l=null;function s(i){if(!n.value||!o)return;const f=i-r;e({delta:f,timestamp:i}),r=i,l=o.requestAnimationFrame(s)}function u(){!n.value&&o&&(n.value=!0,l=o.requestAnimationFrame(s))}function d(){n.value=!1,l!=null&&o&&(o.cancelAnimationFrame(l),l=null)}return a&&u(),ae(d),{isActive:Gt(n),pause:d,resume:u}}var Da=Object.defineProperty,Xe=Object.getOwnPropertySymbols,ka=Object.prototype.hasOwnProperty,Aa=Object.prototype.propertyIsEnumerable,Je=(e,t,a)=>t in e?Da(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,La=(e,t)=>{for(var a in t||(t={}))ka.call(t,a)&&Je(e,a,t[a]);if(Xe)for(var a of Xe(t))Aa.call(t,a)&&Je(e,a,t[a]);return e};function Ma(e={}){const{controls:t=!1,interval:a="requestAnimationFrame"}=e,o=S(new Date),n=()=>o.value=new Date,r=a==="requestAnimationFrame"?qa(n,{immediate:!0}):Ia(n,a,{immediate:!0});return t?La({now:o},r):o}var Ze;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(Ze||(Ze={}));var Qa=Object.defineProperty,he=Object.getOwnPropertySymbols,Ct=Object.prototype.hasOwnProperty,Et=Object.prototype.propertyIsEnumerable,et=(e,t,a)=>t in e?Qa(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,Va=(e,t)=>{for(var a in t||(t={}))Ct.call(t,a)&&et(e,a,t[a]);if(he)for(var a of he(t))Et.call(t,a)&&et(e,a,t[a]);return e},Ra=(e,t)=>{var a={};for(var o in e)Ct.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&he)for(var o of he(e))t.indexOf(o)<0&&Et.call(e,o)&&(a[o]=e[o]);return a};const Ha=[{max:6e4,value:1e3,name:"second"},{max:276e4,value:6e4,name:"minute"},{max:72e6,value:36e5,name:"hour"},{max:5184e5,value:864e5,name:"day"},{max:24192e5,value:6048e5,name:"week"},{max:28512e6,value:2592e6,name:"month"},{max:1/0,value:31536e6,name:"year"}],ja={justNow:"just now",past:e=>e.match(/\d/)?`${e} ago`:e,future:e=>e.match(/\d/)?`in ${e}`:e,month:(e,t)=>e===1?t?"last month":"next month":`${e} month${e>1?"s":""}`,year:(e,t)=>e===1?t?"last year":"next year":`${e} year${e>1?"s":""}`,day:(e,t)=>e===1?t?"yesterday":"tomorrow":`${e} day${e>1?"s":""}`,week:(e,t)=>e===1?t?"last week":"next week":`${e} week${e>1?"s":""}`,hour:e=>`${e} hour${e>1?"s":""}`,minute:e=>`${e} minute${e>1?"s":""}`,second:e=>`${e} second${e>1?"s":""}`,invalid:""},Fa=e=>e.toISOString().slice(0,10);function Ba(e,t={}){const{controls:a=!1,updateInterval:o=3e4}=t,n=Ma({interval:o,controls:!0}),{now:r}=n,l=Ra(n,["now"]),s=q(()=>za(new Date(M(e)),t,K(r.value)));return a?Va({timeAgo:s},l):s}function za(e,t={},a=Date.now()){var o;const{max:n,messages:r=ja,fullDateFormatter:l=Fa,units:s=Ha,showSecond:u=!1,rounding:d="round"}=t,i=typeof d=="number"?w=>+w.toFixed(d):Math[d],f=+a-+e,c=Math.abs(f);function v(w,T){return i(Math.abs(w)/T.value)}function _(w,T){const L=v(w,T),D=w>0,I=x(T.name,L,D);return x(D?"past":"future",I,D)}function x(w,T,L){const D=r[w];return typeof D=="function"?D(T,L):D.replace("{0}",T.toString())}if(c<6e4&&!u)return r.justNow;if(typeof n=="number"&&c>n)return l(new Date(e));if(typeof n=="string"){const w=(o=s.find(T=>T.name===n))==null?void 0:o.max;if(w&&c>w)return l(new Date(e))}for(const[w,T]of s.entries()){if(v(f,T)<=0&&s[w-1])return _(f,s[w-1]);if(c<T.max)return _(f,T)}return r.invalid}var Ua=Object.defineProperty,tt=Object.getOwnPropertySymbols,Wa=Object.prototype.hasOwnProperty,Ka=Object.prototype.propertyIsEnumerable,at=(e,t,a)=>t in e?Ua(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,Ya=(e,t)=>{for(var a in t||(t={}))Wa.call(t,a)&&at(e,a,t[a]);if(tt)for(var a of tt(t))Ka.call(t,a)&&at(e,a,t[a]);return e};const Ga={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};Ya({linear:xa},Ga);function Q(e){var t;const a=M(e);return(t=a==null?void 0:a.$el)!=null?t:a}const oe=ue?window:void 0;function R(...e){let t,a,o,n;if(Oa(e[0])||Array.isArray(e[0])?([a,o,n]=e,t=oe):[t,a,o,n]=e,!t)return z;Array.isArray(a)||(a=[a]),Array.isArray(o)||(o=[o]);const r=[],l=()=>{r.forEach(i=>i()),r.length=0},s=(i,f,c,v)=>(i.addEventListener(f,c,v),()=>i.removeEventListener(f,c,v)),u=E(()=>[Q(t),M(n)],([i,f])=>{l(),i&&r.push(...a.flatMap(c=>o.map(v=>s(i,c,v,f))))},{immediate:!0,flush:"post"}),d=()=>{u(),l()};return ae(d),d}let ot=!1;function nt(e,t,a={}){const{window:o=oe,ignore:n=[],capture:r=!0,detectIframe:l=!1}=a;if(!o)return;ke&&!ot&&(ot=!0,Array.from(o.document.body.children).forEach(c=>c.addEventListener("click",z)));let s=!0;const u=c=>n.some(v=>{if(typeof v=="string")return Array.from(o.document.querySelectorAll(v)).some(_=>_===c.target||c.composedPath().includes(_));{const _=Q(v);return _&&(c.target===_||c.composedPath().includes(_))}}),i=[R(o,"click",c=>{const v=Q(e);if(!(!v||v===c.target||c.composedPath().includes(v))){if(c.detail===0&&(s=!u(c)),!s){s=!0;return}t(c)}},{passive:!0,capture:r}),R(o,"pointerdown",c=>{const v=Q(e);v&&(s=!c.composedPath().includes(v)&&!u(c))},{passive:!0}),l&&R(o,"blur",c=>{var v;const _=Q(e);((v=o.document.activeElement)==null?void 0:v.tagName)==="IFRAME"&&!(_!=null&&_.contains(o.document.activeElement))&&t(c)})].filter(Boolean);return()=>i.forEach(c=>c())}G.mounted+"",G.unmounted+"";const Xa=e=>typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):()=>!0;function rt(...e){let t,a,o={};e.length===3?(t=e[0],a=e[1],o=e[2]):e.length===2?typeof e[1]=="object"?(t=!0,a=e[0],o=e[1]):(t=e[0],a=e[1]):(t=!0,a=e[0]);const{target:n=oe,eventName:r="keydown",passive:l=!1}=o,s=Xa(t);return R(n,r,d=>{s(d)&&a(d)},l)}var Ja=Object.defineProperty,lt=Object.getOwnPropertySymbols,Za=Object.prototype.hasOwnProperty,eo=Object.prototype.propertyIsEnumerable,st=(e,t,a)=>t in e?Ja(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,to=(e,t)=>{for(var a in t||(t={}))Za.call(t,a)&&st(e,a,t[a]);if(lt)for(var a of lt(t))eo.call(t,a)&&st(e,a,t[a]);return e};G.mounted+"";const ao=500;function ut(e,t,a){var o,n;const r=q(()=>Q(e));let l;function s(){l&&(clearTimeout(l),l=void 0)}function u(i){var f,c,v,_;((f=a==null?void 0:a.modifiers)==null?void 0:f.self)&&i.target!==r.value||(s(),(c=a==null?void 0:a.modifiers)!=null&&c.prevent&&i.preventDefault(),(v=a==null?void 0:a.modifiers)!=null&&v.stop&&i.stopPropagation(),l=setTimeout(()=>t(i),(_=a==null?void 0:a.delay)!=null?_:ao))}const d={capture:(o=a==null?void 0:a.modifiers)==null?void 0:o.capture,once:(n=a==null?void 0:a.modifiers)==null?void 0:n.once};R(r,"pointerdown",u,d),R(r,"pointerup",s,d),R(r,"pointerleave",s,d)}G.mounted+"";const Me=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Qe="__vueuse_ssr_handlers__";Me[Qe]=Me[Qe]||{};Me[Qe];function Tt(e,t=!1){const a=S(),o=()=>a.value=Boolean(e());return o(),Ta(o,t),a}function oo(e,t={}){const a=t?t.delayEnter:0,o=t?t.delayLeave:0,n=S(!1);let r;const l=s=>{const u=s?a:o;r&&(clearTimeout(r),r=void 0),u?r=setTimeout(()=>n.value=s,u):n.value=s};return window&&(R(e,"mouseenter",()=>l(!0),{passive:!0}),R(e,"mouseleave",()=>l(!1),{passive:!0})),n}G.mounted+"";var it=Object.getOwnPropertySymbols,no=Object.prototype.hasOwnProperty,ro=Object.prototype.propertyIsEnumerable,lo=(e,t)=>{var a={};for(var o in e)no.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&it)for(var o of it(e))t.indexOf(o)<0&&ro.call(e,o)&&(a[o]=e[o]);return a};function so(e,t,a={}){const o=a,{window:n=oe}=o,r=lo(o,["window"]);let l;const s=Tt(()=>n&&"ResizeObserver"in n),u=()=>{l&&(l.disconnect(),l=void 0)},d=E(()=>Q(e),f=>{u(),s.value&&n&&f&&(l=new ResizeObserver(t),l.observe(f,r))},{immediate:!0,flush:"post"}),i=()=>{u(),d()};return ae(i),{isSupported:s,stop:i}}function uo(e,t={width:0,height:0},a={}){const{window:o=oe,box:n="content-box"}=a,r=q(()=>{var u,d;return(d=(u=Q(e))==null?void 0:u.namespaceURI)==null?void 0:d.includes("svg")}),l=S(t.width),s=S(t.height);return so(e,([u])=>{const d=n==="border-box"?u.borderBoxSize:n==="content-box"?u.contentBoxSize:u.devicePixelContentBoxSize;if(o&&r.value){const i=Q(e);if(i){const f=o.getComputedStyle(i);l.value=parseFloat(f.width),s.value=parseFloat(f.height)}}else if(d){const i=Array.isArray(d)?d:[d];l.value=i.reduce((f,{inlineSize:c})=>f+c,0),s.value=i.reduce((f,{blockSize:c})=>f+c,0)}else l.value=u.contentRect.width,s.value=u.contentRect.height},a),E(()=>Q(e),u=>{l.value=u?t.width:0,s.value=u?t.height:0}),{width:l,height:s}}G.mounted+"";function ct(e,{window:t=oe,scrollTarget:a}={}){const o=S(!1),n=()=>{if(!t)return;const r=t.document,l=Q(e);if(!l)o.value=!1;else{const s=l.getBoundingClientRect();o.value=s.top<=(t.innerHeight||r.documentElement.clientHeight)&&s.left<=(t.innerWidth||r.documentElement.clientWidth)&&s.bottom>=0&&s.right>=0}};return E(()=>Q(e),()=>n(),{immediate:!0,flush:"post"}),t&&R(a||t,"scroll",n,{capture:!1,passive:!0}),o}G.mounted+"";const dt=1;function Ve(e,t={}){const{throttle:a=0,idle:o=200,onStop:n=z,onScroll:r=z,offset:l={left:0,right:0,top:0,bottom:0},eventListenerOptions:s={capture:!1,passive:!0},behavior:u="auto"}=t,d=S(0),i=S(0),f=q({get(){return d.value},set(I){v(I,void 0)}}),c=q({get(){return i.value},set(I){v(void 0,I)}});function v(I,y){var P,$,N;const H=M(e);!H||(N=H instanceof Document?document.body:H)==null||N.scrollTo({top:(P=M(y))!=null?P:c.value,left:($=M(I))!=null?$:f.value,behavior:M(u)})}const _=S(!1),x=pe({left:!0,right:!1,top:!0,bottom:!1}),w=pe({left:!1,right:!1,top:!1,bottom:!1}),T=I=>{!_.value||(_.value=!1,w.left=!1,w.right=!1,w.top=!1,w.bottom=!1,n(I))},L=Pa(T,a+o),D=I=>{const y=I.target===document?I.target.documentElement:I.target,P=y.scrollLeft;w.left=P<d.value,w.right=P>i.value,x.left=P<=0+(l.left||0),x.right=P+y.clientWidth>=y.scrollWidth-(l.right||0)-dt,d.value=P;let $=y.scrollTop;I.target===document&&!$&&($=document.body.scrollTop),w.top=$<i.value,w.bottom=$>i.value,x.top=$<=0+(l.top||0),x.bottom=$+y.clientHeight>=y.scrollHeight-(l.bottom||0)-dt,i.value=$,_.value=!0,L(I),r(I)};return R(e,"scroll",a?Ca(D,a,!0,!1):D,s),R(e,"scrollend",T,s),{x:f,y:c,isScrolling:_,arrivedState:x,directions:w}}var io=Object.defineProperty,co=Object.defineProperties,fo=Object.getOwnPropertyDescriptors,ft=Object.getOwnPropertySymbols,vo=Object.prototype.hasOwnProperty,mo=Object.prototype.propertyIsEnumerable,vt=(e,t,a)=>t in e?io(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,mt=(e,t)=>{for(var a in t||(t={}))vo.call(t,a)&&vt(e,a,t[a]);if(ft)for(var a of ft(t))mo.call(t,a)&&vt(e,a,t[a]);return e},po=(e,t)=>co(e,fo(t));function pt(e,t,a={}){var o,n;const r=(o=a.direction)!=null?o:"bottom",l=pe(Ve(e,po(mt({},a),{offset:mt({[r]:(n=a.distance)!=null?n:0},a.offset)})));E(()=>l.arrivedState[r],async s=>{var u,d;if(s){const i=M(e),f={height:(u=i==null?void 0:i.scrollHeight)!=null?u:0,width:(d=i==null?void 0:i.scrollWidth)!=null?d:0};await t(l),a.preserveScrollPosition&&i&&Y(()=>{i.scrollTo({top:i.scrollHeight-f.height,left:i.scrollWidth-f.width})})}})}G.mounted+"";function ht(e,t,a={}){const{root:o,rootMargin:n="0px",threshold:r=.1,window:l=oe}=a,s=Tt(()=>l&&"IntersectionObserver"in l);let u=z;const d=s.value?E(()=>({el:Q(e),root:Q(o)}),({el:f,root:c})=>{if(u(),!f)return;const v=new IntersectionObserver(t,{root:c,rootMargin:n,threshold:r});v.observe(f),u=()=>{v.disconnect(),u=z}},{immediate:!0,flush:"post"}):z,i=()=>{u(),d()};return ae(i),{isSupported:s,stop:i}}G.mounted+"";var ho=Object.defineProperty,go=Object.defineProperties,yo=Object.getOwnPropertyDescriptors,gt=Object.getOwnPropertySymbols,_o=Object.prototype.hasOwnProperty,bo=Object.prototype.propertyIsEnumerable,yt=(e,t,a)=>t in e?ho(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,wo=(e,t)=>{for(var a in t||(t={}))_o.call(t,a)&&yt(e,a,t[a]);if(gt)for(var a of gt(t))bo.call(t,a)&&yt(e,a,t[a]);return e},Oo=(e,t)=>go(e,yo(t));G.mounted+"";function It(e){const t=window.getComputedStyle(e);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&e.clientHeight<e.scrollHeight||t.overflowY==="auto"&&e.clientWidth<e.scrollWidth)return!0;{const a=e.parentNode;return!a||a.tagName==="BODY"?!1:It(a)}}function So(e){const t=e||window.event,a=t.target;return It(a)?!1:t.touches.length>1?!0:(t.preventDefault&&t.preventDefault(),!1)}function $o(e,t=!1){const a=S(t);let o=null,n;E(Ea(e),s=>{if(s){const u=s;n=u.style.overflow,a.value&&(u.style.overflow="hidden")}},{immediate:!0});const r=()=>{const s=M(e);!s||a.value||(ke&&(o=R(s,"touchmove",u=>{So(u)},{passive:!1})),s.style.overflow="hidden",a.value=!0)},l=()=>{const s=M(e);!s||!a.value||(ke&&(o==null||o()),s.style.overflow=n,a.value=!1)};return ae(l),q({get(){return a.value},set(s){s?r():l()}})}const xo=()=>{let e=!1;const t=S(!1);return(a,o)=>{if(t.value=o.value,e)return;e=!0;const n=$o(a,o.value);E(t,r=>n.value=r)}};xo();var Po=Object.defineProperty,Co=Object.defineProperties,Eo=Object.getOwnPropertyDescriptors,_t=Object.getOwnPropertySymbols,To=Object.prototype.hasOwnProperty,Io=Object.prototype.propertyIsEnumerable,bt=(e,t,a)=>t in e?Po(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,No=(e,t)=>{for(var a in t||(t={}))To.call(t,a)&&bt(e,a,t[a]);if(_t)for(var a of _t(t))Io.call(t,a)&&bt(e,a,t[a]);return e},qo=(e,t)=>Co(e,Eo(t));const Nt=Xt({name:"UseTimeAgo",props:["time","updateInterval","max","fullDateFormatter","messages","showSecond"],setup(e,{slots:t}){const a=pe(Ba(()=>e.time,qo(No({},e),{controls:!0})));return()=>{if(t.default)return t.default(a)}}}),Do={class:"q-pa-md row justify-center"},ko={class:"row justify-center q-my-md"},Ao={key:0},Lo={__name:"chatLog",props:{conversation:{type:Object,default:()=>({})}},setup(e){const t=e,a=$t(),{getMessageNotification:o}=Te(a),n=S(null),r=S([]),l=S(20),s=i=>{const f=[...r.value,...i].sort((_,x)=>new Date(_.createdAt)-new Date(x.createdAt)),c=[],v=new Map;for(const _ of f)v.has(_.id)||(v.set(_.id,!0),c.push(_));t.conversation.id==="new"?r.value=[]:r.value=c},u=(i,f)=>X.getMessages({filters:{conversation:{id:i}},populate:{contact:!0,conversation:{filters:{id:i}}},sort:"createdAt:desc",pagination:{page:f,pageSize:l.value}}).then(c=>{const v=c.data.length===0||c.data.length<l.value;return(!v||c.data.length>0)&&s(c.data),v}),d=async(i,f)=>{t.conversation.id==="new"||t.conversation.id==="placeHolder"||t.conversation.id==="no"?f(!0):u(t.conversation.id,i).then(c=>{f(c)})};return E(()=>t.conversation,async(i,f)=>{i.id!==f.id&&(r.value=[])}),E(o,()=>{o.value.conversation&&o.value.conversation.id===t.conversation.id?(s([o.value]),o.value.direction==="inbound"&&X.readConversation(t.conversation.id),Y(()=>{const i=document.querySelector("#conversation-layout div.scroll");i.scrollTop=i.scrollHeight})):console.log(o.value)}),(i,f)=>(C(),B("div",Do,[(C(),k(xt,{style:{width:"100%"},reverse:"",onLoad:d,ref_key:"messageScroll",ref:n,key:e.conversation.id},{loading:g(()=>[Ie("div",ko,[b(Jt,{color:"primary",name:"dots",size:"40px"})])]),default:g(()=>[(C(!0),B(Ne,null,qe(r.value,(c,v)=>(C(),B("div",{key:v},[b(ba,{sent:c.direction==="outbound-api",name:c.direction==="inbound"?e.conversation.name:`${c.contact.firstName} ${c.contact.lastName}`,"text-color":c.direction==="outbound-api"?"white":"","bg-color":c.direction==="outbound-api"?"primary":"amber"},{stamp:g(()=>[b(K(Nt),{time:c.createdAt},{default:g(({timeAgo:_})=>[F(W(_),1)]),_:2},1032,["time"])]),avatar:g(()=>[b(De,{class:me(["q-message-avatar",{"q-message-avatar--sent":c.direction==="outbound-api","q-message-avatar--received":c.direction==="inbound"}]),color:c.direction==="outbound-api"?"primary":"amber"},{default:g(()=>[F("J")]),_:2},1032,["class","color"])]),default:g(()=>[Ie("div",null,[F(W(c.body)+" ",1),c.numMedia>0?(C(),B("div",Ao,[(C(!0),B(Ne,null,qe(c.mediaUrl,(_,x)=>(C(),k(fa,{src:_,fit:"contain","spinner-color":"white",style:{height:"150px","max-width":"300px",width:"100%"},key:x},null,8,["src"]))),128))])):V("",!0)])]),_:2},1032,["sent","name","text-color","bg-color"])]))),128))]),_:1}))]))}},Mo={class:"q-pa-md",style:{height:"92vh"}},Qo={key:0,class:"text-caption"},Vo={key:0},Ro={key:1,class:"q-pa-md row justify-center text-h5"},Ho={class:"text-h6"},jo={key:0,class:"text-caption"},_n={__name:"index",setup(e){da();const t=Zt(),a=ea(),o=$t(),n=va(),{userOffices:r}=Te(n),{fetchConversations:l,setConversation:s,setSelectedOffice:u}=o,{getConversations:d,getSelectedOffice:i}=Te(o),{t:f}=ha(),c=S(null),v=S(50),_=S(null),x=S(!1),w=S(""),T=S(""),L=S(""),D=S(10),I=q(()=>{const p=new RegExp("^[0-9]{"+D.value+"}","g");return pa().matches(p,{excludeEmptyString:!0,message:`${f("validPhoneIsRequired")}`}).nullable()}),{errorMessage:y,value:P}=ga("phone",I);S([]);const $={background:"#D3D3D3"},N=S(!1),H=async(p,h)=>{if(!N.value&&!ge.value){N.value=!0;let m=!1;p===1&&(m=!0,le()),l(p,v.value,m).then(j=>{N.value=!1,h(j)})}},J=S(!0),ie=S(null),ge=S(!1),ce=S(""),O=S(null),qt=async p=>{await X.unReadConversation(p.id),le()},ye=p=>{le(),O.value=p,w.value=p.name,T.value=p.contacts[0].firstName,L.value=p.contacts[0].lastName,P.value="",c.value="",p.unread&&(X.readConversation(p.id),p.unread=!1)};E(i,(p,h)=>{le(),l(1,v.value,!0).then(()=>{N.value=!1})});const de=async()=>{const p={data:{phoneNumber:P.value,type:"phoneNumber"}},h=await X.createContact(p),m={...h.data};if(delete m.conversations,h.data.valid===!0&&i.value&&i.value[48]&&h.data.conversations.length>0){const j=h.data.conversations.find(Z=>Z.twilio_messaging_service.sid===i.value[48]);if(j)j.contacts=[m],ye(j);else{const Z=new Date;let fe=`${h.data.firstName} ${h.data.lastName}`;h.data.firstName||(fe=h.data.nationalFormat),O.value={id:"placeHolder",createdAt:Z,lastMessage:{},lastMessageDateTime:Z,contacts:[m],name:fe,readBy:[],twilioEnabled:!0,twilio_messaging_service:{sid:i.value[48]},type:"Direct",unread:!1,updatedAt:Z},P.value="",c.value=""}}},_e=()=>{const p=new Date;O.value={id:"new",createdAt:p,lastMessage:{},lastMessageDateTime:p,name:"",readBy:[],twilioEnabled:!0,twilio_messaging_service:{},type:"Direct",unread:!1,archive:!1,updatedAt:p},ie.value===!1&&J.value===!0&&(J.value=!1),Y(()=>{document.querySelector("#phoneNumber").focus()})},le=async()=>{const p=new Date;return O.value={id:"no",createdAt:p,lastMessage:{},lastMessageDateTime:p,name:"Select a conversation",readBy:[],twilioEnabled:!0,twilio_messaging_service:{},type:"Direct",unread:!1,archive:!1,updatedAt:p},!0},Dt=p=>{p.contacts[0].valid===!0&&p.twilio_messaging_service?X.sendMessage({data:{body:ce.value,to:p.contacts[0].phoneNumber,messagingServiceSid:p.twilio_messaging_service.sid,direction:"outbound-api",twilioMessage:!0}}).then(()=>{ce.value="",p.id==="placeHolder"?H(1,()=>{const h=d.value.find(m=>m.contacts[0].phoneNumber===p.contacts[0].phoneNumber);h?ye(h):console.log("no conversation found after sending message")}):p.archive===!0&&we(!1)}):console.log("not valid phone number")},be=async()=>{const p=`${T.value} ${L.value}`,h={data:{name:p}},m={data:{firstName:T.value,lastName:L.value}};if(O.value){O.value.name=p;const j=X.updateContact(O.value.contacts[0].id,m),Z=X.updateConversation(O.value.id,h),fe=await j,Oe=await Z;return Oe.data.contacts=[fe.data],s({data:Oe.data}),Oe}},we=async p=>{const h={data:{archive:p}};if(O.value){O.value.archive=p;const j=await X.updateConversation(O.value.id,h);return p===!0?(N.value=!0,await le(),l(1,v.value,!0).then(()=>{N.value=!1})):(N.value=!0,l(1,v.value,!0).then(()=>{N.value=!1})),j}},kt=p=>{D.value=p},At=p=>{ge.value=!0,ie.value=p,setTimeout(()=>{ge.value=!1},1e3)};if(t.query.phoneNumber||t.query.office_id){t.query.office_id&&Y(()=>{const h=r.value("read").find(m=>Number(m[8])===Number(t.query.office_id));h&&u(h)}),t.query.phoneNumber&&(c.value=t.query.phoneNumber.replace(/\D+/g,""),_e(),P.value=c.value.substr(c.value.length-10),Y(()=>{de()}));const p=Object.assign({},t.query);delete p.phoneNumber,delete p.office_id,a.replace({query:p})}return E(()=>t.query,()=>{if(t.query.phoneNumber||t.query.office_id){t.query.office_id&&Y(()=>{const h=r.value("read").find(m=>Number(m[8])===Number(t.query.office_id));h&&u(h)}),t.query.phoneNumber&&(c.value=t.query.phoneNumber.replace(/\D+/g,""),_e(),P.value=c.value.substr(c.value.length-10),Y(()=>{de()}));const p=Object.assign({},t.query);delete p.phoneNumber,delete p.office_id,a.replace({query:p})}}),(p,h)=>(C(),B("div",Mo,[b(Fe,{flat:""}),b(ia,{view:"lHh Lpr lFf",container:"",style:{height:"100%"},class:"shadow-2 rounded-borders bg-grey-3",id:"conversation-layout"},{default:g(()=>[O.value?(C(),k(oa,{key:0,bordered:"",class:"bg-white text-black",style:{height:"57px"}},{default:g(()=>[b(ra,null,{default:g(()=>[b(ne,{dense:"",flat:"",round:"",icon:"menu",onClick:h[0]||(h[0]=m=>J.value=!J.value)}),!O.value||O.value.id==="new"?(C(),k(Ke,{key:0},{default:g(()=>[b(ma,{for:"phoneNumber",modelValue:K(P),"onUpdate:modelValue":h[1]||(h[1]=m=>St(P)?P.value=m:null),label:p.$t("phoneNumber"),tabindex:"0",onMaxLengthChanged:kt,style:Be(K(y)?"padding-bottom: 20px; max-width: 250px;":"padding-bottom: 0px; max-width: 250px;"),error:!!K(y),"error-message":K(y),readonly:!1,editIcon:!1,onAddClicked:de,onKeyup:Pe(de,["enter"])},null,8,["modelValue","label","style","error","error-message","onKeyup"])]),_:1})):(C(),k(Ke,{key:1},{default:g(()=>[F(W(O.value.name)+" ",1),O.value.contacts&&O.value.contacts[0]?(C(),B("span",Qo,W(O.value.contacts[0].nationalFormat),1)):V("",!0),O.value.contacts&&O.value.contacts[0]?(C(),k(ne,{key:1,color:"accent",flat:"",dense:"",round:"",icon:"edit",size:"sm",onClick:h[2]||(h[2]=m=>x.value=!0)})):V("",!0)]),_:1})),b(ne,{dense:"",flat:"",round:"",icon:"more_vert"},{default:g(()=>[b(na,null,{default:g(()=>[O.value.contacts&&O.value.contacts[0]?(C(),k(Ee,{key:0,style:{"min-width":"100px"}},{default:g(()=>[ee((C(),k(re,{clickable:""},{default:g(()=>[b(U,{onClick:h[3]||(h[3]=m=>x.value=!0)},{default:g(()=>[F("Edit")]),_:1})]),_:1})),[[se]]),O.value.unread===!1?ee((C(),k(re,{key:0,clickable:""},{default:g(()=>[b(U,{onClick:h[4]||(h[4]=m=>qt(O.value))},{default:g(()=>[F("Mark Un-Read")]),_:1})]),_:1})),[[se]]):V("",!0),ee((C(),k(re,{clickable:""},{default:g(()=>[O.value.archive===!1?(C(),k(U,{key:0,onClick:h[5]||(h[5]=m=>we(!0))},{default:g(()=>[F("Archive")]),_:1})):V("",!0),O.value.archive===!0?(C(),k(U,{key:1,onClick:h[6]||(h[6]=m=>we(!1))},{default:g(()=>[F("Unarchive")]),_:1})):V("",!0)]),_:1})),[[se]])]),_:1})):V("",!0)]),_:1})]),_:1})]),_:1})]),_:1})):V("",!0),b(la,{"show-if-above":"",modelValue:J.value,"onUpdate:modelValue":h[8]||(h[8]=m=>J.value=m),side:"left",width:350,bordered:"",onOnLayout:At},{default:g(()=>[b(sa,{class:"fit",id:"scroll-id"},{default:g(()=>[b(Ee,{separator:""},{default:g(()=>[K(i)?ee((C(),k(re,{key:0,clickable:"",onClick:h[7]||(h[7]=m=>_e())},{default:g(()=>[b(U,{avatar:"",top:""},{default:g(()=>[b(De,{icon:"add",color:"grey","text-color":"white"})]),_:1}),b(U,null,{default:g(()=>[F("New Message")]),_:1})]),_:1})),[[ze]]):V("",!0),b(re,null,{default:g(()=>[b(U,null,{default:g(()=>[b(ya,{styleSelection:!0})]),_:1})]),_:1})]),_:1}),b(Ee,{bordered:""},{default:g(()=>[b(xt,{style:{width:"100%"},onLoad:H,ref_key:"conversationScroll",ref:_},{default:g(()=>[(C(!0),B(Ne,null,qe(K(d),m=>ee((C(),k(re,{key:m.id,clickable:"",onClick:j=>ye(m),style:Be(O.value&&O.value.id===m.id?$:null)},{default:g(()=>[b(U,{avatar:""},{default:g(()=>[b(De,{color:"primary","text-color":"white"},{default:g(()=>[m.letter?(C(),B("span",Vo,W(m.letter),1)):(C(),k(Ue,{key:1,name:"person"}))]),_:2},1024)]),_:2},1024),b(U,null,{default:g(()=>[b(Ye,{lines:"1",class:me({"text-bold":m.unread})},{default:g(()=>[F(W(m.name),1)]),_:2},1032,["class"]),b(Ye,{caption:"",lines:"2",class:me({"text-bold":m.unread,"text-black":m.unread})},{default:g(()=>[m.lastMessage&&m.lastMessage.body?(C(),k(Ue,{key:0,size:"xs",name:m.lastMessage.direction==="inbound"?"call_received":"call_made",color:m.lastMessage.direction==="inbound"?"green":"red"},null,8,["name","color"])):V("",!0),F(" "+W(m.lastMessage&&m.lastMessage.body),1)]),_:2},1032,["class"])]),_:2},1024),b(U,{side:"",top:"",class:me({"text-bold":m.unread,"text-black":m.unread})},{default:g(()=>[m.lastMessageDateTime?(C(),k(K(Nt),{key:0,time:new Date(m.lastMessageDateTime)},{default:g(({timeAgo:j})=>[F(W(j),1)]),_:2},1032,["time"])):V("",!0)]),_:2},1032,["class"])]),_:2},1032,["onClick","style"])),[[ze]])),128))]),_:1},512)]),_:1})]),_:1})]),_:1},8,["modelValue"]),b(ua,null,{default:g(()=>[O.value?(C(),k(Lo,{key:0,conversation:O.value},null,8,["conversation"])):(C(),B("div",Ro,"Select a conversation"))]),_:1}),b(ta,{modelValue:x.value,"onUpdate:modelValue":h[11]||(h[11]=m=>x.value=m),persistent:""},{default:g(()=>[b(Fe,{style:{"min-width":"350px"}},{default:g(()=>[b(We,null,{default:g(()=>[Ie("div",Ho,W(w.value),1),O.value.contacts&&O.value.contacts[0]?(C(),B("span",jo,W(O.value.contacts[0].nationalFormat),1)):V("",!0)]),_:1}),b(We,{class:"q-pt-none"},{default:g(()=>[b(Ce,{modelValue:T.value,"onUpdate:modelValue":h[9]||(h[9]=m=>T.value=m),label:"First Name",autofocus:"",onKeyup:Pe(be,["enter"])},null,8,["modelValue","onKeyup"]),b(Ce,{modelValue:L.value,"onUpdate:modelValue":h[10]||(h[10]=m=>L.value=m),label:"Last Name",autofocus:"",onKeyup:Pe(be,["enter"])},null,8,["modelValue","onKeyup"])]),_:1}),b(aa,{align:"right",class:"text-primary"},{default:g(()=>[ee(b(ne,{flat:"",label:"Cancel"},null,512),[[se]]),ee(b(ne,{flat:"",label:"Update",onClick:be},null,512),[[se]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),O.value&&O.value.id!=="no"?(C(),k(_a,{key:1,class:"bg-white"},{default:g(()=>[b(Ce,{autogrow:"",modelValue:ce.value,"onUpdate:modelValue":h[13]||(h[13]=m=>ce.value=m),placeholder:"Type a message",rounded:"",dense:"",standout:"",class:"q-py-sm",disable:O.value.id==="new"},{after:g(()=>[b(ne,{round:"",dense:"",flat:"",icon:"send",onClick:h[12]||(h[12]=m=>Dt(O.value)),disabled:!O.value||O.value.id==="new"},null,8,["disabled"])]),_:1},8,["modelValue","disable"])]),_:1})):V("",!0)]),_:1})]))}};export{_n as default};
