import{k as S,_ as g,A as d,an as _,bi as l,d as a,cw as r,D as e,ab as t,bO as N,au as j,ao as b,bK as f,cz as q,c as v,B as h,F as M,aY as F,bk as O,bJ as U,bH as E,bI as A,cZ as H,cy as W,bF as ce,r as T,bM as re,bL as me,w as _e,aZ as D,y as pe}from"./index.e59a70b7.js";import{Q as ue}from"./QPage.33cc8e67.js";import{u as J}from"./use-quasar.fd84a131.js";import{u as z}from"./useQuerySaver.e863619d.js";import{u as K,q as V}from"./quickbase.c0a4ee71.js";import{dayjs as x}from"./dayjs.126d3740.js";import{a as ve}from"./syncEmployeeWithWorkday.973910ee.js";import{f as ye,t as he,r as be}from"./submitRelease.22c809cb.js";import{u as fe}from"./dataStore.11b538de.js";import{Q as $e}from"./QTooltip.7c1c04ce.js";import{o as qe,Q as Y,d as Z}from"./QRating.bf20575a.js";import{Q as G}from"./QList.29ca1ca1.js";import{d as X}from"./decode.593c6ccc.js";import{Q as xe}from"./QSelect.c16b42ed.js";import{Q as we}from"./QForm.1910ac9d.js";import{a as B,b as ge,u as ke}from"./array.9733524d.js";import"./_commonjsHelpers.a26ce4be.js";import"./index.7dbe61ef.js";import"./localForage.cd6b7cb1.js";import"./i18n.c7f06f48.js";import"./api.5c8ce8a2.js";import"./workday.3eac6f89.js";import"./workdayAPI.5ef96c4d.js";import"./dataStore.ebf099da.js";import"./position-engine.98e2e208.js";import"./selection.0080c2a7.js";import"./QChip.564776f1.js";import"./QItemLabel.ca6bf70a.js";import"./QMenu.bb86617b.js";import"./rtl.cf9bbe47.js";const De=S({props:{employee:Object,assignment:Object,release:Object},setup(s){const{getUserType:n}=K();return{dayjs:x,openWindow:qe,getUserType:n}}}),Se=e("div",{class:"text-primary text-h6 text-bold"},"Employee Information",-1),Ce={class:"row q-py-sm"},Re={class:"col-12 col-sm-6 col-md-3"},Ne=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Name")],-1),Pe={class:"text-body2 q-pl-md"},Ye={class:"col-12 col-sm-6 col-md-3"},Ee={class:"text-body2"},Qe=e("span",{class:"text-bold q-mr-md"},"Employee ID",-1),Le={class:"text-body2 q-pl-md"},je={class:"col-12 col-sm-6 col-md-3"},Ie=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Last 4 Digits of SS#")],-1),Te={class:"text-body2 q-pl-md"},ze={class:"col-12 col-sm-6 col-md-3"},Ve=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Payroll ID")],-1),Be={class:"text-body2 q-pl-md"},Me={class:"row q-py-sm"},Fe={class:"col-12 col-sm-6 col-md-3"},Oe=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Phone")],-1),Ue={class:"text-body2 q-pl-md"},Ae={class:"col-12 col-sm-6 col-md-3"},He=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"First Day Worked")],-1),We={class:"text-body2 q-pl-md"},Je={class:"col-12 col-sm-6 col-md-3"},Ke=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Last Day Worked")],-1),Ze={class:"text-body2 q-pl-md"},Ge={class:"col-12 col-sm-6 col-md-3"},Xe=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Effective Date")],-1),es={class:"text-body2 q-pl-md"},ss={class:"row q-py-sm"},os={class:"col-12 col-sm-4 col-md-4"},ts=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Job Site/ Location")],-1),as={class:"text-body2 q-pl-md"},ls={class:"col-12 col-sm-5 col-md-6"},ds=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Job Title")],-1),ns={class:"text-body2 q-pl-md"},is={class:"col-12 col-sm-3 col-md-2"},cs=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Pay Rate")],-1),rs={class:"text-body2 q-pl-md"};function ms(s,n,m,o,y,$){return d(),_(q,null,{default:l(()=>[a(r,{class:"text-center q-py-sm"},{default:l(()=>[Se]),_:1}),a(r,{class:"q-py-none"},{default:l(()=>[e("div",Ce,[e("div",Re,[Ne,e("div",Pe,[e("span",null,t(s.employee[22])+", "+t(s.employee[20]),1)])]),e("div",Ye,[e("div",Ee,[Qe,s.getUserType==="QuickBase User"?(d(),_(N,{key:0,dense:"",size:"sm",flat:"",icon:"open_in_new",color:"info",onClick:n[0]||(n[0]=c=>s.openWindow({url:s.employee[451]}))},{default:l(()=>[a($e,null,{default:l(()=>[j("Open in Workday")]),_:1})]),_:1})):b("",!0)]),e("div",Le,[e("span",null,t(s.employee[378]),1)])]),e("div",je,[Ie,e("div",Te,[e("span",null,t(s.employee[188].substring(s.employee[188].length-4)),1)])]),e("div",ze,[Ve,e("div",Be,[e("span",null,t(s.employee[208]!==""?s.employee[208]:"Not Available"),1)])])]),a(f),e("div",Me,[e("div",Fe,[Oe,e("div",Ue,[e("span",null,t(s.employee[25]),1)])]),e("div",Ae,[He,e("div",We,[e("span",null,t(s.dayjs(s.employee[397].$d).format("MM/DD/YYYY")),1)])]),e("div",Je,[Ke,e("div",Ze,[e("span",null,t(s.dayjs(s.release[36].$d).format("MM/DD/YYYY")),1)])]),e("div",Ge,[Xe,e("div",es,[e("span",null,t(s.dayjs(s.release[36].$d).format("MM/DD/YYYY")),1)])])]),a(f),e("div",ss,[e("div",os,[ts,e("div",as,[e("span",null,t(s.assignment[141]),1)])]),e("div",ls,[ds,e("div",ns,[e("span",null,t(s.assignment[20]),1)])]),e("div",is,[cs,e("div",rs,[e("span",null,"$ "+t(s.assignment[116].toFixed(2)),1)])])])]),_:1})]),_:1})}var _s=g(De,[["render",ms]]);const ps=S({props:{data:Object},setup(s){return{evaluation:v(()=>s.data),convertScore:o=>({1:"Strongly Disagreed",2:"Disagreed",3:"Neutral",4:"Agreed",5:"Strongly Agreed",0:"Did Not Know"})[o]}}}),us=e("div",{class:"text-primary text-h6 text-bold"},"Employee Performance Evaluation",-1),vs={class:"row q-py-sm"},ys={class:"col-12 col-sm-6 col-md-3"},hs=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Has good attendance")],-1),bs={class:"text-body2 q-pl-md"},fs={class:"q-mr-md"},$s={class:"col-12 col-sm-6 col-md-3"},qs=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Has a good attitude")],-1),xs={class:"text-body2 q-pl-md"},ws={class:"q-mr-md"},gs={class:"col-12 col-sm-6 col-md-3"},ks=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Can do their job")],-1),Ds={class:"text-body2 q-pl-md"},Ss={class:"q-mr-md"},Cs={class:"col-12 col-sm-6 col-md-3"},Rs=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Can be promoted in the future")],-1),Ns={class:"text-body2 q-pl-md"},Ps={class:"q-mr-md"};function Ys(s,n,m,o,y,$){return d(),_(q,null,{default:l(()=>[a(r,{class:"text-center q-py-sm"},{default:l(()=>[us]),_:1}),a(r,{class:"q-py-none"},{default:l(()=>[e("div",vs,[e("div",ys,[hs,e("div",bs,[e("span",fs,t(s.convertScore(s.evaluation.attendance)),1),a(Y,{modelValue:s.evaluation.attendance,"onUpdate:modelValue":n[0]||(n[0]=c=>s.evaluation.attendance=c),max:"5",size:"sm",color:"accent",icon:"star_border","icon-selected":"star","icon-half":"star_half","no-dimming":"",readonly:""},null,8,["modelValue"])])]),e("div",$s,[qs,e("div",xs,[e("span",ws,t(s.convertScore(s.evaluation.attitude)),1),a(Y,{modelValue:s.evaluation.attitude,"onUpdate:modelValue":n[1]||(n[1]=c=>s.evaluation.attitude=c),max:"5",size:"sm",color:"accent",icon:"star_border","icon-selected":"star","icon-half":"star_half","no-dimming":"",readonly:""},null,8,["modelValue"])])]),e("div",gs,[ks,e("div",Ds,[e("span",Ss,t(s.convertScore(s.evaluation.capable)),1),a(Y,{modelValue:s.evaluation.capable,"onUpdate:modelValue":n[2]||(n[2]=c=>s.evaluation.capable=c),max:"5",size:"sm",color:"accent",icon:"star_border","icon-selected":"star","icon-half":"star_half","no-dimming":"",readonly:""},null,8,["modelValue"])])]),e("div",Cs,[Rs,e("div",Ns,[e("span",Ps,t(s.convertScore(s.evaluation.promotion)),1),a(Y,{modelValue:s.evaluation.promotion,"onUpdate:modelValue":n[3]||(n[3]=c=>s.evaluation.promotion=c),max:"5",size:"sm",color:"accent",icon:"star_border","icon-selected":"star","icon-half":"star_half","no-dimming":"",readonly:""},null,8,["modelValue"])])])])]),_:1})]),_:1})}var Es=g(ps,[["render",Ys]]);const Qs=S({props:{release:Object,employee:Object},setup(s){return{deductNeeded:v(()=>!s.release[72]&&x.duration(x(s.release[36].$d).diff(x(s.employee[397].$d))).asDays()<30?"Yes":"No"),downloadFile:Z,decodeHTML:X}}}),Ls=e("div",{class:"text-primary text-h6 text-bold"},"Departure Information",-1),js={class:"row"},Is={class:"col-12 col-sm-9"},Ts={class:"row q-py-sm"},zs={class:"col-12 col-sm-6 col-md-6"},Vs={class:"text-body2"},Bs=e("span",{class:"text-bold q-mr-md"},"Return Company Equipment and/or PPE",-1),Ms={class:"col-12 col-sm-6 col-md-6"},Fs={class:"text-body2"},Os=e("span",{class:"text-bold q-mr-md"},"Payroll Deduction Needed",-1),Us={class:"row q-py-sm"},As={class:"col-12"},Hs={class:"text-body2"},Ws=e("span",{class:"text-bold q-mr-md"},"Reason",-1),Js=e("div",{class:"row q-py-sm"},[e("div",{class:"col-12"},[e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Recommendation for Rehire / Reassignment"),e("span",null,"Need to add this to form")])])],-1),Ks={class:"row q-py-sm"},Zs={class:"col-12"},Gs=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Comments")],-1),Xs={class:"text-body2 text-italic q-pl-md"},eo={class:"col-12 col-sm-3 q-pl-sm"},so=e("div",{class:"text-body2 text-bold text-center q-mb-sm"},"Supporting Documents",-1),oo={key:1,class:"text-body2 text-italic text-center"},to=e("span",null,"No Supporting Documents",-1),ao=[to];function lo(s,n,m,o,y,$){return d(),_(q,null,{default:l(()=>[a(r,{class:"text-center q-py-sm"},{default:l(()=>[Ls]),_:1}),a(r,{class:"q-py-none"},{default:l(()=>[e("div",js,[e("div",Is,[e("div",Ts,[e("div",zs,[e("div",Vs,[Bs,e("span",null,t(s.release[72]?"Yes":"No"),1)])]),e("div",Ms,[e("div",Fs,[Os,e("span",null,t(s.deductNeeded),1)])])]),a(f),e("div",Us,[e("div",As,[e("div",Hs,[Ws,e("span",null,t(s.release[32]),1)])])]),a(f),Js,a(f),e("div",Ks,[e("div",Zs,[Gs,e("div",Xs,[e("span",null,t(s.release[60]===""?"No Comments":s.decodeHTML(s.release[60])),1)])])])]),e("div",eo,[so,s.release[70].length>0?(d(),_(G,{key:0},{default:l(()=>[(d(!0),h(M,null,F(s.release[70],(c,p)=>O((d(),_(U,{key:p,clickable:"",class:"text-body2",onClick:i=>s.downloadFile({tableId:"bsstsai5d",recordId:c[3],fieldId:6,versionNumber:1,name:c[7]})},{default:l(()=>[a(E,null,{default:l(()=>[j(t(p+1)+". "+t(c[7]),1)]),_:2},1024),a(E,{avatar:""},{default:l(()=>[a(A,{color:"info",name:"file_download"})]),_:1})]),_:2},1032,["onClick"])),[[H]])),128))]),_:1})):(d(),h("div",oo,ao))])])]),_:1})]),_:1})}var no=g(Qs,[["render",lo]]);const io=S({props:{employee:Object,assignment:Object,release:Object},setup(s){return{dayjs:x}}}),co=e("div",{class:"text-h6 text-bold"},"Employee Information",-1),ro={class:"row q-py-sm"},mo={class:"col-3"},_o=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Last Name")],-1),po={class:"text-body2 q-pl-md"},uo={class:"col-3"},vo=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"First Name")],-1),yo={class:"text-body2 q-pl-md"},ho={class:"col-3"},bo=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Last 4 Digits of SS#")],-1),fo={class:"text-body2 q-pl-md"},$o={class:"col-3"},qo=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Payroll ID")],-1),xo={class:"text-body2 q-pl-md"},wo={class:"row q-py-sm"},go={class:"col-3"},ko=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Phone")],-1),Do={class:"text-body2 q-pl-md"},So={class:"col-3"},Co=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"First Day Worked")],-1),Ro={class:"text-body2 q-pl-md"},No={class:"col-3"},Po=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Last Day Worked")],-1),Yo={class:"text-body2 q-pl-md"},Eo={class:"col-3"},Qo=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Effective Date")],-1),Lo={class:"text-body2 q-pl-md"},jo={class:"row q-py-sm"},Io={class:"col-4"},To=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Job Site/ Location")],-1),zo={class:"text-body2 q-pl-md"},Vo={class:"col-6"},Bo=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Job Title")],-1),Mo={class:"text-body2 q-pl-md"},Fo={class:"col-2"},Oo=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Pay Rate")],-1),Uo={class:"text-body2 q-pl-md"};function Ao(s,n,m,o,y,$){return d(),_(q,{flat:""},{default:l(()=>[a(r,{class:"q-py-sm"},{default:l(()=>[co]),_:1}),a(r,{class:"q-py-none"},{default:l(()=>[e("div",ro,[e("div",mo,[_o,e("div",po,[e("span",null,t(s.employee[22]),1)])]),e("div",uo,[vo,e("div",yo,[e("span",null,t(s.employee[20]),1)])]),e("div",ho,[bo,e("div",fo,[e("span",null,t(s.employee[188].substring(s.employee[188].length-4)),1)])]),e("div",$o,[qo,e("div",xo,[e("span",null,t(s.employee[208]!==""?s.employee[208]:"Not Available"),1)])])]),a(f),e("div",wo,[e("div",go,[ko,e("div",Do,[e("span",null,t(s.employee[25]),1)])]),e("div",So,[Co,e("div",Ro,[e("span",null,t(s.dayjs(s.employee[397].$d).format("MM/DD/YYYY")),1)])]),e("div",No,[Po,e("div",Yo,[e("span",null,t(s.dayjs(s.release[36].$d).format("MM/DD/YYYY")),1)])]),e("div",Eo,[Qo,e("div",Lo,[e("span",null,t(s.dayjs(s.release[36].$d).format("MM/DD/YYYY")),1)])])]),a(f),e("div",jo,[e("div",Io,[To,e("div",zo,[e("span",null,t(s.assignment[141]),1)])]),e("div",Vo,[Bo,e("div",Mo,[e("span",null,t(s.assignment[20]),1)])]),e("div",Fo,[Oo,e("div",Uo,[e("span",null,"$ "+t(s.assignment[116].toFixed(2)),1)])])])]),_:1})]),_:1})}var Ho=g(io,[["render",Ao]]);const Wo=S({props:{data:Object},setup(s){return{evaluation:v(()=>s.data),convertScore:o=>({1:"Strongly Disagreed",2:"Disagreed",3:"Neutral",4:"Agreed",5:"Strongly Agreed",0:"Did Not Know"})[o]}}}),Jo=e("div",{class:"text-h6 text-bold"},"Employee Performance Evaluation",-1),Ko={class:"row q-py-sm"},Zo={class:"col-3"},Go=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Has good attendance")],-1),Xo={class:"text-body2 q-pl-md"},et={class:"q-mr-md"},st={class:"col-3"},ot=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Has a good attitude")],-1),tt={class:"text-body2 q-pl-md"},at={class:"q-mr-md"},lt={class:"col-3"},dt=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Can do their job")],-1),nt={class:"text-body2 q-pl-md"},it={class:"q-mr-md"},ct={class:"col-3"},rt=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Can be promoted in the future")],-1),mt={class:"text-body2 q-pl-md"},_t={class:"q-mr-md"};function pt(s,n,m,o,y,$){return d(),_(q,{flat:"",class:"q-my-none q-py-none"},{default:l(()=>[a(r,{class:"q-py-sm"},{default:l(()=>[Jo]),_:1}),a(r,{class:"q-py-none"},{default:l(()=>[e("div",Ko,[e("div",Zo,[Go,e("div",Xo,[e("span",et,t(s.evaluation.attendance)+" / 5 - "+t(s.convertScore(s.evaluation.attendance)),1)])]),e("div",st,[ot,e("div",tt,[e("span",at,t(s.evaluation.attitude)+" / 5 - "+t(s.convertScore(s.evaluation.attitude)),1)])]),e("div",lt,[dt,e("div",nt,[e("span",it,t(s.evaluation.capable)+" / 5 - "+t(s.convertScore(s.evaluation.capable)),1)])]),e("div",ct,[rt,e("div",mt,[e("span",_t,t(s.evaluation.promotion)+" / 5 - "+t(s.convertScore(s.evaluation.promotion)),1)])])])]),_:1})]),_:1})}var ut=g(Wo,[["render",pt]]);const vt=S({props:{release:Object,employee:Object},setup(s){return{deductNeeded:v(()=>!s.release[72]&&x.duration(x(s.release[36].$d).diff(x(s.employee[397].$d))).asDays()<30?"Yes":"No"),downloadFile:Z,decodeHTML:X}}}),yt=e("div",{class:"text-h6 text-bold"},"Departure Information",-1),ht={class:"row"},bt={class:"col-9"},ft={class:"row q-py-sm"},$t={class:"col-6"},qt={class:"text-body2"},xt=e("span",{class:"text-bold q-mr-md"},"Return Company Equipment and/or PPE",-1),wt={class:"col-6"},gt={class:"text-body2"},kt=e("span",{class:"text-bold q-mr-md"},"Payroll Deduction Needed",-1),Dt={class:"row q-py-sm"},St={class:"col-12"},Ct={class:"text-body2"},Rt=e("span",{class:"text-bold q-mr-md"},"Reason",-1),Nt=e("div",{class:"row q-py-sm"},[e("div",{class:"col-12"},[e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Recommendation for Rehire / Reassignment"),e("span",null,"Need to add this to form")])])],-1),Pt={class:"row q-py-sm"},Yt={class:"col-12"},Et=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Comments")],-1),Qt={class:"text-body2 text-italic q-pl-md"},Lt={class:"col-3 q-pl-sm"},jt=e("div",{class:"text-body2 text-bold text-center q-mb-sm"},"Supporting Documents",-1),It={key:1,class:"text-body2 text-italic text-center"},Tt=e("span",null,"No Supporting Documents",-1),zt=[Tt];function Vt(s,n,m,o,y,$){return d(),_(q,{flat:""},{default:l(()=>[a(r,{class:"q-py-sm"},{default:l(()=>[yt]),_:1}),a(r,{class:"q-py-none"},{default:l(()=>[e("div",ht,[e("div",bt,[e("div",ft,[e("div",$t,[e("div",qt,[xt,e("span",null,t(s.release[72]?"Yes":"No"),1)])]),e("div",wt,[e("div",gt,[kt,e("span",null,t(s.deductNeeded),1)])])]),a(f),e("div",Dt,[e("div",St,[e("div",Ct,[Rt,e("span",null,t(s.release[32]),1)])])]),a(f),Nt,a(f),e("div",Pt,[e("div",Yt,[Et,e("div",Qt,[e("span",null,t(s.release[60]===""?"No Comments":s.decodeHTML(s.release[60])),1)])])])]),e("div",Lt,[jt,s.release[70].length>0?(d(),_(G,{key:0},{default:l(()=>[(d(!0),h(M,null,F(s.release[70],(c,p)=>O((d(),_(U,{key:p,clickable:"",class:"text-body2",onClick:i=>s.downloadFile({tableId:"bsstsai5d",recordId:c[3],fieldId:6,versionNumber:1,name:c[7]})},{default:l(()=>[a(E,null,{default:l(()=>[j(t(p+1)+". "+t(c[7]),1)]),_:2},1024),a(E,{avatar:""},{default:l(()=>[a(A,{color:"info",name:"file_download"})]),_:1})]),_:2},1032,["onClick"])),[[H]])),128))]),_:1})):(d(),h("div",It,zt))])])]),_:1})]),_:1})}var Bt=g(vt,[["render",Vt]]);const Mt=S({emits:["releaseReviewed"],props:{release:Object},setup(s,{emit:n}){const m=J(),o=B({selection:B().required().label("Disposition")}),{meta:y,errors:$,handleSubmit:c,handleReset:p}=ge({validationSchema:o}),{value:i}=ke("selection"),R=c(async k=>{console.log(k),m.dialog({title:"Confirm",message:`Are you sure you want to ${k.selection.value} this employee?`,cancel:!0,persistent:!0}).onOk(async()=>{try{m.loading.show();const{release:C,employee:w}=await ye({release:s.release,disp:k.selection});n("releaseReviewed",{release:C,employee:w}),p()}catch{m.loading.hide(),m.notify({type:"negative",message:"Cannot update release."})}})});return{formErrors:$,formMeta:y,submit:R,selection:i}}}),Ft=e("div",{class:"text-body2 text-weight-bold"},"How would you like to proceed with this employee?",-1),Ot={class:"text-caption"};function Ut(s,n,m,o,y,$){return d(),h("div",null,[a(we,{onSubmit:ce(s.submit,["prevent"])},{default:l(()=>[a(q,null,{default:l(()=>[a(r,{class:"q-pb-xs"},{default:l(()=>[Ft,a(xe,{class:"q-mb-sm",dense:"","transition-show":"flip-up","transition-hide":"flip-down",modelValue:s.selection,"onUpdate:modelValue":n[0]||(n[0]=c=>s.selection=c),options:[{label:"Reassign this Employee",value:"Reassign"},{label:"Terminate this Employee",value:"Terminate"}],"bottom-slots":"",error:!!s.formErrors.selection},{error:l(()=>[e("div",Ot,t(s.formErrors.selection),1)]),_:1},8,["modelValue","error"])]),_:1}),a(W,{class:"q-pt-xs",align:"right"},{default:l(()=>[a(N,{color:"primary",label:"Submit",type:"submit"})]),_:1})]),_:1})]),_:1},8,["onSubmit"])])}var At=g(Mt,[["render",Ut]]);const Ht={name:"View Release",directives:{},components:{EmployeeInformation:_s,Evaluation:Es,DepartureInformation:no,PrintDepartureInformation:Bt,PrintEmployeeInformation:Ho,PrintEvaluation:ut,ReviewForm:At},setup(){const s=T(!1),n=T(!1),m=J(),o=re();me();const{capitalize:y}=pe,{getUserType:$}=K(),{getReleases:c,setReleases:p}=fe(),i=v(()=>c(o.params.release)),R=v(()=>i.value?i.value[79]==="Complete"?!1:!x().isBefore(x(i.value[36].$d)):!1),k=v(()=>i.value?i.value[66]:null),C=v(()=>i.value?i.value[67]:null),w=v(()=>i.value[59]&&i.value[59][0]?i.value[59][0]:null),I=v(()=>{const{data:u}=w.value?w.value:{data:null};return u}),ee=v(()=>i.value?i.value[38]:null),se=v(()=>w.value&&w.value[44]?w.value[44]:null),oe=v(()=>i.value?i.value[75]:null),te=v(()=>i.value?i.value[76]:null),ae=async()=>{const{sync:u,clm:Q}=await ve({clm:i.value[66]}),{employmentData:L}=u;if(L.workerStatus.active)m.dialog({title:"Alert",message:"Please complete the termination in Workday."});else try{const{data:P}=await he({release:i.value});p({id:P[3],data:P}),m.dialog({title:"Alert",message:`Employee ${P[49]} was updated. You may close this window.`,cancel:!1})}catch{m.notify({type:"negative",message:"There was a problem updating termination."})}},le=({release:u,employee:Q})=>{if(u[43]==="Reassign"){const L=`https://elitehcms.quickbase.com/db/bpzpy6n3x?a=dbpage&pageID=2&ee=${Q[3]}`;window.location.href=L}else p({id:u[3],data:u}),m.loading.hide(),m.notify({type:"positive",message:"Release Saved"})},de=()=>{window.close()},ne=async()=>{if(m.loading.show(),!c(o.params.release)){const{data:u}=await V.fetchFromHiringApp({fields:[z({type:"releases",query:"",id:o.params.release})]});p({id:u[3],data:u})}if(m.loading.hide(),R.value){await be({assignment:i.value[67]});const{data:u}=await V.fetchFromHiringApp({fields:[z({type:"releases",query:"",id:o.params.release})]});p({id:u[3],data:u})}},ie=()=>{s.value=!0};return _e(s,(u,Q)=>{s.value&&setTimeout(()=>{print(),setTimeout(()=>{s.value=!1},500)},200)}),ne(),{release:i,employee:k,assignment:C,evaluation:I,evaluator:se,reviewer:oe,processor:te,getUserType:$,fab:n,dayjs:x,submitter:ee,capitalize:y,showPrint:s,printPage:ie,releaseReviewed:le,completeTermination:ae,closeWindow:de}}},Wt={class:"q-px-sm q-pb-xl"},Jt={class:"row q-py-sm"},Kt={class:"col-12 col-sm-3"},Zt=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Submitted By")],-1),Gt={class:"text-body2 q-pl-md"},Xt={class:"col-12 col-sm-3"},ea=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Evaluated By")],-1),sa={class:"text-body2 q-pl-md"},oa={key:0},ta={key:1},aa={key:0,class:"col-12 col-sm-3"},la=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Reviewed By")],-1),da={class:"text-body2 q-pl-md"},na={key:1,class:"col-3"},ia=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Processed By")],-1),ca={class:"text-body2 q-pl-md"},ra={class:"row"},ma={class:"col-12 col-md-6"},_a={class:"row q-py-sm"},pa={class:"col-3"},ua=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Submitted By")],-1),va={class:"text-body2 q-pl-md"},ya={class:"col-3"},ha=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Evaluated By")],-1),ba={class:"text-body2 q-pl-md"},fa={key:0},$a={key:1},qa={key:0,class:"col-3"},xa=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Reviewed By")],-1),wa={class:"text-body2 q-pl-md"},ga={key:1,class:"col-3"},ka=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Processed By")],-1),Da={class:"text-body2 q-pl-md"};function Sa(s,n,m,o,y,$){const c=D("employee-information"),p=D("evaluation"),i=D("departure-information"),R=D("review-form"),k=D("print-employee-information"),C=D("print-evaluation"),w=D("print-departure-information");return d(),_(ue,{style:{"max-width":"100vw"}},{default:l(()=>[e("div",Wt,[o.release&&!o.showPrint?(d(),_(q,{key:0,flat:"",class:"text-dark"},{default:l(()=>[s.$route.name==="view-release"?(d(),_(W,{key:0,class:"q-pb-xs print-hide",align:"right"},{default:l(()=>[o.release[42]==="Reviewed"&&o.release[43]==="Terminate"&&o.getUserType==="QuickBase User"?(d(),_(N,{key:0,icon:"done",label:"Termination Processed",color:"positive",onClick:o.completeTermination},null,8,["onClick"])):b("",!0),a(N,{icon:"print",label:"Print",color:"info",onClick:o.printPage},null,8,["onClick"]),a(N,{icon:"close",label:"Close",color:"dark",onClick:n[0]||(n[0]=I=>o.getUserType==="QuickBase User"?o.closeWindow():s.$router.replace({name:"employees"}))})]),_:1})):b("",!0),a(r,{class:"q-py-xs"},{default:l(()=>[a(c,{assignment:o.assignment,employee:o.employee,release:o.release},null,8,["assignment","employee","release"])]),_:1}),o.evaluation?(d(),_(r,{key:1,class:"q-py-xs"},{default:l(()=>[a(p,{data:o.evaluation},null,8,["data"])]),_:1})):b("",!0),a(r,{class:"q-py-xs"},{default:l(()=>[a(i,{employee:o.employee,release:o.release},null,8,["employee","release"])]),_:1}),a(r,{class:"q-py-xs"},{default:l(()=>[a(q,null,{default:l(()=>[a(r,{class:"q-py-none"},{default:l(()=>[e("div",Jt,[e("div",Kt,[Zt,e("div",Gt,[e("span",null,t(o.submitter[37])+", "+t(o.submitter[35]),1)])]),e("div",Xt,[ea,e("div",sa,[o.evaluator?(d(),h("span",oa,t(o.capitalize(o.evaluator[22].toLowerCase()))+", "+t(o.capitalize(o.evaluator[20].toLowerCase())),1)):(d(),h("span",ta,"Not Specified"))])]),o.reviewer?(d(),h("div",aa,[la,e("div",da,[e("span",null,t(o.capitalize(o.reviewer[37].toLowerCase()))+", "+t(o.capitalize(o.reviewer[35].toLowerCase())),1)])])):b("",!0),o.processor?(d(),h("div",na,[ia,e("div",ca,[e("span",null,t(o.capitalize(o.processor[37].toLowerCase()))+", "+t(o.capitalize(o.processor[35].toLowerCase())),1)])])):b("",!0)])]),_:1})]),_:1})]),_:1}),o.release[42]==="Pending"&&o.getUserType==="QuickBase User"?(d(),_(r,{key:2,class:"q-py-sm"},{default:l(()=>[e("div",ra,[e("div",ma,[a(R,{release:o.release,onReleaseReviewed:o.releaseReviewed},null,8,["release","onReleaseReviewed"])])])]),_:1})):b("",!0)]),_:1})):b("",!0),o.release&&o.showPrint?(d(),_(q,{key:1,id:"printArea",flat:"",class:"text-body2"},{default:l(()=>[a(r,{class:"q-py-xs"},{default:l(()=>[a(k,{assignment:o.assignment,employee:o.employee,release:o.release},null,8,["assignment","employee","release"])]),_:1}),a(f),o.evaluation?(d(),_(r,{key:0,class:"q-py-xs"},{default:l(()=>[a(C,{data:o.evaluation},null,8,["data"])]),_:1})):b("",!0),a(f),a(r,{class:"q-py-xs"},{default:l(()=>[a(w,{employee:o.employee,release:o.release},null,8,["employee","release"])]),_:1}),a(r,{class:"q-pb-sm"},{default:l(()=>[a(q,{flat:""},{default:l(()=>[a(r,{class:"q-py-none"},{default:l(()=>[e("div",_a,[e("div",pa,[ua,e("div",va,[e("span",null,t(o.submitter[37])+", "+t(o.submitter[35]),1)])]),e("div",ya,[ha,e("div",ba,[o.evaluator?(d(),h("span",fa,t(o.capitalize(o.evaluator[22].toLowerCase()))+", "+t(o.capitalize(o.evaluator[20].toLowerCase())),1)):(d(),h("span",$a,"Not Specified"))])]),o.reviewer?(d(),h("div",qa,[xa,e("div",wa,[e("span",null,t(o.capitalize(o.reviewer[37].toLowerCase()))+", "+t(o.capitalize(o.reviewer[35].toLowerCase())),1)])])):b("",!0),o.processor?(d(),h("div",ga,[ka,e("div",Da,[e("span",null,t(o.capitalize(o.processor[37].toLowerCase()))+", "+t(o.capitalize(o.processor[35].toLowerCase())),1)])])):b("",!0)])]),_:1})]),_:1})]),_:1})]),_:1})):b("",!0)])]),_:1})}var al=g(Ht,[["render",Sa]]);export{al as default};
