import{l as I,r as N,c as _,_ as Y,A as i,an as y,bi as l,d as a,cw as u,D as e,ab as o,bK as g,bO as L,au as A,ao as w,B as f,F as z,aY as V,cz as x,bk as K,bJ as Z,bH as P,bI as G,cZ as X,cy as ee,bF as ue,bM as _e,bL as ve,w as ye,aZ as R,y as he}from"./index.b48bafa3.js";import{Q as be}from"./QPage.f2628afe.js";import{u as se}from"./use-quasar.ed3977b0.js";import{u as T}from"./useQuerySaver.b8f46e72.js";import{u as O,q as j}from"./quickbase.76c41fac.js";import{dayjs as $}from"./dayjs.1b825f16.js";import{a as H}from"./syncEmployeeWithWorkday.1c71591d.js";import{f as fe,t as $e,r as qe}from"./submitRelease.7d931833.js";import{u as E}from"./dataStore.beef04c5.js";import{Q as te}from"./QTooltip.b1ab7884.js";import{Q as ge}from"./QInnerLoading.7b168168.js";import{o as oe,d as ae}from"./helpers.983c4b26.js";import{d as F}from"./decode.593c6ccc.js";import{Q}from"./QRating.2f06f6a3.js";import{Q as le}from"./QList.fb685d10.js";import{Q as we}from"./QSelect.b8f07e1a.js";import{Q as xe}from"./QForm.fc9a358b.js";import{a as De,u as ke}from"./vee-validate.esm.caf1489b.js";import{a as J}from"./array.b59bb1b2.js";import"./_commonjsHelpers.a26ce4be.js";import"./index.7dbe61ef.js";import"./localForage.81a16957.js";import"./i18n.469ad19f.js";import"./api.004b0e8a.js";import"./workday.102c955e.js";import"./workdayAPI.2451b62c.js";import"./dataStore.708e0494.js";import"./position-engine.859102af.js";import"./selection.880c234f.js";import"./QChip.a60f92f6.js";import"./QItemLabel.6755a8b9.js";import"./QMenu.c9ecf4aa.js";import"./rtl.cf9bbe47.js";const Ce=I({props:{employee:Object,assignment:Object,release:Object},setup(s){const{getUserType:d}=O(),{updateViewedReleases:r,getReleases:t}=E(),h=N(!0),b=N(!0),n=_(()=>t(s.release[3])),m=_(()=>n.value&&n.value.employee?n.value.employee:null),c=_(()=>n.value&&n.value.assignment?n.value.assignment:null),k=_(()=>{if(!m.value||!m.value.workday)return[];{const{personalData:p}=m.value.workday;if(p){const{customIds:S}=p.identificationData?p.identificationData:{customIds:[]};return S}else return[]}}),D=async()=>{if(m.value){const{sync:p}=await H({clm:m.value});r({id:s.release[3],dataset:"employee",nested:!0,subset:"workday",data:p}),h.value=!1}else{const{data:p}=await j.fetchFromHiringApp({fields:[T({type:"employee",id:s.release[25]})]}),{sync:S}=await H({clm:p});await r({id:s.release[3],dataset:"employee",data:p}),r({id:s.release[3],dataset:"employee",nested:!0,subset:"workday",data:S}),h.value=!1}if(c.value)b.value=!1;else{const{data:p}=await j.fetchFromHiringApp({fields:[T({type:"rawAssignments",id:s.release[28]})]});r({id:s.release[3],dataset:"assignment",data:p}),b.value=!1}},C=p=>p[145].$d?$(p[145].$d).format("MM/DD/YYYY"):$(p[1].$d).format("MM/DD/YYYY"),v=({id:p,idType:S})=>S.includes("J&amp;E")?`${p.slice(1,4)} / ${p.slice(-5)}`:p;return D(),{dayjs:$,openWindow:oe,getUserType:d,employeeData:m,assignmentData:c,eeLoading:h,assignLoading:b,getArrivalDate:C,employeeCustomIds:k,decodeHTML:F,processCustomID:v}}}),Se=e("div",{class:"text-primary text-h6 text-bold"},"Employee Information",-1),Ye={class:"row q-py-sm"},Re={class:"col-12 col-sm-3"},Ie=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Name")],-1),Le={class:"text-body2 q-pl-md"},Ne={class:"col-12 col-sm-3"},Ee=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Last 4 Digits of SS#")],-1),Me={class:"text-body2 q-pl-md"},Qe={class:"col-12 col-sm-3"},Pe=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Phone")],-1),Te={class:"text-body2 q-pl-md"},je={class:"row q-py-sm"},Ae={class:"col-12 col-sm-3"},ze={class:"text-body2"},Ve=e("span",{class:"text-bold q-mr-md"},"Workday Employee ID",-1),Be={class:"text-body2 q-pl-md"},Ue={class:"text-body2"},He={class:"text-bold q-mr-md"},Oe={class:"text-body2 q-pl-md"},Fe={class:"row q-py-sm"},We={class:"col-12 col-sm-3"},Je=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Arrival Date")],-1),Ke={class:"text-body2 q-pl-md"},Ze={class:"col-12 col-sm-3"},Ge=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Last Hire Date")],-1),Xe={class:"text-body2 q-pl-md"},es={class:"col-12 col-sm-3"},ss=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Last Day Worked")],-1),ts={class:"text-body2 q-pl-md"},os={class:"col-12 col-sm-3"},as=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Effective Date")],-1),ls={class:"text-body2 q-pl-md"},ns={class:"row q-py-sm"},ds={class:"col-12 col-sm-4"},is=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Job Site/ Location")],-1),cs={class:"text-body2 q-pl-md"},rs={class:"col-12 col-sm-4"},ms=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Job Title")],-1),ps={class:"text-body2 q-pl-md"},us={class:"col-12 col-sm-4"},_s=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Pay Rate")],-1),vs={class:"text-body2 q-pl-md"};function ys(s,d,r,t,h,b){return i(),y(x,null,{default:l(()=>[a(u,{class:"text-center q-py-sm"},{default:l(()=>[Se]),_:1}),!s.eeLoading&&!s.assignLoading?(i(),y(u,{key:0,class:"q-py-none"},{default:l(()=>[e("div",Ye,[e("div",Re,[Ie,e("div",Le,[e("span",null,o(s.employeeData[22])+", "+o(s.employeeData[20]),1)])]),e("div",Ne,[Ee,e("div",Me,[e("span",null,o(s.employeeData[188].substring(s.employeeData[188].length-4)),1)])]),e("div",Qe,[Pe,e("div",Te,[e("span",null,o(s.employeeData[25]),1)])])]),a(g),e("div",je,[e("div",Ae,[e("div",ze,[Ve,s.getUserType==="QuickBase User"?(i(),y(L,{key:0,dense:"",size:"sm",flat:"",icon:"open_in_new",color:"info",onClick:d[0]||(d[0]=n=>s.openWindow({url:s.employeeData[451]}))},{default:l(()=>[a(te,null,{default:l(()=>[A("Open in Workday")]),_:1})]),_:1})):w("",!0)]),e("div",Be,[e("span",null,o(s.employeeData[378]),1)])]),(i(!0),f(z,null,V(s.employeeCustomIds,(n,m)=>(i(),f("div",{key:m,class:"col-12 col-sm-3"},[e("div",Ue,[e("span",He,o(s.decodeHTML(n.idType)),1)]),e("div",Oe,[e("span",null,o(s.processCustomID(n)),1)])]))),128))]),a(g),e("div",Fe,[e("div",We,[Je,e("div",Ke,[e("span",null,o(s.getArrivalDate(s.assignmentData)),1)])]),e("div",Ze,[Ge,e("div",Xe,[e("span",null,o(s.dayjs(s.employeeData[397].$d).format("MM/DD/YYYY")),1)])]),e("div",es,[ss,e("div",ts,[e("span",null,o(s.dayjs(s.release[36].$d).format("MM/DD/YYYY")),1)])]),e("div",os,[as,e("div",ls,[e("span",null,o(s.dayjs(s.release[36].$d).format("MM/DD/YYYY")),1)])])]),a(g),e("div",ns,[e("div",ds,[is,e("div",cs,[e("span",null,o(s.assignmentData[141]),1)])]),e("div",rs,[ms,e("div",ps,[e("span",null,o(s.assignmentData[20]),1)])]),e("div",us,[_s,e("div",vs,[e("span",null,"$ "+o(s.assignmentData[116].toFixed(2)),1)])])])]),_:1})):(i(),y(u,{key:1,class:"q-my-lg"},{default:l(()=>[a(ge,{color:"primary",showing:""})]),_:1}))]),_:1})}var hs=Y(Ce,[["render",ys]]);const bs=I({props:{data:Object},setup(s){return{evaluation:_(()=>s.data),convertScore:t=>({1:"Strongly Disagreed",2:"Disagreed",3:"Neutral",4:"Agreed",5:"Strongly Agreed",0:"Did Not Know"})[t]}}}),fs=e("div",{class:"text-primary text-h6 text-bold"},"Employee Performance Evaluation",-1),$s={class:"row q-py-sm"},qs={class:"col-12 col-sm-6 col-md-3"},gs=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Has good attendance")],-1),ws={class:"text-body2 q-pl-md"},xs={class:"q-mr-md"},Ds={class:"col-12 col-sm-6 col-md-3"},ks=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Has a good attitude")],-1),Cs={class:"text-body2 q-pl-md"},Ss={class:"q-mr-md"},Ys={class:"col-12 col-sm-6 col-md-3"},Rs=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Can do their job")],-1),Is={class:"text-body2 q-pl-md"},Ls={class:"q-mr-md"},Ns={class:"col-12 col-sm-6 col-md-3"},Es=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Can be promoted in the future")],-1),Ms={class:"text-body2 q-pl-md"},Qs={class:"q-mr-md"};function Ps(s,d,r,t,h,b){return i(),y(x,null,{default:l(()=>[a(u,{class:"text-center q-py-sm"},{default:l(()=>[fs]),_:1}),a(u,{class:"q-py-none"},{default:l(()=>[e("div",$s,[e("div",qs,[gs,e("div",ws,[e("span",xs,o(s.convertScore(s.evaluation.attendance)),1),a(Q,{modelValue:s.evaluation.attendance,"onUpdate:modelValue":d[0]||(d[0]=n=>s.evaluation.attendance=n),max:"5",size:"sm",color:"accent",icon:"star_border","icon-selected":"star","icon-half":"star_half","no-dimming":"",readonly:""},null,8,["modelValue"])])]),e("div",Ds,[ks,e("div",Cs,[e("span",Ss,o(s.convertScore(s.evaluation.attitude)),1),a(Q,{modelValue:s.evaluation.attitude,"onUpdate:modelValue":d[1]||(d[1]=n=>s.evaluation.attitude=n),max:"5",size:"sm",color:"accent",icon:"star_border","icon-selected":"star","icon-half":"star_half","no-dimming":"",readonly:""},null,8,["modelValue"])])]),e("div",Ys,[Rs,e("div",Is,[e("span",Ls,o(s.convertScore(s.evaluation.capable)),1),a(Q,{modelValue:s.evaluation.capable,"onUpdate:modelValue":d[2]||(d[2]=n=>s.evaluation.capable=n),max:"5",size:"sm",color:"accent",icon:"star_border","icon-selected":"star","icon-half":"star_half","no-dimming":"",readonly:""},null,8,["modelValue"])])]),e("div",Ns,[Es,e("div",Ms,[e("span",Qs,o(s.convertScore(s.evaluation.promotion)),1),a(Q,{modelValue:s.evaluation.promotion,"onUpdate:modelValue":d[3]||(d[3]=n=>s.evaluation.promotion=n),max:"5",size:"sm",color:"accent",icon:"star_border","icon-selected":"star","icon-half":"star_half","no-dimming":"",readonly:""},null,8,["modelValue"])])])])]),_:1})]),_:1})}var Ts=Y(bs,[["render",Ps]]);const js=I({props:{release:Object,employee:Object},setup(s){const{getReleases:d}=E(),r=_(()=>d(s.release[3])&&d(s.release[3]).employee?d(s.release[3]).employee:null);return{deductNeeded:_(()=>r.value&&!s.release[72]&&$.duration($(s.release[36].$d).diff($(s.employee[397].$d))).asDays()<30?"Yes":"No"),downloadFile:ae,decodeHTML:F}}}),As=e("div",{class:"text-primary text-h6 text-bold"},"Departure Information",-1),zs={class:"row"},Vs={class:"col-12 col-sm-9"},Bs={class:"row q-py-sm"},Us={class:"col-12 col-sm-6 col-md-6"},Hs={class:"text-body2"},Os=e("span",{class:"text-bold q-mr-md"},"Return Company Equipment and/or PPE",-1),Fs={class:"col-12 col-sm-6 col-md-6"},Ws={class:"text-body2"},Js=e("span",{class:"text-bold q-mr-md"},"Payroll Deduction Needed",-1),Ks={class:"row q-py-sm"},Zs={class:"col-12"},Gs={class:"text-body2"},Xs=e("span",{class:"text-bold q-mr-md"},"Reason",-1),et=e("div",{class:"row q-py-sm"},[e("div",{class:"col-12"},[e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Recommendation for Rehire / Reassignment"),e("span",null,"Need to add this to form")])])],-1),st={class:"row q-py-sm"},tt={class:"col-12"},ot=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Comments")],-1),at={class:"text-body2 text-italic q-pl-md"},lt={class:"col-12 col-sm-3 q-pl-sm"},nt=e("div",{class:"text-body2 text-bold text-center q-mb-sm"},"Supporting Documents",-1),dt={key:1,class:"text-body2 text-italic text-center"},it=e("span",null,"No Supporting Documents",-1),ct=[it];function rt(s,d,r,t,h,b){return i(),y(x,null,{default:l(()=>[a(u,{class:"text-center q-py-sm"},{default:l(()=>[As]),_:1}),a(u,{class:"q-py-none"},{default:l(()=>[e("div",zs,[e("div",Vs,[e("div",Bs,[e("div",Us,[e("div",Hs,[Os,e("span",null,o(s.release[72]?"Yes":"No"),1)])]),e("div",Fs,[e("div",Ws,[Js,e("span",null,o(s.deductNeeded),1)])])]),a(g),e("div",Ks,[e("div",Zs,[e("div",Gs,[Xs,e("span",null,o(s.release[32]),1)])])]),a(g),et,a(g),e("div",st,[e("div",tt,[ot,e("div",at,[e("span",null,o(s.release[60]===""?"No Comments":s.decodeHTML(s.release[60])),1)])])])]),e("div",lt,[nt,s.release[70].length>0?(i(),y(le,{key:0},{default:l(()=>[(i(!0),f(z,null,V(s.release[70],(n,m)=>K((i(),y(Z,{key:m,clickable:"",class:"text-body2",onClick:c=>s.downloadFile({tableId:"bsstsai5d",recordId:n[3],fieldId:6,versionNumber:1,name:n[7]})},{default:l(()=>[a(P,null,{default:l(()=>[A(o(m+1)+". "+o(n[7]),1)]),_:2},1024),a(P,{avatar:""},{default:l(()=>[a(G,{color:"info",name:"file_download"})]),_:1})]),_:2},1032,["onClick"])),[[X]])),128))]),_:1})):(i(),f("div",dt,ct))])])]),_:1})]),_:1})}var mt=Y(js,[["render",rt]]);const pt=I({props:{employee:Object,assignment:Object,release:Object},setup(s){const{getUserType:d}=O(),{updateViewedReleases:r,getReleases:t}=E(),h=N(!0),b=N(!0),n=_(()=>t(s.release[3])),m=_(()=>n.value&&n.value.employee?n.value.employee:null),c=_(()=>n.value&&n.value.assignment?n.value.assignment:null),k=_(()=>{if(!m.value||!m.value.workday)return[];{const{personalData:v}=m.value.workday;if(v){const{customIds:p}=v.identificationData?v.identificationData:{customIds:[]};return p}else return[]}});return{dayjs:$,openWindow:oe,getUserType:d,employeeData:m,assignmentData:c,eeLoading:h,assignLoading:b,getArrivalDate:v=>v[145].$d?$(v[145].$d).format("MM/DD/YYYY"):$(v[1].$d).format("MM/DD/YYYY"),employeeCustomIds:k,processCustomID:({id:v,idType:p})=>p.includes("J&amp;E")?`${v.slice(1,4)} / ${v.slice(-5)}`:v}}}),ut=e("div",{class:"text-h6 text-bold"},"Employee Information",-1),_t={class:"row q-py-sm"},vt={class:"col-3"},yt=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Name")],-1),ht={class:"text-body2 q-pl-md"},bt={class:"col-3"},ft=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Last 4 Digits of SS#")],-1),$t={class:"text-body2 q-pl-md"},qt={class:"col-3"},gt=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Phone")],-1),wt={class:"text-body2 q-pl-md"},xt={class:"row q-py-sm"},Dt={class:"col-3"},kt={class:"text-body2"},Ct=e("span",{class:"text-bold q-mr-md"},"Workday Employee ID",-1),St={class:"text-body2 q-pl-md"},Yt={class:"text-body2"},Rt={class:"text-bold q-mr-md"},It={class:"text-body2 q-pl-md"},Lt={class:"row q-py-sm"},Nt={class:"col-3"},Et=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Arrival Date")],-1),Mt={class:"text-body2 q-pl-md"},Qt={class:"col-3"},Pt=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Last Hire Date")],-1),Tt={class:"text-body2 q-pl-md"},jt={class:"col-3"},At=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Last Day Worked")],-1),zt={class:"text-body2 q-pl-md"},Vt={class:"col-3"},Bt=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Effective Date")],-1),Ut={class:"text-body2 q-pl-md"},Ht={class:"row q-py-sm"},Ot={class:"col-4"},Ft=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Job Site/ Location")],-1),Wt={class:"text-body2 q-pl-md"},Jt={class:"col-4"},Kt=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Job Title")],-1),Zt={class:"text-body2 q-pl-md"},Gt={class:"col-2"},Xt=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Pay Rate")],-1),eo={class:"text-body2 q-pl-md"};function so(s,d,r,t,h,b){return i(),y(x,{flat:""},{default:l(()=>[a(u,{class:"q-py-sm"},{default:l(()=>[ut]),_:1}),a(u,{class:"q-py-none"},{default:l(()=>[e("div",_t,[e("div",vt,[yt,e("div",ht,[e("span",null,o(s.employeeData[22])+", "+o(s.employeeData[20]),1)])]),e("div",bt,[ft,e("div",$t,[e("span",null,o(s.employeeData[188].substring(s.employeeData[188].length-4)),1)])]),e("div",qt,[gt,e("div",wt,[e("span",null,o(s.employeeData[25]),1)])])]),a(g),e("div",xt,[e("div",Dt,[e("div",kt,[Ct,s.getUserType==="QuickBase User"?(i(),y(L,{key:0,dense:"",size:"sm",flat:"",icon:"open_in_new",color:"info",onClick:d[0]||(d[0]=n=>s.openWindow({url:s.employeeData[451]}))},{default:l(()=>[a(te,null,{default:l(()=>[A("Open in Workday")]),_:1})]),_:1})):w("",!0)]),e("div",St,[e("span",null,o(s.employeeData[378]),1)])]),(i(!0),f(z,null,V(s.employeeCustomIds,(n,m)=>(i(),f("div",{key:m,class:"col-3"},[e("div",Yt,[e("span",Rt,o(s.decodeHTML(n.idType)),1)]),e("div",It,[e("span",null,o(s.processCustomID(n)),1)])]))),128))]),a(g),e("div",Lt,[e("div",Nt,[Et,e("div",Mt,[e("span",null,o(s.getArrivalDate(s.assignmentData)),1)])]),e("div",Qt,[Pt,e("div",Tt,[e("span",null,o(s.dayjs(s.employeeData[397].$d).format("MM/DD/YYYY")),1)])]),e("div",jt,[At,e("div",zt,[e("span",null,o(s.dayjs(s.release[36].$d).format("MM/DD/YYYY")),1)])]),e("div",Vt,[Bt,e("div",Ut,[e("span",null,o(s.dayjs(s.release[36].$d).format("MM/DD/YYYY")),1)])])]),a(g),e("div",Ht,[e("div",Ot,[Ft,e("div",Wt,[e("span",null,o(s.assignmentData[141]),1)])]),e("div",Jt,[Kt,e("div",Zt,[e("span",null,o(s.assignmentData[20]),1)])]),e("div",Gt,[Xt,e("div",eo,[e("span",null,"$ "+o(s.assignmentData[116].toFixed(2)),1)])])])]),_:1})]),_:1})}var to=Y(pt,[["render",so]]);const oo=I({props:{data:Object},setup(s){return{evaluation:_(()=>s.data),convertScore:t=>({1:"Strongly Disagreed",2:"Disagreed",3:"Neutral",4:"Agreed",5:"Strongly Agreed",0:"Did Not Know"})[t]}}}),ao=e("div",{class:"text-h6 text-bold"},"Employee Performance Evaluation",-1),lo={class:"row q-py-sm"},no={class:"col-3"},io=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Has good attendance")],-1),co={class:"text-body2 q-pl-md"},ro={class:"q-mr-md"},mo={class:"col-3"},po=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Has a good attitude")],-1),uo={class:"text-body2 q-pl-md"},_o={class:"q-mr-md"},vo={class:"col-3"},yo=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Can do their job")],-1),ho={class:"text-body2 q-pl-md"},bo={class:"q-mr-md"},fo={class:"col-3"},$o=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Can be promoted in the future")],-1),qo={class:"text-body2 q-pl-md"},go={class:"q-mr-md"};function wo(s,d,r,t,h,b){return i(),y(x,{flat:"",class:"q-my-none q-py-none"},{default:l(()=>[a(u,{class:"q-py-sm"},{default:l(()=>[ao]),_:1}),a(u,{class:"q-py-none"},{default:l(()=>[e("div",lo,[e("div",no,[io,e("div",co,[e("span",ro,o(s.evaluation.attendance)+" / 5 - "+o(s.convertScore(s.evaluation.attendance)),1)])]),e("div",mo,[po,e("div",uo,[e("span",_o,o(s.evaluation.attitude)+" / 5 - "+o(s.convertScore(s.evaluation.attitude)),1)])]),e("div",vo,[yo,e("div",ho,[e("span",bo,o(s.evaluation.capable)+" / 5 - "+o(s.convertScore(s.evaluation.capable)),1)])]),e("div",fo,[$o,e("div",qo,[e("span",go,o(s.evaluation.promotion)+" / 5 - "+o(s.convertScore(s.evaluation.promotion)),1)])])])]),_:1})]),_:1})}var xo=Y(oo,[["render",wo]]);const Do=I({props:{release:Object,employee:Object},setup(s){const{getReleases:d}=E(),r=_(()=>d(s.release[3])&&d(s.release[3]).employee?d(s.release[3]).employee:null);return{deductNeeded:_(()=>r.value&&!s.release[72]&&$.duration($(s.release[36].$d).diff($(s.employee[397].$d))).asDays()<30?"Yes":"No"),downloadFile:ae,decodeHTML:F}}}),ko=e("div",{class:"text-h6 text-bold"},"Departure Information",-1),Co={class:"row"},So={class:"col-9"},Yo={class:"row q-py-sm"},Ro={class:"col-6"},Io={class:"text-body2"},Lo=e("span",{class:"text-bold q-mr-md"},"Return Company Equipment and/or PPE",-1),No={class:"col-6"},Eo={class:"text-body2"},Mo=e("span",{class:"text-bold q-mr-md"},"Payroll Deduction Needed",-1),Qo={class:"row q-py-sm"},Po={class:"col-12"},To={class:"text-body2"},jo=e("span",{class:"text-bold q-mr-md"},"Reason",-1),Ao=e("div",{class:"row q-py-sm"},[e("div",{class:"col-12"},[e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Recommendation for Rehire / Reassignment"),e("span",null,"Need to add this to form")])])],-1),zo={class:"row q-py-sm"},Vo={class:"col-12"},Bo=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Comments")],-1),Uo={class:"text-body2 text-italic q-pl-md"},Ho={class:"col-3 q-pl-sm"},Oo=e("div",{class:"text-body2 text-bold text-center q-mb-sm"},"Supporting Documents",-1),Fo={key:1,class:"text-body2 text-italic text-center"},Wo=e("span",null,"No Supporting Documents",-1),Jo=[Wo];function Ko(s,d,r,t,h,b){return i(),y(x,{flat:""},{default:l(()=>[a(u,{class:"q-py-sm"},{default:l(()=>[ko]),_:1}),a(u,{class:"q-py-none"},{default:l(()=>[e("div",Co,[e("div",So,[e("div",Yo,[e("div",Ro,[e("div",Io,[Lo,e("span",null,o(s.release[72]?"Yes":"No"),1)])]),e("div",No,[e("div",Eo,[Mo,e("span",null,o(s.deductNeeded),1)])])]),a(g),e("div",Qo,[e("div",Po,[e("div",To,[jo,e("span",null,o(s.release[32]),1)])])]),a(g),Ao,a(g),e("div",zo,[e("div",Vo,[Bo,e("div",Uo,[e("span",null,o(s.release[60]===""?"No Comments":s.decodeHTML(s.release[60])),1)])])])]),e("div",Ho,[Oo,s.release[70].length>0?(i(),y(le,{key:0},{default:l(()=>[(i(!0),f(z,null,V(s.release[70],(n,m)=>K((i(),y(Z,{key:m,clickable:"",class:"text-body2",onClick:c=>s.downloadFile({tableId:"bsstsai5d",recordId:n[3],fieldId:6,versionNumber:1,name:n[7]})},{default:l(()=>[a(P,null,{default:l(()=>[A(o(m+1)+". "+o(n[7]),1)]),_:2},1024),a(P,{avatar:""},{default:l(()=>[a(G,{color:"info",name:"file_download"})]),_:1})]),_:2},1032,["onClick"])),[[X]])),128))]),_:1})):(i(),f("div",Fo,Jo))])])]),_:1})]),_:1})}var Zo=Y(Do,[["render",Ko]]);const Go=I({emits:["releaseReviewed"],props:{release:Object},setup(s,{emit:d}){const r=se(),t=J({selection:J().required().label("Disposition")}),{meta:h,errors:b,handleSubmit:n,handleReset:m}=De({validationSchema:t}),{value:c}=ke("selection"),k=n(async D=>{console.log(D),r.dialog({title:"Confirm",message:`Are you sure you want to ${D.selection.value} this employee?`,cancel:!0,persistent:!0}).onOk(async()=>{try{r.loading.show();const{release:C,employee:v}=await fe({release:s.release,disp:D.selection});d("releaseReviewed",{release:C,employee:v}),window.postMessage("reloadDepartures"),m()}catch{r.loading.hide(),r.notify({type:"negative",message:"Cannot update release."})}})});return{formErrors:b,formMeta:h,submit:k,selection:c}}}),Xo=e("div",{class:"text-body2 text-weight-bold"},"How would you like to proceed with this employee?",-1),ea={class:"text-caption"};function sa(s,d,r,t,h,b){return i(),f("div",null,[a(xe,{onSubmit:ue(s.submit,["prevent"])},{default:l(()=>[a(x,null,{default:l(()=>[a(u,{class:"q-pb-xs"},{default:l(()=>[Xo,a(we,{class:"q-mb-sm",dense:"","transition-show":"flip-up","transition-hide":"flip-down",modelValue:s.selection,"onUpdate:modelValue":d[0]||(d[0]=n=>s.selection=n),options:[{label:"Reassign this Employee",value:"Reassign"},{label:"Terminate this Employee",value:"Terminate"}],"bottom-slots":"",error:!!s.formErrors.selection},{error:l(()=>[e("div",ea,o(s.formErrors.selection),1)]),_:1},8,["modelValue","error"])]),_:1}),a(ee,{class:"q-pt-xs",align:"right"},{default:l(()=>[a(L,{color:"primary",label:"Submit",type:"submit"})]),_:1})]),_:1})]),_:1},8,["onSubmit"])])}var ta=Y(Go,[["render",sa]]);const oa={name:"View Release",directives:{},components:{EmployeeInformation:hs,Evaluation:Ts,DepartureInformation:mt,PrintDepartureInformation:Zo,PrintEmployeeInformation:to,PrintEvaluation:xo,ReviewForm:ta},setup(){const s=N(!1),d=N(!1),r=se(),t=_e();ve();const{capitalize:h}=he,{getUserType:b}=O(),{getReleases:n,setReleases:m}=E(),c=_(()=>n(t.params.release)),k=_(()=>c.value?c.value[79]==="Complete"?!1:!$().isBefore($(c.value[36].$d)):!1),D=_(()=>c.value&&c.value.employee?c.value.employee:null),C=_(()=>c.value&&c.value.assignment?c.value.assignment:null),v=_(()=>c.value[59]&&c.value[59][0]?c.value[59][0]:null),p=_(()=>{const{data:q}=v.value?v.value:{data:null};return q}),S=_(()=>c.value?c.value[38]:null),W=_(()=>v.value&&v.value[44]?v.value[44]:null),ne=_(()=>c.value?c.value[75]:null),de=_(()=>c.value?c.value[76]:null),ie=async()=>{const{sync:q,clm:B}=await H({clm:c.value.employee},!0),{employmentData:U}=q;if(U.workerStatus.active)r.dialog({title:"Alert",message:"Please complete the termination in Workday."});else try{const{data:M}=await $e({release:c.value});m({id:M[3],data:M}),r.dialog({title:"Alert",message:`Employee ${M[49]} was updated. You may close this window.`,cancel:!1})}catch{r.notify({type:"negative",message:"There was a problem updating termination."})}},ce=({release:q,employee:B})=>{if(q[43]==="Reassign"){const U=`https://elitehcms.quickbase.com/db/bpzpy6n3x?a=dbpage&pageID=2&ee=${B[3]}`;window.location.href=U}else m({id:q[3],data:q}),r.loading.hide(),r.notify({type:"positive",message:"Release Saved"})},re=()=>{window.close()},me=async()=>{if(r.loading.show(),!n(t.params.release)){const{data:q}=await j.fetchFromHiringApp({fields:[T({type:"releases",query:"",id:t.params.release})]});m({id:q[3],data:q})}if(r.loading.hide(),k.value){await qe({id:c.value[28]});const{data:q}=await j.fetchFromHiringApp({fields:[T({type:"releases",query:"",id:t.params.release})]});m({id:q[3],data:q})}},pe=()=>{s.value=!0};return ye(s,(q,B)=>{s.value&&setTimeout(()=>{print(),setTimeout(()=>{s.value=!1},500)},200)}),me(),{release:c,employee:D,assignment:C,evaluation:p,evaluator:W,reviewer:ne,processor:de,getUserType:b,fab:d,dayjs:$,submitter:S,capitalize:h,showPrint:s,printPage:pe,releaseReviewed:ce,completeTermination:ie,closeWindow:re}}},aa={class:"q-px-sm q-pb-xl"},la={class:"row q-py-sm"},na={class:"col-12 col-sm-3"},da=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Submitted By")],-1),ia={class:"text-body2 q-pl-md"},ca={class:"col-12 col-sm-3"},ra=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Evaluated By")],-1),ma={class:"text-body2 q-pl-md"},pa={key:0},ua={key:1},_a={key:0,class:"col-12 col-sm-3"},va=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Reviewed By")],-1),ya={class:"text-body2 q-pl-md"},ha={key:1,class:"col-3"},ba=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Processed By")],-1),fa={class:"text-body2 q-pl-md"},$a={class:"row"},qa={class:"col-12 col-md-6"},ga={class:"row q-py-sm"},wa={class:"col-3"},xa=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Submitted By")],-1),Da={class:"text-body2 q-pl-md"},ka={class:"col-3"},Ca=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Evaluated By")],-1),Sa={class:"text-body2 q-pl-md"},Ya={key:0},Ra={key:1},Ia={key:0,class:"col-3"},La=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Reviewed By")],-1),Na={class:"text-body2 q-pl-md"},Ea={key:1,class:"col-3"},Ma=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Processed By")],-1),Qa={class:"text-body2 q-pl-md"};function Pa(s,d,r,t,h,b){const n=R("employee-information"),m=R("evaluation"),c=R("departure-information"),k=R("review-form"),D=R("print-employee-information"),C=R("print-evaluation"),v=R("print-departure-information");return i(),y(be,{style:{"max-width":"100vw"}},{default:l(()=>[e("div",aa,[t.release&&!t.showPrint?(i(),y(x,{key:0,flat:"",class:"text-dark"},{default:l(()=>[s.$route.name==="view-release"?(i(),y(ee,{key:0,class:"q-pb-xs print-hide",align:"right"},{default:l(()=>[t.release[42]==="Reviewed"&&t.release[43]==="Terminate"&&t.getUserType==="QuickBase User"?(i(),y(L,{key:0,icon:"done",label:"Termination Processed",color:"positive",onClick:t.completeTermination},null,8,["onClick"])):w("",!0),a(L,{icon:"print",label:"Print",color:"info",onClick:t.printPage},null,8,["onClick"]),a(L,{icon:"close",label:"Close",color:"dark",onClick:d[0]||(d[0]=p=>t.getUserType==="QuickBase User"?t.closeWindow():s.$router.replace({name:"employees"}))})]),_:1})):w("",!0),a(u,{class:"q-py-xs"},{default:l(()=>[a(n,{assignment:t.assignment,employee:t.employee,release:t.release},null,8,["assignment","employee","release"])]),_:1}),t.evaluation?(i(),y(u,{key:1,class:"q-py-xs"},{default:l(()=>[a(m,{data:t.evaluation},null,8,["data"])]),_:1})):w("",!0),a(u,{class:"q-py-xs"},{default:l(()=>[a(c,{employee:t.employee,release:t.release},null,8,["employee","release"])]),_:1}),a(u,{class:"q-py-xs"},{default:l(()=>[a(x,null,{default:l(()=>[a(u,{class:"q-py-none"},{default:l(()=>[e("div",la,[e("div",na,[da,e("div",ia,[e("span",null,o(t.submitter[37])+", "+o(t.submitter[35]),1)])]),e("div",ca,[ra,e("div",ma,[t.evaluator?(i(),f("span",pa,o(t.capitalize(t.evaluator[22].toLowerCase()))+", "+o(t.capitalize(t.evaluator[20].toLowerCase())),1)):(i(),f("span",ua,"Not Specified"))])]),t.reviewer?(i(),f("div",_a,[va,e("div",ya,[e("span",null,o(t.capitalize(t.reviewer[37].toLowerCase()))+", "+o(t.capitalize(t.reviewer[35].toLowerCase())),1)])])):w("",!0),t.processor?(i(),f("div",ha,[ba,e("div",fa,[e("span",null,o(t.capitalize(t.processor[37].toLowerCase()))+", "+o(t.capitalize(t.processor[35].toLowerCase())),1)])])):w("",!0)])]),_:1})]),_:1})]),_:1}),t.release[42]==="Pending"&&t.getUserType==="QuickBase User"?(i(),y(u,{key:2,class:"q-py-sm"},{default:l(()=>[e("div",$a,[e("div",qa,[a(k,{release:t.release,onReleaseReviewed:t.releaseReviewed},null,8,["release","onReleaseReviewed"])])])]),_:1})):w("",!0)]),_:1})):w("",!0),t.release&&t.showPrint?(i(),y(x,{key:1,id:"printArea",flat:"",class:"text-body2"},{default:l(()=>[a(u,{class:"q-py-xs"},{default:l(()=>[a(D,{assignment:t.assignment,employee:t.employee,release:t.release},null,8,["assignment","employee","release"])]),_:1}),a(g),t.evaluation?(i(),y(u,{key:0,class:"q-py-xs"},{default:l(()=>[a(C,{data:t.evaluation},null,8,["data"])]),_:1})):w("",!0),a(g),a(u,{class:"q-py-xs"},{default:l(()=>[a(v,{employee:t.employee,release:t.release},null,8,["employee","release"])]),_:1}),a(u,{class:"q-pb-sm"},{default:l(()=>[a(x,{flat:""},{default:l(()=>[a(u,{class:"q-py-none"},{default:l(()=>[e("div",ga,[e("div",wa,[xa,e("div",Da,[e("span",null,o(t.submitter[37])+", "+o(t.submitter[35]),1)])]),e("div",ka,[Ca,e("div",Sa,[t.evaluator?(i(),f("span",Ya,o(t.capitalize(t.evaluator[22].toLowerCase()))+", "+o(t.capitalize(t.evaluator[20].toLowerCase())),1)):(i(),f("span",Ra,"Not Specified"))])]),t.reviewer?(i(),f("div",Ia,[La,e("div",Na,[e("span",null,o(t.capitalize(t.reviewer[37].toLowerCase()))+", "+o(t.capitalize(t.reviewer[35].toLowerCase())),1)])])):w("",!0),t.processor?(i(),f("div",Ea,[Ma,e("div",Qa,[e("span",null,o(t.capitalize(t.processor[37].toLowerCase()))+", "+o(t.capitalize(t.processor[35].toLowerCase())),1)])])):w("",!0)])]),_:1})]),_:1})]),_:1})]),_:1})):w("",!0)])]),_:1})}var hl=Y(oa,[["render",Pa]]);export{hl as default};
