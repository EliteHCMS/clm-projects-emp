import{bX as Re,r as S,c as D,w as E,aR as Mt,aV as Lt,aT as wt,o as Ot,b$ as Qt,h as A,bY as Vt,cJ as Rt,dm as ve,cK as Se,dn as je,aQ as G,cE as $e,ce as Ht,cp as jt,g as He,i as Ft,bZ as xe,b_ as Bt,cM as zt,cA as Ut,dj as Wt,a8 as Y,N as Kt,W as Yt,b as St,Z as Gt,l as Xt,Y as pe,bV as Ne,A as C,B,aq as k,br as g,D as Te,d as b,ck as Jt,F as Ie,b4 as De,ax as F,ac as K,dd as qe,G as me,ar as R,bU as Zt,bT as ea,cS as Fe,bW as ne,E as Be,bN as Pe,bt as ee,bR as re,bP as W,dc as ze,bQ as Ue,cy as ta,cT as We,cU as Ce,cV as aa}from"./index.35263bc9.js";import{Q as oa,a as Ke}from"./QHeader.98818069.js";import{Q as Ee}from"./QList.9a0a68df.js";import{Q as na}from"./QMenu.b9d1a35f.js";import{Q as ra}from"./QToolbar.9c7d465d.js";import{Q as Ye}from"./QSelect.f9a2629d.js";import{Q as la,a as sa}from"./QDrawer.e5552cd5.js";import{Q as ua,a as ia}from"./QLayout.5fe35175.js";import{Q as ca}from"./QResizeObserver.7080aea8.js";import{C as se}from"./ClosePopup.789be286.js";import{u as da}from"./use-quasar.b628893e.js";import{Q as fa}from"./QImg.08b1ca51.js";import{c as $t,i as J,u as va}from"./app.60ab06c9.js";import{p as ma}from"./VueTelInput.8de4da77.js";import{c as pa}from"./array.59f93f43.js";import{u as ha}from"./i18n.e68020fa.js";import{u as ga}from"./vee-validate.esm.d32c6ea3.js";import{_ as ya}from"./officeSelector.4f41b61b.js";import"./position-engine.5ee61549.js";import"./selection.03356054.js";import"./QChip.3e700a72.js";import"./rtl.b51694b1.js";import"./TouchPan.0eaa408c.js";import"./touch.3df10340.js";import"./_commonjsHelpers.a26ce4be.js";import"./dayjs.515e6981.js";import"./localForage.07bccd5e.js";import"./api.b1e79703.js";import"./index.04bc0a32.js";const{passive:te}=Rt;var xt=Re({name:"QInfiniteScroll",props:{offset:{type:Number,default:500},debounce:{type:[String,Number],default:100},scrollTarget:{default:void 0},initialIndex:Number,disable:Boolean,reverse:Boolean},emits:["load"],setup(e,{slots:t,emit:a}){const o=S(!1),n=S(!0),r=S(null),l=S(null);let u=e.initialIndex||0,i,d;const s=D(()=>"q-infinite-scroll__loading"+(o.value===!0?"":" invisible"));function f(){if(e.disable===!0||o.value===!0||n.value===!1)return;const $=ve(i),I=Se(i),j=je(i);e.reverse===!1?Math.round(I+j+e.offset)>=Math.round($)&&c():Math.round(I)<=e.offset&&c()}function c(){if(e.disable===!0||o.value===!0||n.value===!1)return;u++,o.value=!0;const $=ve(i);a("load",u,I=>{n.value===!0&&(o.value=!1,G(()=>{if(e.reverse===!0){const j=ve(i),Z=Se(i),ie=j-$;$e(i,Z+ie)}I===!0?x():r.value&&r.value.closest("body")&&d()}))})}function v(){u=0}function _(){n.value===!1&&(n.value=!0,i.addEventListener("scroll",d,te)),f()}function x(){n.value===!0&&(n.value=!1,o.value=!1,i.removeEventListener("scroll",d,te),d!==void 0&&d.cancel!==void 0&&d.cancel())}function O(){if(i&&n.value===!0&&i.removeEventListener("scroll",d,te),i=Ht(r.value,e.scrollTarget),n.value===!0){if(i.addEventListener("scroll",d,te),e.reverse===!0){const $=ve(i),I=je(i);$e(i,$-I)}f()}}function N($){u=$}function M($){$=parseInt($,10);const I=d;d=$<=0?f:jt(f,isNaN($)===!0?100:$),i&&n.value===!0&&(I!==void 0&&i.removeEventListener("scroll",I,te),i.addEventListener("scroll",d,te))}function q($){if(T.value===!0){if(l.value===null){$!==!0&&G(()=>{q(!0)});return}const I=`${o.value===!0?"un":""}pauseAnimations`;Array.from(l.value.getElementsByTagName("svg")).forEach(j=>{j[I]()})}}const T=D(()=>e.disable!==!0&&n.value===!0);E([o,T],()=>{q()}),E(()=>e.disable,$=>{$===!0?x():_()}),E(()=>e.reverse,()=>{o.value===!1&&n.value===!0&&f()}),E(()=>e.scrollTarget,O),E(()=>e.debounce,M);let y=!1;Mt(()=>{y!==!1&&i&&$e(i,y)}),Lt(()=>{y=i?Se(i):!1}),wt(()=>{n.value===!0&&i.removeEventListener("scroll",d,te)}),Ot(()=>{M(e.debounce),O(),o.value===!1&&q()});const P=He();return Object.assign(P.proxy,{poll:()=>{d!==void 0&&d()},trigger:c,stop:x,reset:v,resume:_,setIndex:N}),()=>{const $=Qt(t.default,[]);return T.value===!0&&$[e.reverse===!1?"push":"unshift"](A("div",{ref:l,class:s.value},Vt(t.loading))),A("div",{class:"q-infinite-scroll",ref:r},$)}}}),_a=Re({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:t,emit:a}){const{proxy:{$q:o}}=He(),n=Ft(Bt,xe);if(n===xe)return console.error("QFooter needs to be child of QLayout"),xe;const r=S(parseInt(e.heightHint,10)),l=S(!0),u=S(zt.value===!0||n.isContainer.value===!0?0:window.innerHeight),i=D(()=>e.reveal===!0||n.view.value.indexOf("F")>-1||o.platform.is.ios&&n.isContainer.value===!0),d=D(()=>n.isContainer.value===!0?n.containerHeight.value:u.value),s=D(()=>{if(e.modelValue!==!0)return 0;if(i.value===!0)return l.value===!0?r.value:0;const y=n.scroll.value.position+d.value+r.value-n.height.value;return y>0?y:0}),f=D(()=>e.modelValue!==!0||i.value===!0&&l.value!==!0),c=D(()=>e.modelValue===!0&&f.value===!0&&e.reveal===!0),v=D(()=>"q-footer q-layout__section--marginal "+(i.value===!0?"fixed":"absolute")+"-bottom"+(e.bordered===!0?" q-footer--bordered":"")+(f.value===!0?" q-footer--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus"+(i.value!==!0?" hidden":""):"")),_=D(()=>{const y=n.rows.value.bottom,P={};return y[0]==="l"&&n.left.space===!0&&(P[o.lang.rtl===!0?"right":"left"]=`${n.left.size}px`),y[2]==="r"&&n.right.space===!0&&(P[o.lang.rtl===!0?"left":"right"]=`${n.right.size}px`),P});function x(y,P){n.update("footer",y,P)}function O(y,P){y.value!==P&&(y.value=P)}function N({height:y}){O(r,y),x("size",y)}function M(){if(e.reveal!==!0)return;const{direction:y,position:P,inflectionPoint:$}=n.scroll.value;O(l,y==="up"||P-$<100||n.height.value-d.value-P-r.value<300)}function q(y){c.value===!0&&O(l,!0),a("focusin",y)}E(()=>e.modelValue,y=>{x("space",y),O(l,!0),n.animate()}),E(s,y=>{x("offset",y)}),E(()=>e.reveal,y=>{y===!1&&O(l,e.modelValue)}),E(l,y=>{n.animate(),a("reveal",y)}),E([r,n.scroll,n.height],M),E(()=>o.screen.height,y=>{n.isContainer.value!==!0&&O(u,y)});const T={};return n.instances.footer=T,e.modelValue===!0&&x("size",r.value),x("space",e.modelValue),x("offset",s.value),wt(()=>{n.instances.footer===T&&(n.instances.footer=void 0,x("size",0),x("offset",0),x("space",!1))}),()=>{const y=Ut(t.default,[A(ca,{debounce:0,onResize:N})]);return e.elevated===!0&&y.push(A("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),A("footer",{class:v.value,style:_.value,onFocusin:q},y)}}}),ba=Re({name:"QChatMessage",props:{sent:Boolean,label:String,bgColor:String,textColor:String,name:String,avatar:String,text:Array,stamp:String,size:String,labelHtml:Boolean,nameHtml:Boolean,textHtml:Boolean,stampHtml:Boolean},setup(e,{slots:t}){const a=D(()=>e.sent===!0?"sent":"received"),o=D(()=>`q-message-text-content q-message-text-content--${a.value}`+(e.textColor!==void 0?` text-${e.textColor}`:"")),n=D(()=>`q-message-text q-message-text--${a.value}`+(e.bgColor!==void 0?` text-${e.bgColor}`:"")),r=D(()=>"q-message-container row items-end no-wrap"+(e.sent===!0?" reverse":"")),l=D(()=>e.size!==void 0?`col-${e.size}`:""),u=D(()=>({msg:e.textHtml===!0?"innerHTML":"textContent",stamp:e.stampHtml===!0?"innerHTML":"textContent",name:e.nameHtml===!0?"innerHTML":"textContent",label:e.labelHtml===!0?"innerHTML":"textContent"}));function i(s){return t.stamp!==void 0?[s,A("div",{class:"q-message-stamp"},t.stamp())]:e.stamp?[s,A("div",{class:"q-message-stamp",[u.value.stamp]:e.stamp})]:[s]}function d(s,f){const c=f===!0?s.length>1?v=>v:v=>A("div",[v]):v=>A("div",{[u.value.msg]:v});return s.map((v,_)=>A("div",{key:_,class:n.value},[A("div",{class:o.value},i(c(v)))]))}return()=>{const s=[];t.avatar!==void 0?s.push(t.avatar()):e.avatar!==void 0&&s.push(A("img",{class:`q-message-avatar q-message-avatar--${a.value}`,src:e.avatar,"aria-hidden":"true"}));const f=[];t.name!==void 0?f.push(A("div",{class:`q-message-name q-message-name--${a.value}`},t.name())):e.name!==void 0&&f.push(A("div",{class:`q-message-name q-message-name--${a.value}`,[u.value.name]:e.name})),t.default!==void 0?f.push(d(Wt(t.default()),!0)):e.text!==void 0&&f.push(d(e.text)),s.push(A("div",{class:l.value},f));const c=[];return t.label!==void 0?c.push(A("div",{class:"q-message-label"},t.label())):e.label!==void 0&&c.push(A("div",{class:"q-message-label",[u.value.label]:e.label})),c.push(A("div",{class:r.value},s)),A("div",{class:`q-message q-message-${a.value}`},c)}}}),Ge;const ue=typeof window!="undefined",wa=e=>typeof e=="function",Oa=e=>typeof e=="string",z=()=>{},ke=ue&&((Ge=window==null?void 0:window.navigator)==null?void 0:Ge.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Q(e){return typeof e=="function"?e():Y(e)}function Pt(e,t){function a(...o){return new Promise((n,r)=>{Promise.resolve(e(()=>t.apply(this,o),{fn:t,thisArg:this,args:o})).then(n).catch(r)})}return a}function Sa(e,t={}){let a,o,n=z;const r=u=>{clearTimeout(u),n(),n=z};return u=>{const i=Q(e),d=Q(t.maxWait);return a&&r(a),i<=0||d!==void 0&&d<=0?(o&&(r(o),o=null),Promise.resolve(u())):new Promise((s,f)=>{n=t.rejectOnCancel?f:s,d&&!o&&(o=setTimeout(()=>{a&&r(a),o=null,s(u())},d)),a=setTimeout(()=>{o&&r(o),o=null,s(u())},i)})}}function $a(e,t=!0,a=!0,o=!1){let n=0,r,l=!0,u=z,i;const d=()=>{r&&(clearTimeout(r),r=void 0,u(),u=z)};return f=>{const c=Q(e),v=Date.now()-n,_=()=>i=f();return d(),c<=0?(n=Date.now(),_()):(v>c&&(a||!l)?(n=Date.now(),_()):t&&(i=new Promise((x,O)=>{u=o?O:x,r=setTimeout(()=>{n=Date.now(),l=!0,x(_()),d()},Math.max(0,c-v))})),!a&&!r&&(r=setTimeout(()=>l=!0,c)),l=!1,i)}}const X={mounted:"mounted",updated:"updated",unmounted:"unmounted"};function xa(e){return e}function ae(e){return Kt()?(Yt(e),!0):!1}function Pa(e,t=200,a={}){return Pt(Sa(t,a),e)}function Ca(e,t=200,a=!1,o=!0,n=!1){return Pt($a(t,a,o,n),e)}function Ea(e){return typeof e=="function"?D(e):S(e)}function Na(e,t=!0){He()?Ot(e):t?e():G(e)}function Ta(e,t=1e3,a={}){const{immediate:o=!0,immediateCallback:n=!1}=a;let r=null;const l=S(!1);function u(){r&&(clearInterval(r),r=null)}function i(){l.value=!1,u()}function d(){const s=Q(t);s<=0||(l.value=!0,n&&e(),u(),r=setInterval(e,s))}if(o&&ue&&d(),St(t)||wa(t)){const s=E(t,()=>{l.value&&ue&&d()});ae(s)}return ae(i),{isActive:l,pause:i,resume:d}}const Ia=ue?window:void 0,Ae=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Me="__vueuse_ssr_handlers__";Ae[Me]=Ae[Me]||{};Ae[Me];function Da(e,t={}){const{immediate:a=!0,window:o=Ia}=t,n=S(!1);let r=0,l=null;function u(s){if(!n.value||!o)return;const f=s-r;e({delta:f,timestamp:s}),r=s,l=o.requestAnimationFrame(u)}function i(){!n.value&&o&&(n.value=!0,l=o.requestAnimationFrame(u))}function d(){n.value=!1,l!=null&&o&&(o.cancelAnimationFrame(l),l=null)}return a&&i(),ae(d),{isActive:Gt(n),pause:d,resume:i}}var qa=Object.defineProperty,Xe=Object.getOwnPropertySymbols,ka=Object.prototype.hasOwnProperty,Aa=Object.prototype.propertyIsEnumerable,Je=(e,t,a)=>t in e?qa(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,Ma=(e,t)=>{for(var a in t||(t={}))ka.call(t,a)&&Je(e,a,t[a]);if(Xe)for(var a of Xe(t))Aa.call(t,a)&&Je(e,a,t[a]);return e};function La(e={}){const{controls:t=!1,interval:a="requestAnimationFrame"}=e,o=S(new Date),n=()=>o.value=new Date,r=a==="requestAnimationFrame"?Da(n,{immediate:!0}):Ta(n,a,{immediate:!0});return t?Ma({now:o},r):o}var Ze;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(Ze||(Ze={}));var Qa=Object.defineProperty,he=Object.getOwnPropertySymbols,Ct=Object.prototype.hasOwnProperty,Et=Object.prototype.propertyIsEnumerable,et=(e,t,a)=>t in e?Qa(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,Va=(e,t)=>{for(var a in t||(t={}))Ct.call(t,a)&&et(e,a,t[a]);if(he)for(var a of he(t))Et.call(t,a)&&et(e,a,t[a]);return e},Ra=(e,t)=>{var a={};for(var o in e)Ct.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&he)for(var o of he(e))t.indexOf(o)<0&&Et.call(e,o)&&(a[o]=e[o]);return a};const Ha=[{max:6e4,value:1e3,name:"second"},{max:276e4,value:6e4,name:"minute"},{max:72e6,value:36e5,name:"hour"},{max:5184e5,value:864e5,name:"day"},{max:24192e5,value:6048e5,name:"week"},{max:28512e6,value:2592e6,name:"month"},{max:1/0,value:31536e6,name:"year"}],ja={justNow:"just now",past:e=>e.match(/\d/)?`${e} ago`:e,future:e=>e.match(/\d/)?`in ${e}`:e,month:(e,t)=>e===1?t?"last month":"next month":`${e} month${e>1?"s":""}`,year:(e,t)=>e===1?t?"last year":"next year":`${e} year${e>1?"s":""}`,day:(e,t)=>e===1?t?"yesterday":"tomorrow":`${e} day${e>1?"s":""}`,week:(e,t)=>e===1?t?"last week":"next week":`${e} week${e>1?"s":""}`,hour:e=>`${e} hour${e>1?"s":""}`,minute:e=>`${e} minute${e>1?"s":""}`,second:e=>`${e} second${e>1?"s":""}`,invalid:""},Fa=e=>e.toISOString().slice(0,10);function Ba(e,t={}){const{controls:a=!1,updateInterval:o=3e4}=t,n=La({interval:o,controls:!0}),{now:r}=n,l=Ra(n,["now"]),u=D(()=>za(new Date(Q(e)),t,Y(r.value)));return a?Va({timeAgo:u},l):u}function za(e,t={},a=Date.now()){var o;const{max:n,messages:r=ja,fullDateFormatter:l=Fa,units:u=Ha,showSecond:i=!1,rounding:d="round"}=t,s=typeof d=="number"?O=>+O.toFixed(d):Math[d],f=+a-+e,c=Math.abs(f);function v(O,N){return s(Math.abs(O)/N.value)}function _(O,N){const M=v(O,N),q=O>0,T=x(N.name,M,q);return x(q?"past":"future",T,q)}function x(O,N,M){const q=r[O];return typeof q=="function"?q(N,M):q.replace("{0}",N.toString())}if(c<6e4&&!i)return r.justNow;if(typeof n=="number"&&c>n)return l(new Date(e));if(typeof n=="string"){const O=(o=u.find(N=>N.name===n))==null?void 0:o.max;if(O&&c>O)return l(new Date(e))}for(const[O,N]of u.entries()){if(v(f,N)<=0&&u[O-1])return _(f,u[O-1]);if(c<N.max)return _(f,N)}return r.invalid}var Ua=Object.defineProperty,tt=Object.getOwnPropertySymbols,Wa=Object.prototype.hasOwnProperty,Ka=Object.prototype.propertyIsEnumerable,at=(e,t,a)=>t in e?Ua(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,Ya=(e,t)=>{for(var a in t||(t={}))Wa.call(t,a)&&at(e,a,t[a]);if(tt)for(var a of tt(t))Ka.call(t,a)&&at(e,a,t[a]);return e};const Ga={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};Ya({linear:xa},Ga);function V(e){var t;const a=Q(e);return(t=a==null?void 0:a.$el)!=null?t:a}const oe=ue?window:void 0;function H(...e){let t,a,o,n;if(Oa(e[0])||Array.isArray(e[0])?([a,o,n]=e,t=oe):[t,a,o,n]=e,!t)return z;Array.isArray(a)||(a=[a]),Array.isArray(o)||(o=[o]);const r=[],l=()=>{r.forEach(s=>s()),r.length=0},u=(s,f,c,v)=>(s.addEventListener(f,c,v),()=>s.removeEventListener(f,c,v)),i=E(()=>[V(t),Q(n)],([s,f])=>{l(),s&&r.push(...a.flatMap(c=>o.map(v=>u(s,c,v,f))))},{immediate:!0,flush:"post"}),d=()=>{i(),l()};return ae(d),d}let ot=!1;function nt(e,t,a={}){const{window:o=oe,ignore:n=[],capture:r=!0,detectIframe:l=!1}=a;if(!o)return;ke&&!ot&&(ot=!0,Array.from(o.document.body.children).forEach(c=>c.addEventListener("click",z)));let u=!0;const i=c=>n.some(v=>{if(typeof v=="string")return Array.from(o.document.querySelectorAll(v)).some(_=>_===c.target||c.composedPath().includes(_));{const _=V(v);return _&&(c.target===_||c.composedPath().includes(_))}}),s=[H(o,"click",c=>{const v=V(e);if(!(!v||v===c.target||c.composedPath().includes(v))){if(c.detail===0&&(u=!i(c)),!u){u=!0;return}t(c)}},{passive:!0,capture:r}),H(o,"pointerdown",c=>{const v=V(e);v&&(u=!c.composedPath().includes(v)&&!i(c))},{passive:!0}),l&&H(o,"blur",c=>{var v;const _=V(e);((v=o.document.activeElement)==null?void 0:v.tagName)==="IFRAME"&&!(_!=null&&_.contains(o.document.activeElement))&&t(c)})].filter(Boolean);return()=>s.forEach(c=>c())}X.mounted+"",X.unmounted+"";const Xa=e=>typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):()=>!0;function rt(...e){let t,a,o={};e.length===3?(t=e[0],a=e[1],o=e[2]):e.length===2?typeof e[1]=="object"?(t=!0,a=e[0],o=e[1]):(t=e[0],a=e[1]):(t=!0,a=e[0]);const{target:n=oe,eventName:r="keydown",passive:l=!1}=o,u=Xa(t);return H(n,r,d=>{u(d)&&a(d)},l)}var Ja=Object.defineProperty,lt=Object.getOwnPropertySymbols,Za=Object.prototype.hasOwnProperty,eo=Object.prototype.propertyIsEnumerable,st=(e,t,a)=>t in e?Ja(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,to=(e,t)=>{for(var a in t||(t={}))Za.call(t,a)&&st(e,a,t[a]);if(lt)for(var a of lt(t))eo.call(t,a)&&st(e,a,t[a]);return e};X.mounted+"";const ao=500;function ut(e,t,a){var o,n;const r=D(()=>V(e));let l;function u(){l&&(clearTimeout(l),l=void 0)}function i(s){var f,c,v,_;((f=a==null?void 0:a.modifiers)==null?void 0:f.self)&&s.target!==r.value||(u(),(c=a==null?void 0:a.modifiers)!=null&&c.prevent&&s.preventDefault(),(v=a==null?void 0:a.modifiers)!=null&&v.stop&&s.stopPropagation(),l=setTimeout(()=>t(s),(_=a==null?void 0:a.delay)!=null?_:ao))}const d={capture:(o=a==null?void 0:a.modifiers)==null?void 0:o.capture,once:(n=a==null?void 0:a.modifiers)==null?void 0:n.once};H(r,"pointerdown",i,d),H(r,"pointerup",u,d),H(r,"pointerleave",u,d)}X.mounted+"";const Le=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Qe="__vueuse_ssr_handlers__";Le[Qe]=Le[Qe]||{};Le[Qe];function Nt(e,t=!1){const a=S(),o=()=>a.value=Boolean(e());return o(),Na(o,t),a}function oo(e,t={}){const a=t?t.delayEnter:0,o=t?t.delayLeave:0,n=S(!1);let r;const l=u=>{const i=u?a:o;r&&(clearTimeout(r),r=void 0),i?r=setTimeout(()=>n.value=u,i):n.value=u};return window&&(H(e,"mouseenter",()=>l(!0),{passive:!0}),H(e,"mouseleave",()=>l(!1),{passive:!0})),n}X.mounted+"";var it=Object.getOwnPropertySymbols,no=Object.prototype.hasOwnProperty,ro=Object.prototype.propertyIsEnumerable,lo=(e,t)=>{var a={};for(var o in e)no.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&it)for(var o of it(e))t.indexOf(o)<0&&ro.call(e,o)&&(a[o]=e[o]);return a};function so(e,t,a={}){const o=a,{window:n=oe}=o,r=lo(o,["window"]);let l;const u=Nt(()=>n&&"ResizeObserver"in n),i=()=>{l&&(l.disconnect(),l=void 0)},d=E(()=>V(e),f=>{i(),u.value&&n&&f&&(l=new ResizeObserver(t),l.observe(f,r))},{immediate:!0,flush:"post"}),s=()=>{i(),d()};return ae(s),{isSupported:u,stop:s}}function uo(e,t={width:0,height:0},a={}){const{window:o=oe,box:n="content-box"}=a,r=D(()=>{var i,d;return(d=(i=V(e))==null?void 0:i.namespaceURI)==null?void 0:d.includes("svg")}),l=S(t.width),u=S(t.height);return so(e,([i])=>{const d=n==="border-box"?i.borderBoxSize:n==="content-box"?i.contentBoxSize:i.devicePixelContentBoxSize;if(o&&r.value){const s=V(e);if(s){const f=o.getComputedStyle(s);l.value=parseFloat(f.width),u.value=parseFloat(f.height)}}else if(d){const s=Array.isArray(d)?d:[d];l.value=s.reduce((f,{inlineSize:c})=>f+c,0),u.value=s.reduce((f,{blockSize:c})=>f+c,0)}else l.value=i.contentRect.width,u.value=i.contentRect.height},a),E(()=>V(e),i=>{l.value=i?t.width:0,u.value=i?t.height:0}),{width:l,height:u}}X.mounted+"";function ct(e,{window:t=oe,scrollTarget:a}={}){const o=S(!1),n=()=>{if(!t)return;const r=t.document,l=V(e);if(!l)o.value=!1;else{const u=l.getBoundingClientRect();o.value=u.top<=(t.innerHeight||r.documentElement.clientHeight)&&u.left<=(t.innerWidth||r.documentElement.clientWidth)&&u.bottom>=0&&u.right>=0}};return E(()=>V(e),()=>n(),{immediate:!0,flush:"post"}),t&&H(a||t,"scroll",n,{capture:!1,passive:!0}),o}X.mounted+"";const dt=1;function Ve(e,t={}){const{throttle:a=0,idle:o=200,onStop:n=z,onScroll:r=z,offset:l={left:0,right:0,top:0,bottom:0},eventListenerOptions:u={capture:!1,passive:!0},behavior:i="auto"}=t,d=S(0),s=S(0),f=D({get(){return d.value},set(T){v(T,void 0)}}),c=D({get(){return s.value},set(T){v(void 0,T)}});function v(T,y){var P,$,I;const j=Q(e);!j||(I=j instanceof Document?document.body:j)==null||I.scrollTo({top:(P=Q(y))!=null?P:c.value,left:($=Q(T))!=null?$:f.value,behavior:Q(i)})}const _=S(!1),x=pe({left:!0,right:!1,top:!0,bottom:!1}),O=pe({left:!1,right:!1,top:!1,bottom:!1}),N=T=>{!_.value||(_.value=!1,O.left=!1,O.right=!1,O.top=!1,O.bottom=!1,n(T))},M=Pa(N,a+o),q=T=>{const y=T.target===document?T.target.documentElement:T.target,P=y.scrollLeft;O.left=P<d.value,O.right=P>s.value,x.left=P<=0+(l.left||0),x.right=P+y.clientWidth>=y.scrollWidth-(l.right||0)-dt,d.value=P;let $=y.scrollTop;T.target===document&&!$&&($=document.body.scrollTop),O.top=$<s.value,O.bottom=$>s.value,x.top=$<=0+(l.top||0),x.bottom=$+y.clientHeight>=y.scrollHeight-(l.bottom||0)-dt,s.value=$,_.value=!0,M(T),r(T)};return H(e,"scroll",a?Ca(q,a,!0,!1):q,u),H(e,"scrollend",N,u),{x:f,y:c,isScrolling:_,arrivedState:x,directions:O}}var io=Object.defineProperty,co=Object.defineProperties,fo=Object.getOwnPropertyDescriptors,ft=Object.getOwnPropertySymbols,vo=Object.prototype.hasOwnProperty,mo=Object.prototype.propertyIsEnumerable,vt=(e,t,a)=>t in e?io(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,mt=(e,t)=>{for(var a in t||(t={}))vo.call(t,a)&&vt(e,a,t[a]);if(ft)for(var a of ft(t))mo.call(t,a)&&vt(e,a,t[a]);return e},po=(e,t)=>co(e,fo(t));function pt(e,t,a={}){var o,n;const r=(o=a.direction)!=null?o:"bottom",l=pe(Ve(e,po(mt({},a),{offset:mt({[r]:(n=a.distance)!=null?n:0},a.offset)})));E(()=>l.arrivedState[r],async u=>{var i,d;if(u){const s=Q(e),f={height:(i=s==null?void 0:s.scrollHeight)!=null?i:0,width:(d=s==null?void 0:s.scrollWidth)!=null?d:0};await t(l),a.preserveScrollPosition&&s&&G(()=>{s.scrollTo({top:s.scrollHeight-f.height,left:s.scrollWidth-f.width})})}})}X.mounted+"";function ht(e,t,a={}){const{root:o,rootMargin:n="0px",threshold:r=.1,window:l=oe}=a,u=Nt(()=>l&&"IntersectionObserver"in l);let i=z;const d=u.value?E(()=>({el:V(e),root:V(o)}),({el:f,root:c})=>{if(i(),!f)return;const v=new IntersectionObserver(t,{root:c,rootMargin:n,threshold:r});v.observe(f),i=()=>{v.disconnect(),i=z}},{immediate:!0,flush:"post"}):z,s=()=>{i(),d()};return ae(s),{isSupported:u,stop:s}}X.mounted+"";var ho=Object.defineProperty,go=Object.defineProperties,yo=Object.getOwnPropertyDescriptors,gt=Object.getOwnPropertySymbols,_o=Object.prototype.hasOwnProperty,bo=Object.prototype.propertyIsEnumerable,yt=(e,t,a)=>t in e?ho(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,wo=(e,t)=>{for(var a in t||(t={}))_o.call(t,a)&&yt(e,a,t[a]);if(gt)for(var a of gt(t))bo.call(t,a)&&yt(e,a,t[a]);return e},Oo=(e,t)=>go(e,yo(t));X.mounted+"";function Tt(e){const t=window.getComputedStyle(e);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&e.clientHeight<e.scrollHeight||t.overflowY==="auto"&&e.clientWidth<e.scrollWidth)return!0;{const a=e.parentNode;return!a||a.tagName==="BODY"?!1:Tt(a)}}function So(e){const t=e||window.event,a=t.target;return Tt(a)?!1:t.touches.length>1?!0:(t.preventDefault&&t.preventDefault(),!1)}function $o(e,t=!1){const a=S(t);let o=null,n;E(Ea(e),u=>{if(u){const i=u;n=i.style.overflow,a.value&&(i.style.overflow="hidden")}},{immediate:!0});const r=()=>{const u=Q(e);!u||a.value||(ke&&(o=H(u,"touchmove",i=>{So(i)},{passive:!1})),u.style.overflow="hidden",a.value=!0)},l=()=>{const u=Q(e);!u||!a.value||(ke&&(o==null||o()),u.style.overflow=n,a.value=!1)};return ae(l),D({get(){return a.value},set(u){u?r():l()}})}const xo=()=>{let e=!1;const t=S(!1);return(a,o)=>{if(t.value=o.value,e)return;e=!0;const n=$o(a,o.value);E(t,r=>n.value=r)}};xo();var Po=Object.defineProperty,Co=Object.defineProperties,Eo=Object.getOwnPropertyDescriptors,_t=Object.getOwnPropertySymbols,No=Object.prototype.hasOwnProperty,To=Object.prototype.propertyIsEnumerable,bt=(e,t,a)=>t in e?Po(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,Io=(e,t)=>{for(var a in t||(t={}))No.call(t,a)&&bt(e,a,t[a]);if(_t)for(var a of _t(t))To.call(t,a)&&bt(e,a,t[a]);return e},Do=(e,t)=>Co(e,Eo(t));const It=Xt({name:"UseTimeAgo",props:["time","updateInterval","max","fullDateFormatter","messages","showSecond"],setup(e,{slots:t}){const a=pe(Ba(()=>e.time,Do(Io({},e),{controls:!0})));return()=>{if(t.default)return t.default(a)}}}),qo={class:"q-pa-md row justify-center"},ko={class:"row justify-center q-my-md"},Ao={key:0},Mo={__name:"chatLog",props:{conversation:{type:Object,default:()=>({})}},setup(e){const t=e,a=$t(),{getMessageNotification:o}=Ne(a),n=S(null),r=S([]),l=S(20),u=s=>{const f=[...r.value,...s].sort((_,x)=>new Date(_.createdAt)-new Date(x.createdAt)),c=[],v=new Map;for(const _ of f)v.has(_.id)||(v.set(_.id,!0),c.push(_));t.conversation.id==="new"?r.value=[]:r.value=c},i=(s,f)=>J.getMessages({filters:{conversation:{id:s}},populate:{contact:!0,conversation:{filters:{id:s}}},sort:"createdAt:desc",pagination:{page:f,pageSize:l.value}}).then(c=>{const v=c.data.length===0||c.data.length<l.value;return(!v||c.data.length>0)&&u(c.data),v}),d=async(s,f)=>{t.conversation.id==="new"||t.conversation.id==="placeHolder"||t.conversation.id==="no"?f(!0):i(t.conversation.id,s).then(c=>{f(c)})};return E(()=>t.conversation,async(s,f)=>{s.id!==f.id&&(r.value=[])}),E(o,()=>{o.value.conversation&&o.value.conversation.id===t.conversation.id?(u([o.value]),o.value.direction==="inbound"&&J.readConversation(t.conversation.id),G(()=>{const s=document.querySelector("#conversation-layout div.scroll");s.scrollTop=s.scrollHeight})):console.log(o.value)}),(s,f)=>(C(),B("div",qo,[(C(),k(xt,{style:{width:"100%"},reverse:"",onLoad:d,ref_key:"messageScroll",ref:n,key:e.conversation.id},{loading:g(()=>[Te("div",ko,[b(Jt,{color:"primary",name:"dots",size:"40px"})])]),default:g(()=>[(C(!0),B(Ie,null,De(r.value,(c,v)=>(C(),B("div",{key:v},[b(ba,{sent:c.direction==="outbound-api",name:c.direction==="inbound"?e.conversation.name:`${c.contact.firstName} ${c.contact.lastName}`,"text-color":c.direction==="outbound-api"?"white":"","bg-color":c.direction==="outbound-api"?"primary":"amber"},{stamp:g(()=>[b(Y(It),{time:c.createdAt},{default:g(({timeAgo:_})=>[F(K(_),1)]),_:2},1032,["time"])]),avatar:g(()=>[b(qe,{class:me(["q-message-avatar",{"q-message-avatar--sent":c.direction==="outbound-api","q-message-avatar--received":c.direction==="inbound"}]),color:c.direction==="outbound-api"?"primary":"amber"},{default:g(()=>[F("J")]),_:2},1032,["class","color"])]),default:g(()=>[Te("div",null,[F(K(c.body)+" ",1),c.numMedia>0?(C(),B("div",Ao,[(C(!0),B(Ie,null,De(c.mediaUrl,(_,x)=>(C(),k(fa,{src:_,fit:"contain","spinner-color":"white",style:{height:"150px","max-width":"300px",width:"100%"},key:x},null,8,["src"]))),128))])):R("",!0)])]),_:2},1032,["sent","name","text-color","bg-color"])]))),128))]),_:1}))]))}},Lo={class:"q-pa-md",style:{height:"92vh"}},Qo={key:0,class:"text-caption"},Vo={key:0},Ro={key:1,class:"q-pa-md row justify-center text-h5"},Ho={class:"text-h6"},jo={key:0,class:"text-caption"},_n={__name:"index",setup(e){da();const t=Zt(),a=ea(),o=$t(),n=va(),{userOffices:r}=Ne(n),{fetchConversations:l,setConversation:u,setSelectedOffice:i}=o,{getConversations:d,getSelectedOffice:s}=Ne(o),{t:f}=ha(),c=S(null),v=S(50),_=S(null),x=S(!1),O=S(""),N=S(""),M=S(""),q=S(10),T=D(()=>{const h=new RegExp("^[0-9]{"+q.value+"}","g");return pa().matches(h,{excludeEmptyString:!0,message:`${f("validPhoneIsRequired")}`}).nullable()}),{errorMessage:y,value:P}=ga("phone",T);S([]);const $={background:"#D3D3D3"},I=S(!1),j=async(h,m)=>{if(!I.value&&!ge.value){I.value=!0;let p=!1;h===1&&(p=!0,le()),l(h,v.value,p).then(L=>{I.value=!1,m(L)})}},Z=S(!0),ie=S(null),ge=S(!1),ce=S(""),w=S(null),Dt=async h=>{await J.unReadConversation(h.id),le()},ye=h=>{le(),w.value=h,O.value=h.name,N.value=h.contacts[0].firstName,M.value=h.contacts[0].lastName,P.value="",c.value="",h.unread&&(J.readConversation(h.id),h.unread=!1)};E(s,(h,m)=>{le(),l(1,v.value,!0).then(()=>{I.value=!1})});const de=async()=>{const h={data:{phoneNumber:P.value,type:"phoneNumber"}},m=await J.createContact(h),p={...m.data};if(delete p.conversations,m.data.valid===!0&&s.value&&s.value[48]&&m.data.conversations.length>0){const L=m.data.conversations.find(U=>U.twilio_messaging_service.sid===s.value[48]);if(L)L.contacts=[p],ye(L);else{const U=new Date;let fe=`${m.data.firstName} ${m.data.lastName}`;m.data.firstName||(fe=m.data.nationalFormat),w.value={id:"placeHolder",createdAt:U,lastMessage:{},lastMessageDateTime:U,contacts:[p],name:fe,readBy:[],twilioEnabled:!0,twilio_messaging_service:{sid:s.value[48]},type:"Direct",unread:!1,updatedAt:U},P.value="",c.value=""}}else if(m.data.valid===!0&&s.value&&s.value[48]){const L=new Date;let U=`${m.data.firstName} ${m.data.lastName}`;m.data.firstName||(U=m.data.nationalFormat),w.value={id:"placeHolder",createdAt:L,lastMessage:{},lastMessageDateTime:L,contacts:[p],name:U,readBy:[],twilioEnabled:!0,twilio_messaging_service:{sid:s.value[48]},type:"Direct",unread:!1,updatedAt:L},P.value="",c.value=""}},_e=()=>{const h=new Date;w.value={id:"new",createdAt:h,lastMessage:{},lastMessageDateTime:h,name:"",readBy:[],twilioEnabled:!0,twilio_messaging_service:{},type:"Direct",unread:!1,archive:!1,updatedAt:h},ie.value===!1&&Z.value===!0&&(Z.value=!1),G(()=>{document.querySelector("#phoneNumber").focus()})},le=async()=>{const h=new Date;return w.value={id:"no",createdAt:h,lastMessage:{},lastMessageDateTime:h,name:"Select a conversation",readBy:[],twilioEnabled:!0,twilio_messaging_service:{},type:"Direct",unread:!1,archive:!1,updatedAt:h},!0},qt=h=>{h.contacts[0].valid===!0&&h.twilio_messaging_service?J.sendMessage({data:{body:ce.value,to:h.contacts[0].phoneNumber,messagingServiceSid:h.twilio_messaging_service.sid,direction:"outbound-api",twilioMessage:!0}}).then(()=>{ce.value="",h.id==="placeHolder"?j(1,()=>{const m=d.value.find(p=>p.contacts[0].phoneNumber===h.contacts[0].phoneNumber);m?ye(m):console.log("no conversation found after sending message")}):h.archive===!0&&we(!1)}):console.log("not valid phone number")},be=async()=>{const h=`${N.value} ${M.value}`,m={data:{name:h}},p={data:{firstName:N.value,lastName:M.value}};if(w.value){w.value.name=h;const L=J.updateContact(w.value.contacts[0].id,p),U=J.updateConversation(w.value.id,m),fe=await L,Oe=await U;return Oe.data.contacts=[fe.data],u({data:Oe.data}),Oe}},we=async h=>{const m={data:{archive:h}};if(w.value){w.value.archive=h;const L=await J.updateConversation(w.value.id,m);return h===!0?(I.value=!0,await le(),l(1,v.value,!0).then(()=>{I.value=!1})):(I.value=!0,l(1,v.value,!0).then(()=>{I.value=!1})),L}},kt=h=>{q.value=h},At=h=>{ge.value=!0,ie.value=h,setTimeout(()=>{ge.value=!1},1e3)};if(t.query.phoneNumber||t.query.office_id){t.query.office_id&&G(()=>{const m=r.value("read").find(p=>Number(p[8])===Number(t.query.office_id));m&&i(m)}),t.query.phoneNumber&&(c.value=t.query.phoneNumber.replace(/\D+/g,""),_e(),P.value=c.value.substr(c.value.length-10),G(()=>{de()}));const h=Object.assign({},t.query);delete h.phoneNumber,delete h.office_id,a.replace({query:h})}return E(()=>t.query,()=>{if(t.query.phoneNumber||t.query.office_id){t.query.office_id&&G(()=>{const m=r.value("read").find(p=>Number(p[8])===Number(t.query.office_id));m&&i(m)}),t.query.phoneNumber&&(c.value=t.query.phoneNumber.replace(/\D+/g,""),_e(),P.value=c.value.substr(c.value.length-10),G(()=>{de()}));const h=Object.assign({},t.query);delete h.phoneNumber,delete h.office_id,a.replace({query:h})}}),(h,m)=>(C(),B("div",Lo,[b(Fe,{flat:""}),b(ia,{view:"lHh Lpr lFf",container:"",style:{height:"100%"},class:"shadow-2 rounded-borders bg-grey-3",id:"conversation-layout"},{default:g(()=>[w.value?(C(),k(oa,{key:0,bordered:"",class:"bg-white text-black",style:{height:"57px"}},{default:g(()=>[b(ra,null,{default:g(()=>[b(ne,{dense:"",flat:"",round:"",icon:"menu",onClick:m[0]||(m[0]=p=>Z.value=!Z.value)}),!w.value||w.value.id==="new"?(C(),k(Ke,{key:0},{default:g(()=>[b(ma,{for:"phoneNumber",modelValue:Y(P),"onUpdate:modelValue":m[1]||(m[1]=p=>St(P)?P.value=p:null),label:h.$t("phoneNumber"),tabindex:"0",onMaxLengthChanged:kt,style:Be(Y(y)?"padding-bottom: 20px; max-width: 250px;":"padding-bottom: 0px; max-width: 250px;"),error:!!Y(y),"error-message":Y(y),readonly:!1,editIcon:!1,onAddClicked:de,onKeyup:Pe(de,["enter"])},null,8,["modelValue","label","style","error","error-message","onKeyup"])]),_:1})):(C(),k(Ke,{key:1},{default:g(()=>[F(K(w.value.name)+" ",1),w.value.contacts&&w.value.contacts[0]?(C(),B("span",Qo,K(w.value.contacts[0].nationalFormat),1)):R("",!0),w.value.contacts&&w.value.contacts[0]?(C(),k(ne,{key:1,color:"accent",flat:"",dense:"",round:"",icon:"edit",size:"sm",onClick:m[2]||(m[2]=p=>x.value=!0)})):R("",!0)]),_:1})),b(ne,{dense:"",flat:"",round:"",icon:"more_vert"},{default:g(()=>[b(na,null,{default:g(()=>[w.value.contacts&&w.value.contacts[0]?(C(),k(Ee,{key:0,style:{"min-width":"100px"}},{default:g(()=>[ee((C(),k(re,{clickable:""},{default:g(()=>[b(W,{onClick:m[3]||(m[3]=p=>x.value=!0)},{default:g(()=>[F("Edit")]),_:1})]),_:1})),[[se]]),w.value.unread===!1?ee((C(),k(re,{key:0,clickable:""},{default:g(()=>[b(W,{onClick:m[4]||(m[4]=p=>Dt(w.value))},{default:g(()=>[F("Mark Un-Read")]),_:1})]),_:1})),[[se]]):R("",!0),ee((C(),k(re,{clickable:""},{default:g(()=>[w.value.archive===!1?(C(),k(W,{key:0,onClick:m[5]||(m[5]=p=>we(!0))},{default:g(()=>[F("Archive")]),_:1})):R("",!0),w.value.archive===!0?(C(),k(W,{key:1,onClick:m[6]||(m[6]=p=>we(!1))},{default:g(()=>[F("Unarchive")]),_:1})):R("",!0)]),_:1})),[[se]])]),_:1})):R("",!0)]),_:1})]),_:1})]),_:1})]),_:1})):R("",!0),b(la,{"show-if-above":"",modelValue:Z.value,"onUpdate:modelValue":m[8]||(m[8]=p=>Z.value=p),side:"left",width:350,bordered:"",onOnLayout:At},{default:g(()=>[b(sa,{class:"fit",id:"scroll-id"},{default:g(()=>[b(Ee,{separator:""},{default:g(()=>[Y(s)?ee((C(),k(re,{key:0,clickable:"",onClick:m[7]||(m[7]=p=>_e())},{default:g(()=>[b(W,{avatar:"",top:""},{default:g(()=>[b(qe,{icon:"add",color:"grey","text-color":"white"})]),_:1}),b(W,null,{default:g(()=>[F("New Message")]),_:1})]),_:1})),[[ze]]):R("",!0),b(re,null,{default:g(()=>[b(W,null,{default:g(()=>[b(ya,{styleSelection:!0})]),_:1})]),_:1})]),_:1}),b(Ee,{bordered:""},{default:g(()=>[b(xt,{style:{width:"350px"},onLoad:j,ref_key:"conversationScroll",ref:_},{default:g(()=>[(C(!0),B(Ie,null,De(Y(d),p=>ee((C(),k(re,{key:p.id,clickable:"",onClick:L=>ye(p),style:Be(w.value&&w.value.id===p.id?$:null)},{default:g(()=>[b(W,{avatar:""},{default:g(()=>[b(qe,{color:"primary","text-color":"white"},{default:g(()=>[p.letter?(C(),B("span",Vo,K(p.letter),1)):(C(),k(Ue,{key:1,name:"person"}))]),_:2},1024)]),_:2},1024),b(W,null,{default:g(()=>[b(Ye,{lines:"1",class:me({"text-bold":p.unread})},{default:g(()=>[F(K(p.name),1)]),_:2},1032,["class"]),b(Ye,{caption:"",lines:"2",class:me({"text-bold":p.unread,"text-black":p.unread})},{default:g(()=>[p.lastMessage&&p.lastMessage.body?(C(),k(Ue,{key:0,size:"xs",name:p.lastMessage.direction==="inbound"?"call_received":"call_made",color:p.lastMessage.direction==="inbound"?"green":"red"},null,8,["name","color"])):R("",!0),F(" "+K(p.lastMessage&&p.lastMessage.body),1)]),_:2},1032,["class"])]),_:2},1024),b(W,{side:"",top:"",class:me({"text-bold":p.unread,"text-black":p.unread})},{default:g(()=>[p.lastMessageDateTime?(C(),k(Y(It),{key:0,time:new Date(p.lastMessageDateTime)},{default:g(({timeAgo:L})=>[F(K(L),1)]),_:2},1032,["time"])):R("",!0)]),_:2},1032,["class"])]),_:2},1032,["onClick","style"])),[[ze]])),128))]),_:1},512)]),_:1})]),_:1})]),_:1},8,["modelValue"]),b(ua,null,{default:g(()=>[w.value?(C(),k(Mo,{key:0,conversation:w.value},null,8,["conversation"])):(C(),B("div",Ro,"Select a conversation"))]),_:1}),b(ta,{modelValue:x.value,"onUpdate:modelValue":m[11]||(m[11]=p=>x.value=p),persistent:""},{default:g(()=>[b(Fe,{style:{"min-width":"350px"}},{default:g(()=>[b(We,null,{default:g(()=>[Te("div",Ho,K(O.value),1),w.value.contacts&&w.value.contacts[0]?(C(),B("span",jo,K(w.value.contacts[0].nationalFormat),1)):R("",!0)]),_:1}),b(We,{class:"q-pt-none"},{default:g(()=>[b(Ce,{modelValue:N.value,"onUpdate:modelValue":m[9]||(m[9]=p=>N.value=p),label:"First Name",autofocus:"",onKeyup:Pe(be,["enter"])},null,8,["modelValue","onKeyup"]),b(Ce,{modelValue:M.value,"onUpdate:modelValue":m[10]||(m[10]=p=>M.value=p),label:"Last Name",autofocus:"",onKeyup:Pe(be,["enter"])},null,8,["modelValue","onKeyup"])]),_:1}),b(aa,{align:"right",class:"text-primary"},{default:g(()=>[ee(b(ne,{flat:"",label:"Cancel"},null,512),[[se]]),ee(b(ne,{flat:"",label:"Update",onClick:be},null,512),[[se]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),w.value&&w.value.id!=="no"?(C(),k(_a,{key:1,class:"bg-white"},{default:g(()=>[b(Ce,{autogrow:"",modelValue:ce.value,"onUpdate:modelValue":m[13]||(m[13]=p=>ce.value=p),placeholder:"Type a message",rounded:"",dense:"",standout:"",class:"q-py-sm",disable:w.value.id==="new"},{after:g(()=>[b(ne,{round:"",dense:"",flat:"",icon:"send",onClick:m[12]||(m[12]=p=>qt(w.value)),disabled:!w.value||w.value.id==="new"},null,8,["disabled"])]),_:1},8,["modelValue","disable"])]),_:1})):R("",!0)]),_:1})]))}};export{_n as default};
