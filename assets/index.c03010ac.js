import{l as re,bV as P,c as _,_ as ne,A as d,aq as V,br as n,B as U,D as o,bO as ye,d as l,E as Qe,ac as a,bW as C,ar as m,r as N,w as Ne,cU as z,bS as ae,bQ as ze,b5 as me,cS as fe,cT as le,G as S,ax as se,F as Ie,b4 as Oe,bT as De,ck as Me}from"./index.b3347518.js";import{Q as Te}from"./QPage.1c726ead.js";import{Q as ke,a as je}from"./QStep.32db9c25.js";import{b as Be,K as be,G as He,L as Ve,F as Ce,E as ge,c as Ye,H as Le}from"./app.861c54f9.js";import{a as J}from"./QSelect.c0394ceb.js";import{Q as qe}from"./QStepperNavigation.c19baa54.js";import{u as we}from"./i18n.3b71e085.js";import{a as Ee,u as $}from"./vee-validate.esm.ae3bb9b1.js";import{a as M,c as g}from"./array.bd6dacb5.js";import{s as Je}from"./states.03e3d448.js";import{u as Ae}from"./use-quasar.0481fcc5.js";import{Q as We}from"./QForm.9fb52b98.js";import{Q as Ue}from"./QTooltip.89c59c9c.js";import"./use-panel.28a86dc4.js";import"./touch.70a9dd44.js";import"./selection.2c03811b.js";import"./QSlideTransition.bce24fb9.js";import"./_commonjsHelpers.a26ce4be.js";import"./dayjs.3f8a4d98.js";import"./localForage.bdd6f67f.js";import"./api.8d39c17e.js";import"./index.04bc0a32.js";import"./QChip.4b9d3b26.js";import"./QMenu.da8fc445.js";import"./position-engine.0096d7d1.js";import"./rtl.b51694b1.js";const Ze=re({props:{title:String,step:Number,name:Number},setup(){const{checkedIn:e,onKiosk:s}=P(Be()),q=be(),{hiringCenterAvailable:c}=P(He()),{updateProfile:k}=q,{profile:y}=P(q),t=Ve(),{evergreenJobOptions:p}=P(t),{t:r}=we(),R=_(()=>e.value?M({selection:M().required(`${r("pleaseSelectAJob")}`).nullable()}):!1),{meta:H,errors:W,handleSubmit:Z,isSubmitting:G}=Ee({validationSchema:R,initialValues:{selection:y.value[19].value?{value:y.value[19].value,label:y.value[19].label}:null}}),{value:Y}=$("selection"),D=Z(E=>{const x={19:{value:E.selection.value,label:E.selection.label},40:{value:E.selection[13],label:E.selection[12]}};k({next:1,values:x})});return{checkedIn:e,onKiosk:s,selection:Y,formMeta:H,formErrors:W,isSubmitting:G,submitUpdate:D,evergreenJobOptions:p,hiringCenterAvailable:c}}}),Ge={key:0},Ke={class:"text-caption"};function Xe(e,s,q,c,k,y){return d(),V(ke,{name:e.name,title:e.title,done:e.step>0},{default:n(()=>[e.checkedIn||e.onKiosk||!e.onKiosk&&e.hiringCenterAvailable?(d(),U("div",Ge,[o("form",{onSubmit:s[1]||(s[1]=ye((...t)=>e.submitUpdate&&e.submitUpdate(...t),["prevent"]))},[l(J,{autofocus:"",label:e.$t("selectAJob"),modelValue:e.selection,"onUpdate:modelValue":s[0]||(s[0]=t=>e.selection=t),"use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",options:e.evergreenJobOptions,style:Qe(e.$q.screen.gt.md?"width: 50%":"width: 100%"),error:!!e.formErrors.selection,"bottom-slots":"",dense:""},{error:n(()=>[o("div",Ke,a(e.formErrors.selection),1)]),_:1},8,["label","modelValue","options","style","error"]),l(qe,{class:"text-right"},{default:n(()=>[l(C,{type:"submit",color:"info",label:e.$t("continue")},null,8,["label"])]),_:1})],32)])):m("",!0)]),_:1},8,["name","title","done"])}var _e=ne(Ze,[["render",Xe]]);const xe=["Alberta","British Columbia","Manitoba","New Brunswick","Newfoundland and Labrador","Northwest Territories","Nova Scotia","Nunavut","Ontario","Prince Edward Island","Quebec","Saskatchewan","Yukon Territory"],et=re({props:{title:String,step:Number,name:Number},components:{},setup(){const{employee:e}=P(Ce()),s=[{label:"Call",value:1},{label:"Text",value:2},{label:"Email",value:3},{label:"Call, Text, or Email",value:4},{label:"Do Not Contact Me",value:5}],q=[{label:"United States",value:"United States"},{label:"Canada",value:"Canada"}],c=N(!1),k=N(!1),y=N(null),t=N([]),p=N(""),r=N(null),R=be(),{onJobBoard:H}=P(R),W=M({first:g().required("First name is required!").matches(/^[aA-zZ\s]+$/,{excludeEmptyString:!0,message:"Only letters are allowed for this field!"}),middle:g().matches(/^[aA-zZ\s]+$/,{excludeEmptyString:!0,message:"Only letters are allowed for this field!"}).nullable().notRequired(),last:g().required("Last name is required!").matches(/^[aA-zZ\s]+$/,{excludeEmptyString:!0,message:"Only letters are allowed for this field!"}),suffix:g().nullable().notRequired(),street1:g().required(),street2:g().nullable().notRequired(),city:g().required(),state:g().required(),postal:g().required(),addressCountry:M().required("Country is required!").typeError("Country is a required field"),contact:M().nullable().notRequired()}),{meta:Z,errors:G,handleSubmit:Y,isSubmitting:D}=Ee({validationSchema:W,initialValues:{first:e.value[20]?e.value[20]:"",middle:e.value[21]?e.value[21]:"",last:e.value[22]?e.value[22]:"",suffix:e.value[23]?e.value[23]:"",contact:e.value[57]?{value:e.value[57],label:e.value[58]}:null,street1:e.value[41]?e.value[41]:"",street2:e.value[42]?e.value[42]:"",city:e.value[43]?e.value[43]:"",state:e.value[44]?e.value[44]:"",postal:e.value[45]?e.value[45]:"",addressCountry:e.value[46]?{value:e.value[46],label:e.value[46]}:null}}),{value:E,meta:x}=$("first"),{value:K,meta:ie}=$("middle"),{value:ee,meta:de}=$("last"),{value:I}=$("suffix"),{value:ue}=$("contact"),{value:O}=$("street1"),{value:F}=$("street2"),{value:A}=$("city"),{value:u}=$("state"),{value:h}=$("postal"),{value:v}=$("addressCountry"),X=_(()=>{const i=`${E.value} ${ee.value} ${I.value}`;return ge.formatName(i)}),te=_(()=>`${O.value}${F.value===""?"":` ${F.value}`}, ${A.value}, ${u.value}, ${h.value}, ${v.value.value}`);function L(){const i={next:2};R.updateProfile(i)}function pe(){c.value=!0}const oe=Y(async i=>{const j={23:i.first,24:i.middle,25:i.last,26:i.suffix,27:e.value[27],28:e.value[26],46:i.contact,32:i.street1,33:i.street2,34:i.city,35:i.state,36:i.postal,37:i.addressCountry.value},B={next:2,values:j};c.value=!1;const ce=await R.updateProfile(B);console.log(ce)});function $e(){const i={next:0};R.updateProfile(i)}const T=i=>{y.value=i};Ne(p,i=>{i&&i!==""&&i.length>3?he(i):t.value=[]});const he=async i=>{await fetch(`https://a.tiles.mapbox.com/geocoding/v5/mapbox.places/${i}.json?access_token=pk.eyJ1IjoicXVpY2tiYXNlb3BzIiwiYSI6ImNqNnpueGpzaDAzMmEyeG15bjQ4NXBldWYifQ.WyIwRcqCXdj-zo62Ro_UnQ`,{credentials:"omit",headers:{Accept:"*/*","Accept-Language":"en-US,en;q=0.5","Sec-Fetch-Dest":"empty","Sec-Fetch-Mode":"cors","Sec-Fetch-Site":"cross-site"},referrer:"https://elitehcms.quickbase.com/",method:"GET",mode:"cors"}).then(j=>j.json()).then(j=>{t.value=j.features})};return{submitUpdate:oe,isSubmitting:D,save:L,back:$e,updateCountry:T,first:E,middle:K,last:ee,suffix:I,contact:ue,street1:O,street2:F,city:A,state:u,postal:h,addressCountry:v,hasPersonalInfo:k,showEdit:c,firstMeta:x,middleMeta:ie,lastMeta:de,formMeta:Z,formErrors:G,options:s,countries:q,fullName:X,fullAddress:te,employee:e,showEditFunction:pe,onJobBoard:H,states:Je,provinces:xe,fetchPlaces:he,addressOptions:t,addressSearch:p,filterFn:(i,j,B)=>{j(()=>{p.value=i.toLowerCase()},ce=>{i!==""&&ce.options.length>0&&(ce.setOptionIndex(-1),ce.moveOptionSelection(1,!0))})},setAddress:i=>{if(i){O.value=`${i.address} ${i.text}`,F.value="",A.value=i.context.find(B=>B.id.startsWith("place.")).text,h.value=i.context.find(B=>B.id.startsWith("postcode.")).text,u.value=i.context.find(B=>B.id.startsWith("region.")).text;const j=i.context.find(B=>B.id.startsWith("country.")).text;v.value={label:j,value:j},p.value=null,r.value.focus()}},streetRef:r}}}),tt={class:"row justify-between"},ot={class:"col-12 col-md-5"},lt={class:"text-caption"},st={class:"text-caption"},at={class:"text-caption"},rt={class:"text-caption"},nt={class:"text-caption"},it={class:"col-12 col-md-6"},dt={class:"row"},ut={class:"text-caption"},ct={class:"text-caption"};function mt(e,s,q,c,k,y){return d(),U("form",{onSubmit:s[13]||(s[13]=ye((...t)=>e.submitUpdate&&e.submitUpdate(...t),["prevent"]))},[o("div",tt,[o("div",ot,[l(z,{dense:"",modelValue:e.first,"onUpdate:modelValue":s[0]||(s[0]=t=>e.first=t),label:`${e.$t("firstName")} *`,error:!!e.formErrors.first,"bottom-slots":""},{error:n(()=>[o("div",lt,a(e.formErrors.first),1)]),_:1},8,["modelValue","label","error"]),l(z,{dense:"",modelValue:e.middle,"onUpdate:modelValue":s[1]||(s[1]=t=>e.middle=t),label:e.$t("middleName"),error:!!e.formErrors.middle,"bottom-slots":""},{error:n(()=>[o("div",st,a(e.formErrors.middle),1)]),_:1},8,["modelValue","label","error"]),l(z,{dense:"",modelValue:e.last,"onUpdate:modelValue":s[2]||(s[2]=t=>e.last=t),label:`${e.$t("lastName")} *`,error:!!e.formErrors.last,"bottom-slots":""},{error:n(()=>[o("div",at,a(e.formErrors.last),1)]),_:1},8,["modelValue","label","error"]),l(z,{dense:"",modelValue:e.suffix,"onUpdate:modelValue":s[3]||(s[3]=t=>e.suffix=t),label:e.$t("suffix"),error:!!e.formErrors.suffix,"bottom-slots":""},{error:n(()=>[o("div",rt,a(e.formErrors.suffix),1)]),_:1},8,["modelValue","label","error"]),l(J,{dense:"",modelValue:e.contact,"onUpdate:modelValue":s[4]||(s[4]=t=>e.contact=t),label:e.$t("preferredContactMethod"),options:e.options,error:!!e.formErrors.contact,"bottom-slots":""},{error:n(()=>[o("div",nt,a(e.formErrors.contact),1)]),_:1},8,["modelValue","label","options","error"])]),e.$q.screen.gt.sm?(d(),V(ae,{key:0,vertical:""})):m("",!0),o("div",it,[l(J,{dense:"",modelValue:e.addressSearch,"onUpdate:modelValue":[s[5]||(s[5]=t=>e.addressSearch=t),e.setAddress],"use-input":"","hide-selected":"","fill-input":"","input-debounce":"300",label:`${e.$t("searchAddress")}`,options:e.addressOptions,onFilter:e.filterFn,"option-label":"place_name","option-value":"id","bottom-slots":"","hide-dropdown-icon":""},{append:n(()=>[l(ze,{name:"search"})]),_:1},8,["modelValue","label","options","onFilter","onUpdate:modelValue"]),l(z,{ref:"streetRef",dense:"",modelValue:e.street1,"onUpdate:modelValue":s[6]||(s[6]=t=>e.street1=t),label:`${e.$t("streetAddress1")} *`,error:!!e.formErrors.street1,"bottom-slots":""},null,8,["modelValue","label","error"]),l(z,{dense:"",modelValue:e.street2,"onUpdate:modelValue":s[7]||(s[7]=t=>e.street2=t),label:e.$t("streetAddress2"),error:!!e.formErrors.street2,"bottom-slots":""},null,8,["modelValue","label","error"]),l(z,{dense:"",modelValue:e.city,"onUpdate:modelValue":s[8]||(s[8]=t=>e.city=t),label:`${e.$t("city")} *`,error:!!e.formErrors.city,"bottom-slots":""},null,8,["modelValue","label","error"]),o("div",dt,[l(J,{class:"col-12 col-md-8",dense:"",modelValue:e.state,"onUpdate:modelValue":s[9]||(s[9]=t=>e.state=t),label:`${e.$t("stateRegion")} *`,options:e.addressCountry?e.addressCountry.value==="United States"?e.states:e.provinces:e.states,error:!!e.formErrors.state,"bottom-slots":""},{error:n(()=>[o("div",ut,a(e.formErrors.state),1)]),_:1},8,["modelValue","label","options","error"]),l(z,{class:"col-12 col-md-4",dense:"",modelValue:e.postal,"onUpdate:modelValue":s[10]||(s[10]=t=>e.postal=t),label:`${e.$t("zipCode")} *`,error:!!e.formErrors.postal,"bottom-slots":""},null,8,["modelValue","label","error"])]),l(J,{dense:"",modelValue:e.addressCountry,"onUpdate:modelValue":s[11]||(s[11]=t=>e.addressCountry=t),label:`${e.$t("country")} *`,options:e.countries,error:!!e.formErrors.addressCountry,"bottom-slots":""},{error:n(()=>[o("div",ct,a(e.formErrors.addressCountry),1)]),_:1},8,["modelValue","label","options","error"])])]),l(qe,{class:"text-right"},{default:n(()=>[e.onJobBoard?m("",!0):(d(),V(C,{key:0,onClick:s[12]||(s[12]=t=>e.$emit("back")),color:"secondary",label:e.$t("back"),class:"q-mr-sm"},null,8,["label"])),l(C,{type:"submit",color:"info",label:e.$t("continue")},null,8,["label"])]),_:1})],32)}var pt=ne(et,[["render",mt]]);const vt=/^[0-9]{10}/g,ft=re({props:{title:String,step:Number,name:Number},components:{editPersonalInfo:pt},setup(){const{employee:e}=P(Ce()),s=[{label:"Call",value:0},{label:"Text",value:1},{label:"Email",value:2}],q=[{label:"United States",value:"United States"},{label:"Canada",value:"Canada"}],c=N(!0),k=N(!1),y=N(null),t=be(),{onJobBoard:p,personalInfoNeeded:r}=P(t),R=M({first:g().required("First name is required!").matches(/^[aA-zZ\s]+$/,{excludeEmptyString:!0,message:"Only letters are allowed for this field!"}),middle:g().matches(/^[aA-zZ\s]+$/,{excludeEmptyString:!0,message:"Only letters are allowed for this field!"}).nullable().notRequired(),last:g().required("Last name is required!").matches(/^[aA-zZ\s]+$/,{excludeEmptyString:!0,message:"Only letters are allowed for this field!"}),suffix:g().nullable().notRequired(),email:g().required("Email is required!").email("You must provide a valid email!"),phone:g().matches(vt,{message:"Valid Phone Number Required!"}).required("Phone number is required!"),street1:g().required(),street2:g().nullable().notRequired(),city:g().required(),state:g().required(),postal:g().required(),addressCountry:M().required(),contact:M().nullable().notRequired()}),{meta:H,errors:W,handleSubmit:Z,isSubmitting:G}=Ee({validationSchema:R,initialValues:{first:e.value[20]?e.value[20]:"",middle:e.value[21]?e.value[21]:"",last:e.value[22]?e.value[22]:"",suffix:e.value[23]?e.value[23]:"",phone:e.value[27]?e.value[27]:"",email:e.value[26]?e.value[26]:"",contact:e.value[57]?{value:e.value[57],label:e.value[58]}:null,street1:e.value[41]?e.value[41]:"",street2:e.value[42]?e.value[42]:"",city:e.value[43]?e.value[43]:"",state:e.value[44]?e.value[44]:"",postal:e.value[45]?e.value[45]:"",addressCountry:e.value[46]?{value:e.value[46],label:e.value[46]}:null}}),{value:Y,meta:D}=$("first"),{value:E,meta:x}=$("middle"),{value:K,meta:ie}=$("last"),{value:ee}=$("suffix"),{value:de}=$("email"),{value:I}=$("phone"),{value:ue}=$("contact"),{value:O}=$("street1"),{value:F}=$("street2"),{value:A}=$("city"),{value:u}=$("state"),{value:h}=$("postal"),{value:v}=$("addressCountry"),X=_(()=>{const f=`${Y.value} ${K.value} ${ee.value}`;return ge.formatName(f)}),te=_(()=>`${O.value}${F.value===""?"":` ${F.value}`}, ${A.value}, ${u.value}, ${h.value}, ${v.value.value}`),L=_(()=>{let f="";return I.value.length===11?f=I.value.substring(1):f=I.value,ge.formatPhone(f)});async function pe(){const f={23:e.value[20],24:e.value[21],25:e.value[22],26:e.value[23],27:e.value[27],28:e.value[26],46:e.value[57],32:e.value[41],33:e.value[42],34:e.value[43],35:e.value[44],36:e.value[45],37:e.value[46]},ve={next:2,values:f};t.updateProfile(ve)}function oe(){c.value=!0}const $e=Z(f=>{const ve={23:f.first,24:f.middle,25:f.last,26:f.suffix,27:f.phone,28:f.email,46:f.contact,32:f.street1,33:f.street2,34:f.city,35:f.state,36:f.postal,37:f.addressCountry.name},i={next:2,values:ve};c.value=!1,t.updateProfile(i)});function T(){c.value=!1;const f={next:0};t.updateProfile(f)}return{submitUpdate:$e,isSubmitting:G,save:pe,back:T,updateCountry:f=>{y.value=f},first:Y,middle:E,last:K,suffix:ee,email:de,phone:I,contact:ue,street1:O,street2:F,city:A,state:u,postal:h,addressCountry:v,hasPersonalInfo:k,showEdit:c,firstMeta:D,middleMeta:x,lastMeta:ie,formMeta:H,formErrors:W,options:s,countries:q,fullName:X,fullAddress:te,formatPhone:L,employee:e,showEditFunction:oe,onJobBoard:p,personalInfoNeeded:r}}}),bt={key:1},$t={class:"col-12 col-md-3 q-py-sm"},ht={class:"text-primary"},yt={class:"text-dark q-pl-sm"},qt={class:"col-12 col-md-6 q-py-sm"},gt={class:"text-primary"},kt={class:"text-dark q-pl-sm"},Vt={class:"col-12 col-md-3 q-py-sm"},Ct={class:"text-primary"},Et={class:"text-dark q-pl-sm"};function St(e,s,q,c,k,y){const t=me("edit-personal-info");return d(),V(ke,{name:e.name,title:e.title,done:e.step>1},{default:n(()=>[e.showEdit||e.personalInfoNeeded?(d(),V(t,{key:0,onBack:e.back},null,8,["onBack"])):m("",!0),!e.showEdit&&!e.personalInfoNeeded?(d(),U("div",bt,[l(fe,null,{default:n(()=>[l(le,null,{default:n(()=>[o("div",{class:S(["text-dark",e.$q.screen.gt.sm?"text-h6":"text-body2"])},[se(a(e.$q.screen.gt.sm?`${e.$t("personalInfo")}`:`${e.$t("personal")}`)+" ",1),l(C,{class:"q-ml-sm",round:"",size:e.$q.screen.gt.sm?"sm":"xs",color:"accent",icon:"edit",onClick:e.showEditFunction},null,8,["size","onClick"])],2),o("div",{class:S(["row q-mt-sm",e.$q.screen.gt.sm?"text-body1":"text-caption"])},[o("div",$t,[o("div",ht,a(e.$t("name")),1),o("div",yt,a(e.employee[24]),1)]),o("div",qt,[o("div",gt,a(e.$t("address")),1),o("div",kt,a(e.employee[40]),1)]),o("div",Vt,[o("div",Ct,a(e.$t("preferredContactMethod")),1),o("div",Et,a(e.employee[58]),1)])],2)]),_:1})]),_:1}),l(qe,{class:"text-right"},{default:n(()=>[e.onJobBoard?m("",!0):(d(),V(C,{key:0,onClick:e.back,color:"secondary",label:e.$t("back"),class:"q-mr-sm"},null,8,["onClick","label"])),l(C,{onClick:e.save,color:"info",label:e.$t("continue")},null,8,["onClick","label"])]),_:1})])):m("",!0)]),_:1},8,["name","title","done"])}var wt=ne(ft,[["render",St]]);const Ut=/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/,Nt=re({props:{title:String,step:Number,name:Number},setup(){const e=Ae(),s=be(),q=Ve(),c=Ce(),{t:k}=we(),{relationshipOptions:y}=P(q),{savedEmergencyContacts:t}=P(c),{removeContact:p,addContact:r,updateContact:R,employeeData:H}=c,W=N({name:"first",value:null}),Z=N({name:"last",value:null}),G=N({name:"phone",value:null}),Y=N({name:"relationship",value:null}),D=N([]),E=_(()=>{const u=t.value.concat(D.value);return u.sort(function(h,v){return h.editing&&!v.editing?-1:!h.editing&&v.editing?1:0}),u}),x=_(()=>E.value.filter(h=>h.editing).length>0);function K(){const u={next:3};s.updateProfile(u)}function ie(){const u={next:1};s.updateProfile(u)}function ee(){const u={3:E.value.length+1,6:"",7:"",8:"",11:"",12:"",16:"",editing:!0,new:!0,contact:null};D.value.push(u),console.log(E.value)}function de(u){t.value[u].editing=!0}function I(u){const h=E.value[u];console.log(h),e.dialog({title:"Alert",message:`Are you sure you want to remove ${h[6]} ${h[7]}?`,cancel:!0,persistent:!0}).onOk(()=>{p(h[3])})}const ue=M({relationship:M().required("Relationship is required.").nullable(),phone:g().matches(Ut,{message:`${k("validPhoneIsRequired")}`}).length(10,{message:`${k("validPhoneIsRequired")}`}).required("Phone is required.").label(`${k("phoneNumber")}`),last:g().required().label(`${k("lastName")}`),first:g().required().label(`${k("firstName")}`)}).required();function O(u){const h=[W.value,Z.value,G.value,Y.value];u?h.forEach(v=>{v.name===u.name?v.value=u.message:v.value=null}):h.forEach(v=>{v.value=null})}async function F(u,h){console.log(u);const v=E.value[h];try{await ue.validate({relationship:u.contact,phone:u[16],last:u[7],first:u[6]}),v[11]=u.contact.value,v[12]=u.contact.label,v.editing=!1,O(),v.new?(v.new=!1,r(v),D.value.forEach((X,te)=>{X[3]===v[3]&&D.value.splice(te,1)})):R(v)}catch({name:X,path:te,errors:L,inner:pe}){let oe="";L[0]instanceof Object?oe=L[0].message:oe=L[0],O({name:te,message:oe})}}function A(u){const h=E.value[u];console.log(h),h.new?D.value.forEach((v,X)=>{v[3]===h[3]&&D.value.splice(X,1)}):E.value[u].editing=!1}return{save:K,back:ie,savedEmergencyContacts:t,allContacts:E,editing:x,relationshipOptions:y,editItem:de,removeItem:I,saveItem:F,cancelEdit:A,addNewContactRow:ee,addContact:r,updateContact:R,firstError:W,lastError:Z,phoneError:G,relationshipError:Y,helpers:ge,employeeData:H}}}),It={class:"col-12 col-md-4"},Ot={class:"text-primary"},At={class:"text-dark q-pl-sm"},Pt={class:"col-12 col-md-4"},Rt={class:"text-primary"},Ft={class:"text-dark q-pl-sm"},Qt={key:0,class:"text-body2 text-dark"},zt={class:"row q-py-sm"},Dt={class:"col-12 col-md-6 text-left"},Mt={key:0,class:"text-body2 text-primary text-italic q-pb-sm q-pl-md"},Tt=["id"],jt={class:"col-12 col-md-4"},Bt={class:"text-primary"},Ht={class:"text-dark q-pl-sm"},Yt={class:"text-primary"},Lt={class:"text-dark q-pl-sm"},Jt={class:"text-primary"},Wt={class:"text-dark q-pl-sm"},Zt={key:1,class:"items-center"},Gt=["onSubmit"],Kt={class:"row"},Xt={class:"col-12 col-md-3 q-pr-md"},_t={class:"col-12 col-md-3 q-pr-md"},xt={class:"col-12 col-md-3 q-pr-md"},eo={class:"col-12 col-md-3"},to={class:"row q-mt-md"},oo={class:"col text-right"};function lo(e,s,q,c,k,y){return d(),V(ke,{name:e.name,title:e.title},{default:n(()=>[o("div",null,[l(fe,{class:"q-px-xs"},{default:n(()=>[l(le,null,{default:n(()=>[o("div",{class:S(["text-dark",e.$q.screen.gt.sm?"text-h6":"text-body2"])},[se(a(e.$q.screen.gt.sm?`${e.$t("personalContactInfo")}`:`${e.$t("personal")}`)+" ",1),l(C,{class:"q-ml-sm",round:"",size:e.$q.screen.gt.sm?"sm":"xs",color:"accent",icon:"edit"},null,8,["size"])],2),o("div",{class:S(["row q-mt-sm",e.$q.screen.gt.sm?"text-body1":"text-caption"])},[o("div",It,[o("div",Ot,a(e.$t("phoneNumber")),1),o("div",At,a(e.employeeData[25]),1)]),o("div",Pt,[o("div",Rt,a(e.$t("email")),1),o("div",Ft,a(e.employeeData[26]),1)])],2)]),_:1}),e.$q.screen.gt.sm?m("",!0):(d(),V(ae,{key:0})),e.editing?m("",!0):(d(),V(le,{key:1,class:S(e.$q.screen.lt.md?"q-px-xs":"")},{default:n(()=>[e.$q.screen.gt.sm?m("",!0):(d(),U("div",Qt,a(e.$t("emergencyContacts")),1)),o("div",zt,[o("div",Dt,[l(C,{size:e.$q.screen.gt.sm?"md":"sm",color:"accent",label:(e.allContacts.length>0,e.$t("addEmergencyContact")),onClick:e.addNewContactRow,icon:"add"},null,8,["size","label","onClick"])])])]),_:1},8,["class"])),e.editing?(d(),V(ae,{key:2})):m("",!0),l(le,{class:S([e.editing?"q-pt-sm":"q-pt-none",e.$q.screen.gt.sm?"":"q-px-xs"])},{default:n(()=>[e.allContacts.length===0?(d(),U("div",Mt,a(e.$t("addEmergencyContactRequired")),1)):m("",!0),(d(!0),U(Ie,null,Oe(e.allContacts,(t,p)=>(d(),U("div",{id:t[3],key:t[3]},[l(fe,{class:"q-pa-sm",flat:""},{default:n(()=>[t.editing?m("",!0):(d(),U("div",{key:0,class:S(["row items-center",e.$q.screen.gt.sm?"text-body2":"text-caption"])},[o("div",jt,[o("div",null,[o("div",Bt,a(e.$t("name")),1),o("div",Ht,a(e.helpers.formatName(t[6]))+" "+a(e.helpers.formatName(t[7])),1)])]),o("div",{class:S(e.$q.screen.gt.sm?"col-3":"col-12 q-pt-sm")},[o("div",null,[o("div",Yt,a(e.$t("phoneNumber")),1),o("div",Lt,a(e.helpers.formatPhone(t[8])),1)])],2),o("div",{class:S(e.$q.screen.gt.sm?"col-3":"col-12 q-pt-sm")},[o("div",null,[o("div",Jt,a(e.$t("relationship")),1),o("div",Wt,a(t[12]),1)])],2),o("div",{class:S(e.$q.screen.gt.sm?"col-2 text-right":"col-12 q-pt-md text-right")},[o("div",null,[l(C,{size:"sm",round:"",onClick:r=>e.editItem(p),color:"secondary",icon:"edit",class:"q-mr-sm"},null,8,["onClick"]),l(C,{size:"sm",round:"",onClick:r=>e.removeItem(p),color:"primary",icon:"delete"},null,8,["onClick"])])],2)],2)),t.editing?(d(),U("div",Zt,[o("form",{onSubmit:ye(r=>e.saveItem(t,p),["prevent"])},[o("div",Kt,[o("div",Xt,[l(z,{modelValue:t[6],"onUpdate:modelValue":r=>t[6]=r,dense:"",label:e.$t("firstName"),error:!!e.firstError.value,"bottom-slots":""},{error:n(()=>[se(a(e.firstError.value),1)]),_:2},1032,["modelValue","onUpdate:modelValue","label","error"])]),o("div",_t,[l(z,{modelValue:t[7],"onUpdate:modelValue":r=>t[7]=r,dense:"",label:e.$t("lastName"),error:!!e.lastError.value,"bottom-slots":""},{error:n(()=>[se(a(e.lastError.value),1)]),_:2},1032,["modelValue","onUpdate:modelValue","label","error"])]),o("div",xt,[l(z,{modelValue:t[16],"onUpdate:modelValue":r=>t[16]=r,dense:"",label:e.$t("phoneNumber"),error:!!e.phoneError.value,"bottom-slots":""},{error:n(()=>[se(a(e.phoneError.value),1)]),_:2},1032,["modelValue","onUpdate:modelValue","label","error"])]),o("div",eo,[l(J,{behavior:"menu",position:"top middle",modelValue:t.contact,"onUpdate:modelValue":r=>t.contact=r,dense:"",label:e.$t("relationship"),options:e.relationshipOptions,error:!!e.relationshipError.value,"bottom-slots":""},{error:n(()=>[se(a(e.relationshipError.value),1)]),_:2},1032,["modelValue","onUpdate:modelValue","label","options","error"])])]),o("div",to,[o("div",oo,[l(C,{onClick:r=>e.cancelEdit(p),color:"secondary",label:e.$t("cancel"),class:"q-mr-sm"},null,8,["onClick","label"]),l(C,{type:"submit",color:"info",label:e.$t("save")},null,8,["label"])])])],40,Gt)])):m("",!0)]),_:2},1024),p<e.allContacts.length-1?(d(),V(ae,{key:0})):m("",!0)],8,Tt))),128))]),_:1},8,["class"])]),_:1}),e.editing?m("",!0):(d(),V(qe,{key:0,class:"text-right"},{default:n(()=>[l(C,{onClick:e.back,color:"secondary",label:e.$t("back"),class:"q-mr-sm"},null,8,["onClick","label"]),l(C,{onClick:e.save,color:"info",label:e.$t("continue"),disabled:e.savedEmergencyContacts.length===0},null,8,["onClick","label","disabled"])]),_:1}))])]),_:1},8,["name","title"])}var so=ne(Nt,[["render",lo]]);const ao=re({props:{title:String,step:Number,name:Number},setup(){const{t:e}=we(),s=De(),q=N(3),c=N(!1),k=Ae(),y=be(),t=Ve(),p=Ye(),r=Ce(),{fetchVoluntaryForms:R}=t,{experienceOptions:H,companyOptions:W,craftOptions:Z,employmentOptions:G}=P(t),{hasAffirmative:Y,hasVets:D,hasDisability:E,goToVoluntary:x}=P(p),{savedHistory:K}=P(r),{addHistory:ie,updateHistory:ee,removeHistory:de,employeeData:I,updateEmployeeData:ue}=r,O=N([]),{toggleLoader:F,profile:A}=y,{proceedToTest:u}=P(y),h=M({craft:M().required(`${e("selectACraft")}`).nullable(),experience:M().required(`${e("selectExperience")}`).nullable(),employment:M().required(`${e("selectEmploymentStatus")}`).nullable()}),{meta:v,errors:X,handleSubmit:te}=Ee({validationSchema:h,initialValues:{craft:A[40]?{value:A[40].value,label:A[40].label}:null,experience:I[53]?{value:I[53],label:I[54]}:null,employment:I[55]?{value:I[55],label:I[56]}:null}}),{value:L}=$("craft"),{value:pe}=$("experience"),{value:oe}=$("employment");Ne(A,()=>{A[40].value!==L.value.value&&(L.value={value:A[40].value,label:A[40].label})});const $e=te(async b=>{const Q={40:{value:b.craft.value,label:b.craft.label},42:{value:b.experience.value,label:b.experience.label},44:{value:b.employment.value,label:b.employment.label},39:{value:new Date}};if(x.value){const w={next:E.value?6:Y.value?7:D.value?8:0,values:Q,completed:!0};F(!0),await R(),await y.updateProfile(w),await y.submitProfileToQB(),F(!1),s.push({name:"voluntary"})}else{const w={next:0,values:Q,completed:!0};F(!0),await y.updateProfile(w),await y.submitProfileToQB(),u.value?(ue({fields:{122:{value:8}}}),s.replace({name:"assessment"})):(s.replace({name:"thanks"}),F(!1))}}),T=_(()=>{const b=K.value.concat(O.value);return b.sort(function(Q,w){return Q.editing&&!w.editing?-1:!Q.editing&&w.editing?1:0}),b}),he=_(()=>T.value.filter(Q=>Q.editing).length>0);function f(){const b={3:T.value.length+1,6:"",7:"",10:"",11:"",12:"",13:"",15:"",16:"",editing:!0,new:!0,company:null,craft:null};O.value.push(b)}function ve(){const b={next:4};y.updateProfile(b)}function i(){const b={next:2};y.updateProfile(b)}function j(b){K.value[b].editing=!0}function B(b){const Q=T.value[b];console.log(Q),k.dialog({title:`${e("alert")}`,message:`${e("areYouSureYouWantToRemove")}`,cancel:!0,persistent:!0}).onOk(()=>{de(Q[3])})}function ce(b,Q){const w=T.value[Q];w[6]=b.company.value,w[7]=b.company.label,w[15]=b.craft.value,w[16]=b.craft.label,w.editing=!1,w.new?(w.new=!1,O.value.forEach((Se,Fe)=>{Se[3]===w[3]&&O.value.splice(Fe,1)}),ie(w)):ee(w)}function Pe(b){const Q=T.value[b];Q.new?O.value.forEach((w,Se)=>{w[3]===Q[3]&&O.value.splice(Se,1)}):T.value[b].editing=!1}function Re(){c.value?(q.value=3,c.value=!1):(c.value=!0,q.value=T.value.length)}return{save:ve,back:i,allHistory:T,addNewRow:f,editItem:j,removeItem:B,saveItem:ce,cancelEdit:Pe,editing:he,date:Le,show:q,expanded:c,adjustRows:Re,formMeta:v,formErrors:X,submitUpdate:$e,craft:L,experience:pe,employment:oe,experienceOptions:H,companyOptions:W,craftOptions:Z,employmentOptions:G}}}),ro={class:"text-body2 text-dark"},no={class:"row"},io={class:"col-12 col-md-4 q-px-xs"},uo={class:"text-caption"},co={class:"col-12 col-md-4 q-px-xs"},mo={class:"text-caption"},po={class:"col-12 col-md-4 q-px-xs"},vo={class:"text-caption"},fo={class:"text-body2 text-dark"},bo={class:"row q-py-sm"},$o={class:"col-12 col-md-6"},ho={key:0,class:"text-body2 text-primary text-italic q-pb-sm q-pl-md"},yo=["id"],qo={class:"col-12 col-md-3"},go={class:"text-primary"},ko={class:"text-dark q-pl-sm"},Vo={class:"text-primary"},Co={class:"text-dark q-pl-sm"},Eo={class:"text-primary"},So={class:"text-dark q-pl-sm"},wo={class:"text-primary"},Uo={class:"text-dark q-pl-sm"},No={class:"text-primary"},Io={class:"text-dark q-pl-sm"},Oo={key:1,class:"items-center"},Ao={class:"row"},Po={class:"col-12 col-md-2 q-pr-md"},Ro={class:"col-12 col-md-2 q-pr-md"},Fo={class:"col-12 col-md-2 q-pr-md"},Qo={class:"col-12 col-md-2 q-pr-md"},zo={class:"col-12 col-md-2 q-pr-md"},Do={class:"col-12 col-md-2 q-pr-md"},Mo={class:"row q-mt-md"},To={class:"col text-right"},jo={class:"row q-pt-md"},Bo={key:0,class:"col-12 text-right"};function Ho(e,s,q,c,k,y){return d(),V(ke,{name:e.name,title:e.title,done:e.step>3},{default:n(()=>[o("div",null,[o("form",{onSubmit:s[3]||(s[3]=ye((...t)=>e.submitUpdate&&e.submitUpdate(...t),["prevent"]))},[l(fe,{class:"q-px-xs"},{default:n(()=>[l(le,{class:"q-pb-none q-mb-sm"},{default:n(()=>[o("div",ro,a(e.$t("applyingFor"))+":",1),o("div",no,[o("div",io,[l(J,{behavior:"menu",position:"top middle",disable:!0,dense:"",modelValue:e.craft,"onUpdate:modelValue":s[0]||(s[0]=t=>e.craft=t),label:e.$t("primaryCraft"),options:e.craftOptions,error:!!e.formErrors.craft,"bottom-slots":""},{error:n(()=>[o("div",uo,a(e.formErrors.craft),1)]),_:1},8,["modelValue","label","options","error"])]),o("div",co,[l(J,{behavior:"menu",position:"top middle",dense:"",modelValue:e.experience,"onUpdate:modelValue":s[1]||(s[1]=t=>e.experience=t),label:e.$t("yearsOfExperience"),options:e.experienceOptions,error:!!e.formErrors.experience,"bottom-slots":""},{error:n(()=>[o("div",mo,a(e.formErrors.experience),1)]),_:1},8,["modelValue","label","options","error"])]),o("div",po,[l(J,{behavior:"menu",position:"top middle",dense:"",modelValue:e.employment,"onUpdate:modelValue":s[2]||(s[2]=t=>e.employment=t),label:e.$t("currentEmploymentStatus"),options:e.employmentOptions,error:!!e.formErrors.employment,"bottom-slots":""},{error:n(()=>[o("div",vo,a(e.formErrors.employment),1)]),_:1},8,["modelValue","label","options","error"])])])]),_:1}),l(ae),e.editing?m("",!0):(d(),V(le,{key:0,class:S(e.$q.screen.lt.md?"q-px-xs":"")},{default:n(()=>[o("div",fo,a(e.$t("workHistory"))+":",1),o("div",bo,[o("div",$o,[l(C,{size:e.$q.screen.gt.sm?"md":"sm",color:"accent",label:e.allHistory.length>0?`${e.$t("addMoreHistory")}`:`${e.$t("addEmploymentHistory")}`,onClick:e.addNewRow,icon:"add"},null,8,["size","label","onClick"])])])]),_:1},8,["class"])),e.editing?(d(),V(ae,{key:1})):m("",!0),l(le,{class:S([e.editing?"q-pt-sm":"q-pt-none",e.$q.screen.gt.sm?"":"q-px-xs"])},{default:n(()=>[e.allHistory.length===0?(d(),U("div",ho,a(e.$t("addYourEmploymentHistoryLater")),1)):m("",!0),(d(!0),U(Ie,null,Oe(e.allHistory,(t,p)=>(d(),U("div",{id:t[3],key:p},[e.expanded||p+1<=e.show?(d(),V(fe,{key:0,class:"q-px-sm q-pt-xs q-pb-sm",flat:""},{default:n(()=>[t.editing?m("",!0):(d(),U("div",{key:0,class:S(["row items-center",e.$q.screen.gt.sm?"text-body2":"text-caption"])},[o("div",qo,[o("div",null,[o("div",go,a(e.$t("company")),1),o("div",ko,a(t[7]),1)])]),o("div",{class:S(e.$q.screen.gt.sm?"col-2":"hidden")},[o("div",null,[o("div",Vo,a(e.$t("location")),1),o("div",Co,a(t[10]!==""?t[10]:"N/A"),1)])],2),o("div",{class:S(e.$q.screen.gt.sm?"col-2":"col-12 q-pt-md")},[o("div",null,[o("div",Eo,a(e.$t("jobTitle")),1),o("div",So,a(t[16])+" "+a(t[11]),1)])],2),o("div",{class:S(e.$q.screen.gt.sm?"col-2":"col-6 q-pt-md")},[o("div",null,[o("div",wo,a(e.$t("startDate")),1),o("div",Uo,a(e.date.formatDate(t[12],"MM-DD-YYYY")),1)])],2),o("div",{class:S(e.$q.screen.gt.sm?"col-2":"col-6 q-pt-md")},[o("div",null,[o("div",No,a(e.$t("endDate")),1),o("div",Io,a(e.date.formatDate(t[13],"MM-DD-YYYY")),1)])],2),o("div",{class:S(e.$q.screen.gt.sm?"col-1 text-right":"col-12 q-pt-md text-right")},[o("div",null,[l(C,{size:"sm",round:"",onClick:r=>e.editItem(p),color:"secondary",icon:"edit",class:"q-mr-sm"},null,8,["onClick"]),l(C,{size:"sm",round:"",onClick:r=>e.removeItem(p),color:"primary",icon:"delete"},null,8,["onClick"])])],2)],2)),t.editing?(d(),U("div",Oo,[l(We,{onSubmit:ye(r=>e.saveItem(t,p),["prevent"])},{default:n(()=>[o("div",Ao,[o("div",Po,[l(J,{modelValue:t.company,"onUpdate:modelValue":r=>t.company=r,dense:"",label:e.$t("company"),options:e.companyOptions,rules:[r=>!!r||"Field is required"]},null,8,["modelValue","onUpdate:modelValue","label","options","rules"])]),o("div",Ro,[l(J,{modelValue:t.craft,"onUpdate:modelValue":r=>t.craft=r,dense:"",label:e.$t("craft"),options:e.craftOptions,rules:[r=>!!r||"Field is required"]},null,8,["modelValue","onUpdate:modelValue","label","options","rules"])]),o("div",Fo,[l(z,{modelValue:t[11],"onUpdate:modelValue":r=>t[11]=r,dense:"",label:e.$t("jobTitle")},null,8,["modelValue","onUpdate:modelValue","label"])]),o("div",Qo,[l(z,{modelValue:t[10],"onUpdate:modelValue":r=>t[10]=r,dense:"",label:e.$t("location")},null,8,["modelValue","onUpdate:modelValue","label"])]),o("div",zo,[l(z,{type:"date",modelValue:t[12],"onUpdate:modelValue":r=>t[12]=r,dense:"",filled:"",hint:e.$t("startDate"),rules:[r=>!!r||"Field is required"]},null,8,["modelValue","onUpdate:modelValue","hint","rules"])]),o("div",Do,[l(z,{type:"date",modelValue:t[13],"onUpdate:modelValue":r=>t[13]=r,dense:"",filled:"",hint:e.$t("endDate"),rules:[r=>!!r||"Field is required"]},null,8,["modelValue","onUpdate:modelValue","hint","rules"])])]),o("div",Mo,[o("div",To,[l(C,{onClick:r=>e.cancelEdit(p),color:"secondary",label:e.$t("cancel"),class:"q-mr-sm"},null,8,["onClick","label"]),l(C,{type:"submit",color:"info",label:e.$t("save")},null,8,["label"])])])]),_:2},1032,["onSubmit"])])):m("",!0)]),_:2},1024)):m("",!0),p<e.allHistory.length-1?(d(),V(ae,{key:1})):m("",!0)],8,yo))),128)),e.allHistory.length>e.show||e.expanded?(d(),V(ae,{key:1})):m("",!0),o("div",jo,[e.allHistory.length>e.show||e.expanded?(d(),U("div",Bo,[l(C,{round:"",color:"secondary",onClick:e.adjustRows,icon:e.expanded?"expand_less":"expand_more"},{default:n(()=>[e.expanded?(d(),V(Ue,{key:0,anchor:"top middle"},{default:n(()=>[se(a(e.$t("showLess")),1)]),_:1})):m("",!0),e.expanded?m("",!0):(d(),V(Ue,{key:1,anchor:"top middle"},{default:n(()=>[se(a(e.$t("showMore")),1)]),_:1}))]),_:1},8,["onClick","icon"])])):m("",!0)])]),_:1},8,["class"])]),_:1}),e.editing?m("",!0):(d(),V(qe,{key:0,class:"text-right"},{default:n(()=>[l(C,{onClick:e.back,color:"secondary",label:e.$t("back"),class:"q-mr-sm"},null,8,["onClick","label"]),l(C,{type:"submit",color:"info",label:e.$t("continue")},null,8,["label"])]),_:1}))],32)])]),_:1},8,["name","title","done"])}var Yo=ne(ao,[["render",Ho]]);const Lo=re({components:{selectJob:_e,personalInfo:wt,emergencyContact:so,workHistory:Yo},setup(){const e=be(),{resetProfile:s}=e,{step:q}=P(e);s();const c=N(null);return{step:q,jobSelection:c,jobOptions:[{label:"Default Job",value:0}]}}});function Jo(e,s,q,c,k,y){const t=me("select-job"),p=me("personal-info"),r=me("emergency-contact"),R=me("work-history");return d(),U("div",null,[l(je,{modelValue:e.step,"onUpdate:modelValue":s[0]||(s[0]=H=>e.step=H),vertical:"",animated:"","done-color":"info","active-color":"dark","inactive-color":"secondary",class:S(e.$q.screen.lt.md?"q-px-none q-mx-none":"")},{default:n(()=>[l(t,{title:e.$t("selectAJob"),step:e.step,name:0,done:e.step>0},null,8,["title","step","done"]),l(p,{title:e.$t("personalInformation"),step:e.step,name:1,done:e.step>1},null,8,["title","step","done"]),l(r,{title:e.$t("contactInformation"),step:e.step,name:2,done:e.step>2},null,8,["title","step","done"]),l(R,{title:e.$t("employmentInformation"),step:e.step,name:3,done:e.step>3},null,8,["title","step","done"])]),_:1},8,["modelValue","class"])])}var Wo=ne(Lo,[["render",Jo]]);const Zo=re({components:{profileStepper:Wo},setup(){}});function Go(e,s,q,c,k,y){const t=me("profile-stepper");return d(),U("div",null,[l(t)])}var Ko=ne(Zo,[["render",Go]]);const Xo=re({components:{Profile:Ko},setup(){const e=N(0),s=Ve(),{fetchFormOptions:q}=s,{formOptionsLoadingState:c}=P(s);return q(),{step:e,formOptionsLoadingState:c}}}),_o={key:0,class:"absolute-center"},xo={key:1,class:"row"},el={class:"col-12 q-pt-sm"},tl={class:"q-pl-sm"},ol={class:"text-h6 text-dark"},ll={class:"text-body1 text-secondary text-italic"};function sl(e,s,q,c,k,y){const t=me("profile");return d(),V(Te,{style:{"max-width":"100vw"}},{default:n(()=>[e.formOptionsLoadingState?(d(),U("div",_o,[l(Me,{color:"primary",size:"5em"})])):m("",!0),e.formOptionsLoadingState?m("",!0):(d(),U("div",xo,[o("div",el,[l(fe,{flat:""},{default:n(()=>[l(le,{class:S(e.$q.screen.lt.md?"q-px-xs":"")},{default:n(()=>[o("div",tl,[o("div",ol,a(e.$t("completeApplication")),1),o("div",ll,a(e.$t("pleaseCompleteYourApplication")),1)])]),_:1},8,["class"]),l(le,null,{default:n(()=>[l(t)]),_:1})]),_:1})])]))]),_:1})}var Ol=ne(Xo,[["render",sl]]);export{Ol as default};
