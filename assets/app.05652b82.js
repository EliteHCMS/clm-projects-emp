var S1=Object.defineProperty;var I1=(t,e,r)=>e in t?S1(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var ue=(t,e,r)=>(I1(t,typeof e!="symbol"?e+"":e,r),r);import{m as Ko,n as O1,p as k1,q as yt,k as H,P as Ce,f as cf,s as uf,t as Ee,u as lf,v as T1,x as C1,y as R1,z as _1}from"./index.dd77155d.js";import{c as E1,a as en,g as P1}from"./_commonjsHelpers.a26ce4be.js";import{dayjs as I}from"./dayjs.6e814a2c.js";import{stateDB as Re,localforage as F}from"./localForage.a5ce8de1.js";import{api as dr}from"./api.9cc8c4bd.js";import{r as da,a as pa}from"./index.04bc0a32.js";import{i as Pn}from"./i18n.660e2ed7.js";function D1(t){const e=Object.assign({noopener:!0},t),r=[];for(const i in e){const a=e[i];a===!0?r.push(i):(k1(a)||typeof a=="string"&&a!=="")&&r.push(i+"="+a)}return r.join(",")}function ml(t,e,r){let i=window.open;if(Ko.is.cordova===!0){if(cordova!==void 0&&cordova.InAppBrowser!==void 0&&cordova.InAppBrowser.open!==void 0)i=cordova.InAppBrowser.open;else if(navigator!==void 0&&navigator.app!==void 0)return navigator.app.loadUrl(t,{openExternal:!0})}const a=i(t,"_blank",D1(r));if(a)return Ko.is.desktop&&a.focus(),a;e&&e()}var N1=(t,e,r)=>{if(Ko.is.ios===!0&&window.SafariViewController!==void 0){window.SafariViewController.isAvailable(i=>{i?window.SafariViewController.show({url:t},O1,e):ml(t,e,r)});return}return ml(t,e,r)},ff={exports:{}};(function(t){/**
 * @license bcrypt.js (c) 2013 Daniel Wirtz <dcode@dcode.io>
 * Released under the Apache License, Version 2.0
 * see: https://github.com/dcodeIO/bcrypt.js for details
 */(function(e,r){typeof E1=="function"&&!0&&t&&t.exports?t.exports=r():(e.dcodeIO=e.dcodeIO||{}).bcrypt=r()})(en,function(){var e={},r=null;function i(E){if(t&&t.exports)try{return require("crypto").randomBytes(E)}catch{}try{var T;return(self.crypto||self.msCrypto).getRandomValues(T=new Uint32Array(E)),Array.prototype.slice.call(T)}catch{}if(!r)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return r(E)}var a=!1;try{i(1),a=!0}catch{}r=null,e.setRandomFallback=function(E){r=E},e.genSaltSync=function(E,T){if(E=E||Q,typeof E!="number")throw Error("Illegal arguments: "+typeof E+", "+typeof T);E<4?E=4:E>31&&(E=31);var O=[];return O.push("$2a$"),E<10&&O.push("0"),O.push(E.toString()),O.push("$"),O.push(C(i(j),j)),O.join("")},e.genSalt=function(E,T,O){if(typeof T=="function"&&(O=T,T=void 0),typeof E=="function"&&(O=E,E=void 0),typeof E=="undefined")E=Q;else if(typeof E!="number")throw Error("illegal arguments: "+typeof E);function w(A){u(function(){try{A(null,e.genSaltSync(E))}catch(P){A(P)}})}if(O){if(typeof O!="function")throw Error("Illegal callback: "+typeof O);w(O)}else return new Promise(function(A,P){w(function(M,V){if(M){P(M);return}A(V)})})},e.hashSync=function(E,T){if(typeof T=="undefined"&&(T=Q),typeof T=="number"&&(T=e.genSaltSync(T)),typeof E!="string"||typeof T!="string")throw Error("Illegal arguments: "+typeof E+", "+typeof T);return vt(E,T)},e.hash=function(E,T,O,w){function A(P){typeof E=="string"&&typeof T=="number"?e.genSalt(T,function(M,V){vt(E,V,P,w)}):typeof E=="string"&&typeof T=="string"?vt(E,T,P,w):u(P.bind(this,Error("Illegal arguments: "+typeof E+", "+typeof T)))}if(O){if(typeof O!="function")throw Error("Illegal callback: "+typeof O);A(O)}else return new Promise(function(P,M){A(function(V,K){if(V){M(V);return}P(K)})})};function o(E,T){for(var O=0,w=0,A=0,P=E.length;A<P;++A)E.charCodeAt(A)===T.charCodeAt(A)?++O:++w;return O<0?!1:w===0}e.compareSync=function(E,T){if(typeof E!="string"||typeof T!="string")throw Error("Illegal arguments: "+typeof E+", "+typeof T);return T.length!==60?!1:o(e.hashSync(E,T.substr(0,T.length-31)),T)},e.compare=function(E,T,O,w){function A(P){if(typeof E!="string"||typeof T!="string"){u(P.bind(this,Error("Illegal arguments: "+typeof E+", "+typeof T)));return}if(T.length!==60){u(P.bind(this,null,!1));return}e.hash(E,T.substr(0,29),function(M,V){M?P(M):P(null,o(V,T))},w)}if(O){if(typeof O!="function")throw Error("Illegal callback: "+typeof O);A(O)}else return new Promise(function(P,M){A(function(V,K){if(V){M(V);return}P(K)})})},e.getRounds=function(E){if(typeof E!="string")throw Error("Illegal arguments: "+typeof E);return parseInt(E.split("$")[2],10)},e.getSalt=function(E){if(typeof E!="string")throw Error("Illegal arguments: "+typeof E);if(E.length!==60)throw Error("Illegal hash length: "+E.length+" != 60");return E.substring(0,29)};var u=typeof process!="undefined"&&process&&typeof process.nextTick=="function"?typeof setImmediate=="function"?setImmediate:process.nextTick:setTimeout;function f(E){var T=[],O=0;return D.encodeUTF16toUTF8(function(){return O>=E.length?null:E.charCodeAt(O++)},function(w){T.push(w)}),T}var l="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),p=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1],v=String.fromCharCode;function C(E,T){var O=0,w=[],A,P;if(T<=0||T>E.length)throw Error("Illegal len: "+T);for(;O<T;){if(A=E[O++]&255,w.push(l[A>>2&63]),A=(A&3)<<4,O>=T){w.push(l[A&63]);break}if(P=E[O++]&255,A|=P>>4&15,w.push(l[A&63]),A=(P&15)<<2,O>=T){w.push(l[A&63]);break}P=E[O++]&255,A|=P>>6&3,w.push(l[A&63]),w.push(l[P&63])}return w.join("")}function R(E,T){var O=0,w=E.length,A=0,P=[],M,V,K,se,oe,Ie;if(T<=0)throw Error("Illegal len: "+T);for(;O<w-1&&A<T&&(Ie=E.charCodeAt(O++),M=Ie<p.length?p[Ie]:-1,Ie=E.charCodeAt(O++),V=Ie<p.length?p[Ie]:-1,!(M==-1||V==-1||(oe=M<<2>>>0,oe|=(V&48)>>4,P.push(v(oe)),++A>=T||O>=w)||(Ie=E.charCodeAt(O++),K=Ie<p.length?p[Ie]:-1,K==-1)||(oe=(V&15)<<4>>>0,oe|=(K&60)>>2,P.push(v(oe)),++A>=T||O>=w)));)Ie=E.charCodeAt(O++),se=Ie<p.length?p[Ie]:-1,oe=(K&3)<<6>>>0,oe|=se,P.push(v(oe)),++A;var ut=[];for(O=0;O<A;O++)ut.push(P[O].charCodeAt(0));return ut}var D=function(){var E={};return E.MAX_CODEPOINT=1114111,E.encodeUTF8=function(T,O){var w=null;for(typeof T=="number"&&(w=T,T=function(){return null});w!==null||(w=T())!==null;)w<128?O(w&127):w<2048?(O(w>>6&31|192),O(w&63|128)):w<65536?(O(w>>12&15|224),O(w>>6&63|128),O(w&63|128)):(O(w>>18&7|240),O(w>>12&63|128),O(w>>6&63|128),O(w&63|128)),w=null},E.decodeUTF8=function(T,O){for(var w,A,P,M,V=function(K){K=K.slice(0,K.indexOf(null));var se=Error(K.toString());throw se.name="TruncatedError",se.bytes=K,se};(w=T())!==null;)if((w&128)===0)O(w);else if((w&224)===192)(A=T())===null&&V([w,A]),O((w&31)<<6|A&63);else if((w&240)===224)((A=T())===null||(P=T())===null)&&V([w,A,P]),O((w&15)<<12|(A&63)<<6|P&63);else if((w&248)===240)((A=T())===null||(P=T())===null||(M=T())===null)&&V([w,A,P,M]),O((w&7)<<18|(A&63)<<12|(P&63)<<6|M&63);else throw RangeError("Illegal starting byte: "+w)},E.UTF16toUTF8=function(T,O){for(var w,A=null;(w=A!==null?A:T())!==null;){if(w>=55296&&w<=57343&&(A=T())!==null&&A>=56320&&A<=57343){O((w-55296)*1024+A-56320+65536),A=null;continue}O(w)}A!==null&&O(A)},E.UTF8toUTF16=function(T,O){var w=null;for(typeof T=="number"&&(w=T,T=function(){return null});w!==null||(w=T())!==null;)w<=65535?O(w):(w-=65536,O((w>>10)+55296),O(w%1024+56320)),w=null},E.encodeUTF16toUTF8=function(T,O){E.UTF16toUTF8(T,function(w){E.encodeUTF8(w,O)})},E.decodeUTF8toUTF16=function(T,O){E.decodeUTF8(T,function(w){E.UTF8toUTF16(w,O)})},E.calculateCodePoint=function(T){return T<128?1:T<2048?2:T<65536?3:4},E.calculateUTF8=function(T){for(var O,w=0;(O=T())!==null;)w+=E.calculateCodePoint(O);return w},E.calculateUTF16asUTF8=function(T){var O=0,w=0;return E.UTF16toUTF8(T,function(A){++O,w+=E.calculateCodePoint(A)}),[O,w]},E}();Date.now=Date.now||function(){return+new Date};var j=16,Q=10,J=16,G=100,Ge=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],Ae=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],He=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function Se(E,T,O,w){var A,P=E[T],M=E[T+1];return P^=O[0],A=w[P>>>24],A+=w[256|P>>16&255],A^=w[512|P>>8&255],A+=w[768|P&255],M^=A^O[1],A=w[M>>>24],A+=w[256|M>>16&255],A^=w[512|M>>8&255],A+=w[768|M&255],P^=A^O[2],A=w[P>>>24],A+=w[256|P>>16&255],A^=w[512|P>>8&255],A+=w[768|P&255],M^=A^O[3],A=w[M>>>24],A+=w[256|M>>16&255],A^=w[512|M>>8&255],A+=w[768|M&255],P^=A^O[4],A=w[P>>>24],A+=w[256|P>>16&255],A^=w[512|P>>8&255],A+=w[768|P&255],M^=A^O[5],A=w[M>>>24],A+=w[256|M>>16&255],A^=w[512|M>>8&255],A+=w[768|M&255],P^=A^O[6],A=w[P>>>24],A+=w[256|P>>16&255],A^=w[512|P>>8&255],A+=w[768|P&255],M^=A^O[7],A=w[M>>>24],A+=w[256|M>>16&255],A^=w[512|M>>8&255],A+=w[768|M&255],P^=A^O[8],A=w[P>>>24],A+=w[256|P>>16&255],A^=w[512|P>>8&255],A+=w[768|P&255],M^=A^O[9],A=w[M>>>24],A+=w[256|M>>16&255],A^=w[512|M>>8&255],A+=w[768|M&255],P^=A^O[10],A=w[P>>>24],A+=w[256|P>>16&255],A^=w[512|P>>8&255],A+=w[768|P&255],M^=A^O[11],A=w[M>>>24],A+=w[256|M>>16&255],A^=w[512|M>>8&255],A+=w[768|M&255],P^=A^O[12],A=w[P>>>24],A+=w[256|P>>16&255],A^=w[512|P>>8&255],A+=w[768|P&255],M^=A^O[13],A=w[M>>>24],A+=w[256|M>>16&255],A^=w[512|M>>8&255],A+=w[768|M&255],P^=A^O[14],A=w[P>>>24],A+=w[256|P>>16&255],A^=w[512|P>>8&255],A+=w[768|P&255],M^=A^O[15],A=w[M>>>24],A+=w[256|M>>16&255],A^=w[512|M>>8&255],A+=w[768|M&255],P^=A^O[16],E[T]=M^O[J+1],E[T+1]=P,E}function Le(E,T){for(var O=0,w=0;O<4;++O)w=w<<8|E[T]&255,T=(T+1)%E.length;return{key:w,offp:T}}function _e(E,T,O){for(var w=0,A=[0,0],P=T.length,M=O.length,V,K=0;K<P;K++)V=Le(E,w),w=V.offp,T[K]=T[K]^V.key;for(K=0;K<P;K+=2)A=Se(A,0,T,O),T[K]=A[0],T[K+1]=A[1];for(K=0;K<M;K+=2)A=Se(A,0,T,O),O[K]=A[0],O[K+1]=A[1]}function Ke(E,T,O,w){for(var A=0,P=[0,0],M=O.length,V=w.length,K,se=0;se<M;se++)K=Le(T,A),A=K.offp,O[se]=O[se]^K.key;for(A=0,se=0;se<M;se+=2)K=Le(E,A),A=K.offp,P[0]^=K.key,K=Le(E,A),A=K.offp,P[1]^=K.key,P=Se(P,0,O,w),O[se]=P[0],O[se+1]=P[1];for(se=0;se<V;se+=2)K=Le(E,A),A=K.offp,P[0]^=K.key,K=Le(E,A),A=K.offp,P[1]^=K.key,P=Se(P,0,O,w),w[se]=P[0],w[se+1]=P[1]}function ct(E,T,O,w,A){var P=He.slice(),M=P.length,V;if(O<4||O>31)if(V=Error("Illegal number of rounds (4-31): "+O),w){u(w.bind(this,V));return}else throw V;if(T.length!==j)if(V=Error("Illegal salt length: "+T.length+" != "+j),w){u(w.bind(this,V));return}else throw V;O=1<<O>>>0;var K,se,oe=0,Ie;Int32Array?(K=new Int32Array(Ge),se=new Int32Array(Ae)):(K=Ge.slice(),se=Ae.slice()),Ke(T,E,K,se);function ut(){if(A&&A(oe/O),oe<O)for(var lt=Date.now();oe<O&&(oe=oe+1,_e(E,K,se),_e(T,K,se),!(Date.now()-lt>G)););else{for(oe=0;oe<64;oe++)for(Ie=0;Ie<M>>1;Ie++)Se(P,Ie<<1,K,se);var be=[];for(oe=0;oe<M;oe++)be.push((P[oe]>>24&255)>>>0),be.push((P[oe]>>16&255)>>>0),be.push((P[oe]>>8&255)>>>0),be.push((P[oe]&255)>>>0);if(w){w(null,be);return}else return be}w&&u(ut)}if(typeof w!="undefined")ut();else for(var Ar;;)if(typeof(Ar=ut())!="undefined")return Ar||[]}function vt(E,T,O,w){var A;if(typeof E!="string"||typeof T!="string")if(A=Error("Invalid string / salt: Not a string"),O){u(O.bind(this,A));return}else throw A;var P,M;if(T.charAt(0)!=="$"||T.charAt(1)!=="2")if(A=Error("Invalid salt version: "+T.substring(0,2)),O){u(O.bind(this,A));return}else throw A;if(T.charAt(2)==="$")P=String.fromCharCode(0),M=3;else{if(P=T.charAt(2),P!=="a"&&P!=="b"&&P!=="y"||T.charAt(3)!=="$")if(A=Error("Invalid salt revision: "+T.substring(2,4)),O){u(O.bind(this,A));return}else throw A;M=4}if(T.charAt(M+2)>"$")if(A=Error("Missing salt rounds"),O){u(O.bind(this,A));return}else throw A;var V=parseInt(T.substring(M,M+1),10)*10,K=parseInt(T.substring(M+1,M+2),10),se=V+K,oe=T.substring(M+3,M+25);E+=P>="a"?"\0":"";var Ie=f(E),ut=R(oe,j);function Ar(lt){var be=[];return be.push("$2"),P>="a"&&be.push(P),be.push("$"),se<10&&be.push("0"),be.push(se.toString()),be.push("$"),be.push(C(ut,ut.length)),be.push(C(lt,He.length*4-1)),be.join("")}if(typeof O=="undefined")return Ar(ct(Ie,ut,se));ct(Ie,ut,se,function(lt,be){lt?O(lt,null):O(null,Ar(be))},w)}return e.encodeBase64=C,e.decodeBase64=R,e})})(ff);var $n=ff.exports;const Wt=Object.create(null);Wt.open="0";Wt.close="1";Wt.ping="2";Wt.pong="3";Wt.message="4";Wt.upgrade="5";Wt.noop="6";const Hi=Object.create(null);Object.keys(Wt).forEach(t=>{Hi[Wt[t]]=t});const $1={type:"error",data:"parser error"},F1=typeof Blob=="function"||typeof Blob!="undefined"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",L1=typeof ArrayBuffer=="function",q1=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,hf=({type:t,data:e},r,i)=>F1&&e instanceof Blob?r?i(e):yl(e,i):L1&&(e instanceof ArrayBuffer||q1(e))?r?i(e):yl(new Blob([e]),i):i(Wt[t]+(e||"")),yl=(t,e)=>{const r=new FileReader;return r.onload=function(){const i=r.result.split(",")[1];e("b"+(i||""))},r.readAsDataURL(t)},vl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Fn=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(let t=0;t<vl.length;t++)Fn[vl.charCodeAt(t)]=t;const M1=t=>{let e=t.length*.75,r=t.length,i,a=0,o,u,f,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const p=new ArrayBuffer(e),v=new Uint8Array(p);for(i=0;i<r;i+=4)o=Fn[t.charCodeAt(i)],u=Fn[t.charCodeAt(i+1)],f=Fn[t.charCodeAt(i+2)],l=Fn[t.charCodeAt(i+3)],v[a++]=o<<2|u>>4,v[a++]=(u&15)<<4|f>>2,v[a++]=(f&3)<<6|l&63;return p},j1=typeof ArrayBuffer=="function",df=(t,e)=>{if(typeof t!="string")return{type:"message",data:pf(t,e)};const r=t.charAt(0);return r==="b"?{type:"message",data:U1(t.substring(1),e)}:Hi[r]?t.length>1?{type:Hi[r],data:t.substring(1)}:{type:Hi[r]}:$1},U1=(t,e)=>{if(j1){const r=M1(t);return pf(r,e)}else return{base64:!0,data:t}},pf=(t,e)=>{switch(e){case"blob":return t instanceof ArrayBuffer?new Blob([t]):t;case"arraybuffer":default:return t}},gf=String.fromCharCode(30),B1=(t,e)=>{const r=t.length,i=new Array(r);let a=0;t.forEach((o,u)=>{hf(o,!1,f=>{i[u]=f,++a===r&&e(i.join(gf))})})},W1=(t,e)=>{const r=t.split(gf),i=[];for(let a=0;a<r.length;a++){const o=df(r[a],e);if(i.push(o),o.type==="error")break}return i},mf=4;function De(t){if(t)return H1(t)}function H1(t){for(var e in De.prototype)t[e]=De.prototype[e];return t}De.prototype.on=De.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};De.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this};De.prototype.off=De.prototype.removeListener=De.prototype.removeAllListeners=De.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var i,a=0;a<r.length;a++)if(i=r[a],i===e||i.fn===e){r.splice(a,1);break}return r.length===0&&delete this._callbacks["$"+t],this};De.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+t],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(r){r=r.slice(0);for(var i=0,a=r.length;i<a;++i)r[i].apply(this,e)}return this};De.prototype.emitReserved=De.prototype.emit;De.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};De.prototype.hasListeners=function(t){return!!this.listeners(t).length};const vr=(()=>typeof self!="undefined"?self:typeof window!="undefined"?window:Function("return this")())();function yf(t,...e){return e.reduce((r,i)=>(t.hasOwnProperty(i)&&(r[i]=t[i]),r),{})}const K1=setTimeout,Y1=clearTimeout;function rs(t,e){e.useNativeTimers?(t.setTimeoutFn=K1.bind(vr),t.clearTimeoutFn=Y1.bind(vr)):(t.setTimeoutFn=setTimeout.bind(vr),t.clearTimeoutFn=clearTimeout.bind(vr))}const X1=1.33;function z1(t){return typeof t=="string"?Q1(t):Math.ceil((t.byteLength||t.size)*X1)}function Q1(t){let e=0,r=0;for(let i=0,a=t.length;i<a;i++)e=t.charCodeAt(i),e<128?r+=1:e<2048?r+=2:e<55296||e>=57344?r+=3:(i++,r+=4);return r}class J1 extends Error{constructor(e,r,i){super(e),this.description=r,this.context=i,this.type="TransportError"}}class vf extends De{constructor(e){super(),this.writable=!1,rs(this,e),this.opts=e,this.query=e.query,this.readyState="",this.socket=e.socket}onError(e,r,i){return super.emitReserved("error",new J1(e,r,i)),this}open(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const r=df(e,this.socket.binaryType);this.onPacket(r)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}}const xf="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Yo=64,G1={};let xl=0,$i=0,bl;function wl(t){let e="";do e=xf[t%Yo]+e,t=Math.floor(t/Yo);while(t>0);return e}function bf(){const t=wl(+new Date);return t!==bl?(xl=0,bl=t):t+"."+wl(xl++)}for(;$i<Yo;$i++)G1[xf[$i]]=$i;function wf(t){let e="";for(let r in t)t.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e}function V1(t){let e={},r=t.split("&");for(let i=0,a=r.length;i<a;i++){let o=r[i].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}let Af=!1;try{Af=typeof XMLHttpRequest!="undefined"&&"withCredentials"in new XMLHttpRequest}catch{}const Z1=Af;function Sf(t){const e=t.xdomain;try{if(typeof XMLHttpRequest!="undefined"&&(!e||Z1))return new XMLHttpRequest}catch{}if(!e)try{return new vr[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function ex(){}const tx=function(){return new Sf({xdomain:!1}).responseType!=null}();class rx extends vf{constructor(e){if(super(e),this.polling=!1,typeof location!="undefined"){const i=location.protocol==="https:";let a=location.port;a||(a=i?"443":"80"),this.xd=typeof location!="undefined"&&e.hostname!==location.hostname||a!==e.port,this.xs=e.secure!==i}const r=e&&e.forceBase64;this.supportsBinary=tx&&!r}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const r=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let i=0;this.polling&&(i++,this.once("pollComplete",function(){--i||r()})),this.writable||(i++,this.once("drain",function(){--i||r()}))}else r()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const r=i=>{if(this.readyState==="opening"&&i.type==="open"&&this.onOpen(),i.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)};W1(e,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,B1(e,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.query||{};const r=this.opts.secure?"https":"http";let i="";this.opts.timestampRequests!==!1&&(e[this.opts.timestampParam]=bf()),!this.supportsBinary&&!e.sid&&(e.b64=1),this.opts.port&&(r==="https"&&Number(this.opts.port)!==443||r==="http"&&Number(this.opts.port)!==80)&&(i=":"+this.opts.port);const a=wf(e),o=this.opts.hostname.indexOf(":")!==-1;return r+"://"+(o?"["+this.opts.hostname+"]":this.opts.hostname)+i+this.opts.path+(a.length?"?"+a:"")}request(e={}){return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new Bt(this.uri(),e)}doWrite(e,r){const i=this.request({method:"POST",data:e});i.on("success",r),i.on("error",(a,o)=>{this.onError("xhr post error",a,o)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(r,i)=>{this.onError("xhr poll error",r,i)}),this.pollXhr=e}}class Bt extends De{constructor(e,r){super(),rs(this,r),this.opts=r,this.method=r.method||"GET",this.uri=e,this.async=r.async!==!1,this.data=r.data!==void 0?r.data:null,this.create()}create(){const e=yf(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;const r=this.xhr=new Sf(e);try{r.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this.opts.extraHeaders[i])}}catch{}if(this.method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=()=>{r.readyState===4&&(r.status===200||r.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof r.status=="number"?r.status:0)},0))},r.send(this.data)}catch(i){this.setTimeoutFn(()=>{this.onError(i)},0);return}typeof document!="undefined"&&(this.index=Bt.requestsCount++,Bt.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr=="undefined"||this.xhr===null)){if(this.xhr.onreadystatechange=ex,e)try{this.xhr.abort()}catch{}typeof document!="undefined"&&delete Bt.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}Bt.requestsCount=0;Bt.requests={};if(typeof document!="undefined"){if(typeof attachEvent=="function")attachEvent("onunload",Al);else if(typeof addEventListener=="function"){const t="onpagehide"in vr?"pagehide":"unload";addEventListener(t,Al,!1)}}function Al(){for(let t in Bt.requests)Bt.requests.hasOwnProperty(t)&&Bt.requests[t].abort()}const If=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,r)=>r(e,0))(),Fi=vr.WebSocket||vr.MozWebSocket,Sl=!0,nx="arraybuffer",Il=typeof navigator!="undefined"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class ix extends vf{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),r=this.opts.protocols,i=Il?{}:yf(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=Sl&&!Il?r?new Fi(e,r):new Fi(e):new Fi(e,r,i)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType||nx,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const i=e[r],a=r===e.length-1;hf(i,this.supportsBinary,o=>{const u={};try{Sl&&this.ws.send(o)}catch{}a&&If(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws!="undefined"&&(this.ws.close(),this.ws=null)}uri(){let e=this.query||{};const r=this.opts.secure?"wss":"ws";let i="";this.opts.port&&(r==="wss"&&Number(this.opts.port)!==443||r==="ws"&&Number(this.opts.port)!==80)&&(i=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=bf()),this.supportsBinary||(e.b64=1);const a=wf(e),o=this.opts.hostname.indexOf(":")!==-1;return r+"://"+(o?"["+this.opts.hostname+"]":this.opts.hostname)+i+this.opts.path+(a.length?"?"+a:"")}check(){return!!Fi}}const sx={websocket:ix,polling:rx},ox=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,ax=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Xo(t){const e=t,r=t.indexOf("["),i=t.indexOf("]");r!=-1&&i!=-1&&(t=t.substring(0,r)+t.substring(r,i).replace(/:/g,";")+t.substring(i,t.length));let a=ox.exec(t||""),o={},u=14;for(;u--;)o[ax[u]]=a[u]||"";return r!=-1&&i!=-1&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=cx(o,o.path),o.queryKey=ux(o,o.query),o}function cx(t,e){const r=/\/{2,9}/g,i=e.replace(r,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&i.splice(0,1),e.slice(-1)=="/"&&i.splice(i.length-1,1),i}function ux(t,e){const r={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,a,o){a&&(r[a]=o)}),r}class mr extends De{constructor(e,r={}){super(),e&&typeof e=="object"&&(r=e,e=null),e?(e=Xo(e),r.hostname=e.host,r.secure=e.protocol==="https"||e.protocol==="wss",r.port=e.port,e.query&&(r.query=e.query)):r.host&&(r.hostname=Xo(r.host).host),rs(this,r),this.secure=r.secure!=null?r.secure:typeof location!="undefined"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location!="undefined"?location.hostname:"localhost"),this.port=r.port||(typeof location!="undefined"&&location.port?location.port:this.secure?"443":"80"),this.transports=r.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},r),this.opts.path=this.opts.path.replace(/\/$/,"")+"/",typeof this.opts.query=="string"&&(this.opts.query=V1(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const r=Object.assign({},this.opts.query);r.EIO=mf,r.transport=e,this.id&&(r.sid=this.id);const i=Object.assign({},this.opts.transportOptions[e],this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new sx[e](i)}open(){let e;if(this.opts.rememberUpgrade&&mr.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch{this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",r=>this.onClose("transport close",r))}probe(e){let r=this.createTransport(e),i=!1;mr.priorWebsocketSuccess=!1;const a=()=>{i||(r.send([{type:"ping",data:"probe"}]),r.once("packet",C=>{if(!i)if(C.type==="pong"&&C.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;mr.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{i||this.readyState!=="closed"&&(v(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const R=new Error("probe error");R.transport=r.name,this.emitReserved("upgradeError",R)}}))};function o(){i||(i=!0,v(),r.close(),r=null)}const u=C=>{const R=new Error("probe error: "+C);R.transport=r.name,o(),this.emitReserved("upgradeError",R)};function f(){u("transport closed")}function l(){u("socket closed")}function p(C){r&&C.name!==r.name&&o()}const v=()=>{r.removeListener("open",a),r.removeListener("error",u),r.removeListener("close",f),this.off("close",l),this.off("upgrading",p)};r.once("open",a),r.once("error",u),r.once("close",f),this.once("close",l),this.once("upgrading",p),r.open()}onOpen(){if(this.readyState="open",mr.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade&&this.transport.pause){let e=0;const r=this.upgrades.length;for(;e<r;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const r=new Error("server error");r.code=e.data,this.onError(r);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let i=0;i<this.writeBuffer.length;i++){const a=this.writeBuffer[i].data;if(a&&(r+=z1(a)),i>0&&r>this.maxPayload)return this.writeBuffer.slice(0,i);r+=2}return this.writeBuffer}write(e,r,i){return this.sendPacket("message",e,r,i),this}send(e,r,i){return this.sendPacket("message",e,r,i),this}sendPacket(e,r,i,a){if(typeof r=="function"&&(a=r,r=void 0),typeof i=="function"&&(a=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;const o={type:e,data:r,options:i};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),a&&this.once("flush",a),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),e()},i=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():e()}):this.upgrading?i():e()),this}onError(e){mr.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,r){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,r),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const r=[];let i=0;const a=e.length;for(;i<a;i++)~this.transports.indexOf(e[i])&&r.push(e[i]);return r}}mr.protocol=mf;function lx(t,e="",r){let i=t;r=r||typeof location!="undefined"&&location,t==null&&(t=r.protocol+"//"+r.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=r.protocol+t:t=r.host+t),/^(https?|wss?):\/\//.test(t)||(typeof r!="undefined"?t=r.protocol+"//"+t:t="https://"+t),i=Xo(t)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const o=i.host.indexOf(":")!==-1?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+o+":"+i.port+e,i.href=i.protocol+"://"+o+(r&&r.port===i.port?"":":"+i.port),i}const fx=typeof ArrayBuffer=="function",hx=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,Of=Object.prototype.toString,dx=typeof Blob=="function"||typeof Blob!="undefined"&&Of.call(Blob)==="[object BlobConstructor]",px=typeof File=="function"||typeof File!="undefined"&&Of.call(File)==="[object FileConstructor]";function ga(t){return fx&&(t instanceof ArrayBuffer||hx(t))||dx&&t instanceof Blob||px&&t instanceof File}function Ki(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let r=0,i=t.length;r<i;r++)if(Ki(t[r]))return!0;return!1}if(ga(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Ki(t.toJSON(),!0);for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&Ki(t[r]))return!0;return!1}function gx(t){const e=[],r=t.data,i=t;return i.data=zo(r,e),i.attachments=e.length,{packet:i,buffers:e}}function zo(t,e){if(!t)return t;if(ga(t)){const r={_placeholder:!0,num:e.length};return e.push(t),r}else if(Array.isArray(t)){const r=new Array(t.length);for(let i=0;i<t.length;i++)r[i]=zo(t[i],e);return r}else if(typeof t=="object"&&!(t instanceof Date)){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=zo(t[i],e));return r}return t}function mx(t,e){return t.data=Qo(t.data,e),delete t.attachments,t}function Qo(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let r=0;r<t.length;r++)t[r]=Qo(t[r],e);else if(typeof t=="object")for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(t[r]=Qo(t[r],e));return t}const yx=5;var fe;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(fe||(fe={}));class vx{constructor(e){this.replacer=e}encode(e){return(e.type===fe.EVENT||e.type===fe.ACK)&&Ki(e)?this.encodeAsBinary({type:e.type===fe.EVENT?fe.BINARY_EVENT:fe.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let r=""+e.type;return(e.type===fe.BINARY_EVENT||e.type===fe.BINARY_ACK)&&(r+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(r+=e.nsp+","),e.id!=null&&(r+=e.id),e.data!=null&&(r+=JSON.stringify(e.data,this.replacer)),r}encodeAsBinary(e){const r=gx(e),i=this.encodeAsString(r.packet),a=r.buffers;return a.unshift(i),a}}class ma extends De{constructor(e){super(),this.reviver=e}add(e){let r;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(e);const i=r.type===fe.BINARY_EVENT;i||r.type===fe.BINARY_ACK?(r.type=i?fe.EVENT:fe.ACK,this.reconstructor=new xx(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(ga(e)||e.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(e),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let r=0;const i={type:Number(e.charAt(0))};if(fe[i.type]===void 0)throw new Error("unknown packet type "+i.type);if(i.type===fe.BINARY_EVENT||i.type===fe.BINARY_ACK){const o=r+1;for(;e.charAt(++r)!=="-"&&r!=e.length;);const u=e.substring(o,r);if(u!=Number(u)||e.charAt(r)!=="-")throw new Error("Illegal attachments");i.attachments=Number(u)}if(e.charAt(r+1)==="/"){const o=r+1;for(;++r&&!(e.charAt(r)===","||r===e.length););i.nsp=e.substring(o,r)}else i.nsp="/";const a=e.charAt(r+1);if(a!==""&&Number(a)==a){const o=r+1;for(;++r;){const u=e.charAt(r);if(u==null||Number(u)!=u){--r;break}if(r===e.length)break}i.id=Number(e.substring(o,r+1))}if(e.charAt(++r)){const o=this.tryParse(e.substr(r));if(ma.isPayloadValid(i.type,o))i.data=o;else throw new Error("invalid payload")}return i}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,r){switch(e){case fe.CONNECT:return typeof r=="object";case fe.DISCONNECT:return r===void 0;case fe.CONNECT_ERROR:return typeof r=="string"||typeof r=="object";case fe.EVENT:case fe.BINARY_EVENT:return Array.isArray(r)&&r.length>0;case fe.ACK:case fe.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class xx{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const r=mx(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}var bx=Object.freeze(Object.defineProperty({__proto__:null,protocol:yx,get PacketType(){return fe},Encoder:vx,Decoder:ma},Symbol.toStringTag,{value:"Module"}));function $t(t,e,r){return t.on(e,r),function(){t.off(e,r)}}const wx=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class kf extends De{constructor(e,r,i){super(),this.connected=!1,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=r,i&&i.auth&&(this.auth=i.auth),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[$t(e,"open",this.onopen.bind(this)),$t(e,"packet",this.onpacket.bind(this)),$t(e,"error",this.onerror.bind(this)),$t(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...r){if(wx.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');r.unshift(e);const i={type:fe.EVENT,data:r};if(i.options={},i.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const u=this.ids++,f=r.pop();this._registerAckCallback(u,f),i.id=u}const a=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!a||!this.connected)||(this.connected?(this.notifyOutgoingListeners(i),this.packet(i)):this.sendBuffer.push(i)),this.flags={},this}_registerAckCallback(e,r){const i=this.flags.timeout;if(i===void 0){this.acks[e]=r;return}const a=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===e&&this.sendBuffer.splice(o,1);r.call(this,new Error("operation has timed out"))},i);this.acks[e]=(...o)=>{this.io.clearTimeoutFn(a),r.apply(this,[null,...o])}}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this.packet({type:fe.CONNECT,data:e})}):this.packet({type:fe.CONNECT,data:this.auth})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,r)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case fe.CONNECT:if(e.data&&e.data.sid){const a=e.data.sid;this.onconnect(a)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case fe.EVENT:case fe.BINARY_EVENT:this.onevent(e);break;case fe.ACK:case fe.BINARY_ACK:this.onack(e);break;case fe.DISCONNECT:this.ondisconnect();break;case fe.CONNECT_ERROR:this.destroy();const i=new Error(e.data.message);i.data=e.data.data,this.emitReserved("connect_error",i);break}}onevent(e){const r=e.data||[];e.id!=null&&r.push(this.ack(e.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const i of r)i.apply(this,e)}super.emit.apply(this,e)}ack(e){const r=this;let i=!1;return function(...a){i||(i=!0,r.packet({type:fe.ACK,id:e,data:a}))}}onack(e){const r=this.acks[e.id];typeof r=="function"&&(r.apply(this,e.data),delete this.acks[e.id])}onconnect(e){this.id=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:fe.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const r=this._anyListeners;for(let i=0;i<r.length;i++)if(e===r[i])return r.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const r=this._anyOutgoingListeners;for(let i=0;i<r.length;i++)if(e===r[i])return r.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const i of r)i.apply(this,e.data)}}}function cn(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}cn.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-r:t+r}return Math.min(t,this.max)|0};cn.prototype.reset=function(){this.attempts=0};cn.prototype.setMin=function(t){this.ms=t};cn.prototype.setMax=function(t){this.max=t};cn.prototype.setJitter=function(t){this.jitter=t};class Jo extends De{constructor(e,r){var i;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(r=e,e=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,rs(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((i=r.randomizationFactor)!==null&&i!==void 0?i:.5),this.backoff=new cn({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=e;const a=r.parser||bx;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var r;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(r=this.backoff)===null||r===void 0||r.setMin(e),this)}randomizationFactor(e){var r;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(r=this.backoff)===null||r===void 0||r.setJitter(e),this)}reconnectionDelayMax(e){var r;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(r=this.backoff)===null||r===void 0||r.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new mr(this.uri,this.opts);const r=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;const a=$t(r,"open",function(){i.onopen(),e&&e()}),o=$t(r,"error",u=>{i.cleanup(),i._readyState="closed",this.emitReserved("error",u),e?e(u):i.maybeReconnectOnOpen()});if(this._timeout!==!1){const u=this._timeout;u===0&&a();const f=this.setTimeoutFn(()=>{a(),r.close(),r.emit("error",new Error("timeout"))},u);this.opts.autoUnref&&f.unref(),this.subs.push(function(){clearTimeout(f)})}return this.subs.push(a),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push($t(e,"ping",this.onping.bind(this)),$t(e,"data",this.ondata.bind(this)),$t(e,"error",this.onerror.bind(this)),$t(e,"close",this.onclose.bind(this)),$t(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(r){this.onclose("parse error",r)}}ondecoded(e){If(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,r){let i=this.nsps[e];return i||(i=new kf(this,e,r),this.nsps[e]=i),i}_destroy(e){const r=Object.keys(this.nsps);for(const i of r)if(this.nsps[i].active)return;this._close()}_packet(e){const r=this.encoder.encode(e);for(let i=0;i<r.length;i++)this.engine.write(r[i],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,r){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const i=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(a=>{a?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",a)):e.onreconnect()}))},r);this.opts.autoUnref&&i.unref(),this.subs.push(function(){clearTimeout(i)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Dn={};function Yi(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const r=lx(t,e.path||"/socket.io"),i=r.source,a=r.id,o=r.path,u=Dn[a]&&o in Dn[a].nsps,f=e.forceNew||e["force new connection"]||e.multiplex===!1||u;let l;return f?l=new Jo(i,e):(Dn[a]||(Dn[a]=new Jo(i,e)),l=Dn[a]),r.query&&!e.query&&(e.query=r.queryKey),l.socket(r.path,e)}Object.assign(Yi,{Manager:Jo,Socket:kf,io:Yi,connect:Yi});var Tf={get dev(){return!1},baseURL:"https://clm-api.elitehcms.com",apiDevURL:"http://localhost:1337",socketDevURL:"wss://clm-api.elitehcms.com",token:"clm-jwt",tokenExpiration:"24h"};function Ax(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Ln(){return(Ln=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}).apply(this,arguments)}function ya(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Cf=function(){function t(i,a){this.operator=i,this.value=a,Object.defineProperty(this,"t",{writable:!0})}var e,r;return t.prototype.addNote=function(i){this.t=this.t||[],this.t.push(i)},e=t,(r=[{key:"notes",get:function(){return this.t}}])&&Ax(e.prototype,r),t}(),va=function(t){function e(){return t.apply(this,arguments)||this}return ya(e,t),e}(Cf),ns=function(t){function e(r,i){if(!Array.isArray(i))throw new Error('"'+r+'" operator expects to receive an array of conditions');return t.call(this,r,i)||this}return ya(e,t),e}(va),Bn="__itself__",is=function(t){function e(r,i,a){var o;return(o=t.call(this,r,a)||this).field=i,o}return ya(e,t),e}(Cf),Rf=new va("__null__",null),Go=Object.prototype.hasOwnProperty.call.bind(Object.prototype.hasOwnProperty);function Sx(t,e){return e instanceof ns&&e.operator===t}function _f(t,e){return e.length===1?e[0]:new ns(t,function r(i,a,o){for(var u=o||[],f=0,l=a.length;f<l;f++){var p=a[f];Sx(i,p)?r(i,p.value,u):u.push(p)}return u}(t,e))}var Ix=function(t){return t},Ef=function(){return Object.create(null)},Pf=Object.defineProperty(Ef(),"__@type@__",{value:"ignore value"});function Ox(t,e,r){if(r===void 0&&(r=!1),!t||t&&t.constructor!==Object)return!1;for(var i in t)if(Go(t,i)&&Go(e,i)&&(!r||t[i]!==Pf))return!0;return!1}function kx(t){var e=[];for(var r in t)Go(t,r)&&t[r]!==Pf&&e.push(r);return e}function Ro(t,e){e!==Rf&&t.push(e)}var Df=function(t){return _f("and",t)},Nf={compound:function(t,e,r){var i=(Array.isArray(e)?e:[e]).map(function(a){return r.parse(a)});return new ns(t.name,i)},field:function(t,e,r){return new is(t.name,r.field,e)},document:function(t,e){return new va(t.name,e)}},$f=function(){function t(r,i){var a=this;i===void 0&&(i=Ef()),this.i=void 0,this.o=void 0,this.u=void 0,this.s=void 0,this.h=void 0,this.parse=this.parse.bind(this),this.s={operatorToConditionName:i.operatorToConditionName||Ix,defaultOperatorName:i.defaultOperatorName||"eq",mergeFinalConditions:i.mergeFinalConditions||Df},this.i=Object.keys(r).reduce(function(o,u){return o[u]=Ln({name:a.s.operatorToConditionName(u)},r[u]),o},{}),this.o=Ln({},i.fieldContext,{field:"",query:{},parse:this.parse,hasOperators:function(o){return Ox(o,a.i,i.useIgnoreValue)}}),this.u=Ln({},i.documentContext,{parse:this.parse,query:{}}),this.h=i.useIgnoreValue?kx:Object.keys}var e=t.prototype;return e.setParse=function(r){this.parse=r,this.o.parse=r,this.u.parse=r},e.parseField=function(r,i,a,o){var u=this.i[i];if(!u)throw new Error('Unsupported operator "'+i+'"');if(u.type!=="field")throw new Error("Unexpected "+u.type+' operator "'+i+'" at field level');return this.o.field=r,this.o.query=o,this.parseInstruction(u,a,this.o)},e.parseInstruction=function(r,i,a){return typeof r.validate=="function"&&r.validate(r,i),(r.parse||Nf[r.type])(r,i,a)},e.parseFieldOperators=function(r,i){for(var a=[],o=this.h(i),u=0,f=o.length;u<f;u++){var l=o[u];if(!this.i[l])throw new Error('Field query for "'+r+'" may contain only operators or a plain object as a value');Ro(a,this.parseField(r,l,i[l],i))}return a},e.parse=function(r){var i=[],a=this.h(r);this.u.query=r;for(var o=0,u=a.length;o<u;o++){var f=a[o],l=r[f],p=this.i[f];if(p){if(p.type!=="document"&&p.type!=="compound")throw new Error('Cannot use parsing instruction for operator "'+f+'" in "document" context as it is supposed to be used in  "'+p.type+'" context');Ro(i,this.parseInstruction(p,l,this.u))}else this.o.hasOperators(l)?i.push.apply(i,this.parseFieldOperators(f,l)):Ro(i,this.parseField(f,this.s.defaultOperatorName,l,r))}return this.s.mergeFinalConditions(i)},t}();function _o(t,e){var r=t[e];if(typeof r!="function")throw new Error('Unable to interpret "'+e+'" condition. Did you forget to register interpreter for it?');return r}function Tx(t){return t.operator}function Cx(t,e){var r,i=e,a=i&&i.getInterpreterName||Tx;switch(i?i.numberOfArguments:0){case 1:r=function(u){var f=a(u,i);return _o(t,f)(u,o)};break;case 3:r=function(u,f,l){var p=a(u,i);return _o(t,p)(u,f,l,o)};break;default:r=function(u,f){var l=a(u,i);return _o(t,l)(u,f,o)}}var o=Ln({},i,{interpret:r});return o.interpret}function Rx(t,e){return function(r){for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];var u=t.apply(void 0,[r].concat(a)),f=e.bind(null,u);return f.ast=u,f}}$f.prototype.parseInstruction;function Ff(t,e){if(!Array.isArray(e))throw new Error('"'+t.name+'" expects value to be an array')}function Lf(t,e){if(Ff(t,e),!e.length)throw new Error('"'+t.name+'" expects to have at least one element in array')}var xa=function(t){return function(e,r){if(typeof r!==t)throw new Error('"'+e.name+'" expects value to be a "'+t+'"')}},qf={type:"compound",validate:Lf,parse:function(t,e,r){var i=r.parse,a=e.map(function(o){return i(o)});return _f(t.name,a)}},_x=qf,Ex={type:"compound",validate:Lf},Px={type:"field",validate:function(t,e){if(!(e&&(e instanceof RegExp||e.constructor===Object)))throw new Error('"'+t.name+'" expects to receive either regular expression or object of field operators')},parse:function(t,e,r){var i=e instanceof RegExp?new is("regex",r.field,e):r.parse(e,r);return new ns(t.name,[i])}},Mf={type:"field",validate:function(t,e){if(!e||e.constructor!==Object)throw new Error('"'+t.name+'" expects to receive an object with nested query or field level operators')},parse:function(t,e,r){var i=r.parse,a=r.field,o=(0,r.hasOperators)(e)?i(e,{field:Bn}):i(e);return new is(t.name,a,o)}},jf={type:"field",validate:xa("number")},ss={type:"field",validate:Ff},Uf=ss,Bf=ss,Dx={type:"field",validate:function(t,e){if(!Array.isArray(e)||e.length!==2)throw new Error('"'+t.name+'" expects an array with 2 numeric elements')}},Wf={type:"field",validate:xa("boolean")},ba={type:"field",validate:function(t,e){if(!(typeof e=="string"||typeof e=="number"||e instanceof Date))throw new Error('"'+t.name+'" expects value to be comparable (i.e., string, number or date)')}},os=ba,Hf=os,Kf=os,wa={type:"field"},Yf=wa,Xf={type:"field",validate:function(t,e){if(!(e instanceof RegExp)&&typeof e!="string")throw new Error('"'+t.name+'" expects value to be a regular expression or a string that represents regular expression')},parse:function(t,e,r){var i=typeof e=="string"?new RegExp(e,r.query.$options||""):e;return new is(t.name,r.field,i)}},zf={type:"field",parse:function(){return Rf}},Nx={type:"document",validate:xa("function")},$x=Object.freeze({__proto__:null,$and:qf,$or:_x,$nor:Ex,$not:Px,$elemMatch:Mf,$size:jf,$in:ss,$nin:Uf,$all:Bf,$mod:Dx,$exists:Wf,$gte:ba,$gt:os,$lt:Hf,$lte:Kf,$eq:wa,$ne:Yf,$regex:Xf,$options:zf,$where:Nx}),Fx=function(t){var e,r;function i(a){return t.call(this,a,{defaultOperatorName:"$eq",operatorToConditionName:function(o){return o.slice(1)}})||this}return r=t,(e=i).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,i.prototype.parse=function(a,o){return o&&o.field?Df(this.parseFieldOperators(o.field,a)):t.prototype.parse.call(this,a)},i}($f),Vo=$x;function Aa(t,e,r){for(var i=0,a=t.length;i<a;i++)if(r(t[i],e)===0)return!0;return!1}function Sa(t,e){return Array.isArray(t)&&Number.isNaN(Number(e))}function Ol(t,e,r){if(!Sa(t,e))return r(t,e);for(var i=[],a=0;a<t.length;a++){var o=r(t[a],e);o!==void 0&&(i=i.concat(o))}return i}function Lr(t){return function(e,r,i){var a=i.get(r,e.field);return Array.isArray(a)?a.some(function(o){return t(e,o,i)}):t(e,a,i)}}function Ia(){return(Ia=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}).apply(this,arguments)}var Lx=function(t,e){return t[e]};function Qf(t,e,r){var i=e.lastIndexOf(".");return i===-1?[t,e]:[r(t,e.slice(0,i)),e.slice(i+1)]}function qx(t,e,r){if(r===void 0&&(r=Lx),e===Bn)return t;if(!t)throw new Error('Unable to get field "'+e+'" out of '+String(t)+".");return function(i,a,o){if(a.indexOf(".")===-1)return Ol(i,a,o);for(var u=a.split("."),f=i,l=0,p=u.length;l<p;l++)if(!(f=Ol(f,u[l],o))||typeof f!="object")return f;return f}(t,e,r)}function Jf(t,e){return t===e?0:t>e?1:-1}function Gf(t,e){return e===void 0&&(e={}),Cx(t,Ia({get:qx,compare:Jf},e))}var Vf=function(t,e,r){var i=r.interpret;return t.value.some(function(a){return i(a,e)})},Mx=function(t,e,r){return!Vf(t,e,r)},Zf=function(t,e,r){var i=r.interpret;return t.value.every(function(a){return i(a,e)})},jx=function(t,e,r){return!(0,r.interpret)(t.value[0],e)},Oa=function(t,e,r){var i=r.compare,a=(0,r.get)(e,t.field);return Array.isArray(a)&&!Array.isArray(t.value)?Aa(a,t.value,i):i(a,t.value)===0},eh=function(t,e,r){return!Oa(t,e,r)},th=Lr(function(t,e,r){var i=r.compare(e,t.value);return i===0||i===-1}),rh=Lr(function(t,e,r){return r.compare(e,t.value)===-1}),nh=Lr(function(t,e,r){return r.compare(e,t.value)===1}),ih=Lr(function(t,e,r){var i=r.compare(e,t.value);return i===0||i===1}),sh=function(t,e,r){var i=r.get;if(t.field===Bn)return e!==void 0;var a=Qf(e,t.field,i),o=a[0],u=a[1],f=function(l){return!!l&&l.hasOwnProperty(u)===t.value};return Sa(o,u)?o.some(f):f(o)},Ux=Lr(function(t,e){return typeof e=="number"&&e%t.value[0]===t.value[1]}),oh=function(t,e,r){var i=r.get,a=Qf(e,t.field,i),o=a[0],u=a[1],f=function(l){var p=i(l,u);return Array.isArray(p)&&p.length===t.value};return t.field!==Bn&&Sa(o,u)?o.some(f):f(o)},ah=Lr(function(t,e){return typeof e=="string"&&t.value.test(e)}),Ji=Lr(function(t,e,r){var i=r.compare;return Aa(t.value,e,i)}),ch=function(t,e,r){return!Ji(t,e,r)},uh=function(t,e,r){var i=r.compare,a=(0,r.get)(e,t.field);return Array.isArray(a)&&t.value.every(function(o){return Aa(a,o,i)})},lh=function(t,e,r){var i=r.interpret,a=(0,r.get)(e,t.field);return Array.isArray(a)&&a.some(function(o){return i(t.value,o)})},Bx=function(t,e){return t.value.call(e)},ka=Ia({},Object.freeze({__proto__:null,or:Vf,nor:Mx,and:Zf,not:jx,eq:Oa,ne:eh,lte:th,lt:rh,gt:nh,gte:ih,exists:sh,mod:Ux,size:oh,regex:ah,within:Ji,nin:ch,all:uh,elemMatch:lh,where:Bx}),{in:Ji});Gf(ka);function qn(){return(qn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}).apply(this,arguments)}function kl(t){return t instanceof Date?t.getTime():t&&typeof t.toJSON=="function"?t.toJSON():t}var Wx=function(t,e){return Jf(kl(t),kl(e))};function Ta(t,e,r){var i=new Fx(t),a=Gf(e,qn({compare:Wx},r));if(r&&r.forPrimitives){var o={field:Bn},u=i.parse;i.setParse(function(f){return u(f,o)})}return Rx(i.parse,a)}Ta(Vo,ka);Ta(["$and","$or"].reduce(function(t,e){return t[e]=qn({},t[e],{type:"field"}),t},qn({},Vo,{$nor:qn({},Vo.$nor,{type:"field",parse:Nf.compound})})),ka,{forPrimitives:!0});function Tl(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function fh(t,e,r){return e&&Tl(t.prototype,e),r&&Tl(t,r),t}function Zo(){return Zo=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Zo.apply(this,arguments)}function Ca(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,ea(t,e)}function ea(t,e){return ea=Object.setPrototypeOf||function(i,a){return i.__proto__=a,i},ea(t,e)}function Hx(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ta(t){return Array.isArray(t)?t:[t]}var hh=Object.hasOwn||Object.prototype.hasOwnProperty.call.bind(Object.prototype.hasOwnProperty),rn="__caslSubjectType__";function h2(t,e){if(e){if(!hh(e,rn))Object.defineProperty(e,rn,{value:t});else if(t!==e[rn])throw new Error("Trying to cast object to subject type "+t+" but previously it was casted to "+e[rn])}return e}var ra=function(e){var r=typeof e;return r==="string"||r==="function"},dh=function(e){return e.modelName||e.name},Kx=function(e){return typeof e=="string"?e:dh(e)};function Yx(t){return hh(t,rn)?t[rn]:dh(t.constructor)}function Cl(t,e,r){for(var i=r;i<e.length;i++)t.push(e[i])}function Rl(t,e){if(!t||!t.length)return e||[];if(!e||!e.length)return t||[];for(var r=0,i=0,a=[];r<t.length&&i<e.length;)t[r].priority<e[i].priority?(a.push(t[r]),r++):(a.push(e[i]),i++);return Cl(a,t,r),Cl(a,e,i),a}function Li(t,e,r){var i=t.get(e);return i||(i=r(),t.set(e,i)),i}var Xx=function(e){return e};function zx(t,e){if(Array.isArray(t.fields)&&!t.fields.length)throw new Error("`rawRule.fields` cannot be an empty array. https://bit.ly/390miLa");if(t.fields&&!e.fieldMatcher)throw new Error('You need to pass "fieldMatcher" option in order to restrict access by fields');if(t.conditions&&!e.conditionsMatcher)throw new Error('You need to pass "conditionsMatcher" option in order to restrict access by conditions')}var Qx=function(){function t(r,i,a){a===void 0&&(a=0),zx(r,i),this.action=i.resolveAction(r.action),this.subject=r.subject,this.inverted=!!r.inverted,this.conditions=r.conditions,this.reason=r.reason,this.fields=r.fields?ta(r.fields):void 0,this.priority=a,this.t=i}var e=t.prototype;return e.i=function(){return this.conditions&&!this.u&&(this.u=this.t.conditionsMatcher(this.conditions)),this.u},e.matchesConditions=function(i){if(!this.conditions)return!0;if(!i||ra(i))return!this.inverted;var a=this.i();return a(i)},e.matchesField=function(i){return this.fields?i?(this.fields&&!this.o&&(this.o=this.t.fieldMatcher(this.fields)),this.o(i)):!this.inverted:!0},fh(t,[{key:"ast",get:function(){var i=this.i();return i?i.ast:void 0}}]),t}();function Jx(t,e){var r={value:t,prev:e,next:null};return e&&(e.next=r),r}function Gx(t){t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next),t.next=t.prev=null}var Vx=function(e){return{value:e.value,prev:e.prev,next:e.next}},_l=function(){return{rules:[],merged:!1}},El=function(){return new Map},Zx=function(e,r){!e.h&&r.fields&&(e.h=!0)},eb=function(){function t(r,i){r===void 0&&(r=[]),i===void 0&&(i={}),this.h=!1,this.v=new Map,this.l={conditionsMatcher:i.conditionsMatcher,fieldMatcher:i.fieldMatcher,resolveAction:i.resolveAction||Xx},this.p=i.anyAction||"manage",this.g=i.anySubjectType||"all",this.A=i.detectSubjectType||Yx,this.j=r,this.$=this.M(r)}var e=t.prototype;return e.detectSubjectType=function(i){return ra(i)?i:i?this.A(i):this.g},e.update=function(i){var a={rules:i,ability:this,target:this};return this.m("update",a),this.j=i,this.$=this.M(i),this.m("updated",a),this},e.M=function(i){for(var a=new Map,o=i.length-1;o>=0;o--){var u=i.length-o-1,f=new Qx(i[o],this.l,u),l=ta(f.action),p=ta(f.subject||this.g);Zx(this,f);for(var v=0;v<p.length;v++)for(var C=Li(a,p[v],El),R=0;R<l.length;R++)Li(C,l[R],_l).rules.push(f)}return a},e.possibleRulesFor=function(i,a){if(a===void 0&&(a=this.g),!ra(a))throw new Error('"possibleRulesFor" accepts only subject types (i.e., string or class) as the 2nd parameter');var o=Li(this.$,a,El),u=Li(o,i,_l);if(u.merged)return u.rules;var f=i!==this.p&&o.has(this.p)?o.get(this.p).rules:void 0,l=Rl(u.rules,f);return a!==this.g&&(l=Rl(l,this.possibleRulesFor(i,this.g))),u.rules=l,u.merged=!0,l},e.rulesFor=function(i,a,o){var u=this.possibleRulesFor(i,a);if(o&&typeof o!="string")throw new Error("The 3rd, `field` parameter is expected to be a string. See https://stalniy.github.io/casl/en/api/casl-ability#can-of-pure-ability for details");return this.h?u.filter(function(f){return f.matchesField(o)}):u},e.on=function(i,a){var o=this,u=this.v.get(i)||null,f=Jx(a,u);return this.v.set(i,f),function(){var l=o.v.get(i);!f.next&&!f.prev&&l===f?o.v.delete(i):f===l&&o.v.set(i,f.prev),Gx(f)}},e.m=function(i,a){for(var o=this.v.get(i)||null;o!==null;){var u=o.prev?Vx(o.prev):null;o.value(a),o=u}},fh(t,[{key:"rules",get:function(){return this.j}}]),t}(),tb=function(t){Ca(e,t);function e(){return t.apply(this,arguments)||this}var r=e.prototype;return r.can=function(a,o,u){var f=this.relevantRuleFor(a,o,u);return!!f&&!f.inverted},r.relevantRuleFor=function(a,o,u){for(var f=this.detectSubjectType(o),l=this.rulesFor(a,f,u),p=0,v=l.length;p<v;p++)if(l[p].matchesConditions(o))return l[p];return null},r.cannot=function(a,o,u){return!this.can(a,o,u)},e}(eb),rb={$eq:wa,$ne:Yf,$lt:Hf,$lte:Kf,$gt:os,$gte:ba,$in:ss,$nin:Uf,$all:Bf,$size:jf,$regex:Xf,$options:zf,$elemMatch:Mf,$exists:Wf},nb={eq:Oa,ne:eh,lt:rh,lte:th,gt:nh,gte:ih,in:Ji,nin:ch,all:uh,size:oh,regex:ah,elemMatch:lh,exists:sh,and:Zf},ib=Ta(rb,nb),sb=/[-/\\^$+?.()|[\]{}]/g,ob=/\.?\*+\.?/g,ab=/\*+/,cb=/\./g;function ub(t,e,r){var i=r[0]==="*"||t[0]==="."&&t[t.length-1]==="."?"+":"*",a=t.indexOf("**")===-1?"[^.]":".",o=t.replace(cb,"\\$&").replace(ab,a+i);return e+t.length===r.length?"(?:"+o+")?":o}function lb(t,e,r){return t==="."&&(r[e-1]==="*"||r[e+1]==="*")?t:"\\"+t}function fb(t){var e=t.map(function(i){return i.replace(sb,lb).replace(ob,ub)}),r=e.length>1?"(?:"+e.join("|")+")":e[0];return new RegExp("^"+r+"$")}var hb=function(e){var r;return function(i){return typeof r=="undefined"&&(r=e.every(function(a){return a.indexOf("*")===-1})?null:fb(e)),r===null?e.indexOf(i)!==-1:r.test(i)}},db=function(t){Ca(e,t);function e(r,i){return r===void 0&&(r=[]),i===void 0&&(i={}),t.call(this,r,Zo({conditionsMatcher:ib,fieldMatcher:hb},i))||this}return e}(tb),pb=function(e){return'Cannot execute "'+e.action+'" on "'+e.subjectType+'"'},ph=function(e){this.message=e};ph.prototype=Object.create(Error.prototype);var gb=function(t){Ca(e,t),e.setDefaultMessage=function(a){this._=typeof a=="string"?function(){return a}:a},e.from=function(a){return new this(a)};function e(i){var a;return a=t.call(this,"")||this,a.ability=i,typeof Error.captureStackTrace=="function"&&(a.name="ForbiddenError",Error.captureStackTrace(Hx(a),a.constructor)),a}var r=e.prototype;return r.setMessage=function(a){return this.message=a,this},r.throwUnlessCan=function(a,o,u){var f=this.unlessCan(a,o,u);if(f)throw f},r.unlessCan=function(a,o,u){var f=this.ability.relevantRuleFor(a,o,u);if(!(f&&!f.inverted)){this.action=a,this.subject=o,this.subjectType=Kx(this.ability.detectSubjectType(o)),this.field=u;var l=f?f.reason:"";return this.message=this.message||l||this.constructor._(this),this}},e}(ph);gb._=pb;Object.freeze({__proto__:null});var na=[{action:"read",subject:"auth"},{action:"read",subject:"open"}];const pr=new db(na),rr=yt("dataStore",{state:()=>({queryBy:"office",selectedOffice:null,selectedProject:null,selfCheckIns:{isLoading:!1},profiles:{isLoading:!1},scheduledInterviews:{isLoading:!1},inProcessInterviews:{isLoading:!1},inProcess:{isLoading:!1},pending:{isLoading:!1},deployments:{isLoading:!1},openRequest:{isLoading:!1},pendingRequest:{isLoading:!1},closedRequest:{isLoading:!1},openClassifications:{isLoading:!1},pendingClassifications:{isLoading:!1},closedClassifications:{isLoading:!1},nameRequest:{isLoading:!1},projects:{isLoading:!1},pendingProjects:{isLoading:!1},releases:{isLoading:!1},rosters:{isLoading:!1},jobPost:{isLoading:!1},onlineApplications:{isLoading:!1},requestedTimeStamps:{projects:{}},forms:{isLoading:!1},conversations:[],conversationNotification:null,messageNotification:null}),getters:{getSelfCheckIns:t=>e=>{if(e)return t.selfCheckIns[e]?t.selfCheckIns[e]:[];{let r=[];return Object.keys(t.selfCheckIns).forEach(i=>{i!=="isLoading"&&(r=r.concat(t.selfCheckIns[i]))}),r}},getProfiles:t=>e=>{if(e)return t.profiles[e]?t.profiles[e]:[];{let r=[];return Object.keys(t.profiles).forEach(i=>{i!=="isLoading"&&(r=r.concat(t.profiles[i]))}),r}},getScheduledInterviews:t=>e=>{if(e)return t.scheduledInterviews[e]?t.scheduledInterviews[e]:[];{let r=[];return Object.keys(t.scheduledInterviews).forEach(i=>{i!=="isLoading"&&(r=r.concat(t.scheduledInterviews[i]))}),r}},getInProcessInterviews:t=>e=>{if(e)return t.inProcessInterviews[e]?t.inProcessInterviews[e]:[];{let r=[];return Object.keys(t.inProcessInterviews).forEach(i=>{i!=="isLoading"&&(r=r.concat(t.inProcessInterviews[i]))}),r}},getInProcess:t=>e=>{if(e)return t.inProcess[e]?t.inProcess[e]:[];{let r=[];return Object.keys(t.inProcess).forEach(i=>{i!=="isLoading"&&(r=r.concat(t.inProcess[i]))}),r}},getPending:t=>e=>{if(e)return t.pending[e]?t.pending[e]:[];{let r=[];return Object.keys(t.pending).forEach(i=>{i!=="isLoading"&&(r=r.concat(t.pending[i]))}),r}},getDeployments:t=>e=>{if(e)return t.deployments[e]?t.deployments[e]:[];{let r=[];return Object.keys(t.deployments).forEach(i=>{i!=="isLoading"&&(r=r.concat(t.deployments[i]))}),r}},getRoster:t=>e=>{if(e)return t.rosters[e]?t.rosters[e]:[];{let r=[];return Object.keys(t.rosters).forEach(i=>{i!=="isLoading"&&(r=r.concat(t.rosters[i]))}),r}},getProjectLoadingState(t){return t.projects.isLoading},getProjects:t=>({selectedId:e,can:r,userType:i})=>{if(!e&&!r){let a=[];return Object.keys(t.projects).forEach(o=>{o!=="isLoading"&&(a=a.concat(t.projects[o]))}),a}else if(!e&&r&&i==="QuickBase User"){const{userOffices:a}=ne();let o=[];return a(r).forEach(u=>{o=o.concat(t.projects[u[8]])}),o}else if(e&&r&&i==="QuickBase User"){const{getOffice:a}=ne(),o=a(e);return r==="read"&&o&&o[39]!==!0?[]:(r==="create"||r==="update")&&o&&o[40]!==!0?[]:r==="manage"&&o&&o[41]!==!0?[]:t.projects[e]?t.projects[e]:[]}else if(!e&&r&&i==="Project User"){let a=[];return Object.keys(t.projects).forEach(o=>{o!=="isLoading"&&(a=a.concat(t.projects[o]))}),a}else return t.projects[e]?t.projects[e]:[]},getPendingProjects:t=>e=>{if(e)return t.pendingProjects[e]?t.pendingProjects[e]:[];{let r=[];return Object.keys(t.pendingProjects).forEach(i=>{i!=="isLoading"&&(r=r.concat(t.pendingProjects[i]))}),r}},getRequestedTimeStamps(t){return t.requestedTimeStamps},getSelectedOffice(t){return t.selectedOffice},getSelectedProject(t){return t.selectedProject},getReleases:t=>e=>{if(e)return t.releases[e]?t.releases[e]:[];{let r=[];return Object.keys(t.releases).forEach(i=>{i!=="isLoading"&&(r=r.concat(t.releases[i]))}),r}},getJobPost:t=>e=>{if(e)return t.jobPost[e]?t.jobPost[e]:[];{let r=[];return Object.keys(t.jobPost).forEach(i=>{i!=="isLoading"&&(r=r.concat(t.jobPost[i]))}),r}},getOnlineApplications:t=>e=>{if(e)return t.onlineApplications[e]?t.onlineApplications[e]:[];{let r=[];return Object.keys(t.onlineApplications).forEach(i=>{i!=="isLoading"&&(r=r.concat(t.onlineApplications[i]))}),r}},getLoadingState:t=>e=>t[`${e}`].isLoading||!1,getForms:t=>e=>{if(e)return t.forms[e]?t.forms[e]:[];{let r=[];return Object.keys(t.forms).forEach(i=>{i!=="isLoading"&&(r=r.concat(t.forms[i]))}),r}},getConversations(t){return this.selectedOffice?t.conversations.filter(e=>e.twilio_messaging_service.sid===this.selectedOffice[48]).sort((e,r)=>new Date(r.lastMessageDateTime)-new Date(e.lastMessageDateTime)):t.conversations.sort((e,r)=>new Date(r.lastMessageDateTime)-new Date(e.lastMessageDateTime))},getUnreadConversations(t){return t.conversations.filter(e=>e.unread===!0).length},getMessageNotification(t){return t.messageNotification}},actions:{setQueryBy(t){this.queryBy=t},setSelectedOffice(t,e){this.selectedOffice=t},setSelectedProject(t,e){this.selectedProject=t},setTimeStamp({name:t,timeStamp:e,selectedId:r},i){if(this.requestedTimeStamps[r]?this.requestedTimeStamps[r][t]=e:this.requestedTimeStamps[r]={[t]:e},i){const a=JSON.parse(JSON.stringify(this.requestedTimeStamps));Re.setItem("requestedTimeStamps",a)}},setTimeStampState(t){this.requestedTimeStamps=t},async fetchSelfCheckIns(t){this.selfCheckIns.isLoading=!0;const e=this.getRequestedTimeStamps[t.selectedId]||{};let r=!0;const i=[{9:{value:t.selectedId},7:{value:"Self Check-Ins"}}];if(e.selfCheckIns&&(e.selfCheckIns.isBefore(I().subtract(1,"minute"))?r=!0:r=t.refresh?t.refresh:!1),r){this.setTimeStamp({selectedId:t.selectedId,name:"selfCheckIns",timeStamp:I()},!0);const{data:a}=await q.fetchFromRecruitingApp({fields:i});return this.setSelfCheckIns({selectedId:t.selectedId,data:a},!0),this.selfCheckIns.isLoading=!1,{data:a}}else return this.selfCheckIns.isLoading=!1,{data:[]}},async fetchAllSelfCheckIns(t){const{userOffices:e}=ne(),r=[];return e(t?t.can:null).forEach(a=>{let o=this.fetchSelfCheckIns({...t,selectedId:a[8]});r.push(o)}),await Promise.allSettled(r)},setSelfCheckIns({selectedId:t,data:e},r){this.selfCheckIns[t]=e,r&&Re.setItem(`selfCheckIns_${t}`,e)},async fetchProfiles(t){this.profiles.isLoading=!0;const e=this.getRequestedTimeStamps[t.selectedId]||{};let r=!0;const i=[{9:{value:t.selectedId},7:{value:"Employees"}}];if(e.profiles&&(e.profiles.isBefore(I().subtract(1,"minute"))?r=!0:r=t.refresh?t.refresh:!1),r){this.setTimeStamp({selectedId:t.selectedId,name:"profiles",timeStamp:I()},!0);const{data:a}=await q.fetchFromHiringApp({fields:i});return this.setProfiles({selectedId:t.selectedId,data:a},!0),this.profiles.isLoading=!1,{data:a}}else return this.profiles.isLoading=!1,{data:[]}},async fetchAllProfiles(t){const{userOffices:e}=ne(),r=[];return e(t?t.can:null).forEach(a=>{let o=this.fetchProfiles({...t,selectedId:a[8]});r.push(o)}),await Promise.allSettled(r)},setProfiles({selectedId:t,data:e},r){this.profiles[t]=e,r&&Re.setItem(`profiles_${t}`,e)},updateProfiles({selectedId:t,data:e},r){dr.createNotification({title:"profilesUpdated",type:"office-notification",task:null,officeId:t,details:e})},async fetchScheduledInterviews(t){this.scheduledInterviews.isLoading=!0;const e=this.getRequestedTimeStamps[t.selectedId]||{};let r=!0;const i=[{9:{value:t.selectedId},7:{value:"Scheduled Interviews"}}];if(e.scheduledInterviews&&(e.scheduledInterviews.isBefore(I().subtract(1,"minute"))?r=!0:r=t.refresh?t.refresh:!1),r){this.setTimeStamp({selectedId:t.selectedId,name:"scheduledInterviews",timeStamp:I()},!0);const{data:a}=await q.fetchFromHiringApp({fields:i});return this.setScheduledInterviews({selectedId:t.selectedId,data:a},!0),this.scheduledInterviews.isLoading=!1,{data:a}}else return this.scheduledInterviews.isLoading=!1,{data:[]}},async fetchAllScheduledInterviews(t){const{userOffices:e}=ne(),r=[];return e(t?t.can:null).forEach(a=>{let o=this.fetchScheduledInterviews({...t,selectedId:a[8]});r.push(o)}),await Promise.allSettled(r)},setScheduledInterviews({selectedId:t,data:e},r){this.scheduledInterviews[t]=e,r&&Re.setItem(`interviews_${t}`,e)},updateScheduledInterviews({selectedId:t,data:e}){dr.createNotification({title:"scheduledInterviewsUpdated",type:"office-notification",task:null,officeId:t,values:e})},async fetchInProcessInterviews(t){this.inProcessInterviews.isLoading=!0;const e=this.getRequestedTimeStamps[t.selectedId]||{};let r=!0;const i=[{9:{value:t.selectedId},7:{value:"In Process Interviews"}}];if(e.inProcessInterviews&&(e.inProcessInterviews.isBefore(I().subtract(1,"minute"))?r=!0:r=t.refresh?t.refresh:!1),r){this.setTimeStamp({selectedId:t.selectedId,name:"inProcessInterviews",timeStamp:I()},!0);const{data:a}=await q.fetchFromHiringApp({fields:i});return this.setInProcessInterviews({selectedId:t.selectedId,data:a},!0),this.inProcessInterviews.isLoading=!1,{data:a}}else return this.inProcessInterviews.isLoading=!1,{data:[]}},async fetchAllInProcessInterviews(t){const{userOffices:e}=ne(),r=[];return e(t?t.can:null).forEach(a=>{let o=this.fetchInProcessInterviews({...t,selectedId:a[8]});r.push(o)}),await Promise.allSettled(r)},setInProcessInterviews({selectedId:t,data:e},r){this.inProcessInterviews[t]=e,r&&Re.setItem(`interviews_${t}`,e)},updateInProcessInterviews({selectedId:t,data:e}){dr.createNotification({title:"activeInterviewsUpdated",type:"office-notification",task:null,officeId:t,values:e})},async fetchInProcess(t){this.inProcess.isLoading=!0;const e=this.getRequestedTimeStamps[t.selectedId]||{};let r=!0;const i=[{9:{value:t.selectedId},7:{value:"In Processes"}}];if(e.inProcess&&(e.inProcess.isBefore(I().subtract(1,"minute"))?r=!0:r=t.refresh?t.refresh:!1),r){this.setTimeStamp({selectedId:t.selectedId,name:"inProcess",timeStamp:I()},!0);const{data:a}=await q.fetchFromHiringApp({fields:i});return this.setInProcess({selectedId:t.selectedId,data:a},!0),this.inProcess.isLoading=!1,{data:a}}else return this.inProcess.isLoading=!1,{data:[]}},async fetchAllInProcess(t){const{userOffices:e}=ne(),r=[];return e(t?t.can:null).forEach(a=>{let o=this.fetchInProcess({...t,selectedId:a[8]});r.push(o)}),await Promise.allSettled(r)},setInProcess({selectedId:t,data:e},r){this.inProcess[t]=e,r&&Re.setItem(`inProcess_${t}`,e)},updateInProcess({selectedId:t,data:e}){dr.createNotification({title:"inProcessUpdated",type:"office-notification",task:null,officeId:t,values:e})},async fetchPending(t){this.pending.isLoading=!0;const e=this.getRequestedTimeStamps[t.selectedId]||{};let r=!0;const i=[{9:{value:t.selectedId},7:{value:"Dispatches"}}];if(e.pending&&(e.pending.isBefore(I().subtract(1,"minute"))?r=!0:r=t.refresh?t.refresh:!1),r){this.setTimeStamp({selectedId:t.selectedId,name:"pending",timeStamp:I()},!0);const{data:a}=await q.fetchFromHiringApp({fields:i});return this.setPending({selectedId:t.selectedId,data:a},!0),this.pending.isLoading=!1,{data:a}}else return this.pending.isLoading=!1,{data:[]}},async fetchAllPending(t){const{userOffices:e}=ne(),r=[];return e(t?t.can:null).forEach(a=>{let o=this.fetchPending({...t,selectedId:a[8]});r.push(o)}),await Promise.allSettled(r)},setPending({selectedId:t,data:e},r){this.pending[t]=e,r&&Re.setItem(`pending_${t}`,e)},updatePending({selectedId:t,data:e}){dr.createNotification({title:"pendingUpdated",type:"office-notification",task:null,officeId:t,values:e})},async fetchOpenRequest(t){this.openRequest.isLoading=!0;const e=this.getRequestedTimeStamps[t.selectedId]||{};let r=!0;const i=[{9:{value:t.selectedId},7:{value:"Open Request"}}];if(e.openRequest&&(e.openRequest.isBefore(I().subtract(1,"minute"))?r=!0:r=t.refresh?t.refresh:!1),r){this.setTimeStamp({selectedId:t.selectedId,name:"openRequest",timeStamp:I()},!0);const{data:a}=await q.fetchFromProjectsApp({fields:i});return this.setOpenRequest({selectedId:t.selectedId,data:a},!0),this.openRequest.isLoading=!1,{data:a}}else return this.openRequest.isLoading=!1,{data:[]}},async fetchAllOpenRequest(t){const{userOffices:e}=ne(),r=[];return e(t?t.can:null).forEach(a=>{let o=this.fetchOpenRequest({...t,selectedId:a[8]});r.push(o)}),await Promise.allSettled(r)},setOpenRequest({selectedId:t,data:e},r){this.openRequest[t]=e,r&&Re.setItem(`openRequest_${t}`,e)},async fetchPendingRequest(t){this.pendingRequest.isLoading=!0;const e=this.getRequestedTimeStamps[t.selectedId]||{};let r=!0;const i=[{9:{value:t.selectedId},7:{value:"Pending Request"}}];if(e.pendingRequest&&(e.pendingRequest.isBefore(I().subtract(1,"minute"))?r=!0:r=t.refresh?t.refresh:!1),r){this.setTimeStamp({selectedId:t.selectedId,name:"pendingRequest",timeStamp:I()},!0);const{data:a}=await q.fetchFromProjectsApp({fields:i});return this.setPendingRequest({selectedId:t.selectedId,data:a},!0),this.pendingRequest.isLoading=!1,{data:a}}else return this.pendingRequest.isLoading=!1,{data:[]}},async fetchAllPendingRequest(t){const{userOffices:e}=ne(),r=[];return e(t?t.can:null).forEach(a=>{let o=this.fetchPendingRequest({...t,selectedId:a[8]});r.push(o)}),await Promise.allSettled(r)},setPendingRequest({selectedId:t,data:e},r){this.pendingRequest[t]=e,r&&Re.setItem(`pendingRequest_${t}`,e)},async fetchProjects(t){const{getOffice:e,getUserType:r}=ne();this.projects.isLoading=!0;const i=this.getRequestedTimeStamps[t.selectedId]||{};let a=!0,o=1;if(t&&t.can&&r==="QuickBase User"){const f=e(t.selectedId);if(t.can==="read"&&f&&f[39]!==!0)return{data:[]};if((t.can==="create"||t.can==="update")&&f&&f[40]!==!0)return{data:[]};if(t.can==="manage"&&f&&f[41]!==!0)return{data:[]}}t.extendTime&&(o=t.extendTime);const u=[];if(r==="QuickBase User")u.push({9:{value:t.selectedId},7:{value:"Projects"}});else if(r==="Project User"){let f="";t.projects&&(f+=t.projects.map((l,p)=>`{'3'.EX.'${l}'}OR`).join("")),t.facilities&&(f+=t.facilities.map((l,p)=>`{'8'.EX.'${l}'}OR`).join("")),u.push({9:{value:t.selectedId},7:{value:"Projects"},8:{value:`{'77'.EX.'17'}AND{'21'.EX.'Complete'}AND${f?"("+f+")":""}`.replace("OR)",")")}})}if(i.projects&&(i.projects.isBefore(I().subtract(o,"minute"))?a=!0:a=t.refresh?t.refresh:!1),a){this.setTimeStamp({selectedId:t.selectedId,name:"projects",timeStamp:I()},!0);const{data:f}=await q.fetchFromProjectsApp({fields:u});return this.setProjects({selectedId:t.selectedId,data:f},!0),this.projects.isLoading=!1,{data:f}}else return this.projects.isLoading=!1,{data:[]}},async fetchAllProjects(t){const{userOffices:e,userProjects:r,getUser:i,getUserType:a,userFacilities:o}=ne();if(a==="Project User"){const u=[],f=[],l=[];return r(t?t.can:null).forEach(v=>{u.push(v[9])}),o(t?t.can:null).forEach(v=>{f.push(v[31])}),(u.length>0||f.length>0)&&l.push(this.fetchProjects({...t,selectedId:i[3],projects:u,facilities:f})),await Promise.allSettled(l)}else if(a==="QuickBase User"){const u=[];return e(t?t.can:null).forEach(l=>{let p=this.fetchProjects({...t,selectedId:l[8]});u.push(p)}),await Promise.allSettled(u)}},setProjects({selectedId:t,data:e},r){t&&e&&(this.projects[t]=e),r&&t&&Re.setItem(`projects_${t}`,e)},async fetchPendingProjects(t){this.pendingProjects.isLoading=!0;const e=this.getRequestedTimeStamps[t.selectedId]||{};let r=!0;const i=[{9:{value:t.selectedId},7:{value:"Pending Projects"}}];if(e.pendingProjects&&(e.pendingProjects.isBefore(I().subtract(1,"minute"))?r=!0:r=t.refresh?t.refresh:!1),r){this.setTimeStamp({selectedId:t.selectedId,name:"pendingProjects",timeStamp:I()},!0);const{data:a}=await q.fetchFromProjectsApp({fields:i});return this.setPendingProjects({selectedId:t.selectedId,data:a},!0),this.pendingProjects.isLoading=!1,{data:a}}else return this.pendingProjects.isLoading=!1,{data:[]}},async fetchAllPendingProjects(t){const{userOffices:e}=ne(),r=[];return e(t?t.can:null).forEach(a=>{let o=this.fetchPendingProjects({...t,selectedId:a[8]});r.push(o)}),await Promise.allSettled(r)},setPendingProjects({selectedId:t,data:e},r){this.pendingProjects[t]=e,r&&Re.setItem(`pendingProjects_${t}`,e)},async fetchDeployments(t){const{getUserType:e}=ne();this.deployments.isLoading=!0;const r=this.getRequestedTimeStamps[t.selectedId]||{};let i=!0;const a=[{9:{value:t.selectedId},7:{value:"Deployments"}}];if(e==="Project User"?a[0][7]={value:"Deployments By Project"}:e==="Project User"&&(a[0][7]={value:"Deployments"}),r.deployments&&(r.deployments.isBefore(I().subtract(1,"minute"))?i=!0:i=t.refresh?t.refresh:!1),i){this.setTimeStamp({selectedId:t.selectedId,name:"deployments",timeStamp:I()},!0);const{data:o}=await q.fetchFromHiringApp({fields:a});return this.setDeployments({selectedId:t.selectedId,data:o},!0),this.deployments.isLoading=!1,{data:o}}else return this.deployments.isLoading=!1,{data:[]}},async fetchAllDeployments(t){const{userOffices:e,getUserType:r}=ne(),i=[];return r==="Project User"?this.getProjects({userType:r,can:"read"}).forEach(o=>{let u=this.fetchDeployments({...t,selectedId:o[3]});i.push(u)}):r==="Project User"&&e(t?t.can:null).forEach(o=>{let u=this.fetchDeployments({...t,selectedId:o[8]});i.push(u)}),e(t?t.can:null).forEach(o=>{let u=this.fetchDeployments({...t,selectedId:o[8]});i.push(u)}),await Promise.allSettled(i)},setDeployments({selectedId:t,data:e},r){this.deployments[t]=e,r&&Re.setItem(`deployments_${t}`,e)},updateDeployments({selectedId:t,data:e}){dr.createNotification({title:"deploymentsUpdated",type:"office-notification",task:null,officeId:t,values:e})},async fetchReleases(t){this.releases.isLoading=!0;const e=this.getRequestedTimeStamps[t.selectedId]||{};let r=!0;const i=[{9:{value:t.selectedId},7:{value:"Releases"}}];if(e.releases&&(e.releases.isBefore(I().subtract(1,"minute"))?r=!0:r=t.refresh?t.refresh:!1),r){this.setTimeStamp({selectedId:t.selectedId,name:"releases",timeStamp:I()},!0);const{data:a}=await q.fetchFromHiringApp({fields:i});return this.setReleases({selectedId:t.selectedId,data:a},!0),this.releases.isLoading=!1,{data:a}}else return this.releases.isLoading=!1,{data:[]}},async fetchAllReleases(t){const{userOffices:e}=ne(),r=[];return e(t?t.can:null).forEach(a=>{let o=this.fetchReleases({...t,selectedId:a[8]});r.push(o)}),await Promise.allSettled(r)},setReleases({selectedId:t,data:e},r){this.releases[t]=e,r&&Re.setItem(`releases_${t}`,e)},updateReleases({selectedId:t,data:e}){dr.createNotification({title:"releasesUpdated",type:"office-notification",task:null,officeId:t,values:e})},async fetchJobPost(t){this.jobPost.isLoading=!0;const e=this.getRequestedTimeStamps[t.selectedId]||{};let r=!0;const i=[{9:{value:t.selectedId},7:{value:"Job Post"}}];if(e.jobPost&&(e.jobPost.isBefore(I().subtract(1,"minute"))?r=!0:r=t.refresh?t.refresh:!1),r){this.setTimeStamp({selectedId:t.selectedId,name:"jobPost",timeStamp:I()},!0);const{data:a}=await q.fetchFromRecruitingApp({fields:i});return this.setJobPost({selectedId:t.selectedId,data:a},!0),this.jobPost.isLoading=!1,{data:a}}else return this.jobPost.isLoading=!1,{data:[]}},async fetchAllJobPost(t){const{userOffices:e}=ne(),r=[];return e(t?t.can:null).forEach(a=>{let o=this.fetchJobPost({...t,selectedId:a[8]});r.push(o)}),await Promise.allSettled(r)},setJobPost({selectedId:t,data:e},r){this.jobPost[t]=e,r&&Re.setItem(`jobPost_${t}`,e)},async fetchOnlineApplications(t){this.onlineApplications.isLoading=!0;const e=this.getRequestedTimeStamps[t.selectedId]||{};let r=!0;const i=[{9:{value:t.selectedId},7:{value:"Online Applications 30 Days"}}];if(e.onlineApplications&&(e.onlineApplications.isBefore(I().subtract(1,"minute"))?r=!0:r=t.refresh?t.refresh:!1),r){this.setTimeStamp({selectedId:t.selectedId,name:"onlineApplications",timeStamp:I()},!0);const{data:a}=await q.fetchFromRecruitingApp({fields:i});return this.setOnlineApplications({selectedId:t.selectedId,data:a},!0),this.onlineApplications.isLoading=!1,{data:a}}else return this.onlineApplications.isLoading=!1,{data:[]}},async fetchAllOnlineApplications(t){const{userOffices:e}=ne(),r=[];return e(t?t.can:null).forEach(a=>{let o=this.fetchOnlineApplications({...t,selectedId:a[8]});r.push(o)}),await Promise.allSettled(r)},setOnlineApplications({selectedId:t,data:e},r){this.onlineApplications[t]=e,r&&Re.setItem(`onlineApplications_${t}`,e)},async fetchForms(t){this.forms.isLoading=!0;const e=this.getRequestedTimeStamps[t.selectedId]||{};let r=!0;const i=[{9:{value:t.selectedId},7:{value:"Forms"}}];if(e.forms&&(e.forms.isBefore(I().subtract(1,"minute"))?r=!0:r=t.refresh?t.refresh:!1),r){this.setTimeStamp({selectedId:t.selectedId,name:"forms",timeStamp:I()},!0);const{data:a}=await q.fetchFromStructureApp({fields:i});return this.setForms({selectedId:t.selectedId,data:a},!0),this.forms.isLoading=!1,{data:a}}else return this.forms.isLoading=!1,{data:[]}},async fetchAllForms(t){const{userOffices:e}=ne(),r=[];return e(t?t.can:null).forEach(a=>{let o=this.fetchForms({...t,selectedId:a[8]});r.push(o)}),await Promise.allSettled(r)},setForms({selectedId:t,data:e},r){this.forms[t]=e,r&&Re.setItem(`forms_${t}`,e)},async fetchRoster(t){const{getOffice:e,getUserType:r}=ne();this.rosters.isLoading=!0;const i=this.getRequestedTimeStamps[t.selectedId]||{};let a=!0,o=1;if(t&&t.can&&r==="QuickBase User"){const f=e(t.selectedId);if(t.can==="read"&&f&&f[39]!==!0)return{data:[]};if((t.can==="create"||t.can==="update")&&f&&f[40]!==!0)return{data:[]};if(t.can==="manage"&&f&&f[41]!==!0)return{data:[]}}t.extendTime&&(o=t.extendTime);const u=[];if(r==="QuickBase User"?u.push({9:{value:t.selectedId},7:{value:t.type?t.type:"Project Active Roster"}}):r==="Project User"&&u.push({9:{value:t.selectedId},7:{value:t.type?t.type:"Project Active Roster"}}),i.rosters&&(i.rosters.isBefore(I().subtract(o,"minute"))?a=!0:a=t.refresh?t.refresh:!1),a){this.setTimeStamp({selectedId:t.selectedId,name:"rosters",timeStamp:I()},!0);const{data:f}=await q.fetchFromWoMP({fields:u});return this.setRosters({selectedId:t.selectedId,data:f},!0),this.rosters.isLoading=!1,{data:f}}else return this.rosters.isLoading=!1,{data:[]}},async fetchAllRosters(t){const{userOffices:e,userProjects:r,getUser:i,getUserType:a,userFacilities:o}=ne();if(a==="Project User"){const u=[],f=[],l=[];return r(t?t.can:null).forEach(v=>{l.push(this.fetchRoster({...t,selectedId:v[9],type:"Project Active Roster"})),u.push(v[9])}),o(t?t.can:null).forEach(v=>{l.push(this.fetchRoster({...t,selectedId:v[31],type:"Customer Active Roster"})),f.push(v[31])}),await Promise.allSettled(l)}else if(a==="QuickBase User"){const u=[];return e(t?t.can:null).forEach(l=>{let p=this.fetchRoster({...t,selectedId:l[8]});u.push(p)}),await Promise.allSettled(u)}},setRosters({selectedId:t,data:e},r){t&&e&&(this.rosters[t]=e),r&&t&&Re.setItem(`rosters_${t}`,e)},async fetchConversations(t,e){return Dr.getConversations({pagination:{page:t,pageSize:e},sort:"lastMessageDateTime:desc",populate:{contact:!0}}).then(r=>{const i=r.data.length===0||r.data.length<e;return(!i||r.data.length>0)&&this.setConversations({data:r.data},!0),i})},setConversations({data:t},e){const r=[...t,...this.conversations].sort((o,u)=>new Date(u.lastMessageDateTime)-new Date(o.lastMessageDateTime)),i=[],a=new Map;for(const o of r)a.has(o.id)||(a.set(o.id,!0),i.push(o));this.conversations=i,e&&Re.setItem("conversations",JSON.parse(JSON.stringify(i)))},setConversation({data:t}){const e=this.conversations.findIndex(r=>r.id===t.id);e&&(this.conversations[e].contacts=t.contacts,this.conversations[e].name=t.name)},setConversationNotification(t){this.conversationNotification=t;const e=t.data||t;if(t.action==="create")this.conversations.unshift(e);else{e.unread===void 0&&e.lastMessage.direction==="outbound-api"&&(e.unread=!1);const r=this.conversations.find(i=>i.id===e.id);r&&(r.lastMessage=e.lastMessage,r.name=e.name,r.lastMessageDateTime=e.lastMessageDateTime,r.readBy=e.readBy||[],r.unread=e.unread,r.updatedAt=e.updatedAt)}},setMessageNotification(t){this.messageNotification=t}}}),ne=yt("user",{state:()=>({user:{},access:[],permissions:[],notifications:[],feathersNotification:null,strapiUser:{},automationUser:{6:"worksite@brandsafway.com",32:"System Automation",35:"CEM",37:"Automation",67:"CEM Automation"}}),getters:{getAutomationUser:t=>t.automationUser,getUser:t=>t.user,getUserType:t=>t.user[32],userData:t=>t.user,fullName:t=>`${t.user[35]}${t.user[36]!==""?` ${t.user[36]} `:" "}${t.user[37]}`,userLoggedIn:t=>!!t.user[3],userAccess:t=>t.access,employeeLinkRequired:t=>t.user[84]===!0&&(t.user[85]===!0||t.user[82]===!1||t.user[82]===!0&&(t.user[80]===""||!t.user[80])),verifyRequired:t=>(t.user[32]==="Candidate"||t.user[32]==="Employee"||t.user[32]==="Project User")&&!t.user.verified,phoneNumberRequired:t=>t.user[111]||t.user[8]==="",emailRequired:t=>t.user[112]||t.user[6]==="",passwordRequired:t=>t.user[17]||t.user[7]==="",employeeLinked:t=>t.user[82],employeeProfileRID:t=>t.user[80],createEmployeeProfile:t=>t.user[85],userPermissions:t=>t.permissions,primaryOffice:t=>t.access.find(e=>e[15]===!0&&e[7]==="Office")||null,userOffices:t=>e=>t.access.filter(r=>e?e==="read"?r[7]==="Office"&&(r[39]===!0||r[41]===!0):e==="create"||e==="update"?r[7]==="Office"&&(r[40]===!0||r[41]===!0):e==="manage"?r[7]==="Office"&&r[41]===!0:!1:r[7]==="Office"),userOfficesRead:t=>t.access.filter(e=>e[7]==="Office"&&e[39]===!0),userOfficesCreate:t=>t.access.filter(e=>e[7]==="Office"&&e[40]===!0),userOfficesManage:t=>t.access.filter(e=>e[7]==="Office"&&e[41]===!0),primaryProject:t=>t.access.find(e=>e[15]===!0&&e[7]==="Project")||null,userProjects:t=>e=>t.access.filter(r=>e?e==="read"?r[7]==="Project"&&(r[39]===!0||r[41]===!0):e==="create"||e==="update"?r[7]==="Project"&&(r[40]===!0||r[41]===!0):e==="manage"?r[7]==="Project"&&r[41]===!0:!1:r[7]==="Project"),userFacilities:t=>e=>t.access.filter(r=>e?e==="read"?r[7]==="Facility"&&(r[39]===!0||r[41]===!0):e==="create"||e==="update"?r[7]==="Facility"&&(r[40]===!0||r[41]===!0):e==="manage"?r[7]==="Facility"&&r[41]===!0:!1:r[7]==="Project"),userBranches:t=>e=>t.access.filter(r=>e?e==="read"?r[7]==="Branch"&&(r[39]===!0||r[41]===!0):e==="create"||e==="update"?r[7]==="Branch"&&(r[40]===!0||r[41]===!0):e==="manage"?r[7]==="Branch"&&r[41]===!0:!1:r[7]==="Branch"),getOffice:t=>e=>e?t.access.find(r=>r[7]==="Office"&&r[8]===e):null},actions:{async fetchUser(t){const e=`{'10'.EX.'Active'}${t.rid?`AND{'3'.EX.'${t.rid}'}`:""}${t.email?`AND{'6'.EX.'${t.email}'}`:""}${t.phoneNumber?`AND{'8'.EX.'${t.phoneNumber}'}`:""}${t.userType?`AND{'32'.EX.'${t.userType}'}`:""}`,r=[{7:{value:"User Clean"},8:{value:e},9:{value:t.rid?t.rid:1},14:{value:76}}],i=await q.fetchFromStructureApp({fields:r}),{user:a,access:o,permissions:u}=i.data;return this.setUser(a,!0),this.setAccess(o,!0),this.setPermissions(u,!0),i},async updateUserData({fields:t}){if(!t)throw"No Fields Provided";t[3]===void 0&&Object.assign(t,{3:{value:this.userData[3]}});const{data:e,metadata:r}=await q.upsertRecordsXML({to:"br4pxrbs6",fieldsToReturn:[3,76],data:[t],formatObject:76});if(r.lineErrors)throw{lineErrors:r.lineErrors[1],error:r.lineErrors};const i=e[0][76],a=Object.assign({},i);return delete a.access,delete a.permissions,this.setUser(a,!0),i},setUser(t,e){const{setQueryBy:r}=rr();this.user=t,t[32]==="QuickBase User"?r("office"):t[32]==="Project User"&&r("project"),e&&F.setItem(H.storageUserKeyName,t)},setStrapiUser(t,e){this.strapiUser=t,e&&F.setItem(H.storageStrapiUserKeyName,t)},setPhoneNumberVerified(t){this.user[50]=t},setVerified(t){this.user.verified=t},setPhoneNumber(t){this.user[8]=t,this.user[111]=!0},setEmail(t){this.user[6]=t,this.user[112]=!0},setIdentityVerified(t){typeof t=="number"?this.user[80]=t:this.user[85]=t},setAccess(t,e){this.access=t,e&&F.setItem(H.storageAccessKeyName,t)},setPermissions(t,e){for(let i=0;i<t.length;i++)if(t[i].conditions){if(t[i].conditions.deny&&!Array.isArray(t[i].conditions.deny)){let a=t[i].conditions.deny.split(",");a.forEach(o=>{o=o.trim()}),t[i].conditions.deny=a;continue}if(t[i].conditions.accept&&!Array.isArray(t[i].conditions.accept)){let a=t[i].conditions.accept.split(",");a.forEach(o=>{o=o.trim()}),t[i].conditions.accept=a;continue}}const r=t.concat(na);pr.update(r),this.permissions=r,e&&F.setItem(H.storagePermissionsKeyName,t)},setFeathersNotification(t){this.feathersNotification=t},async logout(){return await q.logout(),pr.update(na)}}});var mb=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),i=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(i)!=="[object Symbol]")return!1;var a=42;e[r]=a;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var u=Object.getOwnPropertyDescriptor(e,r);if(u.value!==a||u.enumerable!==!0)return!1}return!0},Pl=typeof Symbol!="undefined"&&Symbol,yb=mb,vb=function(){return typeof Pl!="function"||typeof Symbol!="function"||typeof Pl("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:yb()},Dl={foo:{}},xb=Object,bb=function(){return{__proto__:Dl}.foo===Dl.foo&&!({__proto__:null}instanceof xb)},wb="Function.prototype.bind called on incompatible ",Eo=Array.prototype.slice,Ab=Object.prototype.toString,Sb="[object Function]",Ib=function(e){var r=this;if(typeof r!="function"||Ab.call(r)!==Sb)throw new TypeError(wb+r);for(var i=Eo.call(arguments,1),a,o=function(){if(this instanceof a){var v=r.apply(this,i.concat(Eo.call(arguments)));return Object(v)===v?v:this}else return r.apply(e,i.concat(Eo.call(arguments)))},u=Math.max(0,r.length-i.length),f=[],l=0;l<u;l++)f.push("$"+l);if(a=Function("binder","return function ("+f.join(",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var p=function(){};p.prototype=r.prototype,a.prototype=new p,p.prototype=null}return a},Ob=Ib,Ra=Function.prototype.bind||Ob,kb=Ra,Tb=kb.call(Function.call,Object.prototype.hasOwnProperty),le,sn=SyntaxError,gh=Function,nn=TypeError,Po=function(t){try{return gh('"use strict"; return ('+t+").constructor;")()}catch{}},$r=Object.getOwnPropertyDescriptor;if($r)try{$r({},"")}catch{$r=null}var Do=function(){throw new nn},Cb=$r?function(){try{return arguments.callee,Do}catch{try{return $r(arguments,"callee").get}catch{return Do}}}():Do,Zr=vb(),Rb=bb(),je=Object.getPrototypeOf||(Rb?function(t){return t.__proto__}:null),tn={},_b=typeof Uint8Array=="undefined"||!je?le:je(Uint8Array),Fr={"%AggregateError%":typeof AggregateError=="undefined"?le:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?le:ArrayBuffer,"%ArrayIteratorPrototype%":Zr&&je?je([][Symbol.iterator]()):le,"%AsyncFromSyncIteratorPrototype%":le,"%AsyncFunction%":tn,"%AsyncGenerator%":tn,"%AsyncGeneratorFunction%":tn,"%AsyncIteratorPrototype%":tn,"%Atomics%":typeof Atomics=="undefined"?le:Atomics,"%BigInt%":typeof BigInt=="undefined"?le:BigInt,"%BigInt64Array%":typeof BigInt64Array=="undefined"?le:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array=="undefined"?le:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?le:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?le:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?le:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?le:FinalizationRegistry,"%Function%":gh,"%GeneratorFunction%":tn,"%Int8Array%":typeof Int8Array=="undefined"?le:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?le:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?le:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Zr&&je?je(je([][Symbol.iterator]())):le,"%JSON%":typeof JSON=="object"?JSON:le,"%Map%":typeof Map=="undefined"?le:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!Zr||!je?le:je(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?le:Promise,"%Proxy%":typeof Proxy=="undefined"?le:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?le:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?le:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!Zr||!je?le:je(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?le:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Zr&&je?je(""[Symbol.iterator]()):le,"%Symbol%":Zr?Symbol:le,"%SyntaxError%":sn,"%ThrowTypeError%":Cb,"%TypedArray%":_b,"%TypeError%":nn,"%Uint8Array%":typeof Uint8Array=="undefined"?le:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?le:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?le:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?le:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?le:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?le:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?le:WeakSet};if(je)try{null.error}catch(t){var Eb=je(je(t));Fr["%Error.prototype%"]=Eb}var Pb=function t(e){var r;if(e==="%AsyncFunction%")r=Po("async function () {}");else if(e==="%GeneratorFunction%")r=Po("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Po("async function* () {}");else if(e==="%AsyncGenerator%"){var i=t("%AsyncGeneratorFunction%");i&&(r=i.prototype)}else if(e==="%AsyncIteratorPrototype%"){var a=t("%AsyncGenerator%");a&&je&&(r=je(a.prototype))}return Fr[e]=r,r},Nl={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Wn=Ra,Gi=Tb,Db=Wn.call(Function.call,Array.prototype.concat),Nb=Wn.call(Function.apply,Array.prototype.splice),$l=Wn.call(Function.call,String.prototype.replace),Vi=Wn.call(Function.call,String.prototype.slice),$b=Wn.call(Function.call,RegExp.prototype.exec),Fb=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Lb=/\\(\\)?/g,qb=function(e){var r=Vi(e,0,1),i=Vi(e,-1);if(r==="%"&&i!=="%")throw new sn("invalid intrinsic syntax, expected closing `%`");if(i==="%"&&r!=="%")throw new sn("invalid intrinsic syntax, expected opening `%`");var a=[];return $l(e,Fb,function(o,u,f,l){a[a.length]=f?$l(l,Lb,"$1"):u||o}),a},Mb=function(e,r){var i=e,a;if(Gi(Nl,i)&&(a=Nl[i],i="%"+a[0]+"%"),Gi(Fr,i)){var o=Fr[i];if(o===tn&&(o=Pb(i)),typeof o=="undefined"&&!r)throw new nn("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:a,name:i,value:o}}throw new sn("intrinsic "+e+" does not exist!")},_a=function(e,r){if(typeof e!="string"||e.length===0)throw new nn("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new nn('"allowMissing" argument must be a boolean');if($b(/^%?[^%]*%?$/,e)===null)throw new sn("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var i=qb(e),a=i.length>0?i[0]:"",o=Mb("%"+a+"%",r),u=o.name,f=o.value,l=!1,p=o.alias;p&&(a=p[0],Nb(i,Db([0,1],p)));for(var v=1,C=!0;v<i.length;v+=1){var R=i[v],D=Vi(R,0,1),j=Vi(R,-1);if((D==='"'||D==="'"||D==="`"||j==='"'||j==="'"||j==="`")&&D!==j)throw new sn("property names with quotes must have matching quotes");if((R==="constructor"||!C)&&(l=!0),a+="."+R,u="%"+a+"%",Gi(Fr,u))f=Fr[u];else if(f!=null){if(!(R in f)){if(!r)throw new nn("base intrinsic for "+e+" exists, but the property is not available.");return}if($r&&v+1>=i.length){var Q=$r(f,R);C=!!Q,C&&"get"in Q&&!("originalValue"in Q.get)?f=Q.get:f=f[R]}else C=Gi(f,R),f=f[R];C&&!l&&(Fr[u]=f)}}return f},mh={exports:{}};(function(t){var e=Ra,r=_a,i=r("%Function.prototype.apply%"),a=r("%Function.prototype.call%"),o=r("%Reflect.apply%",!0)||e.call(a,i),u=r("%Object.getOwnPropertyDescriptor%",!0),f=r("%Object.defineProperty%",!0),l=r("%Math.max%");if(f)try{f({},"a",{value:1})}catch{f=null}t.exports=function(C){var R=o(e,a,arguments);if(u&&f){var D=u(R,"length");D.configurable&&f(R,"length",{value:1+l(0,C.length-(arguments.length-1))})}return R};var p=function(){return o(e,i,arguments)};f?f(t.exports,"apply",{value:p}):t.exports.apply=p})(mh);var yh=_a,vh=mh.exports,jb=vh(yh("String.prototype.indexOf")),Ub=function(e,r){var i=yh(e,!!r);return typeof i=="function"&&jb(e,".prototype.")>-1?vh(i):i},Bb={},Wb=Object.freeze(Object.defineProperty({__proto__:null,default:Bb},Symbol.toStringTag,{value:"Module"})),Hb=P1(Wb),Ea=typeof Map=="function"&&Map.prototype,No=Object.getOwnPropertyDescriptor&&Ea?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Zi=Ea&&No&&typeof No.get=="function"?No.get:null,Fl=Ea&&Map.prototype.forEach,Pa=typeof Set=="function"&&Set.prototype,$o=Object.getOwnPropertyDescriptor&&Pa?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,es=Pa&&$o&&typeof $o.get=="function"?$o.get:null,Ll=Pa&&Set.prototype.forEach,Kb=typeof WeakMap=="function"&&WeakMap.prototype,Mn=Kb?WeakMap.prototype.has:null,Yb=typeof WeakSet=="function"&&WeakSet.prototype,jn=Yb?WeakSet.prototype.has:null,Xb=typeof WeakRef=="function"&&WeakRef.prototype,ql=Xb?WeakRef.prototype.deref:null,zb=Boolean.prototype.valueOf,Qb=Object.prototype.toString,Jb=Function.prototype.toString,Gb=String.prototype.match,Da=String.prototype.slice,xr=String.prototype.replace,Vb=String.prototype.toUpperCase,Ml=String.prototype.toLowerCase,xh=RegExp.prototype.test,jl=Array.prototype.concat,Ut=Array.prototype.join,Zb=Array.prototype.slice,Ul=Math.floor,ia=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Fo=Object.getOwnPropertySymbols,sa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,on=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Je=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===on?"object":"symbol")?Symbol.toStringTag:null,bh=Object.prototype.propertyIsEnumerable,Bl=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function Wl(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||xh.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var i=t<0?-Ul(-t):Ul(t);if(i!==t){var a=String(i),o=Da.call(e,a.length+1);return xr.call(a,r,"$&_")+"."+xr.call(xr.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return xr.call(e,r,"$&_")}var oa=Hb,Hl=oa.custom,Kl=Ah(Hl)?Hl:null,ew=function t(e,r,i,a){var o=r||{};if(gr(o,"quoteStyle")&&o.quoteStyle!=="single"&&o.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(gr(o,"maxStringLength")&&(typeof o.maxStringLength=="number"?o.maxStringLength<0&&o.maxStringLength!==1/0:o.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var u=gr(o,"customInspect")?o.customInspect:!0;if(typeof u!="boolean"&&u!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(gr(o,"indent")&&o.indent!==null&&o.indent!=="	"&&!(parseInt(o.indent,10)===o.indent&&o.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(gr(o,"numericSeparator")&&typeof o.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var f=o.numericSeparator;if(typeof e=="undefined")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return Ih(e,o);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var l=String(e);return f?Wl(e,l):l}if(typeof e=="bigint"){var p=String(e)+"n";return f?Wl(e,p):p}var v=typeof o.depth=="undefined"?5:o.depth;if(typeof i=="undefined"&&(i=0),i>=v&&v>0&&typeof e=="object")return aa(e)?"[Array]":"[Object]";var C=vw(o,i);if(typeof a=="undefined")a=[];else if(Sh(a,e)>=0)return"[Circular]";function R(O,w,A){if(w&&(a=Zb.call(a),a.push(w)),A){var P={depth:o.depth};return gr(o,"quoteStyle")&&(P.quoteStyle=o.quoteStyle),t(O,P,i+1,a)}return t(O,o,i+1,a)}if(typeof e=="function"&&!Yl(e)){var D=uw(e),j=qi(e,R);return"[Function"+(D?": "+D:" (anonymous)")+"]"+(j.length>0?" { "+Ut.call(j,", ")+" }":"")}if(Ah(e)){var Q=on?xr.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):sa.call(e);return typeof e=="object"&&!on?Nn(Q):Q}if(gw(e)){for(var J="<"+Ml.call(String(e.nodeName)),G=e.attributes||[],Ge=0;Ge<G.length;Ge++)J+=" "+G[Ge].name+"="+wh(tw(G[Ge].value),"double",o);return J+=">",e.childNodes&&e.childNodes.length&&(J+="..."),J+="</"+Ml.call(String(e.nodeName))+">",J}if(aa(e)){if(e.length===0)return"[]";var Ae=qi(e,R);return C&&!yw(Ae)?"["+ca(Ae,C)+"]":"[ "+Ut.call(Ae,", ")+" ]"}if(nw(e)){var He=qi(e,R);return!("cause"in Error.prototype)&&"cause"in e&&!bh.call(e,"cause")?"{ ["+String(e)+"] "+Ut.call(jl.call("[cause]: "+R(e.cause),He),", ")+" }":He.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Ut.call(He,", ")+" }"}if(typeof e=="object"&&u){if(Kl&&typeof e[Kl]=="function"&&oa)return oa(e,{depth:v-i});if(u!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(lw(e)){var Se=[];return Fl&&Fl.call(e,function(O,w){Se.push(R(w,e,!0)+" => "+R(O,e))}),Xl("Map",Zi.call(e),Se,C)}if(dw(e)){var Le=[];return Ll&&Ll.call(e,function(O){Le.push(R(O,e))}),Xl("Set",es.call(e),Le,C)}if(fw(e))return Lo("WeakMap");if(pw(e))return Lo("WeakSet");if(hw(e))return Lo("WeakRef");if(sw(e))return Nn(R(Number(e)));if(aw(e))return Nn(R(ia.call(e)));if(ow(e))return Nn(zb.call(e));if(iw(e))return Nn(R(String(e)));if(!rw(e)&&!Yl(e)){var _e=qi(e,R),Ke=Bl?Bl(e)===Object.prototype:e instanceof Object||e.constructor===Object,ct=e instanceof Object?"":"null prototype",vt=!Ke&&Je&&Object(e)===e&&Je in e?Da.call(wr(e),8,-1):ct?"Object":"",E=Ke||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",T=E+(vt||ct?"["+Ut.call(jl.call([],vt||[],ct||[]),": ")+"] ":"");return _e.length===0?T+"{}":C?T+"{"+ca(_e,C)+"}":T+"{ "+Ut.call(_e,", ")+" }"}return String(e)};function wh(t,e,r){var i=(r.quoteStyle||e)==="double"?'"':"'";return i+t+i}function tw(t){return xr.call(String(t),/"/g,"&quot;")}function aa(t){return wr(t)==="[object Array]"&&(!Je||!(typeof t=="object"&&Je in t))}function rw(t){return wr(t)==="[object Date]"&&(!Je||!(typeof t=="object"&&Je in t))}function Yl(t){return wr(t)==="[object RegExp]"&&(!Je||!(typeof t=="object"&&Je in t))}function nw(t){return wr(t)==="[object Error]"&&(!Je||!(typeof t=="object"&&Je in t))}function iw(t){return wr(t)==="[object String]"&&(!Je||!(typeof t=="object"&&Je in t))}function sw(t){return wr(t)==="[object Number]"&&(!Je||!(typeof t=="object"&&Je in t))}function ow(t){return wr(t)==="[object Boolean]"&&(!Je||!(typeof t=="object"&&Je in t))}function Ah(t){if(on)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!sa)return!1;try{return sa.call(t),!0}catch{}return!1}function aw(t){if(!t||typeof t!="object"||!ia)return!1;try{return ia.call(t),!0}catch{}return!1}var cw=Object.prototype.hasOwnProperty||function(t){return t in this};function gr(t,e){return cw.call(t,e)}function wr(t){return Qb.call(t)}function uw(t){if(t.name)return t.name;var e=Gb.call(Jb.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function Sh(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return-1}function lw(t){if(!Zi||!t||typeof t!="object")return!1;try{Zi.call(t);try{es.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function fw(t){if(!Mn||!t||typeof t!="object")return!1;try{Mn.call(t,Mn);try{jn.call(t,jn)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function hw(t){if(!ql||!t||typeof t!="object")return!1;try{return ql.call(t),!0}catch{}return!1}function dw(t){if(!es||!t||typeof t!="object")return!1;try{es.call(t);try{Zi.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function pw(t){if(!jn||!t||typeof t!="object")return!1;try{jn.call(t,jn);try{Mn.call(t,Mn)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function gw(t){return!t||typeof t!="object"?!1:typeof HTMLElement!="undefined"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function Ih(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,i="... "+r+" more character"+(r>1?"s":"");return Ih(Da.call(t,0,e.maxStringLength),e)+i}var a=xr.call(xr.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,mw);return wh(a,"single",e)}function mw(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+Vb.call(e.toString(16))}function Nn(t){return"Object("+t+")"}function Lo(t){return t+" { ? }"}function Xl(t,e,r,i){var a=i?ca(r,i):Ut.call(r,", ");return t+" ("+e+") {"+a+"}"}function yw(t){for(var e=0;e<t.length;e++)if(Sh(t[e],`
`)>=0)return!1;return!0}function vw(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=Ut.call(Array(t.indent+1)," ");else return null;return{base:r,prev:Ut.call(Array(e+1),r)}}function ca(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+Ut.call(t,","+r)+`
`+e.prev}function qi(t,e){var r=aa(t),i=[];if(r){i.length=t.length;for(var a=0;a<t.length;a++)i[a]=gr(t,a)?e(t[a],t):""}var o=typeof Fo=="function"?Fo(t):[],u;if(on){u={};for(var f=0;f<o.length;f++)u["$"+o[f]]=o[f]}for(var l in t)!gr(t,l)||r&&String(Number(l))===l&&l<t.length||on&&u["$"+l]instanceof Symbol||(xh.call(/[^\w$]/,l)?i.push(e(l,t)+": "+e(t[l],t)):i.push(l+": "+e(t[l],t)));if(typeof Fo=="function")for(var p=0;p<o.length;p++)bh.call(t,o[p])&&i.push("["+e(o[p])+"]: "+e(t[o[p]],t));return i}var Na=_a,un=Ub,xw=ew,bw=Na("%TypeError%"),Mi=Na("%WeakMap%",!0),ji=Na("%Map%",!0),ww=un("WeakMap.prototype.get",!0),Aw=un("WeakMap.prototype.set",!0),Sw=un("WeakMap.prototype.has",!0),Iw=un("Map.prototype.get",!0),Ow=un("Map.prototype.set",!0),kw=un("Map.prototype.has",!0),$a=function(t,e){for(var r=t,i;(i=r.next)!==null;r=i)if(i.key===e)return r.next=i.next,i.next=t.next,t.next=i,i},Tw=function(t,e){var r=$a(t,e);return r&&r.value},Cw=function(t,e,r){var i=$a(t,e);i?i.value=r:t.next={key:e,next:t.next,value:r}},Rw=function(t,e){return!!$a(t,e)},_w=function(){var e,r,i,a={assert:function(o){if(!a.has(o))throw new bw("Side channel does not contain "+xw(o))},get:function(o){if(Mi&&o&&(typeof o=="object"||typeof o=="function")){if(e)return ww(e,o)}else if(ji){if(r)return Iw(r,o)}else if(i)return Tw(i,o)},has:function(o){if(Mi&&o&&(typeof o=="object"||typeof o=="function")){if(e)return Sw(e,o)}else if(ji){if(r)return kw(r,o)}else if(i)return Rw(i,o);return!1},set:function(o,u){Mi&&o&&(typeof o=="object"||typeof o=="function")?(e||(e=new Mi),Aw(e,o,u)):ji?(r||(r=new ji),Ow(r,o,u)):(i||(i={key:{},next:null}),Cw(i,o,u))}};return a},Ew=String.prototype.replace,Pw=/%20/g,qo={RFC1738:"RFC1738",RFC3986:"RFC3986"},Fa={default:qo.RFC3986,formatters:{RFC1738:function(t){return Ew.call(t,Pw,"+")},RFC3986:function(t){return String(t)}},RFC1738:qo.RFC1738,RFC3986:qo.RFC3986},Dw=Fa,Mo=Object.prototype.hasOwnProperty,Pr=Array.isArray,Mt=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),Nw=function(e){for(;e.length>1;){var r=e.pop(),i=r.obj[r.prop];if(Pr(i)){for(var a=[],o=0;o<i.length;++o)typeof i[o]!="undefined"&&a.push(i[o]);r.obj[r.prop]=a}}},Oh=function(e,r){for(var i=r&&r.plainObjects?Object.create(null):{},a=0;a<e.length;++a)typeof e[a]!="undefined"&&(i[a]=e[a]);return i},$w=function t(e,r,i){if(!r)return e;if(typeof r!="object"){if(Pr(e))e.push(r);else if(e&&typeof e=="object")(i&&(i.plainObjects||i.allowPrototypes)||!Mo.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var a=e;return Pr(e)&&!Pr(r)&&(a=Oh(e,i)),Pr(e)&&Pr(r)?(r.forEach(function(o,u){if(Mo.call(e,u)){var f=e[u];f&&typeof f=="object"&&o&&typeof o=="object"?e[u]=t(f,o,i):e.push(o)}else e[u]=o}),e):Object.keys(r).reduce(function(o,u){var f=r[u];return Mo.call(o,u)?o[u]=t(o[u],f,i):o[u]=f,o},a)},Fw=function(e,r){return Object.keys(r).reduce(function(i,a){return i[a]=r[a],i},e)},Lw=function(t,e,r){var i=t.replace(/\+/g," ");if(r==="iso-8859-1")return i.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(i)}catch{return i}},qw=function(e,r,i,a,o){if(e.length===0)return e;var u=e;if(typeof e=="symbol"?u=Symbol.prototype.toString.call(e):typeof e!="string"&&(u=String(e)),i==="iso-8859-1")return escape(u).replace(/%u[0-9a-f]{4}/gi,function(v){return"%26%23"+parseInt(v.slice(2),16)+"%3B"});for(var f="",l=0;l<u.length;++l){var p=u.charCodeAt(l);if(p===45||p===46||p===95||p===126||p>=48&&p<=57||p>=65&&p<=90||p>=97&&p<=122||o===Dw.RFC1738&&(p===40||p===41)){f+=u.charAt(l);continue}if(p<128){f=f+Mt[p];continue}if(p<2048){f=f+(Mt[192|p>>6]+Mt[128|p&63]);continue}if(p<55296||p>=57344){f=f+(Mt[224|p>>12]+Mt[128|p>>6&63]+Mt[128|p&63]);continue}l+=1,p=65536+((p&1023)<<10|u.charCodeAt(l)&1023),f+=Mt[240|p>>18]+Mt[128|p>>12&63]+Mt[128|p>>6&63]+Mt[128|p&63]}return f},Mw=function(e){for(var r=[{obj:{o:e},prop:"o"}],i=[],a=0;a<r.length;++a)for(var o=r[a],u=o.obj[o.prop],f=Object.keys(u),l=0;l<f.length;++l){var p=f[l],v=u[p];typeof v=="object"&&v!==null&&i.indexOf(v)===-1&&(r.push({obj:u,prop:p}),i.push(v))}return Nw(r),e},jw=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},Uw=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},Bw=function(e,r){return[].concat(e,r)},Ww=function(e,r){if(Pr(e)){for(var i=[],a=0;a<e.length;a+=1)i.push(r(e[a]));return i}return r(e)},kh={arrayToObject:Oh,assign:Fw,combine:Bw,compact:Mw,decode:Lw,encode:qw,isBuffer:Uw,isRegExp:jw,maybeMap:Ww,merge:$w},Th=_w,Xi=kh,Un=Fa,Hw=Object.prototype.hasOwnProperty,zl={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},nr=Array.isArray,Kw=Array.prototype.push,Ch=function(t,e){Kw.apply(t,nr(e)?e:[e])},Yw=Date.prototype.toISOString,Ql=Un.default,ze={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Xi.encode,encodeValuesOnly:!1,format:Ql,formatter:Un.formatters[Ql],indices:!1,serializeDate:function(e){return Yw.call(e)},skipNulls:!1,strictNullHandling:!1},Xw=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},jo={},zw=function t(e,r,i,a,o,u,f,l,p,v,C,R,D,j,Q,J){for(var G=e,Ge=J,Ae=0,He=!1;(Ge=Ge.get(jo))!==void 0&&!He;){var Se=Ge.get(e);if(Ae+=1,typeof Se!="undefined"){if(Se===Ae)throw new RangeError("Cyclic object value");He=!0}typeof Ge.get(jo)=="undefined"&&(Ae=0)}if(typeof l=="function"?G=l(r,G):G instanceof Date?G=C(G):i==="comma"&&nr(G)&&(G=Xi.maybeMap(G,function(P){return P instanceof Date?C(P):P})),G===null){if(o)return f&&!j?f(r,ze.encoder,Q,"key",R):r;G=""}if(Xw(G)||Xi.isBuffer(G)){if(f){var Le=j?r:f(r,ze.encoder,Q,"key",R);return[D(Le)+"="+D(f(G,ze.encoder,Q,"value",R))]}return[D(r)+"="+D(String(G))]}var _e=[];if(typeof G=="undefined")return _e;var Ke;if(i==="comma"&&nr(G))j&&f&&(G=Xi.maybeMap(G,f)),Ke=[{value:G.length>0?G.join(",")||null:void 0}];else if(nr(l))Ke=l;else{var ct=Object.keys(G);Ke=p?ct.sort(p):ct}for(var vt=a&&nr(G)&&G.length===1?r+"[]":r,E=0;E<Ke.length;++E){var T=Ke[E],O=typeof T=="object"&&typeof T.value!="undefined"?T.value:G[T];if(!(u&&O===null)){var w=nr(G)?typeof i=="function"?i(vt,T):vt:vt+(v?"."+T:"["+T+"]");J.set(e,Ae);var A=Th();A.set(jo,J),Ch(_e,t(O,w,i,a,o,u,i==="comma"&&j&&nr(G)?null:f,l,p,v,C,R,D,j,Q,A))}}return _e},Qw=function(e){if(!e)return ze;if(e.encoder!==null&&typeof e.encoder!="undefined"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||ze.charset;if(typeof e.charset!="undefined"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var i=Un.default;if(typeof e.format!="undefined"){if(!Hw.call(Un.formatters,e.format))throw new TypeError("Unknown format option provided.");i=e.format}var a=Un.formatters[i],o=ze.filter;return(typeof e.filter=="function"||nr(e.filter))&&(o=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:ze.addQueryPrefix,allowDots:typeof e.allowDots=="undefined"?ze.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:ze.charsetSentinel,delimiter:typeof e.delimiter=="undefined"?ze.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:ze.encode,encoder:typeof e.encoder=="function"?e.encoder:ze.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:ze.encodeValuesOnly,filter:o,format:i,formatter:a,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:ze.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:ze.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:ze.strictNullHandling}},Jw=function(t,e){var r=t,i=Qw(e),a,o;typeof i.filter=="function"?(o=i.filter,r=o("",r)):nr(i.filter)&&(o=i.filter,a=o);var u=[];if(typeof r!="object"||r===null)return"";var f;e&&e.arrayFormat in zl?f=e.arrayFormat:e&&"indices"in e?f=e.indices?"indices":"repeat":f="indices";var l=zl[f];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var p=l==="comma"&&e&&e.commaRoundTrip;a||(a=Object.keys(r)),i.sort&&a.sort(i.sort);for(var v=Th(),C=0;C<a.length;++C){var R=a[C];i.skipNulls&&r[R]===null||Ch(u,zw(r[R],R,l,p,i.strictNullHandling,i.skipNulls,i.encode?i.encoder:null,i.filter,i.sort,i.allowDots,i.serializeDate,i.format,i.formatter,i.encodeValuesOnly,i.charset,v))}var D=u.join(i.delimiter),j=i.addQueryPrefix===!0?"?":"";return i.charsetSentinel&&(i.charset==="iso-8859-1"?j+="utf8=%26%2310003%3B&":j+="utf8=%E2%9C%93&"),D.length>0?j+D:""},an=kh,ua=Object.prototype.hasOwnProperty,Gw=Array.isArray,Me={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:an.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Vw=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},Rh=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},Zw="utf8=%26%2310003%3B",e3="utf8=%E2%9C%93",t3=function(e,r){var i={__proto__:null},a=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,o=r.parameterLimit===1/0?void 0:r.parameterLimit,u=a.split(r.delimiter,o),f=-1,l,p=r.charset;if(r.charsetSentinel)for(l=0;l<u.length;++l)u[l].indexOf("utf8=")===0&&(u[l]===e3?p="utf-8":u[l]===Zw&&(p="iso-8859-1"),f=l,l=u.length);for(l=0;l<u.length;++l)if(l!==f){var v=u[l],C=v.indexOf("]="),R=C===-1?v.indexOf("="):C+1,D,j;R===-1?(D=r.decoder(v,Me.decoder,p,"key"),j=r.strictNullHandling?null:""):(D=r.decoder(v.slice(0,R),Me.decoder,p,"key"),j=an.maybeMap(Rh(v.slice(R+1),r),function(Q){return r.decoder(Q,Me.decoder,p,"value")})),j&&r.interpretNumericEntities&&p==="iso-8859-1"&&(j=Vw(j)),v.indexOf("[]=")>-1&&(j=Gw(j)?[j]:j),ua.call(i,D)?i[D]=an.combine(i[D],j):i[D]=j}return i},r3=function(t,e,r,i){for(var a=i?e:Rh(e,r),o=t.length-1;o>=0;--o){var u,f=t[o];if(f==="[]"&&r.parseArrays)u=[].concat(a);else{u=r.plainObjects?Object.create(null):{};var l=f.charAt(0)==="["&&f.charAt(f.length-1)==="]"?f.slice(1,-1):f,p=parseInt(l,10);!r.parseArrays&&l===""?u={0:a}:!isNaN(p)&&f!==l&&String(p)===l&&p>=0&&r.parseArrays&&p<=r.arrayLimit?(u=[],u[p]=a):l!=="__proto__"&&(u[l]=a)}a=u}return a},n3=function(e,r,i,a){if(!!e){var o=i.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,u=/(\[[^[\]]*])/,f=/(\[[^[\]]*])/g,l=i.depth>0&&u.exec(o),p=l?o.slice(0,l.index):o,v=[];if(p){if(!i.plainObjects&&ua.call(Object.prototype,p)&&!i.allowPrototypes)return;v.push(p)}for(var C=0;i.depth>0&&(l=f.exec(o))!==null&&C<i.depth;){if(C+=1,!i.plainObjects&&ua.call(Object.prototype,l[1].slice(1,-1))&&!i.allowPrototypes)return;v.push(l[1])}return l&&v.push("["+o.slice(l.index)+"]"),r3(v,r,i,a)}},i3=function(e){if(!e)return Me;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset!="undefined"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset=="undefined"?Me.charset:e.charset;return{allowDots:typeof e.allowDots=="undefined"?Me.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Me.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Me.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Me.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Me.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Me.comma,decoder:typeof e.decoder=="function"?e.decoder:Me.decoder,delimiter:typeof e.delimiter=="string"||an.isRegExp(e.delimiter)?e.delimiter:Me.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Me.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Me.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Me.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Me.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Me.strictNullHandling}},s3=function(t,e){var r=i3(e);if(t===""||t===null||typeof t=="undefined")return r.plainObjects?Object.create(null):{};for(var i=typeof t=="string"?t3(t,r):t,a=r.plainObjects?Object.create(null):{},o=Object.keys(i),u=0;u<o.length;++u){var f=o[u],l=n3(f,i[f],r,typeof t=="string");a=an.merge(a,l,r)}return r.allowSparse===!0?a:an.compact(a)},o3=Jw,a3=s3,c3=Fa,Uo={formats:c3,parse:a3,stringify:o3};class u3{constructor(e,r){ue(this,"axiosIns",null);ue(this,"appConfig",H);ue(this,"config",{...Tf});ue(this,"isAlreadyFetchingAccessToken",!1);ue(this,"subscribers",[]);ue(this,"socket",null);ue(this,"userStore",null);ue(this,"dataStore",null);this.axiosIns=e,this.config={...this.config,...r},this.axiosIns.interceptors.request.use(async i=>new Promise(a=>{const o=this.getToken();o&!i.url.includes("api/auth")&&(i.headers.Authorization=`Bearer ${o}`),a(i)}),i=>Promise.reject(i))}setSocket(){const e=this.getToken();e&&!this.socket&&(this.socket=Yi("http://localhost:1337",{auth:{token:e}}),this.socket.on("connect",()=>{this.socket.on("conversation:create",r=>{r.action="create",this.setConversationNotification(r)}),this.socket.on("conversation:update",r=>{r.action="update",this.setConversationNotification(r)}),this.socket.on("message:create",r=>{r.data?(r.data.action="create",this.setMessageNotification(r.data)):(r.action="create",this.setMessageNotification(r))}),this.socket.on("message:update",r=>{r.data?(r.data.action="update",this.setMessageNotification(r.data)):(r.action="update",this.setMessageNotification(r))})}))}loginLocal(e){return this.axiosIns.post("api/auth/local",e).then(r=>r.data).catch(r=>{throw r})}loginQuickbase(e){return this.axiosIns.post("api/auth/quickbase",e).then(r=>r.data).then(r=>{this.setToken(r.jwt),this.setStrapiUser(r.user,!0),this.setSocket()}).catch(r=>{throw r})}logout(){this.socket&&(this.socket.disconnect(),this.socket=null),this.removeToken()}getToken(){return Ce.get(this.config.token)}setToken(e){Ce.set(this.config.token,e,{expires:this.config.tokenExpiration,secure:!0,sameSite:"Strict"})}removeToken(){Ce.remove(this.config.token,{secure:!0,sameSite:"Strict"})}async setStrapiUser(e,r){this.userStore=this.userStore||ne(),this.userStore.setStrapiUser(e,r)}async setConversationNotification(e,r){this.dataStore=this.dataStore||rr(),this.dataStore.setConversationNotification(e)}async setMessageNotification(e,r){this.dataStore=this.dataStore||rr(),this.dataStore.setMessageNotification(e)}getConversations(e){const r=Uo.stringify(e,{arrayFormat:"brackets"});return this.axiosIns.get(`api/conversations?${r}`,e).then(i=>i.data).catch(i=>{throw i})}getConversation(e){const r=Uo.stringify({populate:{messages:{sort:"createdAt:desc"}}},{encodeValuesOnly:!0});return this.axiosIns.get(`api/conversations/${e}?${r}`).then(i=>i.data).catch(i=>{throw i})}readConversation(e){return this.axiosIns.get(`api/conversations/${e}/read`).then(r=>r.data).catch(r=>{throw r})}getMessages(e){const r=Uo.stringify(e,{arrayFormat:"brackets"});return this.axiosIns.get(`api/messages?${r}`).then(i=>i.data).catch(i=>{throw i})}sendMessage(e){return this.axiosIns.post("api/messages",e).then(r=>r.data).catch(r=>{throw r})}updateConversation(e,r){return this.axiosIns.put(`api/conversations/${e}`,r).then(i=>i.data).catch(i=>{throw i})}createConversation(e){return this.axiosIns.post("api/conversations",e).then(r=>r.data).catch(r=>{throw r})}getContacts(e){return this.axiosIns.get("api/contacts",e).then(r=>r.data).catch(r=>{throw r})}createContact(e){return this.axiosIns.post("api/contacts",e).then(r=>r.data).catch(r=>{throw r})}updateContact(e,r){return this.axiosIns.put(`api/contacts/${e}`,r).then(i=>i.data).catch(i=>{throw i})}getWorkers(e){return this.axiosIns.post("api/workday/workerss",e).then(r=>r.data).catch(r=>{throw r})}getApplicants(e){return this.axiosIns.post("api/workday/get-applicants",e).then(r=>r.data).catch(r=>{throw r})}updateQuickbaseWorker(e){return this.axiosIns.post("api/workday/update-quickbase-worker",e).then(r=>r.data).catch(r=>{throw r})}}function l3(t,e){return{strapi:new u3(t,e)}}const f3=da(pa.create({baseURL:Tf.apiDevURL,timeout:25e3,headers:{"Content-Type":"application/json"}}),{maxRequests:6,perMilliseconds:1e3}),{strapi:Dr}=l3(f3,{});var h3=cf(({app:t})=>{t.config.globalProperties.$strapi=Dr}),d2=Object.freeze(Object.defineProperty({__proto__:null,default:h3,strapi:Dr},Symbol.toStringTag,{value:"Module"})),_h={get dev(){return!1},realm:"elitehcms",appDBID:"bp3gargfh",baseURL:"https://api.quickbase.com/v1",loginEndpoint:"https://elitehcms.quickbase.com/db/main?act=API_Authenticate",appToken:"cjibuvub93rvd2dbh4iksbeft4n4",refreshEndpoint:"https://api.quickbase.com/v1/auth/temporary",queryRecords:"https://api.quickbase.com/v1/records/query",insertRecords:"https://api.quickbase.com/v1/records",updateRecords:"https://api.quickbase.com/v1/records",runReport:"https://api.quickbase.com/v1/reports",storageUserKeyName:"clm_emp_user",storageUserTicketKeyName:"clm_emp_ticket",storageIPInfoKeyName:"clm_emp_ip",storagePermissionsKeyName:"clm_emp_permissions",storageAccessKeyName:"clm_emp_access",storageOfficeLocationKeyName:"clm_emp_office",storageEmployeeKeyName:"clm_emp_employee",storageCheckInKeyName:"clm_emp_checkin",storageJobBoardKeyName:"clm_emp_jobboard",cookieExpiration:"1d",kioskExpiration:"30d",officeExpiration:"3d",checkInExpiration:"5m",tokenExpiration:"4m 45s",userToken:"b3rntv_ng3q_0_b3f26wpbjxp4xdhqrxjmdpjmvus",commonParameters:{msInUTC:0,includeRids:1,fmt:"structured",options:"num-5000"},maxLoginAttempts:5,lastAttemptExpMinutes:5,loginAttemptMinutesBeforeLast:2,booleanFields:{br26nivmr:[21]}};const Ui=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function d3(t){return g3(t)===0}function p3(t,e){return e<=6?31:e<=11||d3(t)?30:29}function g3(t){const e=Ui.length;let r=Ui[0],i,a,o,u,f;if(t<r||t>=Ui[e-1])throw new Error("Invalid Jalaali year "+t);for(f=1;f<e&&(i=Ui[f],a=i-r,!(t<i));f+=1)r=i;return u=t-r,a-u<6&&(u=u-a+m3(a+4,33)*33),o=Jl(Jl(u+1,33)-1,4),o===-1&&(o=4),o}function m3(t,e){return~~(t/e)}function Jl(t,e){return t-~~(t/e)*e}const Eh=864e5,y3=36e5,la=6e4,Ph="YYYY-MM-DDTHH:mm:ss.SSSZ",v3=/\[((?:[^\]\\]|\\]|\\)*)\]|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]/g,x3=/(\[[^\]]*\])|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]|([.*+:?^,\s${}()|\\]+)/g,Bo={};function b3(t,e){const r="("+e.days.join("|")+")",i=t+r;if(Bo[i]!==void 0)return Bo[i];const a="("+e.daysShort.join("|")+")",o="("+e.months.join("|")+")",u="("+e.monthsShort.join("|")+")",f={};let l=0;const p=t.replace(x3,C=>{switch(l++,C){case"YY":return f.YY=l,"(-?\\d{1,2})";case"YYYY":return f.YYYY=l,"(-?\\d{1,4})";case"M":return f.M=l,"(\\d{1,2})";case"MM":return f.M=l,"(\\d{2})";case"MMM":return f.MMM=l,u;case"MMMM":return f.MMMM=l,o;case"D":return f.D=l,"(\\d{1,2})";case"Do":return f.D=l++,"(\\d{1,2}(st|nd|rd|th))";case"DD":return f.D=l,"(\\d{2})";case"H":return f.H=l,"(\\d{1,2})";case"HH":return f.H=l,"(\\d{2})";case"h":return f.h=l,"(\\d{1,2})";case"hh":return f.h=l,"(\\d{2})";case"m":return f.m=l,"(\\d{1,2})";case"mm":return f.m=l,"(\\d{2})";case"s":return f.s=l,"(\\d{1,2})";case"ss":return f.s=l,"(\\d{2})";case"S":return f.S=l,"(\\d{1})";case"SS":return f.S=l,"(\\d{2})";case"SSS":return f.S=l,"(\\d{3})";case"A":return f.A=l,"(AM|PM)";case"a":return f.a=l,"(am|pm)";case"aa":return f.aa=l,"(a\\.m\\.|p\\.m\\.)";case"ddd":return a;case"dddd":return r;case"Q":case"d":case"E":return"(\\d{1})";case"Qo":return"(1st|2nd|3rd|4th)";case"DDD":case"DDDD":return"(\\d{1,3})";case"w":return"(\\d{1,2})";case"ww":return"(\\d{2})";case"Z":return f.Z=l,"(Z|[+-]\\d{2}:\\d{2})";case"ZZ":return f.ZZ=l,"(Z|[+-]\\d{2}\\d{2})";case"X":return f.X=l,"(-?\\d+)";case"x":return f.x=l,"(-?\\d{4,})";default:return l--,C[0]==="["&&(C=C.substring(1,C.length-1)),C.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}),v={map:f,regex:new RegExp("^"+p)};return Bo[i]=v,v}function Dh(t,e){return t!==void 0?t:e!==void 0?e.date:T1.date}function Gl(t,e=""){const r=t>0?"-":"+",i=Math.abs(t),a=Math.floor(i/60),o=i%60;return r+Ee(a)+e+Ee(o)}function w3(t,e,r){let i=t.getFullYear(),a=t.getMonth();const o=t.getDate();return e.year!==void 0&&(i+=r*e.year,delete e.year),e.month!==void 0&&(a+=r*e.month,delete e.month),t.setDate(1),t.setMonth(2),t.setFullYear(i),t.setMonth(a),t.setDate(Math.min(o,qa(t))),e.date!==void 0&&(t.setDate(t.getDate()+r*e.date),delete e.date),t}function A3(t,e,r){const i=e.year!==void 0?e.year:t[`get${r}FullYear`](),a=e.month!==void 0?e.month-1:t[`get${r}Month`](),o=new Date(i,a+1,0).getDate(),u=Math.min(o,e.date!==void 0?e.date:t[`get${r}Date`]());return t[`set${r}Date`](1),t[`set${r}Month`](2),t[`set${r}FullYear`](i),t[`set${r}Month`](a),t[`set${r}Date`](u),delete e.year,delete e.month,delete e.date,t}function La(t,e,r){const i=Nh(e),a=new Date(t),o=i.year!==void 0||i.month!==void 0||i.date!==void 0?w3(a,i,r):a;for(const u in i){const f=C1(u);o[`set${f}`](o[`get${f}`]()+r*i[u])}return o}function Nh(t){const e={...t};return t.years!==void 0&&(e.year=t.years,delete e.years),t.months!==void 0&&(e.month=t.months,delete e.months),t.days!==void 0&&(e.date=t.days,delete e.days),t.day!==void 0&&(e.date=t.day,delete e.day),t.hour!==void 0&&(e.hours=t.hour,delete e.hour),t.minute!==void 0&&(e.minutes=t.minute,delete e.minute),t.second!==void 0&&(e.seconds=t.second,delete e.second),t.millisecond!==void 0&&(e.milliseconds=t.millisecond,delete e.millisecond),e}function $h(t,e,r){const i=Nh(e),a=r===!0?"UTC":"",o=new Date(t),u=i.year!==void 0||i.month!==void 0||i.date!==void 0?A3(o,i,a):o;for(const f in i){const l=f.charAt(0).toUpperCase()+f.slice(1);u[`set${a}${l}`](i[f])}return u}function S3(t,e,r){const i=I3(t,e,r),a=new Date(i.year,i.month===null?null:i.month-1,i.day===null?1:i.day,i.hour,i.minute,i.second,i.millisecond),o=a.getTimezoneOffset();return i.timezoneOffset===null||i.timezoneOffset===o?a:La(a,{minutes:i.timezoneOffset-o},1)}function I3(t,e,r,i,a){const o={year:null,month:null,day:null,hour:null,minute:null,second:null,millisecond:null,timezoneOffset:null,dateHash:null,timeHash:null};if(a!==void 0&&Object.assign(o,a),t==null||t===""||typeof t!="string")return o;e===void 0&&(e=Ph);const u=Dh(r,uf.props),f=u.months,l=u.monthsShort,{regex:p,map:v}=b3(e,u),C=t.match(p);if(C===null)return o;let R="";if(v.X!==void 0||v.x!==void 0){const D=parseInt(C[v.X!==void 0?v.X:v.x],10);if(isNaN(D)===!0||D<0)return o;const j=new Date(D*(v.X!==void 0?1e3:1));o.year=j.getFullYear(),o.month=j.getMonth()+1,o.day=j.getDate(),o.hour=j.getHours(),o.minute=j.getMinutes(),o.second=j.getSeconds(),o.millisecond=j.getMilliseconds()}else{if(v.YYYY!==void 0)o.year=parseInt(C[v.YYYY],10);else if(v.YY!==void 0){const D=parseInt(C[v.YY],10);o.year=D<0?D:2e3+D}if(v.M!==void 0){if(o.month=parseInt(C[v.M],10),o.month<1||o.month>12)return o}else v.MMM!==void 0?o.month=l.indexOf(C[v.MMM])+1:v.MMMM!==void 0&&(o.month=f.indexOf(C[v.MMMM])+1);if(v.D!==void 0){if(o.day=parseInt(C[v.D],10),o.year===null||o.month===null||o.day<1)return o;const D=i!=="persian"?new Date(o.year,o.month,0).getDate():p3(o.year,o.month);if(o.day>D)return o}v.H!==void 0?o.hour=parseInt(C[v.H],10)%24:v.h!==void 0&&(o.hour=parseInt(C[v.h],10)%12,(v.A&&C[v.A]==="PM"||v.a&&C[v.a]==="pm"||v.aa&&C[v.aa]==="p.m.")&&(o.hour+=12),o.hour=o.hour%24),v.m!==void 0&&(o.minute=parseInt(C[v.m],10)%60),v.s!==void 0&&(o.second=parseInt(C[v.s],10)%60),v.S!==void 0&&(o.millisecond=parseInt(C[v.S],10)*10**(3-C[v.S].length)),(v.Z!==void 0||v.ZZ!==void 0)&&(R=v.Z!==void 0?C[v.Z].replace(":",""):C[v.ZZ],o.timezoneOffset=(R[0]==="+"?-1:1)*(60*R.slice(1,3)+1*R.slice(3,5)))}return o.dateHash=Ee(o.year,6)+"/"+Ee(o.month)+"/"+Ee(o.day),o.timeHash=Ee(o.hour)+":"+Ee(o.minute)+":"+Ee(o.second)+R,o}function O3(t){return typeof t=="number"?!0:isNaN(Date.parse(t))===!1}function k3(t,e){return $h(new Date,t,e)}function T3(t){const e=new Date(t).getDay();return e===0?7:e}function fa(t){const e=new Date(t.getFullYear(),t.getMonth(),t.getDate());e.setDate(e.getDate()-(e.getDay()+6)%7+3);const r=new Date(e.getFullYear(),0,4);r.setDate(r.getDate()-(r.getDay()+6)%7+3);const i=e.getTimezoneOffset()-r.getTimezoneOffset();e.setHours(e.getHours()-i);const a=(e-r)/(Eh*7);return 1+Math.floor(a)}function C3(t){return t.getFullYear()*1e4+t.getMonth()*100+t.getDate()}function Wo(t,e){const r=new Date(t);return e===!0?C3(r):r.getTime()}function R3(t,e,r,i={}){const a=Wo(e,i.onlyDate),o=Wo(r,i.onlyDate),u=Wo(t,i.onlyDate);return(u>a||i.inclusiveFrom===!0&&u===a)&&(u<o||i.inclusiveTo===!0&&u===o)}function _3(t,e){return La(t,e,1)}function E3(t,e){return La(t,e,-1)}function jt(t,e,r){const i=new Date(t),a=`set${r===!0?"UTC":""}`;switch(e){case"year":case"years":i[`${a}Month`](0);case"month":case"months":i[`${a}Date`](1);case"day":case"days":case"date":i[`${a}Hours`](0);case"hour":case"hours":i[`${a}Minutes`](0);case"minute":case"minutes":i[`${a}Seconds`](0);case"second":case"seconds":i[`${a}Milliseconds`](0)}return i}function P3(t,e,r){const i=new Date(t),a=`set${r===!0?"UTC":""}`;switch(e){case"year":case"years":i[`${a}Month`](11);case"month":case"months":i[`${a}Date`](qa(i));case"day":case"days":case"date":i[`${a}Hours`](23);case"hour":case"hours":i[`${a}Minutes`](59);case"minute":case"minutes":i[`${a}Seconds`](59);case"second":case"seconds":i[`${a}Milliseconds`](999)}return i}function D3(t){let e=new Date(t);return Array.prototype.slice.call(arguments,1).forEach(r=>{e=Math.max(e,new Date(r))}),e}function N3(t){let e=new Date(t);return Array.prototype.slice.call(arguments,1).forEach(r=>{e=Math.min(e,new Date(r))}),e}function Bi(t,e,r){return(t.getTime()-t.getTimezoneOffset()*la-(e.getTime()-e.getTimezoneOffset()*la))/r}function Fh(t,e,r="days"){const i=new Date(t),a=new Date(e);switch(r){case"years":case"year":return i.getFullYear()-a.getFullYear();case"months":case"month":return(i.getFullYear()-a.getFullYear())*12+i.getMonth()-a.getMonth();case"days":case"day":case"date":return Bi(jt(i,"day"),jt(a,"day"),Eh);case"hours":case"hour":return Bi(jt(i,"hour"),jt(a,"hour"),y3);case"minutes":case"minute":return Bi(jt(i,"minute"),jt(a,"minute"),la);case"seconds":case"second":return Bi(jt(i,"second"),jt(a,"second"),1e3)}}function ha(t){return Fh(t,jt(t,"year"),"days")+1}function $3(t){return lf(t)===!0?"date":typeof t=="number"?"number":"string"}function F3(t,e,r){const i=new Date(t);if(e){const a=new Date(e);if(i<a)return a}if(r){const a=new Date(r);if(i>a)return a}return i}function L3(t,e,r){const i=new Date(t),a=new Date(e);if(r===void 0)return i.getTime()===a.getTime();switch(r){case"second":case"seconds":if(i.getSeconds()!==a.getSeconds())return!1;case"minute":case"minutes":if(i.getMinutes()!==a.getMinutes())return!1;case"hour":case"hours":if(i.getHours()!==a.getHours())return!1;case"day":case"days":case"date":if(i.getDate()!==a.getDate())return!1;case"month":case"months":if(i.getMonth()!==a.getMonth())return!1;case"year":case"years":if(i.getFullYear()!==a.getFullYear())return!1;break;default:throw new Error(`date isSameDate unknown unit ${r}`)}return!0}function qa(t){return new Date(t.getFullYear(),t.getMonth()+1,0).getDate()}function Vl(t){if(t>=11&&t<=13)return`${t}th`;switch(t%10){case 1:return`${t}st`;case 2:return`${t}nd`;case 3:return`${t}rd`}return`${t}th`}const Zl={YY(t,e,r){const i=this.YYYY(t,e,r)%100;return i>=0?Ee(i):"-"+Ee(Math.abs(i))},YYYY(t,e,r){return r!=null?r:t.getFullYear()},M(t){return t.getMonth()+1},MM(t){return Ee(t.getMonth()+1)},MMM(t,e){return e.monthsShort[t.getMonth()]},MMMM(t,e){return e.months[t.getMonth()]},Q(t){return Math.ceil((t.getMonth()+1)/3)},Qo(t){return Vl(this.Q(t))},D(t){return t.getDate()},Do(t){return Vl(t.getDate())},DD(t){return Ee(t.getDate())},DDD(t){return ha(t)},DDDD(t){return Ee(ha(t),3)},d(t){return t.getDay()},dd(t,e){return this.dddd(t,e).slice(0,2)},ddd(t,e){return e.daysShort[t.getDay()]},dddd(t,e){return e.days[t.getDay()]},E(t){return t.getDay()||7},w(t){return fa(t)},ww(t){return Ee(fa(t))},H(t){return t.getHours()},HH(t){return Ee(t.getHours())},h(t){const e=t.getHours();return e===0?12:e>12?e%12:e},hh(t){return Ee(this.h(t))},m(t){return t.getMinutes()},mm(t){return Ee(t.getMinutes())},s(t){return t.getSeconds()},ss(t){return Ee(t.getSeconds())},S(t){return Math.floor(t.getMilliseconds()/100)},SS(t){return Ee(Math.floor(t.getMilliseconds()/10))},SSS(t){return Ee(t.getMilliseconds(),3)},A(t){return this.H(t)<12?"AM":"PM"},a(t){return this.H(t)<12?"am":"pm"},aa(t){return this.H(t)<12?"a.m.":"p.m."},Z(t,e,r,i){const a=i==null?t.getTimezoneOffset():i;return Gl(a,":")},ZZ(t,e,r,i){const a=i==null?t.getTimezoneOffset():i;return Gl(a)},X(t){return Math.floor(t.getTime()/1e3)},x(t){return t.getTime()}};function q3(t,e,r,i,a){if(t!==0&&!t||t===1/0||t===-1/0)return;const o=new Date(t);if(isNaN(o))return;e===void 0&&(e=Ph);const u=Dh(r,uf.props);return e.replace(v3,(f,l)=>f in Zl?Zl[f](o,u,i,a):l===void 0?f:l.split("\\]").join("]"))}function M3(t){return lf(t)===!0?new Date(t.getTime()):t}var tt={isValid:O3,extractDate:S3,buildDate:k3,getDayOfWeek:T3,getWeekOfYear:fa,isBetweenDates:R3,addToDate:_3,subtractFromDate:E3,adjustDate:$h,startOfDate:jt,endOfDate:P3,getMaxDate:D3,getMinDate:N3,getDateDiff:Fh,getDayOfYear:ha,inferDateFormat:$3,getDateBetween:F3,isSameDate:L3,daysInMonth:qa,formatDate:q3,clone:M3};const ot=yt("hiringCenter",{state:()=>({hiringCenterInfo:null}),getters:{hiringCenter:t=>t.hiringCenterInfo,hiringCenterAvailable:t=>t.hiringCenterInfo!==null},actions:{async fetchHiringCenter(t,e){const r=[{9:{value:t},7:{value:"Hiring Center"}}];if(!this.hiringCenterInfo||e){const{data:i}=await q.fetchFromStructureApp({fields:r});return this.setHiringCenter(i,!0),i}else return this.hiringCenterInfo},setHiringCenter(t,e){this.hiringCenterInfo=t,e&&t?F.setItem(H.storageHiringCenter,t):t||F.removeItem(H.storageHiringCenter)}}}),Lh=yt("boardAppStore",{state:()=>({boardApp:{},requestJobs:null,requestedTimestamp:null}),getters:{getBoardApp:t=>t.boardApp,profileData(){const{profileData:t}=br();return t},jobsForBoard(){if(this.requestJobs){const{employeeData:t}=Pe(),e=this.requestJobs;return t[3]||(e.forEach(r=>{Object.assign(r,{recommended:r[68]===t[53]&&r[69]===t[51]});const i=t[537].find(a=>a[10]===r[3]);i!==void 0&&Object.assign(r,{applied:!0,appliedOn:i[1].$d!==void 0?tt.formatDate(i[1].$d,"MM-DD-YYYY"):i[1].date})}),e.sort((r,i)=>r.recommended===i.recommended?i[1].isAfter(r[1]):r.recommended?-1:1)),e}else return[]},timeRequested(){return this.requestedTimestamp}},actions:{async getRequestJobs(){const t=[{14:{value:224},9:{value:1},8:{value:"{'17'.EX.'Open'}AND{'182'.EX.'false'}AND{'175'.EX.'true'}"},7:{value:"Table Query"},6:{value:"bpzpyqcu4"}}],{data:e}=await q.fetchFromProjectsApp({fields:t});if(e.length>0)return this.setRequestJobs(e,!0),this.requestedTimestamp=I(),e;throw"No jobs"},async applyOnBoard({job:t}){const{employeeData:e}=Pe(),{data:r}=await q.upsertRecordsXML({to:"bsfq6uktu",data:[{6:{value:e[3]},8:{value:t[56]},10:{value:t[3]},12:{value:t[61]}}],fieldsToReturn:[19],formatObject:19});if(console.log(r),r[0])return r[0][19];throw"Cannot apply"},storeBoardApp(t){this.boardApp=t},setRequestJobs(t,e){const r=t.sort((i,a)=>a[1].isAfter(i[1]));this.requestJobs=r,e&&F.setItem(H.storageJobBoardKeyName,r)}}}),Ho=[{link:"https://beis-newhire.sabacloud.com/Saba/Web_wdk/NA3P1PRD0029/index/prelogin.rdf",linkName:"BSLN",img:"https://static-na3p1.sabacloud.com/assets/s/s13cvy4thve9/common/img/favicon.ico"}],Ue=yt("kiosk",{state:()=>({kiosk:null,access:null,permissions:null,bookmarks:Ho,bookMarksOnly:!1}),getters:{getBookMarksOnly:t=>t.bookMarksOnly,getBookmarks:t=>t.bookmarks,kioskAccount:t=>t.kiosk,kioskAvailable:t=>t.kiosk!==null,kioskHiringCenter:t=>t.kiosk?t.kiosk[37]:null,hasAffirmative:t=>t.kiosk?t.kiosk.voluntaryForms.affirmative:!1,hasVets:t=>t.kiosk?t.kiosk.voluntaryForms.vets:!1,hasDisability:t=>t.kiosk?!!t.kiosk.voluntaryForms.disability:!1,goToVoluntary:t=>t.hasAffirmative||t.hasVets||t.hasDisability,availableTests:t=>t.kiosk&&t.kiosk.tests?t.kiosk.tests:[],hasTests:t=>t.kiosk&&t.kiosk.tests?t.kiosk.tests.length>0:!1,testForCraft:t=>{const{currentLang:e}=Fe(),{craftId:r}=br();let i=1;return e==="en-US"?i=1:e==="es"&&(i=2),t.kiosk&&t.kiosk.tests&&t.kiosk.tests.find(a=>a[15]===r&&a[16]===i)||!1}},actions:{async fetchKioskAccount(t,e){const r=`{'11'.EX.'${t.email}'}AND{'6'.EX.'Active'}`,i=[{7:{value:"Kiosks"},8:{value:r},9:{value:1},14:{value:30}}];if(!this.kiosk||e){const{data:a}=await q.fetchFromStructureApp({fields:i});if(a.length>0){const o=Object.assign({},a[0][37]);delete o.kiosk,a[0][37]=o,this.setKioskAccount(a[0],!0),t.ticket&&q.setKioskTicket(t.ticket),a[0][45]===!0&&this.setBookmarksOnly(!0,!0),a[0].bookmarks&&this.setBookmarks(a[0].bookmarks,!0)}return a}else return[this.kiosk]},async loginKiosk(t){const e=`{'10'.EX.'Active'}AND{'6'.EX.'${t.email}'}AND{'32'.EX.'Kiosk Profile'}`,r=[{7:{value:"User Request"},8:{value:e},9:{value:1},14:{value:77}}],{data:i}=await q.fetchFromStructureApp({fields:r}),a=[{6:{value:"login"}}];let o=await q.getIpInfo();if(o&&o.query)a[0][8]={value:o.ip?o.ip:"N/A"},a[0][10]={value:o.userAgent?o.userAgent:"N/A"},a[0][27]={value:o.continent?o.continent:"N/A"},a[0][28]={value:o.continentCode?o.continentCode:"N/A"},a[0][29]={value:o.country?o.country:"N/A"},a[0][30]={value:o.countryCode},a[0][31]={value:o.region?o.region:"N/A"},a[0][32]={value:o.regionName?o.regionName:"N/A"},a[0][33]={value:o.city?o.city:"N/A"},a[0][34]={value:o.district?o.district:"N/A"},a[0][38]={value:o.zip?o.zip:"N/A"},a[0][36]={value:o.lat?o.lat:"N/A"},a[0][37]={value:o.lon?o.lon:"N/A"},a[0][38]={value:o.timezone?o.timezone:"N/A"},a[0][39]={value:o.offset?o.offset:"N/A"},a[0][40]={value:o.isp?o.isp:"N/A"},a[0][41]={value:o.org?o.org:"N/A"},a[0][42]={value:o.as?o.as:"N/A"},a[0][43]={value:o.asname?o.asname:"N/A"},a[0][44]={value:o.mobile?o.mobile:!1},a[0][45]={value:o.proxy?o.proxy:!1},a[0][46]={value:o.hosting?o.hosting:!1},a[0][46]={value:o.hosting?o.hosting:"N/A"},a[0][47]={value:o.query?o.query:"N/A"};else{try{o=await q.fetchIpInfo()}catch{o=null}o&&o.query&&(a[0][8]={value:o.ip?o.ip:"N/A"},a[0][10]={value:o.userAgent?o.userAgent:"N/A"},a[0][27]={value:o.continent?o.continent:"N/A"},a[0][28]={value:o.continentCode?o.continentCode:"N/A"},a[0][29]={value:o.country?o.country:"N/A"},a[0][30]={value:o.countryCode},a[0][31]={value:o.region?o.region:"N/A"},a[0][32]={value:o.regionName?o.regionName:"N/A"},a[0][33]={value:o.city?o.city:"N/A"},a[0][34]={value:o.district?o.district:"N/A"},a[0][38]={value:o.zip?o.zip:"N/A"},a[0][36]={value:o.lat?o.lat:"N/A"},a[0][37]={value:o.lon?o.lon:"N/A"},a[0][38]={value:o.timezone?o.timezone:"N/A"},a[0][39]={value:o.offset?o.offset:"N/A"},a[0][40]={value:o.isp?o.isp:"N/A"},a[0][41]={value:o.org?o.org:"N/A"},a[0][42]={value:o.as?o.as:"N/A"},a[0][43]={value:o.asname?o.asname:"N/A"},a[0][44]={value:o.mobile?o.mobile:!1},a[0][45]={value:o.proxy?o.proxy:!1},a[0][46]={value:o.hosting?o.hosting:!1},a[0][47]={value:o.query?o.query:"N/A"})}if(i.length===1){const u=i[0];if(a[0][12]={value:u[3]},u[32]==="Kiosk Profile"){if(await $n.compare(t.password,u[7]))return a[0][7]={value:"Successful"},await q.addLoginAttempt(a),this.fetchKioskAccountV2(u);throw a[0][7]={value:"Invalid Password"},q.addLoginAttempt(a),{response:{data:{errtext:"Unknown username/password",errdetail:"Sorry! Something's wrong with your sign-in info. Try again."}}}}else throw a[0][7]={value:"Invalid Login"},q.addLoginAttempt(a),{response:{data:{errtext:"Unknown username/password",errdetail:"Sorry! Something's wrong with your sign-in info. Try again."}}}}else throw a[0][7]={value:"Invalid Login"},q.addLoginAttempt(a),{response:{data:{errtext:"Unknown username/password",errdetail:"Sorry! Something's wrong with your sign-in info. Try again."}}}},async fetchKioskAccountV2(t,e){const r=`{'10'.EX.'Active'}AND{'6'.EX.'${t[6]}'}AND{'32'.EX.'Kiosk Profile'}`,i=[{7:{value:"User"},8:{value:r},9:{value:t[3]},14:{value:76}}],a=await q.fetchFromStructureApp({fields:i}),{user:o,access:u,permissions:f}=a.data;if(u.length>0){const l=[];u.forEach(p=>{p[7]==="Bookmark"&&l.push(p)}),this.setBookmarks(l,!0)}return o[113]===!0&&this.setBookmarksOnly(!0,!0),o[102]&&q.setKioskTicket(o[102]),console.log("fetchKioskV2:",o,u,f),o},setKioskAccount(t,e){const{setKioskActive:r}=Fe(),{setHiringCenter:i}=ot();if(this.kiosk=t,r(!!t),e&&t)F.setItem(H.storageKioskAccount,t),r(!0),this.setLastKioskFetch();else if(!t){F.removeItem(H.storageKioskAccount),r(!1),this.removeLastKioskFetch(),i(null,e);return}if(t&&t[37]){const a=Object.assign({},t[37]);i(a,e)}},setBookmarks(t,e){let r=t||[];return r=Ho.concat(r),this.bookmarks=r,e&&t&&F.setItem(H.storageBookmarks,JSON.parse(JSON.stringify(r))),!0},setLastKioskFetch(){F.setItem(H.storageLastKioskFetch,I())},removeLastKioskFetch(){F.removeItem(H.storageLastKioskFetch)},setBookmarksFromStorage(t,e){return this.bookmarks=t,!0},setBookmarksOnly(t,e){this.bookMarksOnly=t,e&&F.setItem(H.storageBookmarksOnly,t),t||F.removeItem(H.storageBookmarksOnly)},removeBookmarks(){this.setBookmarksOnly(!1),this.kioskAvailable&&this.getBookMarksOnly&&this.setKioskAccount(null,!1),this.bookmarks=Ho,this.bookMarksOnly=!1,F.removeItem(H.storageBookmarks),F.removeItem(H.storageBookmarksOnly)}}}),br=yt("profile",{state:()=>({profile:{6:{field:"Related Employee"},15:{field:"Related Hiring Center"},19:{field:"Related Job"},23:{field:"First"},24:{field:"Middle"},25:{field:"Last"},26:{field:"Suffix"},27:{field:"Phone"},28:{field:"Email"},32:{field:"Street1"},33:{field:"Street2"},34:{field:"City"},35:{field:"State"},36:{field:"Zip"},37:{field:"Country"},38:{field:"Preferred Name"},40:{field:"Related Craft"},42:{field:"Related Experience Option"},44:{field:"Related Employment Status"},46:{field:"Related Contact Method"},49:{field:"Related Kiosk Session"},67:{field:"Related Available Language"}},voluntaryForms:{affirmative:{6:{field:"Related Kiosk Profile"},12:{field:"Related Hiring Center"},16:{field:"Related Affirmative Option (Gender)"},18:{field:"Related Job"},20:{field:"Related Affirmative Option (Ethnicity)"},22:{field:"Related Affirmative Option (Race)"},25:{field:"Related Kiosk Session"},24:{field:"Completion Timestamp"}},veterans:{6:{field:"Related Kiosk Profile"},8:{field:"Related Veteran Status Form"},10:{field:"Related Hiring Center"},16:{field:"Initials"},18:{field:"Related Kiosk Session"},17:{field:"Completion Timestamp"}},disability:{6:{field:"Completion Timestamp"},7:{field:"Name Entered"},8:{field:"Date Entered"},9:{field:"Related Kiosk Profile"},10:{field:"Related Disability Form"},15:{field:"Related Disability Form Option"},17:{field:"Related Hiring Center"},19:{field:"Related Job"},21:{field:"Related Kiosk Session"}},children:{vets:{field:"Veteran Form Selections",value:[]}}},step:0,loading:!0,completed:!1,jobBoardApplication:{},vetsSelections:null,vetsForm:null,craft:null,levelStartTest:null}),getters:{personalInfoNeeded(){const{employeeData:t}=Pe();return!(t[3]&&t[20]!==""&&t[22]!==""&&t[41]!==""&&t[43]!==""&&t[44]!==""&&t[45]!==""&&t[46]!=="")},onJobBoard(){const{getBoardApp:t}=Lh();return!(!t[3]||t[3]===void 0)},profileData:t=>t.profile,profileComplete:t=>t.completed,loadingState:t=>t.loading,proceedToTest(){const{onKiosk:t}=Fe(),{testForCraft:e}=Ue(),{employeeData:r}=Pe();return r.needsTest&&r.needsTest?t&&!!e:!1},selectedPreferencesOnProfile(){return{craft:this.profile[40],language:this.profile[67]}},experienceLevelOnProfile(){return this.profile[42].value?this.profile[42].value:null},submitProfileData(){const{employeeData:t}=Pe(),{hiringCenter:e}=ot(),r={},i=[3];for(const[a,o]of Object.entries(this.profile))o.value!==void 0&&o.value!==null&&(Object.assign(r,{[a]:{value:o.value}}),i.push(parseInt(a)));return r[6]===void 0?(Object.assign(r,{6:{value:t[3]}}),i.push(6)):r[6].value=t[3],r[15]===void 0?(Object.assign(r,{15:{value:e?e[3]:""}}),i.push(15)):r[15].value=e?e[3]:"",r[77]&&delete r[77],i.push(77),{to:"bp3gci48x",data:[r],fieldsToReturn:i}},submitDisabilityData(){const{employeeData:t}=Pe(),{hiringCenter:e}=ot(),r={},i=[];for(const[a,o]of Object.entries(this.voluntaryForms.disability))o.value!==void 0&&o.value!==null&&(Object.assign(r,{[a]:{value:o.value}}),i.push(parseInt(a)));return r[17]===void 0?(Object.assign(r,{17:{value:e?e[3]:""}}),i.push(17)):r[17].value=e?e[3]:"",this.onJobBoard?r[24]===void 0?(Object.assign(r,{24:{value:this.jobBoardApplication[3]?this.jobBoardApplication[3]:""}}),i.push(24)):r[24].value=this.jobBoardApplication[3]?this.jobBoardApplication[3]:"":r[9]===void 0?(Object.assign(r,{9:{value:this.profile[3]?this.profile[3].value:""}}),i.push(9)):r[9].value=this.profile[3]?this.profile[3].value:"",r[22]===void 0?(Object.assign(r,{22:{value:t[3]?t[3]:""}}),i.push(22)):r[22].value=t[3]?t[3]:"",{to:"bqaiuve9q",data:[r],fieldsToReturn:i}},submitAffirmativeData(){const{employeeData:t}=Pe(),{hiringCenter:e}=ot(),r={},i=[];for(const[a,o]of Object.entries(this.voluntaryForms.affirmative))o.value!==void 0&&o.value!==null&&(Object.assign(r,{[a]:{value:o.value}}),i.push(parseInt(a)));return r[12]===void 0?(Object.assign(r,{12:{value:e?e[3]:""}}),i.push(12)):r[12].value=e?e[3]:"",this.onJobBoard?r[38]===void 0?(Object.assign(r,{38:{value:this.jobBoardApplication[3]?this.jobBoardApplication[3]:""}}),i.push(38)):r[38].value=this.jobBoardApplication[3]?this.jobBoardApplication[3]:"":r[6]===void 0?(Object.assign(r,{6:{value:this.profile[3]?this.profile[3].value:""}}),i.push(6)):r[6].value=this.profile[3]?this.profile[3].value:"",r[35]===void 0?(Object.assign(r,{35:{value:t[3]?t[3]:""}}),i.push(35)):r[35].value=t[3]?t[3]:"",i.push(33),i.push(17),{to:"bp3gcmump",data:[r],fieldsToReturn:i}},async submitVeteransData(){const{employeeData:t}=Pe(),{hiringCenter:e}=ot(),r={},i=[];if(this.vetsForm){for(const[a,o]of Object.entries(this.voluntaryForms.veterans))o.value!==void 0&&o.value!==null?(Object.assign(r,{[a]:{value:o.value}}),i.push(parseInt(a))):this.vetsForm[a]&&this.vetsForm[a].value&&(Object.assign(r,{[a]:{value:this.vetsForm[a].value}}),i.push(parseInt(a)));return r[10]===void 0?(Object.assign(r,{10:{value:e?e[3]:""}}),i.push(10)):r[10].value=e?e[3]:"",this.onJobBoard?r[20]===void 0?(Object.assign(r,{20:{value:this.jobBoardApplication[3]?this.jobBoardApplication[3]:""}}),i.push(20)):r[20].value=this.jobBoardApplication[3]?this.jobBoardApplication[3]:"":r[6]===void 0?(Object.assign(r,{6:{value:this.profile[3]?this.profile[3].value:""}}),i.push(6)):r[6].value=this.profile[3]?this.profile[3].value:"",r[19]===void 0?(Object.assign(r,{19:{value:t[3]?t[3]:""}}),i.push(19)):r[19].value=t[3]?t[3]:"",i.includes(3)||i.push(3),{to:"bqamq3kr4",data:[r],fieldsToReturn:i}}else return{}},vetsFormSelections(){const t=this.vetsSelections?this.vetsSelections:[],e=[];return t.length>0&&t.forEach(r=>{const i={};for(const[a,o]of Object.entries(r))o.value!==void 0&&o.value!==null&&Object.assign(i,{[a]:{value:o.value}});i[6]===void 0?Object.assign(i,{6:{value:this.voluntaryForms.veterans[3]?this.voluntaryForms.veterans[3].value:""}}):i[6].value=this.voluntaryForms.veterans[3]?this.voluntaryForms.veterans[3].value:"",this.onJobBoard||(i[10]===void 0?Object.assign(i,{10:{value:this.profile[19]?this.profile[19].value:""}}):i[10].value=this.profile[19]?this.profile[19].value:""),e.push(i)}),{to:"bqamrfpj9",data:e,fieldsToReturn:[1,2,3,8,9]}},startLevelForTest:t=>t.levelStartTest,craftId:t=>t.craft},actions:{async submitProfileToQB(){const{updateEmployeeData:t}=Pe(),{onKiosk:e}=Fe(),{testForCraft:r}=Ue(),{hiringCenter:i}=ot();if(this.onJobBoard)return(await t({fields:{16:{value:i[3]},20:{value:this.profile[23].value===void 0?"":this.profile[23].value},21:{value:this.profile[24].value===void 0?"":this.profile[24].value},22:{value:this.profile[25].value===void 0?"":this.profile[25].value},23:{value:this.profile[26].value===void 0?"":this.profile[26].value},41:{value:this.profile[32].value===void 0?"":this.profile[32].value},42:{value:this.profile[33].value===void 0?"":this.profile[33].value},43:{value:this.profile[34].value===void 0?"":this.profile[34].value},44:{value:this.profile[35].value===void 0?"":this.profile[35].value},45:{value:this.profile[36].value===void 0?"":this.profile[36].value},46:{value:this.profile[37].value===void 0?"":this.profile[37].value},51:{value:this.profile[40].value===void 0?"":this.profile[40].value},53:{value:this.profile[42].value===void 0?"":this.profile[42].value},55:{value:this.profile[44].value===void 0?"":this.profile[44].value},57:{value:this.profile[46].value===void 0?"":this.profile[46].value}}})).needsTest&&r?(t({fields:{122:{value:7}}}),this.storeLocalForage(),this.submitProfileData):(this.storeLocalForage(),this.submitProfileData);{const{data:a}=await q.upsertRecordsXML(this.submitProfileData);if(a[0]){const o=a[0];!this.profile[3]||this.profile[3].value===void 0?Object.assign(this.profile,{3:{value:a[0][3]}}):this.profile[3].value=a[0][3],!this.profile[77]||this.profile[77].value===void 0?Object.assign(this.profile,{77:{value:a[0][77]}}):this.profile[77].value=a[0][77];const u={16:{value:i[3]},20:{value:o[23]===void 0?"":o[23]},21:{value:o[24]===void 0?"":o[24]},22:{value:o[25]===void 0?"":o[25]},23:{value:o[26]===void 0?"":o[26]},41:{value:o[32]===void 0?"":o[32]},42:{value:o[33]===void 0?"":o[33]},43:{value:o[34]===void 0?"":o[34]},44:{value:o[35]===void 0?"":o[35]},45:{value:o[36]===void 0?"":o[36]},46:{value:o[37]===void 0?"":o[37]},51:{value:o[40]===void 0?"":o[40]},53:{value:o[42]===void 0?"":o[42]},55:{value:o[44]===void 0?"":o[44]},57:{value:o[46]===void 0?"":o[46]}},f=await t({fields:u});return f[119]!==void 0&&(this.profile[77].value=f[119]==="Yes"?"No":"Yes"),this.storeLocalForage(),f.needsTest&&r&&!e&&await t({fields:{122:{value:7}}}),o}else throw"Something went wrong"}},async submitDisabilityToQB(){const{updateEmployeeFromApp:t}=Pe(),{data:e}=await q.upsertRecordsXML(this.submitDisabilityData);if(e[0])Object.assign(this.voluntaryForms.disability,{3:{value:e[0][3]}}),t({action:"push",values:this.voluntaryForms.disability,key:"disability"});else throw"Something went wrong";return this.submitDisabilityData},async submitAffirmativeToQB(){const{updateEmployeeData:t}=Pe(),{data:e}=await q.upsertRecordsXML(this.submitAffirmativeData);if(e[0]){Object.assign(this.voluntaryForms.affirmative,{3:{value:e[0][3]}});const r={406:{value:e[0][33]},380:{value:e[0][17]}};t({fields:r})}else throw"Something went wrong";return this.submitAffirmativeData},async submitVeteransToQB(){const{updateEmployeeFromApp:t}=Pe(),e=await this.submitVeteransData,{data:r}=await q.upsertRecordsXML(e);if(r[0]){if(this.voluntaryForms.veterans[3]===void 0?Object.assign(this.voluntaryForms.veterans,{3:{value:r[0][3]}}):this.voluntaryForms.veterans[3].value=r[0][3],(await q.upsertRecordsXML(this.vetsFormSelections)).data.length>0)return Object.assign(this.voluntaryForms.veterans,{selections:r}),t({action:"push",values:this.voluntaryForms.veterans,key:"vets"}),!0;throw"Cannot save vets form selections"}else throw"Cannot save veterans"},async updateProfile(t){if(this.completed=t.completed===void 0?!1:t.completed,this.step=t.next?t.next:0,t.values&&Object.entries(t.values).length>0)for(const[e,r]of Object.entries(t.values))r&&(this.profile[e]!==void 0?(this.profile[e].value=r.value?r.value:r||"",this.profile[e].label=r.label?r.label:""):Object.assign(this.profile,{[e]:{value:!r.value||r.value===void 0?!r||r===void 0?"":r:r.value,label:!r.label||r.label===void 0?"":r.label}}));return this.storeLocalForage(),this.submitProfileData},async updateVoluntaryForm(t){this.step=t.next?t.next:0;const e=this.voluntaryForms[t.type];if(t.values&&Object.entries(t.values).length>0){for(const[r,i]of Object.entries(t.values))e[r]!==void 0?Array.isArray(e[r].value)?i.value&&Array.isArray(i.value)?i.value.forEach(a=>{e[r].value.push(a)}):i&&Array.isArray(i)?i.forEach(a=>{e[r].value.push(a)}):e[r].value.push(i.value?i.value:i||""):(e[r].value=i.value?i.value:i||"",e[r].label=i.label?i.label:""):Object.assign(e,{[r]:{value:i.value?i.value:i||"",label:i.label?i.label:""}});return!0}else throw"Missing data"},async updateVetsForm({next:t,values:e,selections:r}){return this.step=t||0,this.vetsForm=e,this.vetsSelections=r,!0},async updateVetsSelections(t){this.vetsSelections=t},updateStep(t){this.step=t},dataLoaded(t){this.loading=t===void 0?!1:t},toggleLoader(t){this.loading=t},setLevelStartTest(t){this.levelStartTest=t},setCraft(t){this.craft=t},resetProfile(){this.profile={6:{field:"Related Employee"},15:{field:"Related Hiring Center"},19:{field:"Related Job"},23:{field:"First"},24:{field:"Middle"},25:{field:"Last"},26:{field:"Suffix"},27:{field:"Phone"},28:{field:"Email"},32:{field:"Street1"},33:{field:"Street2"},34:{field:"City"},35:{field:"State"},36:{field:"Zip"},37:{field:"Country"},38:{field:"Preferred Name"},40:{field:"Related Craft"},42:{field:"Related Experience Option"},44:{field:"Related Employment Status"},46:{field:"Related Contact Method"},49:{field:"Related Kiosk Session"},67:{field:"Related Available Language"}},this.step=0,this.voluntaryForms={affirmative:{6:{field:"Related Kiosk Profile"},12:{field:"Related Hiring Center"},16:{field:"Related Affirmative Option (Gender)"},18:{field:"Related Job"},20:{field:"Related Affirmative Option (Ethnicity)"},22:{field:"Related Affirmative Option (Race)"},25:{field:"Related Kiosk Session"},24:{field:"Completion Timestamp"}},veterans:{6:{field:"Related Kiosk Profile"},8:{field:"Related Veteran Status Form"},10:{field:"Related Hiring Center"},16:{field:"Initials"},18:{field:"Related Kiosk Session"},17:{field:"Completion Timestamp"}},disability:{6:{field:"Completion Timestamp"},7:{field:"Name Entered"},8:{field:"Date Entered"},9:{field:"Related Kiosk Profile"},10:{field:"Related Disability Form"},15:{field:"Related Disability Form Option"},17:{field:"Related Hiring Center"},19:{field:"Related Job"},21:{field:"Related Kiosk Session"}},children:{vets:{field:"Veteran Form Selections",value:[]}}}},setProfile(t,e){this.profile=t,e&&F.setItem(H.storageProfile,t)},setProfileStep(t,e){this.step=t,e&&F.setItem(H.storageProfileStep,t)},setVoluntaryForms(t,e){this.voluntaryForms=t,e&&F.setItem(H.storageProfileVoluntaryForms,t)},storeLocalForage(){const t=JSON.parse(JSON.stringify(this.profile)),e=JSON.parse(JSON.stringify(this.voluntaryForms));F.setItem(H.storageProfile,t),F.setItem(H.storageProfileStep,this.step),F.setItem(H.storageProfileVoluntaryForms,e)}}}),Pe=yt("employee",{state:()=>({devEmployee:{3:46},employee:{},emergencyContacts:[],history:[],training:[{3:2,6:"Security Passport",7:1,8:"Identification Credentials",11:"",20:"IDs",21:1},{3:1,6:"TWIC Card",7:1,8:"Identification Credentials",11:"",20:"IDs",21:1}],jobBoardApplications:[]}),getters:{noTasks(){return!this.checkInActive&&this.employeeData.complete&&this.voluntaryFormsComplete&&!this.showInProcess&&!this.employeeData.needsTest},employeeActive(){return this.employeeData[408]==="Active"},checkInActive(){const{checkedIn:t,checkInData:e}=Fe();return this.showInProcess||this.employeeData[79]===6||e[36]?!1:!!(this.employeeData[408]==="Active"&&t)},voluntaryFormsSubmitted(){return this.employee[3]?{disability:this.employee.disability.length>0?this.employee.disability.sort((t,e)=>t[3]>e[3]?-1:1)[0]:null,affirmative:this.employee.affirmative.length>0?this.employee.affirmative.sort((t,e)=>t[3]>e[3]?-1:1)[0]:null,vets:this.employee.vets.length>0?this.employee.vets.filter(t=>t.selections.length>0).sort((t,e)=>t[3]>e[3]?-1:1)[0]:null}:null},voluntaryFormsComplete(){return!(!this.voluntaryFormsSubmitted||!this.voluntaryFormsSubmitted.disability||!this.voluntaryFormsSubmitted.affirmative||!this.voluntaryFormsSubmitted.vets)},applicationsSubmitted:t=>t.jobBoardApplications,showInProcess(){return this.employee[519]?this.employee[519]===1:!1},showEmployment(){return this.employee[408]?this.employee[408]==="Active":!1},employeeData:t=>t.employee,employeeAvailable(){return!!this.employee[3]},offerData(){return this.employee[1516]&&!Array.isArray(this.employee[1516].offer)?this.employee[1516].offer:null},processingData(){return this.employee[1516]&&!Array.isArray(this.employee[1516].processing)?this.employee[1516].processing:null},savedEmergencyContacts(){return this.emergencyContacts},savedHistory(){const t=[];return this.employee[513]&&this.employee[513].forEach(e=>{const r=e[12]&&e[12].includes("-")?e[12].split("-"):null,i=e[13]&&e[13].includes("-")?e[13].split("-"):null,a=r?tt.buildDate({year:r[2],date:r[1],month:r[0]}):e[12],o=i?tt.buildDate({year:i[2],date:i[1],month:i[0]}):e[13];e[12]=tt.formatDate(a,"MM/DD/YYYY"),e[13]=tt.formatDate(o,"MM/DD/YYYY"),Object.assign(e,{company:{value:e[6],label:e[7]}}),Object.assign(e,{craft:{value:e[15],label:e[16]}}),t.push(e)}),t},savedTraining(){return this.training},getEmployee:t=>t.employee,socialRequired:t=>{const{getCountry:e}=Fe();return e==="CA"?!t.employee[3]||t.employee[564]===""||!t.employee[564]:!t.employee[3]||t.employee[109]===""||!t.employee[109]}},actions:{addMatrixToEmployee({data:t}){Object.assign(this.employee,{[t.key]:t.value})},async updateEmployeeData({fields:t}){if(!t)throw"No Fields Provided";t[3]===void 0&&Object.assign(t,{3:{value:this.employeeData[3]}});const{data:e}=await q.upsertRecordsXML({to:"bp3gb7ng2",fieldsToReturn:[500],data:[t],formatObject:500}),r=e[0][500];return this.setEmployee(r,!0),r},setEmployee(t,e){const{setCraft:r,setLevelStartTest:i}=br();t[507]&&(this.emergencyContacts=t[507]),t.craft&&r(t.craft),t[53]&&i(t[53]),this.employee=t,e&&F.setItem(H.storageEmployeeKeyName,t)},async removeContact(t){await q.upsertRecordsXML({to:"bruxz7dsh",data:[{3:{value:t},17:{value:!0},18:{value:new Date}}],fieldsToReturn:[3,14],formatObject:14}),this.employee[507]=this.employee[507].filter(e=>e[3]!==t)},async addContact(t){const{data:e}=await q.upsertRecordsXML({to:"bruxz7dsh",data:[{6:{value:t[6]},7:{value:t[7]},8:{value:t[16]},10:{value:this.employee[3]},11:{value:t[11]}}],fieldsToReturn:[3,14],formatObject:14});if(!e.length>0)throw"Cannot save contact";t=e[0][14],this.employee[507].push(t)},async updateContact(t){const{data:e}=await q.upsertRecordsXML({to:"bruxz7dsh",data:[{3:{value:t[3]},6:{value:t[6]},7:{value:t[7]},8:{value:t[16]},11:{value:t[11]}}],fieldsToReturn:[3,14],formatObject:14});this.employee[507].forEach((r,i)=>{r[3]===t[3]&&(this.employee[507][i]=e[0][14])})},async addHistory(t){const e={6:{value:t.company.value},10:{value:t[10]},11:{value:t[11]},12:{value:t[12]},13:{value:t[13]},15:{value:t.craft.value},34:{value:this.employeeData[3]}};this.employeeData[234]>0&&Object.assign(e,{8:{value:this.employeeData[234]}});const{data:r}=await q.upsertRecordsXML({to:"bpzpy6pj7",data:[e],fieldsToReturn:[3]});if(!r.length>0)throw"Cannot save experience";t[3]=r[0][3],t[12]=tt.formatDate(tt.addToDate(t[12],{days:1}),"MM/DD/YYYY"),t[13]=tt.formatDate(tt.addToDate(t[13],{days:1}),"MM/DD/YYYY"),this.employee[513]&&Array.isArray(this.employee[513])?this.employee[513].push(t):this.employee[513]=[t]},async updateHistory(t){const{data:e}=await q.upsertRecordsXML({to:"bpzpy6pj7",data:[{3:{value:t[3]},6:{value:t.company.value},10:{value:t[10]},11:{value:t[11]},12:{value:t[12]},13:{value:t[13]},15:{value:t.craft.value},34:{value:this.employeeData[3]}}],fieldsToReturn:[3]});if(!e.length>0)throw"Cannot save history";t[12]=tt.formatDate(tt.addToDate(t[12],{days:1}),"MM/DD/YYYY"),t[13]=tt.formatDate(tt.addToDate(t[13],{days:1}),"MM/DD/YYYY"),this.employee[513].forEach((r,i)=>{r[3]===t[3]&&(this.employee[513][i]=t)})},async removeHistory(t){const{data:e}=await q.upsertRecordsXML({to:"bpzpy6pj7",data:[{3:{value:t},32:{value:!0},33:{value:new Date}}],fieldsToReturn:[3]});if(!e.length>0)throw"Cannot save history";this.employee[513]=this.employee[513].filter(r=>r[3]!==e[0][3])},addTraining(t){this.training.push(t)},updateTraining(t){this.training.forEach((e,r)=>{e[3]===t[3]&&(this.training[r]=t)})},removeTraining(t){this.training=this.training.filter(e=>e[3]!==t)},async applyOnBoard(t){const{data:e}=await q.upsertRecordsXML({to:"bsfq6uktu",data:[{6:{value:this.employeeData[3]},8:{value:t[56]},10:{value:t[3]},12:{value:t[61]}}],fieldsToReturn:[19],formatObject:19});if(e[0])return this.employee[537].push(e[0][19]),e;throw"Cannot apply"},async acceptDeployment(t){const{data:e}=await q.upsertRecordsXML({to:"bsf2qqd63",data:[{8:{value:this.employeeData[3]},9:{value:t},6:{value:new Date},7:{value:"accept"}}],fieldsToReturn:[11],formatObject:11});if(e[0])return this.employee[1516].processing=e[0][11],e;throw"Cannot accept"},updateEmployeeFromApp({action:t,values:e,key:r}){t==="push"?this.employee[r]===void 0?Object.assign(this.employee,{[r]:e}):this.employee[r].push(e):t==="replace"&&(this.employee[r]===void 0?Object.assign(this.employee,{[r]:e}):this.employee[r]=e)}}});var Ht={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(t,e){(function(){var r,i="4.17.21",a=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",f="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",p=500,v="__lodash_placeholder__",C=1,R=2,D=4,j=1,Q=2,J=1,G=2,Ge=4,Ae=8,He=16,Se=32,Le=64,_e=128,Ke=256,ct=512,vt=30,E="...",T=800,O=16,w=1,A=2,P=3,M=1/0,V=9007199254740991,K=17976931348623157e292,se=0/0,oe=4294967295,Ie=oe-1,ut=oe>>>1,Ar=[["ary",_e],["bind",J],["bindKey",G],["curry",Ae],["curryRight",He],["flip",ct],["partial",Se],["partialRight",Le],["rearg",Ke]],lt="[object Arguments]",be="[object Array]",qh="[object AsyncFunction]",ln="[object Boolean]",fn="[object Date]",Mh="[object DOMException]",Hn="[object Error]",Kn="[object Function]",Ma="[object GeneratorFunction]",Ct="[object Map]",hn="[object Number]",jh="[object Null]",Kt="[object Object]",ja="[object Promise]",Uh="[object Proxy]",dn="[object RegExp]",Rt="[object Set]",pn="[object String]",Yn="[object Symbol]",Bh="[object Undefined]",gn="[object WeakMap]",Wh="[object WeakSet]",mn="[object ArrayBuffer]",qr="[object DataView]",as="[object Float32Array]",cs="[object Float64Array]",us="[object Int8Array]",ls="[object Int16Array]",fs="[object Int32Array]",hs="[object Uint8Array]",ds="[object Uint8ClampedArray]",ps="[object Uint16Array]",gs="[object Uint32Array]",Hh=/\b__p \+= '';/g,Kh=/\b(__p \+=) '' \+/g,Yh=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ua=/&(?:amp|lt|gt|quot|#39);/g,Ba=/[&<>"']/g,Xh=RegExp(Ua.source),zh=RegExp(Ba.source),Qh=/<%-([\s\S]+?)%>/g,Jh=/<%([\s\S]+?)%>/g,Wa=/<%=([\s\S]+?)%>/g,Gh=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Vh=/^\w*$/,Zh=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ms=/[\\^$.*+?()[\]{}|]/g,ed=RegExp(ms.source),ys=/^\s+/,td=/\s/,rd=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,nd=/\{\n\/\* \[wrapped with (.+)\] \*/,id=/,? & /,sd=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,od=/[()=,{}\[\]\/\s]/,ad=/\\(\\)?/g,cd=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ha=/\w*$/,ud=/^[-+]0x[0-9a-f]+$/i,ld=/^0b[01]+$/i,fd=/^\[object .+?Constructor\]$/,hd=/^0o[0-7]+$/i,dd=/^(?:0|[1-9]\d*)$/,pd=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Xn=/($^)/,gd=/['\n\r\u2028\u2029\\]/g,zn="\\ud800-\\udfff",md="\\u0300-\\u036f",yd="\\ufe20-\\ufe2f",vd="\\u20d0-\\u20ff",Ka=md+yd+vd,Ya="\\u2700-\\u27bf",Xa="a-z\\xdf-\\xf6\\xf8-\\xff",xd="\\xac\\xb1\\xd7\\xf7",bd="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",wd="\\u2000-\\u206f",Ad=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",za="A-Z\\xc0-\\xd6\\xd8-\\xde",Qa="\\ufe0e\\ufe0f",Ja=xd+bd+wd+Ad,vs="['\u2019]",Sd="["+zn+"]",Ga="["+Ja+"]",Qn="["+Ka+"]",Va="\\d+",Id="["+Ya+"]",Za="["+Xa+"]",ec="[^"+zn+Ja+Va+Ya+Xa+za+"]",xs="\\ud83c[\\udffb-\\udfff]",Od="(?:"+Qn+"|"+xs+")",tc="[^"+zn+"]",bs="(?:\\ud83c[\\udde6-\\uddff]){2}",ws="[\\ud800-\\udbff][\\udc00-\\udfff]",Mr="["+za+"]",rc="\\u200d",nc="(?:"+Za+"|"+ec+")",kd="(?:"+Mr+"|"+ec+")",ic="(?:"+vs+"(?:d|ll|m|re|s|t|ve))?",sc="(?:"+vs+"(?:D|LL|M|RE|S|T|VE))?",oc=Od+"?",ac="["+Qa+"]?",Td="(?:"+rc+"(?:"+[tc,bs,ws].join("|")+")"+ac+oc+")*",Cd="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Rd="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",cc=ac+oc+Td,_d="(?:"+[Id,bs,ws].join("|")+")"+cc,Ed="(?:"+[tc+Qn+"?",Qn,bs,ws,Sd].join("|")+")",Pd=RegExp(vs,"g"),Dd=RegExp(Qn,"g"),As=RegExp(xs+"(?="+xs+")|"+Ed+cc,"g"),Nd=RegExp([Mr+"?"+Za+"+"+ic+"(?="+[Ga,Mr,"$"].join("|")+")",kd+"+"+sc+"(?="+[Ga,Mr+nc,"$"].join("|")+")",Mr+"?"+nc+"+"+ic,Mr+"+"+sc,Rd,Cd,Va,_d].join("|"),"g"),$d=RegExp("["+rc+zn+Ka+Qa+"]"),Fd=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ld=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],qd=-1,ve={};ve[as]=ve[cs]=ve[us]=ve[ls]=ve[fs]=ve[hs]=ve[ds]=ve[ps]=ve[gs]=!0,ve[lt]=ve[be]=ve[mn]=ve[ln]=ve[qr]=ve[fn]=ve[Hn]=ve[Kn]=ve[Ct]=ve[hn]=ve[Kt]=ve[dn]=ve[Rt]=ve[pn]=ve[gn]=!1;var ye={};ye[lt]=ye[be]=ye[mn]=ye[qr]=ye[ln]=ye[fn]=ye[as]=ye[cs]=ye[us]=ye[ls]=ye[fs]=ye[Ct]=ye[hn]=ye[Kt]=ye[dn]=ye[Rt]=ye[pn]=ye[Yn]=ye[hs]=ye[ds]=ye[ps]=ye[gs]=!0,ye[Hn]=ye[Kn]=ye[gn]=!1;var Md={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},jd={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ud={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Bd={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Wd=parseFloat,Hd=parseInt,uc=typeof en=="object"&&en&&en.Object===Object&&en,Kd=typeof self=="object"&&self&&self.Object===Object&&self,Be=uc||Kd||Function("return this")(),Ss=e&&!e.nodeType&&e,Sr=Ss&&!0&&t&&!t.nodeType&&t,lc=Sr&&Sr.exports===Ss,Is=lc&&uc.process,xt=function(){try{var b=Sr&&Sr.require&&Sr.require("util").types;return b||Is&&Is.binding&&Is.binding("util")}catch{}}(),fc=xt&&xt.isArrayBuffer,hc=xt&&xt.isDate,dc=xt&&xt.isMap,pc=xt&&xt.isRegExp,gc=xt&&xt.isSet,mc=xt&&xt.isTypedArray;function ft(b,_,k){switch(k.length){case 0:return b.call(_);case 1:return b.call(_,k[0]);case 2:return b.call(_,k[0],k[1]);case 3:return b.call(_,k[0],k[1],k[2])}return b.apply(_,k)}function Yd(b,_,k,B){for(var Z=-1,de=b==null?0:b.length;++Z<de;){var Ne=b[Z];_(B,Ne,k(Ne),b)}return B}function bt(b,_){for(var k=-1,B=b==null?0:b.length;++k<B&&_(b[k],k,b)!==!1;);return b}function Xd(b,_){for(var k=b==null?0:b.length;k--&&_(b[k],k,b)!==!1;);return b}function yc(b,_){for(var k=-1,B=b==null?0:b.length;++k<B;)if(!_(b[k],k,b))return!1;return!0}function ir(b,_){for(var k=-1,B=b==null?0:b.length,Z=0,de=[];++k<B;){var Ne=b[k];_(Ne,k,b)&&(de[Z++]=Ne)}return de}function Jn(b,_){var k=b==null?0:b.length;return!!k&&jr(b,_,0)>-1}function Os(b,_,k){for(var B=-1,Z=b==null?0:b.length;++B<Z;)if(k(_,b[B]))return!0;return!1}function xe(b,_){for(var k=-1,B=b==null?0:b.length,Z=Array(B);++k<B;)Z[k]=_(b[k],k,b);return Z}function sr(b,_){for(var k=-1,B=_.length,Z=b.length;++k<B;)b[Z+k]=_[k];return b}function ks(b,_,k,B){var Z=-1,de=b==null?0:b.length;for(B&&de&&(k=b[++Z]);++Z<de;)k=_(k,b[Z],Z,b);return k}function zd(b,_,k,B){var Z=b==null?0:b.length;for(B&&Z&&(k=b[--Z]);Z--;)k=_(k,b[Z],Z,b);return k}function Ts(b,_){for(var k=-1,B=b==null?0:b.length;++k<B;)if(_(b[k],k,b))return!0;return!1}var Qd=Cs("length");function Jd(b){return b.split("")}function Gd(b){return b.match(sd)||[]}function vc(b,_,k){var B;return k(b,function(Z,de,Ne){if(_(Z,de,Ne))return B=de,!1}),B}function Gn(b,_,k,B){for(var Z=b.length,de=k+(B?1:-1);B?de--:++de<Z;)if(_(b[de],de,b))return de;return-1}function jr(b,_,k){return _===_?up(b,_,k):Gn(b,xc,k)}function Vd(b,_,k,B){for(var Z=k-1,de=b.length;++Z<de;)if(B(b[Z],_))return Z;return-1}function xc(b){return b!==b}function bc(b,_){var k=b==null?0:b.length;return k?_s(b,_)/k:se}function Cs(b){return function(_){return _==null?r:_[b]}}function Rs(b){return function(_){return b==null?r:b[_]}}function wc(b,_,k,B,Z){return Z(b,function(de,Ne,me){k=B?(B=!1,de):_(k,de,Ne,me)}),k}function Zd(b,_){var k=b.length;for(b.sort(_);k--;)b[k]=b[k].value;return b}function _s(b,_){for(var k,B=-1,Z=b.length;++B<Z;){var de=_(b[B]);de!==r&&(k=k===r?de:k+de)}return k}function Es(b,_){for(var k=-1,B=Array(b);++k<b;)B[k]=_(k);return B}function ep(b,_){return xe(_,function(k){return[k,b[k]]})}function Ac(b){return b&&b.slice(0,kc(b)+1).replace(ys,"")}function ht(b){return function(_){return b(_)}}function Ps(b,_){return xe(_,function(k){return b[k]})}function yn(b,_){return b.has(_)}function Sc(b,_){for(var k=-1,B=b.length;++k<B&&jr(_,b[k],0)>-1;);return k}function Ic(b,_){for(var k=b.length;k--&&jr(_,b[k],0)>-1;);return k}function tp(b,_){for(var k=b.length,B=0;k--;)b[k]===_&&++B;return B}var rp=Rs(Md),np=Rs(jd);function ip(b){return"\\"+Bd[b]}function sp(b,_){return b==null?r:b[_]}function Ur(b){return $d.test(b)}function op(b){return Fd.test(b)}function ap(b){for(var _,k=[];!(_=b.next()).done;)k.push(_.value);return k}function Ds(b){var _=-1,k=Array(b.size);return b.forEach(function(B,Z){k[++_]=[Z,B]}),k}function Oc(b,_){return function(k){return b(_(k))}}function or(b,_){for(var k=-1,B=b.length,Z=0,de=[];++k<B;){var Ne=b[k];(Ne===_||Ne===v)&&(b[k]=v,de[Z++]=k)}return de}function Vn(b){var _=-1,k=Array(b.size);return b.forEach(function(B){k[++_]=B}),k}function cp(b){var _=-1,k=Array(b.size);return b.forEach(function(B){k[++_]=[B,B]}),k}function up(b,_,k){for(var B=k-1,Z=b.length;++B<Z;)if(b[B]===_)return B;return-1}function lp(b,_,k){for(var B=k+1;B--;)if(b[B]===_)return B;return B}function Br(b){return Ur(b)?hp(b):Qd(b)}function _t(b){return Ur(b)?dp(b):Jd(b)}function kc(b){for(var _=b.length;_--&&td.test(b.charAt(_)););return _}var fp=Rs(Ud);function hp(b){for(var _=As.lastIndex=0;As.test(b);)++_;return _}function dp(b){return b.match(As)||[]}function pp(b){return b.match(Nd)||[]}var gp=function b(_){_=_==null?Be:Wr.defaults(Be.Object(),_,Wr.pick(Be,Ld));var k=_.Array,B=_.Date,Z=_.Error,de=_.Function,Ne=_.Math,me=_.Object,Ns=_.RegExp,mp=_.String,wt=_.TypeError,Zn=k.prototype,yp=de.prototype,Hr=me.prototype,ei=_["__core-js_shared__"],ti=yp.toString,ge=Hr.hasOwnProperty,vp=0,Tc=function(){var n=/[^.]+$/.exec(ei&&ei.keys&&ei.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}(),ri=Hr.toString,xp=ti.call(me),bp=Be._,wp=Ns("^"+ti.call(ge).replace(ms,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ni=lc?_.Buffer:r,ar=_.Symbol,ii=_.Uint8Array,Cc=ni?ni.allocUnsafe:r,si=Oc(me.getPrototypeOf,me),Rc=me.create,_c=Hr.propertyIsEnumerable,oi=Zn.splice,Ec=ar?ar.isConcatSpreadable:r,vn=ar?ar.iterator:r,Ir=ar?ar.toStringTag:r,ai=function(){try{var n=Rr(me,"defineProperty");return n({},"",{}),n}catch{}}(),Ap=_.clearTimeout!==Be.clearTimeout&&_.clearTimeout,Sp=B&&B.now!==Be.Date.now&&B.now,Ip=_.setTimeout!==Be.setTimeout&&_.setTimeout,ci=Ne.ceil,ui=Ne.floor,$s=me.getOwnPropertySymbols,Op=ni?ni.isBuffer:r,Pc=_.isFinite,kp=Zn.join,Tp=Oc(me.keys,me),$e=Ne.max,Ye=Ne.min,Cp=B.now,Rp=_.parseInt,Dc=Ne.random,_p=Zn.reverse,Fs=Rr(_,"DataView"),xn=Rr(_,"Map"),Ls=Rr(_,"Promise"),Kr=Rr(_,"Set"),bn=Rr(_,"WeakMap"),wn=Rr(me,"create"),li=bn&&new bn,Yr={},Ep=_r(Fs),Pp=_r(xn),Dp=_r(Ls),Np=_r(Kr),$p=_r(bn),fi=ar?ar.prototype:r,An=fi?fi.valueOf:r,Nc=fi?fi.toString:r;function g(n){if(Oe(n)&&!ee(n)&&!(n instanceof ce)){if(n instanceof At)return n;if(ge.call(n,"__wrapped__"))return $u(n)}return new At(n)}var Xr=function(){function n(){}return function(s){if(!we(s))return{};if(Rc)return Rc(s);n.prototype=s;var c=new n;return n.prototype=r,c}}();function hi(){}function At(n,s){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!s,this.__index__=0,this.__values__=r}g.templateSettings={escape:Qh,evaluate:Jh,interpolate:Wa,variable:"",imports:{_:g}},g.prototype=hi.prototype,g.prototype.constructor=g,At.prototype=Xr(hi.prototype),At.prototype.constructor=At;function ce(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=oe,this.__views__=[]}function Fp(){var n=new ce(this.__wrapped__);return n.__actions__=rt(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=rt(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=rt(this.__views__),n}function Lp(){if(this.__filtered__){var n=new ce(this);n.__dir__=-1,n.__filtered__=!0}else n=this.clone(),n.__dir__*=-1;return n}function qp(){var n=this.__wrapped__.value(),s=this.__dir__,c=ee(n),h=s<0,d=c?n.length:0,m=J0(0,d,this.__views__),y=m.start,x=m.end,S=x-y,N=h?x:y-1,$=this.__iteratees__,L=$.length,U=0,W=Ye(S,this.__takeCount__);if(!c||!h&&d==S&&W==S)return iu(n,this.__actions__);var X=[];e:for(;S--&&U<W;){N+=s;for(var re=-1,z=n[N];++re<L;){var ae=$[re],he=ae.iteratee,gt=ae.type,et=he(z);if(gt==A)z=et;else if(!et){if(gt==w)continue e;break e}}X[U++]=z}return X}ce.prototype=Xr(hi.prototype),ce.prototype.constructor=ce;function Or(n){var s=-1,c=n==null?0:n.length;for(this.clear();++s<c;){var h=n[s];this.set(h[0],h[1])}}function Mp(){this.__data__=wn?wn(null):{},this.size=0}function jp(n){var s=this.has(n)&&delete this.__data__[n];return this.size-=s?1:0,s}function Up(n){var s=this.__data__;if(wn){var c=s[n];return c===l?r:c}return ge.call(s,n)?s[n]:r}function Bp(n){var s=this.__data__;return wn?s[n]!==r:ge.call(s,n)}function Wp(n,s){var c=this.__data__;return this.size+=this.has(n)?0:1,c[n]=wn&&s===r?l:s,this}Or.prototype.clear=Mp,Or.prototype.delete=jp,Or.prototype.get=Up,Or.prototype.has=Bp,Or.prototype.set=Wp;function Yt(n){var s=-1,c=n==null?0:n.length;for(this.clear();++s<c;){var h=n[s];this.set(h[0],h[1])}}function Hp(){this.__data__=[],this.size=0}function Kp(n){var s=this.__data__,c=di(s,n);if(c<0)return!1;var h=s.length-1;return c==h?s.pop():oi.call(s,c,1),--this.size,!0}function Yp(n){var s=this.__data__,c=di(s,n);return c<0?r:s[c][1]}function Xp(n){return di(this.__data__,n)>-1}function zp(n,s){var c=this.__data__,h=di(c,n);return h<0?(++this.size,c.push([n,s])):c[h][1]=s,this}Yt.prototype.clear=Hp,Yt.prototype.delete=Kp,Yt.prototype.get=Yp,Yt.prototype.has=Xp,Yt.prototype.set=zp;function Xt(n){var s=-1,c=n==null?0:n.length;for(this.clear();++s<c;){var h=n[s];this.set(h[0],h[1])}}function Qp(){this.size=0,this.__data__={hash:new Or,map:new(xn||Yt),string:new Or}}function Jp(n){var s=Oi(this,n).delete(n);return this.size-=s?1:0,s}function Gp(n){return Oi(this,n).get(n)}function Vp(n){return Oi(this,n).has(n)}function Zp(n,s){var c=Oi(this,n),h=c.size;return c.set(n,s),this.size+=c.size==h?0:1,this}Xt.prototype.clear=Qp,Xt.prototype.delete=Jp,Xt.prototype.get=Gp,Xt.prototype.has=Vp,Xt.prototype.set=Zp;function kr(n){var s=-1,c=n==null?0:n.length;for(this.__data__=new Xt;++s<c;)this.add(n[s])}function e0(n){return this.__data__.set(n,l),this}function t0(n){return this.__data__.has(n)}kr.prototype.add=kr.prototype.push=e0,kr.prototype.has=t0;function Et(n){var s=this.__data__=new Yt(n);this.size=s.size}function r0(){this.__data__=new Yt,this.size=0}function n0(n){var s=this.__data__,c=s.delete(n);return this.size=s.size,c}function i0(n){return this.__data__.get(n)}function s0(n){return this.__data__.has(n)}function o0(n,s){var c=this.__data__;if(c instanceof Yt){var h=c.__data__;if(!xn||h.length<a-1)return h.push([n,s]),this.size=++c.size,this;c=this.__data__=new Xt(h)}return c.set(n,s),this.size=c.size,this}Et.prototype.clear=r0,Et.prototype.delete=n0,Et.prototype.get=i0,Et.prototype.has=s0,Et.prototype.set=o0;function $c(n,s){var c=ee(n),h=!c&&Er(n),d=!c&&!h&&hr(n),m=!c&&!h&&!d&&Gr(n),y=c||h||d||m,x=y?Es(n.length,mp):[],S=x.length;for(var N in n)(s||ge.call(n,N))&&!(y&&(N=="length"||d&&(N=="offset"||N=="parent")||m&&(N=="buffer"||N=="byteLength"||N=="byteOffset")||Gt(N,S)))&&x.push(N);return x}function Fc(n){var s=n.length;return s?n[zs(0,s-1)]:r}function a0(n,s){return ki(rt(n),Tr(s,0,n.length))}function c0(n){return ki(rt(n))}function qs(n,s,c){(c!==r&&!Pt(n[s],c)||c===r&&!(s in n))&&zt(n,s,c)}function Sn(n,s,c){var h=n[s];(!(ge.call(n,s)&&Pt(h,c))||c===r&&!(s in n))&&zt(n,s,c)}function di(n,s){for(var c=n.length;c--;)if(Pt(n[c][0],s))return c;return-1}function u0(n,s,c,h){return cr(n,function(d,m,y){s(h,d,c(d),y)}),h}function Lc(n,s){return n&&Lt(s,qe(s),n)}function l0(n,s){return n&&Lt(s,it(s),n)}function zt(n,s,c){s=="__proto__"&&ai?ai(n,s,{configurable:!0,enumerable:!0,value:c,writable:!0}):n[s]=c}function Ms(n,s){for(var c=-1,h=s.length,d=k(h),m=n==null;++c<h;)d[c]=m?r:bo(n,s[c]);return d}function Tr(n,s,c){return n===n&&(c!==r&&(n=n<=c?n:c),s!==r&&(n=n>=s?n:s)),n}function St(n,s,c,h,d,m){var y,x=s&C,S=s&R,N=s&D;if(c&&(y=d?c(n,h,d,m):c(n)),y!==r)return y;if(!we(n))return n;var $=ee(n);if($){if(y=V0(n),!x)return rt(n,y)}else{var L=Xe(n),U=L==Kn||L==Ma;if(hr(n))return au(n,x);if(L==Kt||L==lt||U&&!d){if(y=S||U?{}:ku(n),!x)return S?U0(n,l0(y,n)):j0(n,Lc(y,n))}else{if(!ye[L])return d?n:{};y=Z0(n,L,x)}}m||(m=new Et);var W=m.get(n);if(W)return W;m.set(n,y),tl(n)?n.forEach(function(z){y.add(St(z,s,c,z,n,m))}):Zu(n)&&n.forEach(function(z,ae){y.set(ae,St(z,s,c,ae,n,m))});var X=N?S?so:io:S?it:qe,re=$?r:X(n);return bt(re||n,function(z,ae){re&&(ae=z,z=n[ae]),Sn(y,ae,St(z,s,c,ae,n,m))}),y}function f0(n){var s=qe(n);return function(c){return qc(c,n,s)}}function qc(n,s,c){var h=c.length;if(n==null)return!h;for(n=me(n);h--;){var d=c[h],m=s[d],y=n[d];if(y===r&&!(d in n)||!m(y))return!1}return!0}function Mc(n,s,c){if(typeof n!="function")throw new wt(u);return _n(function(){n.apply(r,c)},s)}function In(n,s,c,h){var d=-1,m=Jn,y=!0,x=n.length,S=[],N=s.length;if(!x)return S;c&&(s=xe(s,ht(c))),h?(m=Os,y=!1):s.length>=a&&(m=yn,y=!1,s=new kr(s));e:for(;++d<x;){var $=n[d],L=c==null?$:c($);if($=h||$!==0?$:0,y&&L===L){for(var U=N;U--;)if(s[U]===L)continue e;S.push($)}else m(s,L,h)||S.push($)}return S}var cr=hu(Ft),jc=hu(Us,!0);function h0(n,s){var c=!0;return cr(n,function(h,d,m){return c=!!s(h,d,m),c}),c}function pi(n,s,c){for(var h=-1,d=n.length;++h<d;){var m=n[h],y=s(m);if(y!=null&&(x===r?y===y&&!pt(y):c(y,x)))var x=y,S=m}return S}function d0(n,s,c,h){var d=n.length;for(c=te(c),c<0&&(c=-c>d?0:d+c),h=h===r||h>d?d:te(h),h<0&&(h+=d),h=c>h?0:nl(h);c<h;)n[c++]=s;return n}function Uc(n,s){var c=[];return cr(n,function(h,d,m){s(h,d,m)&&c.push(h)}),c}function We(n,s,c,h,d){var m=-1,y=n.length;for(c||(c=tg),d||(d=[]);++m<y;){var x=n[m];s>0&&c(x)?s>1?We(x,s-1,c,h,d):sr(d,x):h||(d[d.length]=x)}return d}var js=du(),Bc=du(!0);function Ft(n,s){return n&&js(n,s,qe)}function Us(n,s){return n&&Bc(n,s,qe)}function gi(n,s){return ir(s,function(c){return Vt(n[c])})}function Cr(n,s){s=lr(s,n);for(var c=0,h=s.length;n!=null&&c<h;)n=n[qt(s[c++])];return c&&c==h?n:r}function Wc(n,s,c){var h=s(n);return ee(n)?h:sr(h,c(n))}function Ve(n){return n==null?n===r?Bh:jh:Ir&&Ir in me(n)?Q0(n):cg(n)}function Bs(n,s){return n>s}function p0(n,s){return n!=null&&ge.call(n,s)}function g0(n,s){return n!=null&&s in me(n)}function m0(n,s,c){return n>=Ye(s,c)&&n<$e(s,c)}function Ws(n,s,c){for(var h=c?Os:Jn,d=n[0].length,m=n.length,y=m,x=k(m),S=1/0,N=[];y--;){var $=n[y];y&&s&&($=xe($,ht(s))),S=Ye($.length,S),x[y]=!c&&(s||d>=120&&$.length>=120)?new kr(y&&$):r}$=n[0];var L=-1,U=x[0];e:for(;++L<d&&N.length<S;){var W=$[L],X=s?s(W):W;if(W=c||W!==0?W:0,!(U?yn(U,X):h(N,X,c))){for(y=m;--y;){var re=x[y];if(!(re?yn(re,X):h(n[y],X,c)))continue e}U&&U.push(X),N.push(W)}}return N}function y0(n,s,c,h){return Ft(n,function(d,m,y){s(h,c(d),m,y)}),h}function On(n,s,c){s=lr(s,n),n=_u(n,s);var h=n==null?n:n[qt(Ot(s))];return h==null?r:ft(h,n,c)}function Hc(n){return Oe(n)&&Ve(n)==lt}function v0(n){return Oe(n)&&Ve(n)==mn}function x0(n){return Oe(n)&&Ve(n)==fn}function kn(n,s,c,h,d){return n===s?!0:n==null||s==null||!Oe(n)&&!Oe(s)?n!==n&&s!==s:b0(n,s,c,h,kn,d)}function b0(n,s,c,h,d,m){var y=ee(n),x=ee(s),S=y?be:Xe(n),N=x?be:Xe(s);S=S==lt?Kt:S,N=N==lt?Kt:N;var $=S==Kt,L=N==Kt,U=S==N;if(U&&hr(n)){if(!hr(s))return!1;y=!0,$=!1}if(U&&!$)return m||(m=new Et),y||Gr(n)?Su(n,s,c,h,d,m):X0(n,s,S,c,h,d,m);if(!(c&j)){var W=$&&ge.call(n,"__wrapped__"),X=L&&ge.call(s,"__wrapped__");if(W||X){var re=W?n.value():n,z=X?s.value():s;return m||(m=new Et),d(re,z,c,h,m)}}return U?(m||(m=new Et),z0(n,s,c,h,d,m)):!1}function w0(n){return Oe(n)&&Xe(n)==Ct}function Hs(n,s,c,h){var d=c.length,m=d,y=!h;if(n==null)return!m;for(n=me(n);d--;){var x=c[d];if(y&&x[2]?x[1]!==n[x[0]]:!(x[0]in n))return!1}for(;++d<m;){x=c[d];var S=x[0],N=n[S],$=x[1];if(y&&x[2]){if(N===r&&!(S in n))return!1}else{var L=new Et;if(h)var U=h(N,$,S,n,s,L);if(!(U===r?kn($,N,j|Q,h,L):U))return!1}}return!0}function Kc(n){if(!we(n)||ng(n))return!1;var s=Vt(n)?wp:fd;return s.test(_r(n))}function A0(n){return Oe(n)&&Ve(n)==dn}function S0(n){return Oe(n)&&Xe(n)==Rt}function I0(n){return Oe(n)&&Pi(n.length)&&!!ve[Ve(n)]}function Yc(n){return typeof n=="function"?n:n==null?st:typeof n=="object"?ee(n)?Qc(n[0],n[1]):zc(n):pl(n)}function Ks(n){if(!Rn(n))return Tp(n);var s=[];for(var c in me(n))ge.call(n,c)&&c!="constructor"&&s.push(c);return s}function O0(n){if(!we(n))return ag(n);var s=Rn(n),c=[];for(var h in n)h=="constructor"&&(s||!ge.call(n,h))||c.push(h);return c}function Ys(n,s){return n<s}function Xc(n,s){var c=-1,h=nt(n)?k(n.length):[];return cr(n,function(d,m,y){h[++c]=s(d,m,y)}),h}function zc(n){var s=ao(n);return s.length==1&&s[0][2]?Cu(s[0][0],s[0][1]):function(c){return c===n||Hs(c,n,s)}}function Qc(n,s){return uo(n)&&Tu(s)?Cu(qt(n),s):function(c){var h=bo(c,n);return h===r&&h===s?wo(c,n):kn(s,h,j|Q)}}function mi(n,s,c,h,d){n!==s&&js(s,function(m,y){if(d||(d=new Et),we(m))k0(n,s,y,c,mi,h,d);else{var x=h?h(fo(n,y),m,y+"",n,s,d):r;x===r&&(x=m),qs(n,y,x)}},it)}function k0(n,s,c,h,d,m,y){var x=fo(n,c),S=fo(s,c),N=y.get(S);if(N){qs(n,c,N);return}var $=m?m(x,S,c+"",n,s,y):r,L=$===r;if(L){var U=ee(S),W=!U&&hr(S),X=!U&&!W&&Gr(S);$=S,U||W||X?ee(x)?$=x:ke(x)?$=rt(x):W?(L=!1,$=au(S,!0)):X?(L=!1,$=cu(S,!0)):$=[]:En(S)||Er(S)?($=x,Er(x)?$=il(x):(!we(x)||Vt(x))&&($=ku(S))):L=!1}L&&(y.set(S,$),d($,S,h,m,y),y.delete(S)),qs(n,c,$)}function Jc(n,s){var c=n.length;if(!!c)return s+=s<0?c:0,Gt(s,c)?n[s]:r}function Gc(n,s,c){s.length?s=xe(s,function(m){return ee(m)?function(y){return Cr(y,m.length===1?m[0]:m)}:m}):s=[st];var h=-1;s=xe(s,ht(Y()));var d=Xc(n,function(m,y,x){var S=xe(s,function(N){return N(m)});return{criteria:S,index:++h,value:m}});return Zd(d,function(m,y){return M0(m,y,c)})}function T0(n,s){return Vc(n,s,function(c,h){return wo(n,h)})}function Vc(n,s,c){for(var h=-1,d=s.length,m={};++h<d;){var y=s[h],x=Cr(n,y);c(x,y)&&Tn(m,lr(y,n),x)}return m}function C0(n){return function(s){return Cr(s,n)}}function Xs(n,s,c,h){var d=h?Vd:jr,m=-1,y=s.length,x=n;for(n===s&&(s=rt(s)),c&&(x=xe(n,ht(c)));++m<y;)for(var S=0,N=s[m],$=c?c(N):N;(S=d(x,$,S,h))>-1;)x!==n&&oi.call(x,S,1),oi.call(n,S,1);return n}function Zc(n,s){for(var c=n?s.length:0,h=c-1;c--;){var d=s[c];if(c==h||d!==m){var m=d;Gt(d)?oi.call(n,d,1):Gs(n,d)}}return n}function zs(n,s){return n+ui(Dc()*(s-n+1))}function R0(n,s,c,h){for(var d=-1,m=$e(ci((s-n)/(c||1)),0),y=k(m);m--;)y[h?m:++d]=n,n+=c;return y}function Qs(n,s){var c="";if(!n||s<1||s>V)return c;do s%2&&(c+=n),s=ui(s/2),s&&(n+=n);while(s);return c}function ie(n,s){return ho(Ru(n,s,st),n+"")}function _0(n){return Fc(Vr(n))}function E0(n,s){var c=Vr(n);return ki(c,Tr(s,0,c.length))}function Tn(n,s,c,h){if(!we(n))return n;s=lr(s,n);for(var d=-1,m=s.length,y=m-1,x=n;x!=null&&++d<m;){var S=qt(s[d]),N=c;if(S==="__proto__"||S==="constructor"||S==="prototype")return n;if(d!=y){var $=x[S];N=h?h($,S,x):r,N===r&&(N=we($)?$:Gt(s[d+1])?[]:{})}Sn(x,S,N),x=x[S]}return n}var eu=li?function(n,s){return li.set(n,s),n}:st,P0=ai?function(n,s){return ai(n,"toString",{configurable:!0,enumerable:!1,value:So(s),writable:!0})}:st;function D0(n){return ki(Vr(n))}function It(n,s,c){var h=-1,d=n.length;s<0&&(s=-s>d?0:d+s),c=c>d?d:c,c<0&&(c+=d),d=s>c?0:c-s>>>0,s>>>=0;for(var m=k(d);++h<d;)m[h]=n[h+s];return m}function N0(n,s){var c;return cr(n,function(h,d,m){return c=s(h,d,m),!c}),!!c}function yi(n,s,c){var h=0,d=n==null?h:n.length;if(typeof s=="number"&&s===s&&d<=ut){for(;h<d;){var m=h+d>>>1,y=n[m];y!==null&&!pt(y)&&(c?y<=s:y<s)?h=m+1:d=m}return d}return Js(n,s,st,c)}function Js(n,s,c,h){var d=0,m=n==null?0:n.length;if(m===0)return 0;s=c(s);for(var y=s!==s,x=s===null,S=pt(s),N=s===r;d<m;){var $=ui((d+m)/2),L=c(n[$]),U=L!==r,W=L===null,X=L===L,re=pt(L);if(y)var z=h||X;else N?z=X&&(h||U):x?z=X&&U&&(h||!W):S?z=X&&U&&!W&&(h||!re):W||re?z=!1:z=h?L<=s:L<s;z?d=$+1:m=$}return Ye(m,Ie)}function tu(n,s){for(var c=-1,h=n.length,d=0,m=[];++c<h;){var y=n[c],x=s?s(y):y;if(!c||!Pt(x,S)){var S=x;m[d++]=y===0?0:y}}return m}function ru(n){return typeof n=="number"?n:pt(n)?se:+n}function dt(n){if(typeof n=="string")return n;if(ee(n))return xe(n,dt)+"";if(pt(n))return Nc?Nc.call(n):"";var s=n+"";return s=="0"&&1/n==-M?"-0":s}function ur(n,s,c){var h=-1,d=Jn,m=n.length,y=!0,x=[],S=x;if(c)y=!1,d=Os;else if(m>=a){var N=s?null:K0(n);if(N)return Vn(N);y=!1,d=yn,S=new kr}else S=s?[]:x;e:for(;++h<m;){var $=n[h],L=s?s($):$;if($=c||$!==0?$:0,y&&L===L){for(var U=S.length;U--;)if(S[U]===L)continue e;s&&S.push(L),x.push($)}else d(S,L,c)||(S!==x&&S.push(L),x.push($))}return x}function Gs(n,s){return s=lr(s,n),n=_u(n,s),n==null||delete n[qt(Ot(s))]}function nu(n,s,c,h){return Tn(n,s,c(Cr(n,s)),h)}function vi(n,s,c,h){for(var d=n.length,m=h?d:-1;(h?m--:++m<d)&&s(n[m],m,n););return c?It(n,h?0:m,h?m+1:d):It(n,h?m+1:0,h?d:m)}function iu(n,s){var c=n;return c instanceof ce&&(c=c.value()),ks(s,function(h,d){return d.func.apply(d.thisArg,sr([h],d.args))},c)}function Vs(n,s,c){var h=n.length;if(h<2)return h?ur(n[0]):[];for(var d=-1,m=k(h);++d<h;)for(var y=n[d],x=-1;++x<h;)x!=d&&(m[d]=In(m[d]||y,n[x],s,c));return ur(We(m,1),s,c)}function su(n,s,c){for(var h=-1,d=n.length,m=s.length,y={};++h<d;){var x=h<m?s[h]:r;c(y,n[h],x)}return y}function Zs(n){return ke(n)?n:[]}function eo(n){return typeof n=="function"?n:st}function lr(n,s){return ee(n)?n:uo(n,s)?[n]:Nu(pe(n))}var $0=ie;function fr(n,s,c){var h=n.length;return c=c===r?h:c,!s&&c>=h?n:It(n,s,c)}var ou=Ap||function(n){return Be.clearTimeout(n)};function au(n,s){if(s)return n.slice();var c=n.length,h=Cc?Cc(c):new n.constructor(c);return n.copy(h),h}function to(n){var s=new n.constructor(n.byteLength);return new ii(s).set(new ii(n)),s}function F0(n,s){var c=s?to(n.buffer):n.buffer;return new n.constructor(c,n.byteOffset,n.byteLength)}function L0(n){var s=new n.constructor(n.source,Ha.exec(n));return s.lastIndex=n.lastIndex,s}function q0(n){return An?me(An.call(n)):{}}function cu(n,s){var c=s?to(n.buffer):n.buffer;return new n.constructor(c,n.byteOffset,n.length)}function uu(n,s){if(n!==s){var c=n!==r,h=n===null,d=n===n,m=pt(n),y=s!==r,x=s===null,S=s===s,N=pt(s);if(!x&&!N&&!m&&n>s||m&&y&&S&&!x&&!N||h&&y&&S||!c&&S||!d)return 1;if(!h&&!m&&!N&&n<s||N&&c&&d&&!h&&!m||x&&c&&d||!y&&d||!S)return-1}return 0}function M0(n,s,c){for(var h=-1,d=n.criteria,m=s.criteria,y=d.length,x=c.length;++h<y;){var S=uu(d[h],m[h]);if(S){if(h>=x)return S;var N=c[h];return S*(N=="desc"?-1:1)}}return n.index-s.index}function lu(n,s,c,h){for(var d=-1,m=n.length,y=c.length,x=-1,S=s.length,N=$e(m-y,0),$=k(S+N),L=!h;++x<S;)$[x]=s[x];for(;++d<y;)(L||d<m)&&($[c[d]]=n[d]);for(;N--;)$[x++]=n[d++];return $}function fu(n,s,c,h){for(var d=-1,m=n.length,y=-1,x=c.length,S=-1,N=s.length,$=$e(m-x,0),L=k($+N),U=!h;++d<$;)L[d]=n[d];for(var W=d;++S<N;)L[W+S]=s[S];for(;++y<x;)(U||d<m)&&(L[W+c[y]]=n[d++]);return L}function rt(n,s){var c=-1,h=n.length;for(s||(s=k(h));++c<h;)s[c]=n[c];return s}function Lt(n,s,c,h){var d=!c;c||(c={});for(var m=-1,y=s.length;++m<y;){var x=s[m],S=h?h(c[x],n[x],x,c,n):r;S===r&&(S=n[x]),d?zt(c,x,S):Sn(c,x,S)}return c}function j0(n,s){return Lt(n,co(n),s)}function U0(n,s){return Lt(n,Iu(n),s)}function xi(n,s){return function(c,h){var d=ee(c)?Yd:u0,m=s?s():{};return d(c,n,Y(h,2),m)}}function zr(n){return ie(function(s,c){var h=-1,d=c.length,m=d>1?c[d-1]:r,y=d>2?c[2]:r;for(m=n.length>3&&typeof m=="function"?(d--,m):r,y&&Ze(c[0],c[1],y)&&(m=d<3?r:m,d=1),s=me(s);++h<d;){var x=c[h];x&&n(s,x,h,m)}return s})}function hu(n,s){return function(c,h){if(c==null)return c;if(!nt(c))return n(c,h);for(var d=c.length,m=s?d:-1,y=me(c);(s?m--:++m<d)&&h(y[m],m,y)!==!1;);return c}}function du(n){return function(s,c,h){for(var d=-1,m=me(s),y=h(s),x=y.length;x--;){var S=y[n?x:++d];if(c(m[S],S,m)===!1)break}return s}}function B0(n,s,c){var h=s&J,d=Cn(n);function m(){var y=this&&this!==Be&&this instanceof m?d:n;return y.apply(h?c:this,arguments)}return m}function pu(n){return function(s){s=pe(s);var c=Ur(s)?_t(s):r,h=c?c[0]:s.charAt(0),d=c?fr(c,1).join(""):s.slice(1);return h[n]()+d}}function Qr(n){return function(s){return ks(hl(fl(s).replace(Pd,"")),n,"")}}function Cn(n){return function(){var s=arguments;switch(s.length){case 0:return new n;case 1:return new n(s[0]);case 2:return new n(s[0],s[1]);case 3:return new n(s[0],s[1],s[2]);case 4:return new n(s[0],s[1],s[2],s[3]);case 5:return new n(s[0],s[1],s[2],s[3],s[4]);case 6:return new n(s[0],s[1],s[2],s[3],s[4],s[5]);case 7:return new n(s[0],s[1],s[2],s[3],s[4],s[5],s[6])}var c=Xr(n.prototype),h=n.apply(c,s);return we(h)?h:c}}function W0(n,s,c){var h=Cn(n);function d(){for(var m=arguments.length,y=k(m),x=m,S=Jr(d);x--;)y[x]=arguments[x];var N=m<3&&y[0]!==S&&y[m-1]!==S?[]:or(y,S);if(m-=N.length,m<c)return xu(n,s,bi,d.placeholder,r,y,N,r,r,c-m);var $=this&&this!==Be&&this instanceof d?h:n;return ft($,this,y)}return d}function gu(n){return function(s,c,h){var d=me(s);if(!nt(s)){var m=Y(c,3);s=qe(s),c=function(x){return m(d[x],x,d)}}var y=n(s,c,h);return y>-1?d[m?s[y]:y]:r}}function mu(n){return Jt(function(s){var c=s.length,h=c,d=At.prototype.thru;for(n&&s.reverse();h--;){var m=s[h];if(typeof m!="function")throw new wt(u);if(d&&!y&&Ii(m)=="wrapper")var y=new At([],!0)}for(h=y?h:c;++h<c;){m=s[h];var x=Ii(m),S=x=="wrapper"?oo(m):r;S&&lo(S[0])&&S[1]==(_e|Ae|Se|Ke)&&!S[4].length&&S[9]==1?y=y[Ii(S[0])].apply(y,S[3]):y=m.length==1&&lo(m)?y[x]():y.thru(m)}return function(){var N=arguments,$=N[0];if(y&&N.length==1&&ee($))return y.plant($).value();for(var L=0,U=c?s[L].apply(this,N):$;++L<c;)U=s[L].call(this,U);return U}})}function bi(n,s,c,h,d,m,y,x,S,N){var $=s&_e,L=s&J,U=s&G,W=s&(Ae|He),X=s&ct,re=U?r:Cn(n);function z(){for(var ae=arguments.length,he=k(ae),gt=ae;gt--;)he[gt]=arguments[gt];if(W)var et=Jr(z),mt=tp(he,et);if(h&&(he=lu(he,h,d,W)),m&&(he=fu(he,m,y,W)),ae-=mt,W&&ae<N){var Te=or(he,et);return xu(n,s,bi,z.placeholder,c,he,Te,x,S,N-ae)}var Dt=L?c:this,er=U?Dt[n]:n;return ae=he.length,x?he=ug(he,x):X&&ae>1&&he.reverse(),$&&S<ae&&(he.length=S),this&&this!==Be&&this instanceof z&&(er=re||Cn(er)),er.apply(Dt,he)}return z}function yu(n,s){return function(c,h){return y0(c,n,s(h),{})}}function wi(n,s){return function(c,h){var d;if(c===r&&h===r)return s;if(c!==r&&(d=c),h!==r){if(d===r)return h;typeof c=="string"||typeof h=="string"?(c=dt(c),h=dt(h)):(c=ru(c),h=ru(h)),d=n(c,h)}return d}}function ro(n){return Jt(function(s){return s=xe(s,ht(Y())),ie(function(c){var h=this;return n(s,function(d){return ft(d,h,c)})})})}function Ai(n,s){s=s===r?" ":dt(s);var c=s.length;if(c<2)return c?Qs(s,n):s;var h=Qs(s,ci(n/Br(s)));return Ur(s)?fr(_t(h),0,n).join(""):h.slice(0,n)}function H0(n,s,c,h){var d=s&J,m=Cn(n);function y(){for(var x=-1,S=arguments.length,N=-1,$=h.length,L=k($+S),U=this&&this!==Be&&this instanceof y?m:n;++N<$;)L[N]=h[N];for(;S--;)L[N++]=arguments[++x];return ft(U,d?c:this,L)}return y}function vu(n){return function(s,c,h){return h&&typeof h!="number"&&Ze(s,c,h)&&(c=h=r),s=Zt(s),c===r?(c=s,s=0):c=Zt(c),h=h===r?s<c?1:-1:Zt(h),R0(s,c,h,n)}}function Si(n){return function(s,c){return typeof s=="string"&&typeof c=="string"||(s=kt(s),c=kt(c)),n(s,c)}}function xu(n,s,c,h,d,m,y,x,S,N){var $=s&Ae,L=$?y:r,U=$?r:y,W=$?m:r,X=$?r:m;s|=$?Se:Le,s&=~($?Le:Se),s&Ge||(s&=~(J|G));var re=[n,s,d,W,L,X,U,x,S,N],z=c.apply(r,re);return lo(n)&&Eu(z,re),z.placeholder=h,Pu(z,n,s)}function no(n){var s=Ne[n];return function(c,h){if(c=kt(c),h=h==null?0:Ye(te(h),292),h&&Pc(c)){var d=(pe(c)+"e").split("e"),m=s(d[0]+"e"+(+d[1]+h));return d=(pe(m)+"e").split("e"),+(d[0]+"e"+(+d[1]-h))}return s(c)}}var K0=Kr&&1/Vn(new Kr([,-0]))[1]==M?function(n){return new Kr(n)}:ko;function bu(n){return function(s){var c=Xe(s);return c==Ct?Ds(s):c==Rt?cp(s):ep(s,n(s))}}function Qt(n,s,c,h,d,m,y,x){var S=s&G;if(!S&&typeof n!="function")throw new wt(u);var N=h?h.length:0;if(N||(s&=~(Se|Le),h=d=r),y=y===r?y:$e(te(y),0),x=x===r?x:te(x),N-=d?d.length:0,s&Le){var $=h,L=d;h=d=r}var U=S?r:oo(n),W=[n,s,c,h,d,$,L,m,y,x];if(U&&og(W,U),n=W[0],s=W[1],c=W[2],h=W[3],d=W[4],x=W[9]=W[9]===r?S?0:n.length:$e(W[9]-N,0),!x&&s&(Ae|He)&&(s&=~(Ae|He)),!s||s==J)var X=B0(n,s,c);else s==Ae||s==He?X=W0(n,s,x):(s==Se||s==(J|Se))&&!d.length?X=H0(n,s,c,h):X=bi.apply(r,W);var re=U?eu:Eu;return Pu(re(X,W),n,s)}function wu(n,s,c,h){return n===r||Pt(n,Hr[c])&&!ge.call(h,c)?s:n}function Au(n,s,c,h,d,m){return we(n)&&we(s)&&(m.set(s,n),mi(n,s,r,Au,m),m.delete(s)),n}function Y0(n){return En(n)?r:n}function Su(n,s,c,h,d,m){var y=c&j,x=n.length,S=s.length;if(x!=S&&!(y&&S>x))return!1;var N=m.get(n),$=m.get(s);if(N&&$)return N==s&&$==n;var L=-1,U=!0,W=c&Q?new kr:r;for(m.set(n,s),m.set(s,n);++L<x;){var X=n[L],re=s[L];if(h)var z=y?h(re,X,L,s,n,m):h(X,re,L,n,s,m);if(z!==r){if(z)continue;U=!1;break}if(W){if(!Ts(s,function(ae,he){if(!yn(W,he)&&(X===ae||d(X,ae,c,h,m)))return W.push(he)})){U=!1;break}}else if(!(X===re||d(X,re,c,h,m))){U=!1;break}}return m.delete(n),m.delete(s),U}function X0(n,s,c,h,d,m,y){switch(c){case qr:if(n.byteLength!=s.byteLength||n.byteOffset!=s.byteOffset)return!1;n=n.buffer,s=s.buffer;case mn:return!(n.byteLength!=s.byteLength||!m(new ii(n),new ii(s)));case ln:case fn:case hn:return Pt(+n,+s);case Hn:return n.name==s.name&&n.message==s.message;case dn:case pn:return n==s+"";case Ct:var x=Ds;case Rt:var S=h&j;if(x||(x=Vn),n.size!=s.size&&!S)return!1;var N=y.get(n);if(N)return N==s;h|=Q,y.set(n,s);var $=Su(x(n),x(s),h,d,m,y);return y.delete(n),$;case Yn:if(An)return An.call(n)==An.call(s)}return!1}function z0(n,s,c,h,d,m){var y=c&j,x=io(n),S=x.length,N=io(s),$=N.length;if(S!=$&&!y)return!1;for(var L=S;L--;){var U=x[L];if(!(y?U in s:ge.call(s,U)))return!1}var W=m.get(n),X=m.get(s);if(W&&X)return W==s&&X==n;var re=!0;m.set(n,s),m.set(s,n);for(var z=y;++L<S;){U=x[L];var ae=n[U],he=s[U];if(h)var gt=y?h(he,ae,U,s,n,m):h(ae,he,U,n,s,m);if(!(gt===r?ae===he||d(ae,he,c,h,m):gt)){re=!1;break}z||(z=U=="constructor")}if(re&&!z){var et=n.constructor,mt=s.constructor;et!=mt&&"constructor"in n&&"constructor"in s&&!(typeof et=="function"&&et instanceof et&&typeof mt=="function"&&mt instanceof mt)&&(re=!1)}return m.delete(n),m.delete(s),re}function Jt(n){return ho(Ru(n,r,qu),n+"")}function io(n){return Wc(n,qe,co)}function so(n){return Wc(n,it,Iu)}var oo=li?function(n){return li.get(n)}:ko;function Ii(n){for(var s=n.name+"",c=Yr[s],h=ge.call(Yr,s)?c.length:0;h--;){var d=c[h],m=d.func;if(m==null||m==n)return d.name}return s}function Jr(n){var s=ge.call(g,"placeholder")?g:n;return s.placeholder}function Y(){var n=g.iteratee||Io;return n=n===Io?Yc:n,arguments.length?n(arguments[0],arguments[1]):n}function Oi(n,s){var c=n.__data__;return rg(s)?c[typeof s=="string"?"string":"hash"]:c.map}function ao(n){for(var s=qe(n),c=s.length;c--;){var h=s[c],d=n[h];s[c]=[h,d,Tu(d)]}return s}function Rr(n,s){var c=sp(n,s);return Kc(c)?c:r}function Q0(n){var s=ge.call(n,Ir),c=n[Ir];try{n[Ir]=r;var h=!0}catch{}var d=ri.call(n);return h&&(s?n[Ir]=c:delete n[Ir]),d}var co=$s?function(n){return n==null?[]:(n=me(n),ir($s(n),function(s){return _c.call(n,s)}))}:To,Iu=$s?function(n){for(var s=[];n;)sr(s,co(n)),n=si(n);return s}:To,Xe=Ve;(Fs&&Xe(new Fs(new ArrayBuffer(1)))!=qr||xn&&Xe(new xn)!=Ct||Ls&&Xe(Ls.resolve())!=ja||Kr&&Xe(new Kr)!=Rt||bn&&Xe(new bn)!=gn)&&(Xe=function(n){var s=Ve(n),c=s==Kt?n.constructor:r,h=c?_r(c):"";if(h)switch(h){case Ep:return qr;case Pp:return Ct;case Dp:return ja;case Np:return Rt;case $p:return gn}return s});function J0(n,s,c){for(var h=-1,d=c.length;++h<d;){var m=c[h],y=m.size;switch(m.type){case"drop":n+=y;break;case"dropRight":s-=y;break;case"take":s=Ye(s,n+y);break;case"takeRight":n=$e(n,s-y);break}}return{start:n,end:s}}function G0(n){var s=n.match(nd);return s?s[1].split(id):[]}function Ou(n,s,c){s=lr(s,n);for(var h=-1,d=s.length,m=!1;++h<d;){var y=qt(s[h]);if(!(m=n!=null&&c(n,y)))break;n=n[y]}return m||++h!=d?m:(d=n==null?0:n.length,!!d&&Pi(d)&&Gt(y,d)&&(ee(n)||Er(n)))}function V0(n){var s=n.length,c=new n.constructor(s);return s&&typeof n[0]=="string"&&ge.call(n,"index")&&(c.index=n.index,c.input=n.input),c}function ku(n){return typeof n.constructor=="function"&&!Rn(n)?Xr(si(n)):{}}function Z0(n,s,c){var h=n.constructor;switch(s){case mn:return to(n);case ln:case fn:return new h(+n);case qr:return F0(n,c);case as:case cs:case us:case ls:case fs:case hs:case ds:case ps:case gs:return cu(n,c);case Ct:return new h;case hn:case pn:return new h(n);case dn:return L0(n);case Rt:return new h;case Yn:return q0(n)}}function eg(n,s){var c=s.length;if(!c)return n;var h=c-1;return s[h]=(c>1?"& ":"")+s[h],s=s.join(c>2?", ":" "),n.replace(rd,`{
/* [wrapped with `+s+`] */
`)}function tg(n){return ee(n)||Er(n)||!!(Ec&&n&&n[Ec])}function Gt(n,s){var c=typeof n;return s=s==null?V:s,!!s&&(c=="number"||c!="symbol"&&dd.test(n))&&n>-1&&n%1==0&&n<s}function Ze(n,s,c){if(!we(c))return!1;var h=typeof s;return(h=="number"?nt(c)&&Gt(s,c.length):h=="string"&&s in c)?Pt(c[s],n):!1}function uo(n,s){if(ee(n))return!1;var c=typeof n;return c=="number"||c=="symbol"||c=="boolean"||n==null||pt(n)?!0:Vh.test(n)||!Gh.test(n)||s!=null&&n in me(s)}function rg(n){var s=typeof n;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?n!=="__proto__":n===null}function lo(n){var s=Ii(n),c=g[s];if(typeof c!="function"||!(s in ce.prototype))return!1;if(n===c)return!0;var h=oo(c);return!!h&&n===h[0]}function ng(n){return!!Tc&&Tc in n}var ig=ei?Vt:Co;function Rn(n){var s=n&&n.constructor,c=typeof s=="function"&&s.prototype||Hr;return n===c}function Tu(n){return n===n&&!we(n)}function Cu(n,s){return function(c){return c==null?!1:c[n]===s&&(s!==r||n in me(c))}}function sg(n){var s=_i(n,function(h){return c.size===p&&c.clear(),h}),c=s.cache;return s}function og(n,s){var c=n[1],h=s[1],d=c|h,m=d<(J|G|_e),y=h==_e&&c==Ae||h==_e&&c==Ke&&n[7].length<=s[8]||h==(_e|Ke)&&s[7].length<=s[8]&&c==Ae;if(!(m||y))return n;h&J&&(n[2]=s[2],d|=c&J?0:Ge);var x=s[3];if(x){var S=n[3];n[3]=S?lu(S,x,s[4]):x,n[4]=S?or(n[3],v):s[4]}return x=s[5],x&&(S=n[5],n[5]=S?fu(S,x,s[6]):x,n[6]=S?or(n[5],v):s[6]),x=s[7],x&&(n[7]=x),h&_e&&(n[8]=n[8]==null?s[8]:Ye(n[8],s[8])),n[9]==null&&(n[9]=s[9]),n[0]=s[0],n[1]=d,n}function ag(n){var s=[];if(n!=null)for(var c in me(n))s.push(c);return s}function cg(n){return ri.call(n)}function Ru(n,s,c){return s=$e(s===r?n.length-1:s,0),function(){for(var h=arguments,d=-1,m=$e(h.length-s,0),y=k(m);++d<m;)y[d]=h[s+d];d=-1;for(var x=k(s+1);++d<s;)x[d]=h[d];return x[s]=c(y),ft(n,this,x)}}function _u(n,s){return s.length<2?n:Cr(n,It(s,0,-1))}function ug(n,s){for(var c=n.length,h=Ye(s.length,c),d=rt(n);h--;){var m=s[h];n[h]=Gt(m,c)?d[m]:r}return n}function fo(n,s){if(!(s==="constructor"&&typeof n[s]=="function")&&s!="__proto__")return n[s]}var Eu=Du(eu),_n=Ip||function(n,s){return Be.setTimeout(n,s)},ho=Du(P0);function Pu(n,s,c){var h=s+"";return ho(n,eg(h,lg(G0(h),c)))}function Du(n){var s=0,c=0;return function(){var h=Cp(),d=O-(h-c);if(c=h,d>0){if(++s>=T)return arguments[0]}else s=0;return n.apply(r,arguments)}}function ki(n,s){var c=-1,h=n.length,d=h-1;for(s=s===r?h:s;++c<s;){var m=zs(c,d),y=n[m];n[m]=n[c],n[c]=y}return n.length=s,n}var Nu=sg(function(n){var s=[];return n.charCodeAt(0)===46&&s.push(""),n.replace(Zh,function(c,h,d,m){s.push(d?m.replace(ad,"$1"):h||c)}),s});function qt(n){if(typeof n=="string"||pt(n))return n;var s=n+"";return s=="0"&&1/n==-M?"-0":s}function _r(n){if(n!=null){try{return ti.call(n)}catch{}try{return n+""}catch{}}return""}function lg(n,s){return bt(Ar,function(c){var h="_."+c[0];s&c[1]&&!Jn(n,h)&&n.push(h)}),n.sort()}function $u(n){if(n instanceof ce)return n.clone();var s=new At(n.__wrapped__,n.__chain__);return s.__actions__=rt(n.__actions__),s.__index__=n.__index__,s.__values__=n.__values__,s}function fg(n,s,c){(c?Ze(n,s,c):s===r)?s=1:s=$e(te(s),0);var h=n==null?0:n.length;if(!h||s<1)return[];for(var d=0,m=0,y=k(ci(h/s));d<h;)y[m++]=It(n,d,d+=s);return y}function hg(n){for(var s=-1,c=n==null?0:n.length,h=0,d=[];++s<c;){var m=n[s];m&&(d[h++]=m)}return d}function dg(){var n=arguments.length;if(!n)return[];for(var s=k(n-1),c=arguments[0],h=n;h--;)s[h-1]=arguments[h];return sr(ee(c)?rt(c):[c],We(s,1))}var pg=ie(function(n,s){return ke(n)?In(n,We(s,1,ke,!0)):[]}),gg=ie(function(n,s){var c=Ot(s);return ke(c)&&(c=r),ke(n)?In(n,We(s,1,ke,!0),Y(c,2)):[]}),mg=ie(function(n,s){var c=Ot(s);return ke(c)&&(c=r),ke(n)?In(n,We(s,1,ke,!0),r,c):[]});function yg(n,s,c){var h=n==null?0:n.length;return h?(s=c||s===r?1:te(s),It(n,s<0?0:s,h)):[]}function vg(n,s,c){var h=n==null?0:n.length;return h?(s=c||s===r?1:te(s),s=h-s,It(n,0,s<0?0:s)):[]}function xg(n,s){return n&&n.length?vi(n,Y(s,3),!0,!0):[]}function bg(n,s){return n&&n.length?vi(n,Y(s,3),!0):[]}function wg(n,s,c,h){var d=n==null?0:n.length;return d?(c&&typeof c!="number"&&Ze(n,s,c)&&(c=0,h=d),d0(n,s,c,h)):[]}function Fu(n,s,c){var h=n==null?0:n.length;if(!h)return-1;var d=c==null?0:te(c);return d<0&&(d=$e(h+d,0)),Gn(n,Y(s,3),d)}function Lu(n,s,c){var h=n==null?0:n.length;if(!h)return-1;var d=h-1;return c!==r&&(d=te(c),d=c<0?$e(h+d,0):Ye(d,h-1)),Gn(n,Y(s,3),d,!0)}function qu(n){var s=n==null?0:n.length;return s?We(n,1):[]}function Ag(n){var s=n==null?0:n.length;return s?We(n,M):[]}function Sg(n,s){var c=n==null?0:n.length;return c?(s=s===r?1:te(s),We(n,s)):[]}function Ig(n){for(var s=-1,c=n==null?0:n.length,h={};++s<c;){var d=n[s];h[d[0]]=d[1]}return h}function Mu(n){return n&&n.length?n[0]:r}function Og(n,s,c){var h=n==null?0:n.length;if(!h)return-1;var d=c==null?0:te(c);return d<0&&(d=$e(h+d,0)),jr(n,s,d)}function kg(n){var s=n==null?0:n.length;return s?It(n,0,-1):[]}var Tg=ie(function(n){var s=xe(n,Zs);return s.length&&s[0]===n[0]?Ws(s):[]}),Cg=ie(function(n){var s=Ot(n),c=xe(n,Zs);return s===Ot(c)?s=r:c.pop(),c.length&&c[0]===n[0]?Ws(c,Y(s,2)):[]}),Rg=ie(function(n){var s=Ot(n),c=xe(n,Zs);return s=typeof s=="function"?s:r,s&&c.pop(),c.length&&c[0]===n[0]?Ws(c,r,s):[]});function _g(n,s){return n==null?"":kp.call(n,s)}function Ot(n){var s=n==null?0:n.length;return s?n[s-1]:r}function Eg(n,s,c){var h=n==null?0:n.length;if(!h)return-1;var d=h;return c!==r&&(d=te(c),d=d<0?$e(h+d,0):Ye(d,h-1)),s===s?lp(n,s,d):Gn(n,xc,d,!0)}function Pg(n,s){return n&&n.length?Jc(n,te(s)):r}var Dg=ie(ju);function ju(n,s){return n&&n.length&&s&&s.length?Xs(n,s):n}function Ng(n,s,c){return n&&n.length&&s&&s.length?Xs(n,s,Y(c,2)):n}function $g(n,s,c){return n&&n.length&&s&&s.length?Xs(n,s,r,c):n}var Fg=Jt(function(n,s){var c=n==null?0:n.length,h=Ms(n,s);return Zc(n,xe(s,function(d){return Gt(d,c)?+d:d}).sort(uu)),h});function Lg(n,s){var c=[];if(!(n&&n.length))return c;var h=-1,d=[],m=n.length;for(s=Y(s,3);++h<m;){var y=n[h];s(y,h,n)&&(c.push(y),d.push(h))}return Zc(n,d),c}function po(n){return n==null?n:_p.call(n)}function qg(n,s,c){var h=n==null?0:n.length;return h?(c&&typeof c!="number"&&Ze(n,s,c)?(s=0,c=h):(s=s==null?0:te(s),c=c===r?h:te(c)),It(n,s,c)):[]}function Mg(n,s){return yi(n,s)}function jg(n,s,c){return Js(n,s,Y(c,2))}function Ug(n,s){var c=n==null?0:n.length;if(c){var h=yi(n,s);if(h<c&&Pt(n[h],s))return h}return-1}function Bg(n,s){return yi(n,s,!0)}function Wg(n,s,c){return Js(n,s,Y(c,2),!0)}function Hg(n,s){var c=n==null?0:n.length;if(c){var h=yi(n,s,!0)-1;if(Pt(n[h],s))return h}return-1}function Kg(n){return n&&n.length?tu(n):[]}function Yg(n,s){return n&&n.length?tu(n,Y(s,2)):[]}function Xg(n){var s=n==null?0:n.length;return s?It(n,1,s):[]}function zg(n,s,c){return n&&n.length?(s=c||s===r?1:te(s),It(n,0,s<0?0:s)):[]}function Qg(n,s,c){var h=n==null?0:n.length;return h?(s=c||s===r?1:te(s),s=h-s,It(n,s<0?0:s,h)):[]}function Jg(n,s){return n&&n.length?vi(n,Y(s,3),!1,!0):[]}function Gg(n,s){return n&&n.length?vi(n,Y(s,3)):[]}var Vg=ie(function(n){return ur(We(n,1,ke,!0))}),Zg=ie(function(n){var s=Ot(n);return ke(s)&&(s=r),ur(We(n,1,ke,!0),Y(s,2))}),em=ie(function(n){var s=Ot(n);return s=typeof s=="function"?s:r,ur(We(n,1,ke,!0),r,s)});function tm(n){return n&&n.length?ur(n):[]}function rm(n,s){return n&&n.length?ur(n,Y(s,2)):[]}function nm(n,s){return s=typeof s=="function"?s:r,n&&n.length?ur(n,r,s):[]}function go(n){if(!(n&&n.length))return[];var s=0;return n=ir(n,function(c){if(ke(c))return s=$e(c.length,s),!0}),Es(s,function(c){return xe(n,Cs(c))})}function Uu(n,s){if(!(n&&n.length))return[];var c=go(n);return s==null?c:xe(c,function(h){return ft(s,r,h)})}var im=ie(function(n,s){return ke(n)?In(n,s):[]}),sm=ie(function(n){return Vs(ir(n,ke))}),om=ie(function(n){var s=Ot(n);return ke(s)&&(s=r),Vs(ir(n,ke),Y(s,2))}),am=ie(function(n){var s=Ot(n);return s=typeof s=="function"?s:r,Vs(ir(n,ke),r,s)}),cm=ie(go);function um(n,s){return su(n||[],s||[],Sn)}function lm(n,s){return su(n||[],s||[],Tn)}var fm=ie(function(n){var s=n.length,c=s>1?n[s-1]:r;return c=typeof c=="function"?(n.pop(),c):r,Uu(n,c)});function Bu(n){var s=g(n);return s.__chain__=!0,s}function hm(n,s){return s(n),n}function Ti(n,s){return s(n)}var dm=Jt(function(n){var s=n.length,c=s?n[0]:0,h=this.__wrapped__,d=function(m){return Ms(m,n)};return s>1||this.__actions__.length||!(h instanceof ce)||!Gt(c)?this.thru(d):(h=h.slice(c,+c+(s?1:0)),h.__actions__.push({func:Ti,args:[d],thisArg:r}),new At(h,this.__chain__).thru(function(m){return s&&!m.length&&m.push(r),m}))});function pm(){return Bu(this)}function gm(){return new At(this.value(),this.__chain__)}function mm(){this.__values__===r&&(this.__values__=rl(this.value()));var n=this.__index__>=this.__values__.length,s=n?r:this.__values__[this.__index__++];return{done:n,value:s}}function ym(){return this}function vm(n){for(var s,c=this;c instanceof hi;){var h=$u(c);h.__index__=0,h.__values__=r,s?d.__wrapped__=h:s=h;var d=h;c=c.__wrapped__}return d.__wrapped__=n,s}function xm(){var n=this.__wrapped__;if(n instanceof ce){var s=n;return this.__actions__.length&&(s=new ce(this)),s=s.reverse(),s.__actions__.push({func:Ti,args:[po],thisArg:r}),new At(s,this.__chain__)}return this.thru(po)}function bm(){return iu(this.__wrapped__,this.__actions__)}var wm=xi(function(n,s,c){ge.call(n,c)?++n[c]:zt(n,c,1)});function Am(n,s,c){var h=ee(n)?yc:h0;return c&&Ze(n,s,c)&&(s=r),h(n,Y(s,3))}function Sm(n,s){var c=ee(n)?ir:Uc;return c(n,Y(s,3))}var Im=gu(Fu),Om=gu(Lu);function km(n,s){return We(Ci(n,s),1)}function Tm(n,s){return We(Ci(n,s),M)}function Cm(n,s,c){return c=c===r?1:te(c),We(Ci(n,s),c)}function Wu(n,s){var c=ee(n)?bt:cr;return c(n,Y(s,3))}function Hu(n,s){var c=ee(n)?Xd:jc;return c(n,Y(s,3))}var Rm=xi(function(n,s,c){ge.call(n,c)?n[c].push(s):zt(n,c,[s])});function _m(n,s,c,h){n=nt(n)?n:Vr(n),c=c&&!h?te(c):0;var d=n.length;return c<0&&(c=$e(d+c,0)),Di(n)?c<=d&&n.indexOf(s,c)>-1:!!d&&jr(n,s,c)>-1}var Em=ie(function(n,s,c){var h=-1,d=typeof s=="function",m=nt(n)?k(n.length):[];return cr(n,function(y){m[++h]=d?ft(s,y,c):On(y,s,c)}),m}),Pm=xi(function(n,s,c){zt(n,c,s)});function Ci(n,s){var c=ee(n)?xe:Xc;return c(n,Y(s,3))}function Dm(n,s,c,h){return n==null?[]:(ee(s)||(s=s==null?[]:[s]),c=h?r:c,ee(c)||(c=c==null?[]:[c]),Gc(n,s,c))}var Nm=xi(function(n,s,c){n[c?0:1].push(s)},function(){return[[],[]]});function $m(n,s,c){var h=ee(n)?ks:wc,d=arguments.length<3;return h(n,Y(s,4),c,d,cr)}function Fm(n,s,c){var h=ee(n)?zd:wc,d=arguments.length<3;return h(n,Y(s,4),c,d,jc)}function Lm(n,s){var c=ee(n)?ir:Uc;return c(n,Ei(Y(s,3)))}function qm(n){var s=ee(n)?Fc:_0;return s(n)}function Mm(n,s,c){(c?Ze(n,s,c):s===r)?s=1:s=te(s);var h=ee(n)?a0:E0;return h(n,s)}function jm(n){var s=ee(n)?c0:D0;return s(n)}function Um(n){if(n==null)return 0;if(nt(n))return Di(n)?Br(n):n.length;var s=Xe(n);return s==Ct||s==Rt?n.size:Ks(n).length}function Bm(n,s,c){var h=ee(n)?Ts:N0;return c&&Ze(n,s,c)&&(s=r),h(n,Y(s,3))}var Wm=ie(function(n,s){if(n==null)return[];var c=s.length;return c>1&&Ze(n,s[0],s[1])?s=[]:c>2&&Ze(s[0],s[1],s[2])&&(s=[s[0]]),Gc(n,We(s,1),[])}),Ri=Sp||function(){return Be.Date.now()};function Hm(n,s){if(typeof s!="function")throw new wt(u);return n=te(n),function(){if(--n<1)return s.apply(this,arguments)}}function Ku(n,s,c){return s=c?r:s,s=n&&s==null?n.length:s,Qt(n,_e,r,r,r,r,s)}function Yu(n,s){var c;if(typeof s!="function")throw new wt(u);return n=te(n),function(){return--n>0&&(c=s.apply(this,arguments)),n<=1&&(s=r),c}}var mo=ie(function(n,s,c){var h=J;if(c.length){var d=or(c,Jr(mo));h|=Se}return Qt(n,h,s,c,d)}),Xu=ie(function(n,s,c){var h=J|G;if(c.length){var d=or(c,Jr(Xu));h|=Se}return Qt(s,h,n,c,d)});function zu(n,s,c){s=c?r:s;var h=Qt(n,Ae,r,r,r,r,r,s);return h.placeholder=zu.placeholder,h}function Qu(n,s,c){s=c?r:s;var h=Qt(n,He,r,r,r,r,r,s);return h.placeholder=Qu.placeholder,h}function Ju(n,s,c){var h,d,m,y,x,S,N=0,$=!1,L=!1,U=!0;if(typeof n!="function")throw new wt(u);s=kt(s)||0,we(c)&&($=!!c.leading,L="maxWait"in c,m=L?$e(kt(c.maxWait)||0,s):m,U="trailing"in c?!!c.trailing:U);function W(Te){var Dt=h,er=d;return h=d=r,N=Te,y=n.apply(er,Dt),y}function X(Te){return N=Te,x=_n(ae,s),$?W(Te):y}function re(Te){var Dt=Te-S,er=Te-N,gl=s-Dt;return L?Ye(gl,m-er):gl}function z(Te){var Dt=Te-S,er=Te-N;return S===r||Dt>=s||Dt<0||L&&er>=m}function ae(){var Te=Ri();if(z(Te))return he(Te);x=_n(ae,re(Te))}function he(Te){return x=r,U&&h?W(Te):(h=d=r,y)}function gt(){x!==r&&ou(x),N=0,h=S=d=x=r}function et(){return x===r?y:he(Ri())}function mt(){var Te=Ri(),Dt=z(Te);if(h=arguments,d=this,S=Te,Dt){if(x===r)return X(S);if(L)return ou(x),x=_n(ae,s),W(S)}return x===r&&(x=_n(ae,s)),y}return mt.cancel=gt,mt.flush=et,mt}var Km=ie(function(n,s){return Mc(n,1,s)}),Ym=ie(function(n,s,c){return Mc(n,kt(s)||0,c)});function Xm(n){return Qt(n,ct)}function _i(n,s){if(typeof n!="function"||s!=null&&typeof s!="function")throw new wt(u);var c=function(){var h=arguments,d=s?s.apply(this,h):h[0],m=c.cache;if(m.has(d))return m.get(d);var y=n.apply(this,h);return c.cache=m.set(d,y)||m,y};return c.cache=new(_i.Cache||Xt),c}_i.Cache=Xt;function Ei(n){if(typeof n!="function")throw new wt(u);return function(){var s=arguments;switch(s.length){case 0:return!n.call(this);case 1:return!n.call(this,s[0]);case 2:return!n.call(this,s[0],s[1]);case 3:return!n.call(this,s[0],s[1],s[2])}return!n.apply(this,s)}}function zm(n){return Yu(2,n)}var Qm=$0(function(n,s){s=s.length==1&&ee(s[0])?xe(s[0],ht(Y())):xe(We(s,1),ht(Y()));var c=s.length;return ie(function(h){for(var d=-1,m=Ye(h.length,c);++d<m;)h[d]=s[d].call(this,h[d]);return ft(n,this,h)})}),yo=ie(function(n,s){var c=or(s,Jr(yo));return Qt(n,Se,r,s,c)}),Gu=ie(function(n,s){var c=or(s,Jr(Gu));return Qt(n,Le,r,s,c)}),Jm=Jt(function(n,s){return Qt(n,Ke,r,r,r,s)});function Gm(n,s){if(typeof n!="function")throw new wt(u);return s=s===r?s:te(s),ie(n,s)}function Vm(n,s){if(typeof n!="function")throw new wt(u);return s=s==null?0:$e(te(s),0),ie(function(c){var h=c[s],d=fr(c,0,s);return h&&sr(d,h),ft(n,this,d)})}function Zm(n,s,c){var h=!0,d=!0;if(typeof n!="function")throw new wt(u);return we(c)&&(h="leading"in c?!!c.leading:h,d="trailing"in c?!!c.trailing:d),Ju(n,s,{leading:h,maxWait:s,trailing:d})}function ey(n){return Ku(n,1)}function ty(n,s){return yo(eo(s),n)}function ry(){if(!arguments.length)return[];var n=arguments[0];return ee(n)?n:[n]}function ny(n){return St(n,D)}function iy(n,s){return s=typeof s=="function"?s:r,St(n,D,s)}function sy(n){return St(n,C|D)}function oy(n,s){return s=typeof s=="function"?s:r,St(n,C|D,s)}function ay(n,s){return s==null||qc(n,s,qe(s))}function Pt(n,s){return n===s||n!==n&&s!==s}var cy=Si(Bs),uy=Si(function(n,s){return n>=s}),Er=Hc(function(){return arguments}())?Hc:function(n){return Oe(n)&&ge.call(n,"callee")&&!_c.call(n,"callee")},ee=k.isArray,ly=fc?ht(fc):v0;function nt(n){return n!=null&&Pi(n.length)&&!Vt(n)}function ke(n){return Oe(n)&&nt(n)}function fy(n){return n===!0||n===!1||Oe(n)&&Ve(n)==ln}var hr=Op||Co,hy=hc?ht(hc):x0;function dy(n){return Oe(n)&&n.nodeType===1&&!En(n)}function py(n){if(n==null)return!0;if(nt(n)&&(ee(n)||typeof n=="string"||typeof n.splice=="function"||hr(n)||Gr(n)||Er(n)))return!n.length;var s=Xe(n);if(s==Ct||s==Rt)return!n.size;if(Rn(n))return!Ks(n).length;for(var c in n)if(ge.call(n,c))return!1;return!0}function gy(n,s){return kn(n,s)}function my(n,s,c){c=typeof c=="function"?c:r;var h=c?c(n,s):r;return h===r?kn(n,s,r,c):!!h}function vo(n){if(!Oe(n))return!1;var s=Ve(n);return s==Hn||s==Mh||typeof n.message=="string"&&typeof n.name=="string"&&!En(n)}function yy(n){return typeof n=="number"&&Pc(n)}function Vt(n){if(!we(n))return!1;var s=Ve(n);return s==Kn||s==Ma||s==qh||s==Uh}function Vu(n){return typeof n=="number"&&n==te(n)}function Pi(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=V}function we(n){var s=typeof n;return n!=null&&(s=="object"||s=="function")}function Oe(n){return n!=null&&typeof n=="object"}var Zu=dc?ht(dc):w0;function vy(n,s){return n===s||Hs(n,s,ao(s))}function xy(n,s,c){return c=typeof c=="function"?c:r,Hs(n,s,ao(s),c)}function by(n){return el(n)&&n!=+n}function wy(n){if(ig(n))throw new Z(o);return Kc(n)}function Ay(n){return n===null}function Sy(n){return n==null}function el(n){return typeof n=="number"||Oe(n)&&Ve(n)==hn}function En(n){if(!Oe(n)||Ve(n)!=Kt)return!1;var s=si(n);if(s===null)return!0;var c=ge.call(s,"constructor")&&s.constructor;return typeof c=="function"&&c instanceof c&&ti.call(c)==xp}var xo=pc?ht(pc):A0;function Iy(n){return Vu(n)&&n>=-V&&n<=V}var tl=gc?ht(gc):S0;function Di(n){return typeof n=="string"||!ee(n)&&Oe(n)&&Ve(n)==pn}function pt(n){return typeof n=="symbol"||Oe(n)&&Ve(n)==Yn}var Gr=mc?ht(mc):I0;function Oy(n){return n===r}function ky(n){return Oe(n)&&Xe(n)==gn}function Ty(n){return Oe(n)&&Ve(n)==Wh}var Cy=Si(Ys),Ry=Si(function(n,s){return n<=s});function rl(n){if(!n)return[];if(nt(n))return Di(n)?_t(n):rt(n);if(vn&&n[vn])return ap(n[vn]());var s=Xe(n),c=s==Ct?Ds:s==Rt?Vn:Vr;return c(n)}function Zt(n){if(!n)return n===0?n:0;if(n=kt(n),n===M||n===-M){var s=n<0?-1:1;return s*K}return n===n?n:0}function te(n){var s=Zt(n),c=s%1;return s===s?c?s-c:s:0}function nl(n){return n?Tr(te(n),0,oe):0}function kt(n){if(typeof n=="number")return n;if(pt(n))return se;if(we(n)){var s=typeof n.valueOf=="function"?n.valueOf():n;n=we(s)?s+"":s}if(typeof n!="string")return n===0?n:+n;n=Ac(n);var c=ld.test(n);return c||hd.test(n)?Hd(n.slice(2),c?2:8):ud.test(n)?se:+n}function il(n){return Lt(n,it(n))}function _y(n){return n?Tr(te(n),-V,V):n===0?n:0}function pe(n){return n==null?"":dt(n)}var Ey=zr(function(n,s){if(Rn(s)||nt(s)){Lt(s,qe(s),n);return}for(var c in s)ge.call(s,c)&&Sn(n,c,s[c])}),sl=zr(function(n,s){Lt(s,it(s),n)}),Ni=zr(function(n,s,c,h){Lt(s,it(s),n,h)}),Py=zr(function(n,s,c,h){Lt(s,qe(s),n,h)}),Dy=Jt(Ms);function Ny(n,s){var c=Xr(n);return s==null?c:Lc(c,s)}var $y=ie(function(n,s){n=me(n);var c=-1,h=s.length,d=h>2?s[2]:r;for(d&&Ze(s[0],s[1],d)&&(h=1);++c<h;)for(var m=s[c],y=it(m),x=-1,S=y.length;++x<S;){var N=y[x],$=n[N];($===r||Pt($,Hr[N])&&!ge.call(n,N))&&(n[N]=m[N])}return n}),Fy=ie(function(n){return n.push(r,Au),ft(ol,r,n)});function Ly(n,s){return vc(n,Y(s,3),Ft)}function qy(n,s){return vc(n,Y(s,3),Us)}function My(n,s){return n==null?n:js(n,Y(s,3),it)}function jy(n,s){return n==null?n:Bc(n,Y(s,3),it)}function Uy(n,s){return n&&Ft(n,Y(s,3))}function By(n,s){return n&&Us(n,Y(s,3))}function Wy(n){return n==null?[]:gi(n,qe(n))}function Hy(n){return n==null?[]:gi(n,it(n))}function bo(n,s,c){var h=n==null?r:Cr(n,s);return h===r?c:h}function Ky(n,s){return n!=null&&Ou(n,s,p0)}function wo(n,s){return n!=null&&Ou(n,s,g0)}var Yy=yu(function(n,s,c){s!=null&&typeof s.toString!="function"&&(s=ri.call(s)),n[s]=c},So(st)),Xy=yu(function(n,s,c){s!=null&&typeof s.toString!="function"&&(s=ri.call(s)),ge.call(n,s)?n[s].push(c):n[s]=[c]},Y),zy=ie(On);function qe(n){return nt(n)?$c(n):Ks(n)}function it(n){return nt(n)?$c(n,!0):O0(n)}function Qy(n,s){var c={};return s=Y(s,3),Ft(n,function(h,d,m){zt(c,s(h,d,m),h)}),c}function Jy(n,s){var c={};return s=Y(s,3),Ft(n,function(h,d,m){zt(c,d,s(h,d,m))}),c}var Gy=zr(function(n,s,c){mi(n,s,c)}),ol=zr(function(n,s,c,h){mi(n,s,c,h)}),Vy=Jt(function(n,s){var c={};if(n==null)return c;var h=!1;s=xe(s,function(m){return m=lr(m,n),h||(h=m.length>1),m}),Lt(n,so(n),c),h&&(c=St(c,C|R|D,Y0));for(var d=s.length;d--;)Gs(c,s[d]);return c});function Zy(n,s){return al(n,Ei(Y(s)))}var ev=Jt(function(n,s){return n==null?{}:T0(n,s)});function al(n,s){if(n==null)return{};var c=xe(so(n),function(h){return[h]});return s=Y(s),Vc(n,c,function(h,d){return s(h,d[0])})}function tv(n,s,c){s=lr(s,n);var h=-1,d=s.length;for(d||(d=1,n=r);++h<d;){var m=n==null?r:n[qt(s[h])];m===r&&(h=d,m=c),n=Vt(m)?m.call(n):m}return n}function rv(n,s,c){return n==null?n:Tn(n,s,c)}function nv(n,s,c,h){return h=typeof h=="function"?h:r,n==null?n:Tn(n,s,c,h)}var cl=bu(qe),ul=bu(it);function iv(n,s,c){var h=ee(n),d=h||hr(n)||Gr(n);if(s=Y(s,4),c==null){var m=n&&n.constructor;d?c=h?new m:[]:we(n)?c=Vt(m)?Xr(si(n)):{}:c={}}return(d?bt:Ft)(n,function(y,x,S){return s(c,y,x,S)}),c}function sv(n,s){return n==null?!0:Gs(n,s)}function ov(n,s,c){return n==null?n:nu(n,s,eo(c))}function av(n,s,c,h){return h=typeof h=="function"?h:r,n==null?n:nu(n,s,eo(c),h)}function Vr(n){return n==null?[]:Ps(n,qe(n))}function cv(n){return n==null?[]:Ps(n,it(n))}function uv(n,s,c){return c===r&&(c=s,s=r),c!==r&&(c=kt(c),c=c===c?c:0),s!==r&&(s=kt(s),s=s===s?s:0),Tr(kt(n),s,c)}function lv(n,s,c){return s=Zt(s),c===r?(c=s,s=0):c=Zt(c),n=kt(n),m0(n,s,c)}function fv(n,s,c){if(c&&typeof c!="boolean"&&Ze(n,s,c)&&(s=c=r),c===r&&(typeof s=="boolean"?(c=s,s=r):typeof n=="boolean"&&(c=n,n=r)),n===r&&s===r?(n=0,s=1):(n=Zt(n),s===r?(s=n,n=0):s=Zt(s)),n>s){var h=n;n=s,s=h}if(c||n%1||s%1){var d=Dc();return Ye(n+d*(s-n+Wd("1e-"+((d+"").length-1))),s)}return zs(n,s)}var hv=Qr(function(n,s,c){return s=s.toLowerCase(),n+(c?ll(s):s)});function ll(n){return Ao(pe(n).toLowerCase())}function fl(n){return n=pe(n),n&&n.replace(pd,rp).replace(Dd,"")}function dv(n,s,c){n=pe(n),s=dt(s);var h=n.length;c=c===r?h:Tr(te(c),0,h);var d=c;return c-=s.length,c>=0&&n.slice(c,d)==s}function pv(n){return n=pe(n),n&&zh.test(n)?n.replace(Ba,np):n}function gv(n){return n=pe(n),n&&ed.test(n)?n.replace(ms,"\\$&"):n}var mv=Qr(function(n,s,c){return n+(c?"-":"")+s.toLowerCase()}),yv=Qr(function(n,s,c){return n+(c?" ":"")+s.toLowerCase()}),vv=pu("toLowerCase");function xv(n,s,c){n=pe(n),s=te(s);var h=s?Br(n):0;if(!s||h>=s)return n;var d=(s-h)/2;return Ai(ui(d),c)+n+Ai(ci(d),c)}function bv(n,s,c){n=pe(n),s=te(s);var h=s?Br(n):0;return s&&h<s?n+Ai(s-h,c):n}function wv(n,s,c){n=pe(n),s=te(s);var h=s?Br(n):0;return s&&h<s?Ai(s-h,c)+n:n}function Av(n,s,c){return c||s==null?s=0:s&&(s=+s),Rp(pe(n).replace(ys,""),s||0)}function Sv(n,s,c){return(c?Ze(n,s,c):s===r)?s=1:s=te(s),Qs(pe(n),s)}function Iv(){var n=arguments,s=pe(n[0]);return n.length<3?s:s.replace(n[1],n[2])}var Ov=Qr(function(n,s,c){return n+(c?"_":"")+s.toLowerCase()});function kv(n,s,c){return c&&typeof c!="number"&&Ze(n,s,c)&&(s=c=r),c=c===r?oe:c>>>0,c?(n=pe(n),n&&(typeof s=="string"||s!=null&&!xo(s))&&(s=dt(s),!s&&Ur(n))?fr(_t(n),0,c):n.split(s,c)):[]}var Tv=Qr(function(n,s,c){return n+(c?" ":"")+Ao(s)});function Cv(n,s,c){return n=pe(n),c=c==null?0:Tr(te(c),0,n.length),s=dt(s),n.slice(c,c+s.length)==s}function Rv(n,s,c){var h=g.templateSettings;c&&Ze(n,s,c)&&(s=r),n=pe(n),s=Ni({},s,h,wu);var d=Ni({},s.imports,h.imports,wu),m=qe(d),y=Ps(d,m),x,S,N=0,$=s.interpolate||Xn,L="__p += '",U=Ns((s.escape||Xn).source+"|"+$.source+"|"+($===Wa?cd:Xn).source+"|"+(s.evaluate||Xn).source+"|$","g"),W="//# sourceURL="+(ge.call(s,"sourceURL")?(s.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++qd+"]")+`
`;n.replace(U,function(z,ae,he,gt,et,mt){return he||(he=gt),L+=n.slice(N,mt).replace(gd,ip),ae&&(x=!0,L+=`' +
__e(`+ae+`) +
'`),et&&(S=!0,L+=`';
`+et+`;
__p += '`),he&&(L+=`' +
((__t = (`+he+`)) == null ? '' : __t) +
'`),N=mt+z.length,z}),L+=`';
`;var X=ge.call(s,"variable")&&s.variable;if(!X)L=`with (obj) {
`+L+`
}
`;else if(od.test(X))throw new Z(f);L=(S?L.replace(Hh,""):L).replace(Kh,"$1").replace(Yh,"$1;"),L="function("+(X||"obj")+`) {
`+(X?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(x?", __e = _.escape":"")+(S?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+L+`return __p
}`;var re=dl(function(){return de(m,W+"return "+L).apply(r,y)});if(re.source=L,vo(re))throw re;return re}function _v(n){return pe(n).toLowerCase()}function Ev(n){return pe(n).toUpperCase()}function Pv(n,s,c){if(n=pe(n),n&&(c||s===r))return Ac(n);if(!n||!(s=dt(s)))return n;var h=_t(n),d=_t(s),m=Sc(h,d),y=Ic(h,d)+1;return fr(h,m,y).join("")}function Dv(n,s,c){if(n=pe(n),n&&(c||s===r))return n.slice(0,kc(n)+1);if(!n||!(s=dt(s)))return n;var h=_t(n),d=Ic(h,_t(s))+1;return fr(h,0,d).join("")}function Nv(n,s,c){if(n=pe(n),n&&(c||s===r))return n.replace(ys,"");if(!n||!(s=dt(s)))return n;var h=_t(n),d=Sc(h,_t(s));return fr(h,d).join("")}function $v(n,s){var c=vt,h=E;if(we(s)){var d="separator"in s?s.separator:d;c="length"in s?te(s.length):c,h="omission"in s?dt(s.omission):h}n=pe(n);var m=n.length;if(Ur(n)){var y=_t(n);m=y.length}if(c>=m)return n;var x=c-Br(h);if(x<1)return h;var S=y?fr(y,0,x).join(""):n.slice(0,x);if(d===r)return S+h;if(y&&(x+=S.length-x),xo(d)){if(n.slice(x).search(d)){var N,$=S;for(d.global||(d=Ns(d.source,pe(Ha.exec(d))+"g")),d.lastIndex=0;N=d.exec($);)var L=N.index;S=S.slice(0,L===r?x:L)}}else if(n.indexOf(dt(d),x)!=x){var U=S.lastIndexOf(d);U>-1&&(S=S.slice(0,U))}return S+h}function Fv(n){return n=pe(n),n&&Xh.test(n)?n.replace(Ua,fp):n}var Lv=Qr(function(n,s,c){return n+(c?" ":"")+s.toUpperCase()}),Ao=pu("toUpperCase");function hl(n,s,c){return n=pe(n),s=c?r:s,s===r?op(n)?pp(n):Gd(n):n.match(s)||[]}var dl=ie(function(n,s){try{return ft(n,r,s)}catch(c){return vo(c)?c:new Z(c)}}),qv=Jt(function(n,s){return bt(s,function(c){c=qt(c),zt(n,c,mo(n[c],n))}),n});function Mv(n){var s=n==null?0:n.length,c=Y();return n=s?xe(n,function(h){if(typeof h[1]!="function")throw new wt(u);return[c(h[0]),h[1]]}):[],ie(function(h){for(var d=-1;++d<s;){var m=n[d];if(ft(m[0],this,h))return ft(m[1],this,h)}})}function jv(n){return f0(St(n,C))}function So(n){return function(){return n}}function Uv(n,s){return n==null||n!==n?s:n}var Bv=mu(),Wv=mu(!0);function st(n){return n}function Io(n){return Yc(typeof n=="function"?n:St(n,C))}function Hv(n){return zc(St(n,C))}function Kv(n,s){return Qc(n,St(s,C))}var Yv=ie(function(n,s){return function(c){return On(c,n,s)}}),Xv=ie(function(n,s){return function(c){return On(n,c,s)}});function Oo(n,s,c){var h=qe(s),d=gi(s,h);c==null&&!(we(s)&&(d.length||!h.length))&&(c=s,s=n,n=this,d=gi(s,qe(s)));var m=!(we(c)&&"chain"in c)||!!c.chain,y=Vt(n);return bt(d,function(x){var S=s[x];n[x]=S,y&&(n.prototype[x]=function(){var N=this.__chain__;if(m||N){var $=n(this.__wrapped__),L=$.__actions__=rt(this.__actions__);return L.push({func:S,args:arguments,thisArg:n}),$.__chain__=N,$}return S.apply(n,sr([this.value()],arguments))})}),n}function zv(){return Be._===this&&(Be._=bp),this}function ko(){}function Qv(n){return n=te(n),ie(function(s){return Jc(s,n)})}var Jv=ro(xe),Gv=ro(yc),Vv=ro(Ts);function pl(n){return uo(n)?Cs(qt(n)):C0(n)}function Zv(n){return function(s){return n==null?r:Cr(n,s)}}var e1=vu(),t1=vu(!0);function To(){return[]}function Co(){return!1}function r1(){return{}}function n1(){return""}function i1(){return!0}function s1(n,s){if(n=te(n),n<1||n>V)return[];var c=oe,h=Ye(n,oe);s=Y(s),n-=oe;for(var d=Es(h,s);++c<n;)s(c);return d}function o1(n){return ee(n)?xe(n,qt):pt(n)?[n]:rt(Nu(pe(n)))}function a1(n){var s=++vp;return pe(n)+s}var c1=wi(function(n,s){return n+s},0),u1=no("ceil"),l1=wi(function(n,s){return n/s},1),f1=no("floor");function h1(n){return n&&n.length?pi(n,st,Bs):r}function d1(n,s){return n&&n.length?pi(n,Y(s,2),Bs):r}function p1(n){return bc(n,st)}function g1(n,s){return bc(n,Y(s,2))}function m1(n){return n&&n.length?pi(n,st,Ys):r}function y1(n,s){return n&&n.length?pi(n,Y(s,2),Ys):r}var v1=wi(function(n,s){return n*s},1),x1=no("round"),b1=wi(function(n,s){return n-s},0);function w1(n){return n&&n.length?_s(n,st):0}function A1(n,s){return n&&n.length?_s(n,Y(s,2)):0}return g.after=Hm,g.ary=Ku,g.assign=Ey,g.assignIn=sl,g.assignInWith=Ni,g.assignWith=Py,g.at=Dy,g.before=Yu,g.bind=mo,g.bindAll=qv,g.bindKey=Xu,g.castArray=ry,g.chain=Bu,g.chunk=fg,g.compact=hg,g.concat=dg,g.cond=Mv,g.conforms=jv,g.constant=So,g.countBy=wm,g.create=Ny,g.curry=zu,g.curryRight=Qu,g.debounce=Ju,g.defaults=$y,g.defaultsDeep=Fy,g.defer=Km,g.delay=Ym,g.difference=pg,g.differenceBy=gg,g.differenceWith=mg,g.drop=yg,g.dropRight=vg,g.dropRightWhile=xg,g.dropWhile=bg,g.fill=wg,g.filter=Sm,g.flatMap=km,g.flatMapDeep=Tm,g.flatMapDepth=Cm,g.flatten=qu,g.flattenDeep=Ag,g.flattenDepth=Sg,g.flip=Xm,g.flow=Bv,g.flowRight=Wv,g.fromPairs=Ig,g.functions=Wy,g.functionsIn=Hy,g.groupBy=Rm,g.initial=kg,g.intersection=Tg,g.intersectionBy=Cg,g.intersectionWith=Rg,g.invert=Yy,g.invertBy=Xy,g.invokeMap=Em,g.iteratee=Io,g.keyBy=Pm,g.keys=qe,g.keysIn=it,g.map=Ci,g.mapKeys=Qy,g.mapValues=Jy,g.matches=Hv,g.matchesProperty=Kv,g.memoize=_i,g.merge=Gy,g.mergeWith=ol,g.method=Yv,g.methodOf=Xv,g.mixin=Oo,g.negate=Ei,g.nthArg=Qv,g.omit=Vy,g.omitBy=Zy,g.once=zm,g.orderBy=Dm,g.over=Jv,g.overArgs=Qm,g.overEvery=Gv,g.overSome=Vv,g.partial=yo,g.partialRight=Gu,g.partition=Nm,g.pick=ev,g.pickBy=al,g.property=pl,g.propertyOf=Zv,g.pull=Dg,g.pullAll=ju,g.pullAllBy=Ng,g.pullAllWith=$g,g.pullAt=Fg,g.range=e1,g.rangeRight=t1,g.rearg=Jm,g.reject=Lm,g.remove=Lg,g.rest=Gm,g.reverse=po,g.sampleSize=Mm,g.set=rv,g.setWith=nv,g.shuffle=jm,g.slice=qg,g.sortBy=Wm,g.sortedUniq=Kg,g.sortedUniqBy=Yg,g.split=kv,g.spread=Vm,g.tail=Xg,g.take=zg,g.takeRight=Qg,g.takeRightWhile=Jg,g.takeWhile=Gg,g.tap=hm,g.throttle=Zm,g.thru=Ti,g.toArray=rl,g.toPairs=cl,g.toPairsIn=ul,g.toPath=o1,g.toPlainObject=il,g.transform=iv,g.unary=ey,g.union=Vg,g.unionBy=Zg,g.unionWith=em,g.uniq=tm,g.uniqBy=rm,g.uniqWith=nm,g.unset=sv,g.unzip=go,g.unzipWith=Uu,g.update=ov,g.updateWith=av,g.values=Vr,g.valuesIn=cv,g.without=im,g.words=hl,g.wrap=ty,g.xor=sm,g.xorBy=om,g.xorWith=am,g.zip=cm,g.zipObject=um,g.zipObjectDeep=lm,g.zipWith=fm,g.entries=cl,g.entriesIn=ul,g.extend=sl,g.extendWith=Ni,Oo(g,g),g.add=c1,g.attempt=dl,g.camelCase=hv,g.capitalize=ll,g.ceil=u1,g.clamp=uv,g.clone=ny,g.cloneDeep=sy,g.cloneDeepWith=oy,g.cloneWith=iy,g.conformsTo=ay,g.deburr=fl,g.defaultTo=Uv,g.divide=l1,g.endsWith=dv,g.eq=Pt,g.escape=pv,g.escapeRegExp=gv,g.every=Am,g.find=Im,g.findIndex=Fu,g.findKey=Ly,g.findLast=Om,g.findLastIndex=Lu,g.findLastKey=qy,g.floor=f1,g.forEach=Wu,g.forEachRight=Hu,g.forIn=My,g.forInRight=jy,g.forOwn=Uy,g.forOwnRight=By,g.get=bo,g.gt=cy,g.gte=uy,g.has=Ky,g.hasIn=wo,g.head=Mu,g.identity=st,g.includes=_m,g.indexOf=Og,g.inRange=lv,g.invoke=zy,g.isArguments=Er,g.isArray=ee,g.isArrayBuffer=ly,g.isArrayLike=nt,g.isArrayLikeObject=ke,g.isBoolean=fy,g.isBuffer=hr,g.isDate=hy,g.isElement=dy,g.isEmpty=py,g.isEqual=gy,g.isEqualWith=my,g.isError=vo,g.isFinite=yy,g.isFunction=Vt,g.isInteger=Vu,g.isLength=Pi,g.isMap=Zu,g.isMatch=vy,g.isMatchWith=xy,g.isNaN=by,g.isNative=wy,g.isNil=Sy,g.isNull=Ay,g.isNumber=el,g.isObject=we,g.isObjectLike=Oe,g.isPlainObject=En,g.isRegExp=xo,g.isSafeInteger=Iy,g.isSet=tl,g.isString=Di,g.isSymbol=pt,g.isTypedArray=Gr,g.isUndefined=Oy,g.isWeakMap=ky,g.isWeakSet=Ty,g.join=_g,g.kebabCase=mv,g.last=Ot,g.lastIndexOf=Eg,g.lowerCase=yv,g.lowerFirst=vv,g.lt=Cy,g.lte=Ry,g.max=h1,g.maxBy=d1,g.mean=p1,g.meanBy=g1,g.min=m1,g.minBy=y1,g.stubArray=To,g.stubFalse=Co,g.stubObject=r1,g.stubString=n1,g.stubTrue=i1,g.multiply=v1,g.nth=Pg,g.noConflict=zv,g.noop=ko,g.now=Ri,g.pad=xv,g.padEnd=bv,g.padStart=wv,g.parseInt=Av,g.random=fv,g.reduce=$m,g.reduceRight=Fm,g.repeat=Sv,g.replace=Iv,g.result=tv,g.round=x1,g.runInContext=b,g.sample=qm,g.size=Um,g.snakeCase=Ov,g.some=Bm,g.sortedIndex=Mg,g.sortedIndexBy=jg,g.sortedIndexOf=Ug,g.sortedLastIndex=Bg,g.sortedLastIndexBy=Wg,g.sortedLastIndexOf=Hg,g.startCase=Tv,g.startsWith=Cv,g.subtract=b1,g.sum=w1,g.sumBy=A1,g.template=Rv,g.times=s1,g.toFinite=Zt,g.toInteger=te,g.toLength=nl,g.toLower=_v,g.toNumber=kt,g.toSafeInteger=_y,g.toString=pe,g.toUpper=Ev,g.trim=Pv,g.trimEnd=Dv,g.trimStart=Nv,g.truncate=$v,g.unescape=Fv,g.uniqueId=a1,g.upperCase=Lv,g.upperFirst=Ao,g.each=Wu,g.eachRight=Hu,g.first=Mu,Oo(g,function(){var n={};return Ft(g,function(s,c){ge.call(g.prototype,c)||(n[c]=s)}),n}(),{chain:!1}),g.VERSION=i,bt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){g[n].placeholder=g}),bt(["drop","take"],function(n,s){ce.prototype[n]=function(c){c=c===r?1:$e(te(c),0);var h=this.__filtered__&&!s?new ce(this):this.clone();return h.__filtered__?h.__takeCount__=Ye(c,h.__takeCount__):h.__views__.push({size:Ye(c,oe),type:n+(h.__dir__<0?"Right":"")}),h},ce.prototype[n+"Right"]=function(c){return this.reverse()[n](c).reverse()}}),bt(["filter","map","takeWhile"],function(n,s){var c=s+1,h=c==w||c==P;ce.prototype[n]=function(d){var m=this.clone();return m.__iteratees__.push({iteratee:Y(d,3),type:c}),m.__filtered__=m.__filtered__||h,m}}),bt(["head","last"],function(n,s){var c="take"+(s?"Right":"");ce.prototype[n]=function(){return this[c](1).value()[0]}}),bt(["initial","tail"],function(n,s){var c="drop"+(s?"":"Right");ce.prototype[n]=function(){return this.__filtered__?new ce(this):this[c](1)}}),ce.prototype.compact=function(){return this.filter(st)},ce.prototype.find=function(n){return this.filter(n).head()},ce.prototype.findLast=function(n){return this.reverse().find(n)},ce.prototype.invokeMap=ie(function(n,s){return typeof n=="function"?new ce(this):this.map(function(c){return On(c,n,s)})}),ce.prototype.reject=function(n){return this.filter(Ei(Y(n)))},ce.prototype.slice=function(n,s){n=te(n);var c=this;return c.__filtered__&&(n>0||s<0)?new ce(c):(n<0?c=c.takeRight(-n):n&&(c=c.drop(n)),s!==r&&(s=te(s),c=s<0?c.dropRight(-s):c.take(s-n)),c)},ce.prototype.takeRightWhile=function(n){return this.reverse().takeWhile(n).reverse()},ce.prototype.toArray=function(){return this.take(oe)},Ft(ce.prototype,function(n,s){var c=/^(?:filter|find|map|reject)|While$/.test(s),h=/^(?:head|last)$/.test(s),d=g[h?"take"+(s=="last"?"Right":""):s],m=h||/^find/.test(s);!d||(g.prototype[s]=function(){var y=this.__wrapped__,x=h?[1]:arguments,S=y instanceof ce,N=x[0],$=S||ee(y),L=function(ae){var he=d.apply(g,sr([ae],x));return h&&U?he[0]:he};$&&c&&typeof N=="function"&&N.length!=1&&(S=$=!1);var U=this.__chain__,W=!!this.__actions__.length,X=m&&!U,re=S&&!W;if(!m&&$){y=re?y:new ce(this);var z=n.apply(y,x);return z.__actions__.push({func:Ti,args:[L],thisArg:r}),new At(z,U)}return X&&re?n.apply(this,x):(z=this.thru(L),X?h?z.value()[0]:z.value():z)})}),bt(["pop","push","shift","sort","splice","unshift"],function(n){var s=Zn[n],c=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",h=/^(?:pop|shift)$/.test(n);g.prototype[n]=function(){var d=arguments;if(h&&!this.__chain__){var m=this.value();return s.apply(ee(m)?m:[],d)}return this[c](function(y){return s.apply(ee(y)?y:[],d)})}}),Ft(ce.prototype,function(n,s){var c=g[s];if(c){var h=c.name+"";ge.call(Yr,h)||(Yr[h]=[]),Yr[h].push({name:s,func:c})}}),Yr[bi(r,G).name]=[{name:"wrapper",func:r}],ce.prototype.clone=Fp,ce.prototype.reverse=Lp,ce.prototype.value=qp,g.prototype.at=dm,g.prototype.chain=pm,g.prototype.commit=gm,g.prototype.next=mm,g.prototype.plant=vm,g.prototype.reverse=xm,g.prototype.toJSON=g.prototype.valueOf=g.prototype.value=bm,g.prototype.first=g.prototype.head,vn&&(g.prototype[vn]=ym),g},Wr=gp();Sr?((Sr.exports=Wr)._=Wr,Ss._=Wr):Be._=Wr}).call(en)})(Ht,Ht.exports);var p2=Ht.exports;class j3{formatName(e){if(typeof e!="string")return"";const r=e.trim().split(" ");if(r.length===1){if(e=e.toLowerCase(),e==="de"||e==="dela"||e==="del"||e==="las"||e==="y"||e==="la")return e;try{e=e.charAt(0).toUpperCase()+e.slice(1)}catch{e=e.charAt(0)+e.slice(1)}if(e.startsWith("Mc"))try{e=e.slice(0,2)+e.charAt(2).toUpperCase()+e.slice(3)}catch{e=e.slice(0,2)+e.charAt(2)+e.slice(3)}if(e.includes("'")){const i=e.indexOf("'");try{e=e.slice(0,i+1)+e.charAt(i+1).toUpperCase()+e.slice(i+2)}catch{e=e.slice(0,i+1)+e.charAt(i+1)+(e.slice(i+2)?e.slice(i+2):"")}}if(e.includes("-")){const i=e.indexOf("-");try{e=e.slice(0,i+1)+e.charAt(i+1).toUpperCase()+e.slice(i+2)}catch{e=e.slice(0,i+1)+e.charAt(i+1)+(e.slice(i+2)?e.slice(i+2):"")}}return e}else{for(let i=r.length-1;i>=0;i--)if(r[i]===""){r.splice(i);continue}else{try{r[i]=r[i].toLowerCase()}catch{return r[i]}if(r[i]==="de"||r[i]==="dela"||r[i]==="del"||r[i]==="la"||r[i]==="las"||r[i]==="y")if(i===0&&r[i]==="la"){try{r[i]=r[i].charAt(0).toUpperCase()+r[i].slice(1)}catch{r[i]=r[i].charAt(0)+r[i].slice(1)}continue}else continue;else{try{r[i]=r[i].charAt(0).toUpperCase()+r[i].slice(1)}catch{r[i]=r[i].charAt(0)+r[i].slice(1)}if(r[i].startsWith("Mc"))try{r[i]=r[i].slice(0,2)+r[i][2].toUpperCase()+r[i].slice(3)}catch{r[i]=r[i].slice(0,2)+r[i][2]+r[i].slice(3)}if(r[i].includes("'")){const a=r[i].indexOf("'");try{r[i]=r[i].slice(0,a+1)+r[i][a+1].toUpperCase()+(r[i].slice(a+2)?r[i].slice(a+2):"")}catch{r[i]=r[i].slice(0,a+1)+(r[i][a+1]?r[i][a+1]:"")+(r[i].slice(a+2)?r[i].slice(a+2):"")}}if(r[i].includes("-")){const a=r[i].indexOf("-");try{r[i]=r[i].slice(0,a+1)+r[i][a+1].toUpperCase()+r[i].slice(a+2)}catch{r[i]=r[i].slice(0,a+1)+(r[i][a+1]?r[i][a+1]:"")+(r[i].slice(a+2)?r[i].slice(a+2):"")}}}}return r.join(" ")}}calculateDuration(e){return tt.getDateDiff(e.end,e.start,e.unit)}formatPhone(e){const i=(""+e).replace(/\D/g,"").match(/^(\d{3})(\d{3})(\d{4})$/);return i?`(${i[1]}) ${i[2]}-${i[3]}`:null}async converter(e){let r;return e&&Array.isArray(e)?(r=[],e.forEach(i=>{const a=JSON.parse(i);r.push(a)})):r=JSON.parse(e),r}async decode(e){if(e){const r=document.createElement("div");return r.innerHTML=e,r.childNodes[0].nodeValue}else return""}fileToBase64(e){return new Promise(r=>{const i=new FileReader;i.onload=function(a){r(a.target.result.split(",")[1])},i.readAsDataURL(e)})}encodeHTML(e){return Ht.exports.escape(e)}decodeHTML(e){return Ht.exports.unescape(e)}}function U3(){return{helpers:new j3}}const{helpers:ef}=U3(),B3=25,g2=yt("assessment",{state:()=>({step:0,loading:!0,tools:[],testData:{allQuestions:[],selectedQuestions:[],completedQuestions:[],nextQuestions:null,testStatus:"In Progress",currentScope:0,loadIteration:0,qb:{testRecord:{3:{field:"Record ID#",value:24712},6:{field:"Related Kiosk Profile"},13:{field:"Related Hiring Center"},15:{field:"Related Employee"},17:{field:"Related Craft"},23:{field:"Related Available Language"},34:{field:"Test Completion Timestamp"},37:{field:"Test Status"},testQuestions:[{6:{field:"Related Test"},7:{field:"Related All Test Question"},11:{field:"Status"},questionResponse:[{6:{field:"Related Test Question"},8:{field:"Related Question Alternative"}}]}]}}},testId:null,qb:null,questions:[],answers:[],toolListId:null,toolChecklists:[]}),getters:{questionsLoaded(){return this.testData.allQuestions.length>0},nextQuestions(){return this.testData.nextQuestions?this.testData.nextQuestions:null},completedOnIteration(){return this.testData.completedQuestions.filter(t=>t.iteration===this.testData.loadIteration)},algo(){const t=this.testData.completedQuestions.filter(e=>e.selection[14]===1&&e.iteration===this.testData.loadIteration);return t!==void 0?t:[]},ratio(){return isNaN(this.algo.length/this.completedOnIteration.length)?0:(this.algo.length/this.completedOnIteration.length).toFixed(2)},nextScope(){return this.completedOnIteration.length>0?this.ratio>.6?this.testData.currentScope<6?this.testData.currentScope+1:this.testData.currentScope:this.ratio===.6?this.testData.currentScope:this.testData.currentScope>2?this.testData.currentScope-1:this.testData.currentScope:this.testData.currentScope},nextIteration(){return this.testData.loadIteration+1},timeToStop(){const t=this.testData.completedQuestions.filter(r=>r[23]>this.testData.currentScope).length,e=this.testData.completedQuestions.filter(r=>r[23]<this.testData.currentScope).length;return t>0&&e>0&&this.testData.completedQuestions.length>=B3},toolChecklistData(){const{testForCraft:t}=Ue(),{hiringCenter:e}=ot(),{employeeData:r}=Pe(),i={6:{value:this.testId?this.testId:0},11:{value:e?e[3]:0},15:{value:r[3]?r[3]:0},20:{value:t[15]?t[15]:0},22:{value:t[16]?t[16]:0}};return{to:"bp3gcpk2w",data:[i],fieldsToReturn:[3]}},toolsData(){const t=[];return this.tools.length>0&&this.tools.forEach(e=>{const r={6:{value:this.toolListId?this.toolListId:0},7:{value:e.value}};t.push(r)}),{to:"bp928wac2",data:t,fieldsToReturn:[3]}},availableToolChecklists:t=>t.toolChecklists,toolsForCraft(){const{testForCraft:t}=Ue();if(t){const e=this.availableToolChecklists.find(r=>r[6]===t[3]);return e!==void 0?e[11]:[]}else return[]},toolListInstructions(){const{testForCraft:t}=Ue();if(t){const e=this.availableToolChecklists.find(r=>r[6]===t[3]);return e!==void 0?e[13]:null}else return null},toolListName(){const{testForCraft:t}=Ue();if(t){const e=this.availableToolChecklists.find(r=>r[6]===t[3]);return e!==void 0?e[8]:null}else return null}},actions:{async startAssessment(){const{profile:t}=br(),{testForCraft:e}=Ue(),{hiringCenter:r}=ot(),{employeeData:i,updateEmployeeData:a}=Pe(),o={13:{value:r[3]},15:{value:i[3]},17:{value:e[15]},23:{value:e[16]},51:{value:e[3]}};t[3]!==void 0&&Object.assign(o,{6:{value:t[3].value}});const{data:u}=await q.upsertRecordsXML({to:"bp3gckirf",data:[o],fieldsToReturn:[3]});if(u[0])return this.testId=u[0][3],a({fields:{122:{value:8}}}),u[0];throw"Something went wrong"},async finishAssessment(){const{metadata:t}=await q.upsertRecordsXML({to:"bp3gckirf",data:[{3:{value:this.testId},34:{value:new Date},37:{value:"Complete"}}],mergeFieldId:3,fieldsToReturn:[3]});if(t.updatedRecordIds[0]){const{data:e}=await q.upsertRecordsXML({to:"bp9np6ckn",data:this.questions,fieldsToReturn:[3,7]});if(!e.length>0)throw"Cannot save questions";{const r=[];e.forEach(a=>{const o=this.answers.findIndex(u=>u.link===a[7]);if(o>-1){const u={6:{value:a[3]},8:{value:this.answers[o][8]}};r.push(u)}});const{metadata:i}=await q.upsertRecordsXML({to:"bp9np9vk7",data:r,fieldsToReturn:[3]});if(!i.createdRecordIds.length===this.answers.length)throw"Something went wrong";return{success:!0}}}else throw"Cannot finish assessment"},async startToolChecklist(){const{data:t}=await q.upsertRecordsXML(this.toolChecklistData);if(t[0])return this.toolListId=t[0][3],t[0];throw"Cannot start checklist"},async finishToolChecklist(){const{metadata:t}=await q.upsertRecordsXML({to:"bp3gcpk2w",data:[{3:{value:this.toolListId},18:{value:new Date},17:{value:"Complete"}}],mergeFieldId:3,fieldsToReturn:[3]});if(t.updatedRecordIds[0]){const{data:e}=await q.upsertRecordsXML(this.toolsData);if(e.length>0)return!0;throw"Cannot save tools"}else throw"Cannot finish tool checklist"},async submitToQB(){const{profile:t}=br(),{testForCraft:e}=Ue(),{hiringCenter:r}=ot(),{devEmployee:i}=Pe();this.testData.qb.testRecord[6].value=t[3].value,this.testData.qb.testRecord[13].value=r[3],this.testData.qb.testRecord[15].value=i[3],this.testData.qb.testRecord[17].value=e[15],this.testData.qb.testRecord[23].value=e[16],this.testData.qb.testRecord[34].value=Date.now(),this.testData.qb.testRecord[37].value="Complete";const a=[];return this.testData.completedQuestions.forEach(o=>{const u={6:{value:this.testData.qb.testRecord[3].value},7:{value:o[8]},11:{value:"Complete"},questionResponse:[{6:{value:0},8:{value:o.selection[3]}}]};a.push(u)}),this.testData.qb.testRecord.testQuestions=a,this.testData.qb.testRecord},async updateAssessment(t){return this.step=t.next,t.type==="tools"&&(this.tools=t.values),!0},updateStep(t){this.step=t},dataLoaded(){this.loading=!1},async getAllQuestions(){const{testForCraft:t}=Ue();if(this.questionsLoaded)return!0;if(t)try{const{data:e}=await q.fetchFromStructureApp({fields:[{6:{value:"bqamed7sr"},7:{value:"Table Query"},8:{value:`{'6'.EX.'${t[9]}'}`},9:{value:1},14:{value:17}}]});if(e)return e.forEach(async r=>{r[20]&&(r.hasImage=!0,r.imageData={src:r[22],alt:r[21]}),r[19].forEach(i=>{i.value=i[3],i.label=i[6]})}),this.testData.allQuestions=e,!0;throw"Something went wrong"}catch(e){console.log(e);const{data:r}=await q.doQuery({from:"bqamed7sr",where:`{'6'.EX.'${t[9]}'}`,select:[3,6,8,9,10,11,12,13,14,18,19,20,21,22,23,24],sortBy:[{fieldId:11,order:"ASC"}]});if(r)return r.forEach(async i=>{i[20]==="Yes"&&(i.hasImage=!0,i.imageData={src:i[22],alt:i[21]}),i[19]=await ef.converter(i[19]),i[24]=await ef.converter(i[24]),i[19].forEach(a=>{a.value=a[3],a.label=a[6]})}),this.testData.allQuestions=r,!0;throw"Something went wrong"}else throw"No test for craft"},async loadQuestionGroup(t,e){if(t!==void 0){const r=this.testData.allQuestions.filter(i=>i[23]===t);if(r.length>0)return r.length>5&&(r.length=5),r.forEach(i=>{i.response=null;const a=this.testData.allQuestions.findIndex(o=>o[3]===i[3]);a>-1&&this.testData.allQuestions.splice(a,1)}),this.testData.nextQuestions=r,this.testData.currentScope=t,this.testData.loadIteration=e,r;throw"There are no questions"}},async completeQuestion(t){const e=t.response,r=t[19].find(o=>o.value===e);if(r!==void 0)t.selection=r;else throw"No selection";t.iteration=this.testData.loadIteration,t.storedData={};const i={6:{value:this.testId},7:{value:t[8]},11:{value:"Complete"}};this.questions.push(i);const a={6:null,8:t.selection[3],link:t[8]};return this.answers.push(a),this.testData.completedQuestions.push(t),this.testData.nextQuestions=this.testData.nextQuestions.filter(o=>o[3]!==t[3]),{data:{nextQuestions:this.timeToStop?[]:this.testData.nextQuestions,scope:this.nextScope,iteration:this.nextIteration}}},async fetchCraftToolsFromStorage(){const t=await F.getItem(H.storageToolCheckList);if(t){for(let e=0;e<t.length;e++){const r=Object.keys(t[e]);for(let i=0;i<r.length;i++){typeof t[e][r[i]]=="object"&&t[e][r[i]]!==null&&Object.prototype.hasOwnProperty.call(t[e][r[i]],"$d")&&(t[e][r[i]]=I(t[e][r[i]].$d));try{t[e][r[i]].endsWith(".000Z")&&(t[e][r[i]]=I(t[e][r[i]]))}catch{}}}this.setCraftTools(t,!1)}else return!1},async fetchCraftTools(t){await this.fetchCraftToolsFromStorage();const e=[{6:{value:"bqamh3rpi"},7:{value:"Table Query"},8:{value:"{'10'.EX.'Active'}"},9:{value:1},14:{value:12}}];if(this.toolChecklists.length===0||t){const{data:r}=await q.fetchFromStructureApp({fields:e});return this.setCraftTools(r,!0),r}else return this.toolChecklists},setCraftTools(t,e){this.toolChecklists=t,e&&F.setItem(H.storageToolCheckList,t)}}}),Tt=yt("application",{state:()=>({formOptions:{crafts:[],experience:[],companies:[],credentials:[],relationships:[],employment:[],contactMethods:[]},voluntaryFormOptions:{affirmative:[],veterans:[],disability:{pages:[],options:[],form:{}}},formOptionsLoading:!1,voluntaryFormsLoading:!1,evergreenJobs:[]}),getters:{craftOptions:t=>t.formOptions.crafts,experienceOptions:t=>t.formOptions.experience,companyOptions:t=>t.formOptions.companies,credentialOptions:t=>t.formOptions.credentials,relationshipOptions:t=>t.formOptions.relationships,employmentOptions:t=>t.formOptions.employment,contactMethodOptions:t=>t.formOptions.contactMethods,affirmativeOptions:t=>t.voluntaryFormOptions.affirmative,veteranOptions:t=>t.voluntaryFormOptions.veterans,disabilityOptions:t=>t.voluntaryFormOptions.disability.options,disabilityPages:t=>t.voluntaryFormOptions.disability.pages,disabilityForm:t=>t.voluntaryFormOptions.disability.form,evergreenJobOptions:t=>t.evergreenJobs,formOptionsLoadingState:t=>t.formOptionsLoading,voluntaryLoadingState:t=>t.voluntaryFormsLoading,credentialGroups(){const t=[];return this.formOptions.credentials.forEach(e=>{const r={value:e[7],label:e[8],acronym:e[20],number:e[21]};t.find(a=>a.value===r.value)||t.push(r)}),t.sort((e,r)=>e.number>r.number?1:e.number<r.number?-1:0)},compiledCredentials(){const t=[];return this.credentialGroups.forEach(e=>{const r=e.value;e.list=[],this.formOptions.credentials.forEach(i=>{i[7]===r&&e.list.push(i)}),t.push(e)}),t}},actions:{async fetchFormOptions(){this.formOptionsLoading=!0;const t=[this.fetchExperienceOptions(),this.fetchContactMethodOptions(),this.fetchEmploymentOptions(),this.fetchCompanyOptions(),this.fetchCraftOptions(),this.fetchRelationshipOptions(),this.fetchEverGreenJobs()],e=await Promise.allSettled(t);return this.formOptionsLoading=!1,e},async fetchVoluntaryForms(){this.voluntaryFormsLoading=!0;const t=[this.fetchAffirmativeOptions(!0),this.fetchVeteranStatusOptions(),this.fetchDisabilityPages()],e=await Promise.allSettled(t);return this.voluntaryFormsLoading=!1,e},async fetchExperienceOptions(t){const e=[{7:{value:"Experience Options"},9:{value:1},14:{value:44}}];if(this.formOptions.experience.length===0||t){const{data:r}=await q.fetchFromRecruitingApp({fields:e});return this.setExperienceOptions(r,!0),r}else return this.formOptions.experience},setExperienceOptions(t,e){this.formOptions.experience=t,e&&F.setItem(H.storageExperienceOptions,t)},async fetchContactMethodOptions(t){const e=[{7:{value:"Contact Methods"},9:{value:1},14:{value:15}}];if(this.formOptions.contactMethods.length===0||t){const{data:r}=await q.fetchFromRecruitingApp({fields:e});return this.setContactMethods(r,!0),r}else return this.formOptions.contactMethods},setContactMethods(t,e){this.formOptions.contactMethods=t,e&&F.setItem(H.storageContactMethods,t)},async fetchEmploymentOptions(t){const e=[{7:{value:"Employment Options"},9:{value:1},14:{value:15}}];if(this.formOptions.employment.length===0||t){const{data:r}=await q.fetchFromRecruitingApp({fields:e});return this.setEmploymentOptions(r,!0),r}else return this.formOptions.employment},setEmploymentOptions(t,e){this.formOptions.employment=t,e&&F.setItem(H.storageEmploymentOptions,t)},async fetchCompanyOptions(t){const e=[{7:{value:"Company Options"},9:{value:1},14:{value:15}}];if(this.formOptions.companies.length===0||t){const{data:r}=await q.fetchFromStructureApp({fields:e});return this.setCompanyOptions(r,!0),r}else return this.formOptions.companies},setCompanyOptions(t,e){this.formOptions.companies=t,e&&F.setItem(H.storageCompanyOptions,t)},async fetchCraftOptions(t){const e=[{6:{value:"bp2pcb379"},7:{value:"Table Query"},8:{value:"{'12'.EX.'Yes'}"},9:{value:1},14:{value:59}}];if(this.formOptions.crafts.length===0||t){const{data:r}=await q.fetchFromStructureApp({fields:e});return this.setCraftOptions(r,!0),r}else return this.formOptions.crafts},setCraftOptions(t,e){this.formOptions.crafts=t,e&&F.setItem(H.storageCraftOptions,t)},async fetchRelationshipOptions(t){const e=[{6:{value:"brux2ptjd"},7:{value:"Table Query"},8:{value:"{'3'.GT.0}"},9:{value:1},14:{value:15}}];if(this.formOptions.relationships.length===0||t){const{data:r}=await q.fetchFromHiringApp({fields:e});return this.setRelationshipOptions(r,!0),r}else return this.formOptions.relationships},setRelationshipOptions(t,e){this.formOptions.relationships=t,e&&F.setItem(H.storageRelationshipOptions,t)},async fetchCredentialOptions(t){const e=[{6:{value:"bp2cdv2rd"},7:{value:"Table Query"},8:{value:"{'3'.GT.0}"},9:{value:1},14:{value:22}}];if(this.formOptions.credentials.length===0||t){const{data:r}=await q.fetchFromCredentialsAndTrainingApp({fields:e});return this.setCredentialOptions(r,!0),r}else return this.formOptions.credentials},setCredentialOptions(t,e){this.formOptions.credentials=t,e&&F.setItem(H.storageCredentialOptions,t)},async fetchAffirmativeOptions(t){const e=[{6:{value:"bqamkyebu"},7:{value:"Table Query"},8:{value:"{'7'.EX.'Active'}"},9:{value:1},14:{value:18}}];if(this.voluntaryFormOptions.affirmative.length===0||t){const{data:r}=await q.fetchFromCredentialsAndTrainingApp({fields:e});return r.forEach(i=>{i.val=i.value,i.value=i[3]}),this.setAffirmativeOptions(r,!0),r}else return this.voluntaryFormOptions.affirmative},setAffirmativeOptions(t,e){this.voluntaryFormOptions.affirmative=t,e&&F.setItem(H.storageAffirmativeOptions,t)},async fetchVeteranStatusOptions(t){const e=[{6:{value:"bqampwqag"},7:{value:"Table Query"},8:{value:"{'8'.EX.'Active'}"},9:{value:1},14:{value:14}}];if(this.voluntaryFormOptions.veterans.length===0||t){const{data:r}=await q.fetchFromCredentialsAndTrainingApp({fields:e});return this.setVeteranStatusOptions(r,!0),r}else return this.voluntaryFormOptions.veterans},setVeteranStatusOptions(t,e){this.voluntaryFormOptions.veterans=t,e&&F.setItem(H.storageVeteranStatusOptions,t)},async fetchDisabilityPages(t){const{hasDisability:e,kioskAccount:r}=Ue();if(e){const i=[{6:{value:"bp96dpdmp"},7:{value:"Table Query"},8:{value:`{26.EX.${r.voluntaryForms.disability[9]}}AND{'46'.EX.'Active'}`},9:{value:1},14:{value:59}}],a=Object.assign({},r.voluntaryForms.disability);if(a.controlNumber=a[11],a.expiration=a[13],a.formId=a[12],a.rid=a[9],a.title=a[10],a.pages=this.voluntaryFormOptions.disability.pages,this.voluntaryFormOptions.disability.pages.length===0||t){const{data:o}=await q.fetchFromCredentialsAndTrainingApp({fields:i});return this.setDisabilityPages(o,!0),a.pages=o,this.setDisabilityForm(a,!0),o}else return this.voluntaryFormOptions.disability.pages}else return!1},setDisabilityPages(t,e){this.voluntaryFormOptions.disability.pages=t,e&&F.setItem(H.storageDisabilityPages,t)},setDisabilityForm(t,e){this.voluntaryFormOptions.disability.form=t,e&&F.setItem(H.storageDisabilityForm,t)},async fetchEverGreenJobs(t){const e=[{6:{value:"bpzpqe2q5"},7:{value:"Jobs"},8:{value:"{'60'.EX.'Yes'}AND{'71'.XEX.'Pending'}"},9:{value:1},14:{value:94}}];if(this.evergreenJobs.length===0||t){const{data:r}=await q.fetchFromStructureApp({fields:e});return this.setEverGreenJobs(r,!0),r}else return this.evergreenJobs},setEverGreenJobs(t,e){this.evergreenJobs=t,e&&F.setItem(H.storageEverGreenJobs,t)}}});var zi={get dev(){return!1},get baseURL(){return this.dev?this.productionURL:this.productionURL},get token(){return this.dev?this.prodToken:this.prodToken},productionURL:"https://api.disa.com/api",devURL:"https://apisandbox.disa.com/api",tokenType:"Basic",prodToken:"YnJhbmRzYWZ3YXlhcGk6WFhUSkxXNFMy",devToken:"QnJhbmRzYWZ3YXlhcGk6V0RYQ1YxTEM2"};class W3{constructor(e,r){ue(this,"axiosIns",null);ue(this,"config",{...zi});ue(this,"isAlreadyFetchingAccessToken",!1);ue(this,"subscribers",[]);this.axiosIns=e,this.config={...this.config,...r}}onAccessTokenFetched(e){this.subscribers=this.subscribers.filter(r=>r(e))}addSubscriber(e){this.subscribers.push(e)}async status(e,r,i){const a=[],o=[],u=[];let f={};r[10].forEach(D=>{const j=D.trim().replace("  "," ");u.push({name:j,label:`${j} Status`,status:"N/A",dateLabel:`Last ${j} Test`,date:"N/A",type:"DrugScreen"})}),(r[36]||r[10].includes("Background Only"))&&u.push({name:"Background",label:"Background Status",status:"Inactive",dateLabel:"Background Expiration Date",date:"N/A",type:"Background"});const l=[this.justChecking({ownerId:e.ownerId,socialSecurityNumbers:[e.ssn]},i),this.employeeStatus({employeeIdentifiers:{ssn:e.ssn}},i)],p=await Promise.allSettled(l),v=p[0].value.results;let C=[];if(p[1].status==="rejected")if(!e.firstName||!e.lastName||!e.phoneNumber)C=[];else{const D={employeeIdentifiers:{ssn:e.ssn,externalEmployeeId:tf(e.externalEmployeeId)?e.externalEmployeeId:""},firstName:e.firstName,lastName:e.lastName,phoneNumber:e.phoneNumber.replace(/[^0-9]/g,""),emailAddress:tf(e.email)?e.email:""};await this.createEmployee(D,i);try{C=await this.employeeStatus({employeeIdentifiers:{ssn:e.ssn}},i)}catch{C=[]}}else C=p[1].value;return v.length>0&&(f=v[0],f.dateChecked=I(),f.ownerStatus="Inactive",o.push({name:"Last Urine Test",date:I(f.lastUrineTest).isValid()?I(f.lastUrineTest).format("MM/DD/YYYY"):"N/A"}),o.push({name:"Last Hair Test",date:I(f.lastHairTest).isValid()?I(f.lastHairTest).format("MM/DD/YYYY"):"N/A"})),u.forEach(D=>{const j=C.find(Q=>{const J=Q.policyId.split("-")[1].trim().split("Consortium Policy")[0].trim();return J===D.name?Q:(D.name==="DCCHT w/ Randoms"||D.name==="DCCHT w/  Randoms")&&(J==="DCCHT w/Randoms"||J==="DCCHT w/ Randoms")?D:""});D.name==="Background"&&(f.backgrounds==="Active"&&(D.status="Active"),D.date=I(f.backgroundsExpDate).isValid()?I(f.backgroundsExpDate).format("MM/DD/YYYY"):"N/A"),D.name==="NASAP"&&(f.nasapStatus==="Active"&&(D.status="Active"),D.date=I(f.lastNASAPTest).isValid()?I(f.lastNASAPTest).format("MM/DD/YYYY"):"N/A"),D.name.startsWith("DCCHA")&&(D.dateLabel="Last Urine Test",D.date=I(f.lastUrineTest).isValid()?I(f.lastUrineTest).format("MM/DD/YYYY"):"N/A"),D.name.startsWith("DCCHT")&&(D.dateLabel="Last Hair Test",D.date=I(f.lastHairTest).isValid()?I(f.lastHairTest).format("MM/DD/YYYY"):"N/A"),D.name==="DCCOF"&&(o.push({name:"Last Oral Fluid Test",date:I(f.lastOralFluidTest).isValid()?I(f.lastOralFluidTest).format("MM/DD/YYYY"):"N/A"}),D.date=I(f.lastOralFluidTest).isValid()?I(f.lastOralFluidTest).format("MM/DD/YYYY"):"N/A"),j&&(D={...D,...j},D.status=j.policyStatus),a.push(D)}),a.find(D=>D.status==="Inactive"||D.status==="Inactive Retest"||D.status==="INACTIVE"||D.status==="Inactive Pending"||D.status==="")||f.dccStatus!=="ACTIVE"?f.ownerStatus="Inactive":f.ownerStatus="Active",{disaStatus:f,policies:a,testDates:o}}async justChecking(e){return this.axiosIns({method:"post",url:"/justChecking",data:e,withCredentials:!0}).then(r=>r.data).catch(r=>{throw r})}employeeStatus(e,r){return this.axiosIns.post("/employee/status",e,{headers:{Authorization:`Basic ${r}`}}).then(i=>i.data).catch(i=>{throw i})}policies(e){return this.axiosIns.get("/drugTest/policy",{headers:{Authorization:`Basic ${e}`}}).then(r=>r.data).catch(r=>{throw r})}testPurposes(e){return this.axiosIns.get("/drugTest/testPurpose",{headers:{Authorization:`Basic ${e}`}}).then(r=>r.data).catch(r=>{throw r})}clientLocations(e){return this.axiosIns.get("/client/locations",{headers:{Authorization:`Basic ${e}`}}).then(r=>r.data).catch(r=>{throw r})}collectionSites(e,r){let i="/drugTest/collectionSite";return e.collectionSiteId?i=`/drugTest/collectionSite/${e.collectionSiteId}`:e.zipCode&&e.radius?i=`/drugTest/collectionSite/zipCode/${e.zipCode}/radius/${e.radius}`:e.zipCode?i=`/drugTest/collectionSite/zipCode/${e.zipCode}`:e.countryCode&&e.stateProvinceCode&&e.cityName?i=`/drugTest/collectionSite/country/${e.countryCode}/stateProvince/${e.stateProvinceCode}/city/${e.cityName}`:e.countryCode&&e.stateProvinceCode&&(i=`/drugTest/collectionSite/country/${e.countryCode}/stateProvince/${e.stateProvinceCode}`),this.axiosIns.get(i,{headers:{Authorization:`Basic ${r}`}}).then(a=>a.data).catch(a=>{throw a})}orderECCF(e,r){return this.axiosIns.post("/drugTest/eccf/order",e,{headers:{Authorization:`Basic ${r}`}}).then(i=>i.data).catch(i=>{throw i})}validateECCF(e,r){return this.axiosIns.post("/drugTest/eccf/validate",e,{headers:{Authorization:`Basic ${r}`}}).then(i=>i.data).catch(i=>{throw i})}getECCFOrder(e,r){if(!e.authorizationNumber)throw"Authorization Number Required!";let i=`/drugTest/eccf/order/${e.authorizationNumber}`;return e.policyId&&e.authorizationNumber&&(i=`/drugTest/eccf/order/${e.authorizationNumber}/policy/${e.policyId}`),this.axiosIns.get(i,{headers:{Authorization:`Basic ${r}`}}).then(a=>a.data).catch(a=>{throw a})}getECCFOrderStatus(e,r){if(!e.authorizationNumber)throw"Authorization Number Required!";let i=`/drugTest/eccf/order/${e.authorizationNumber}/status`;return e.policyId&&e.authorizationNumber&&(i=`/drugTest/eccf/order/${e.authorizationNumber}/policy/${e.policyId}/status`),this.axiosIns.get(i,{headers:{Authorization:`Basic ${r}`}}).then(a=>a.data).catch(a=>{throw a})}}const tf=t=>!(typeof t=="undefined"||t===null||t==="");function H3(t,e){return{disa:new W3(t,e)}}const K3=da(pa.create({baseURL:zi.baseURL,timeout:5e4,headers:{"Content-Type":"application/json",Authorization:`${zi.tokenType} ${zi.token}`}}),{maxRequests:6,perMilliseconds:1e3}),{disa:Y3}=H3(K3,{}),Qi=yt("hiring",{state:()=>({deployments:[],dispatches:[],inprocesses:[],assignments:[],flaggedAssignments:[],newEmployee:{}}),getters:{userAccess(){const{userAccess:t}=Qe();return t||[]},deploymentsForProject(){const{active:t}=Qe();return this.modifiedDeployment.length>0?this.modifiedDeployment.filter(e=>e.map.pid===t[3]):[]},alreadyArrived(){const{active:t}=Qe();return this.modifiedDeployment.filter(e=>e[20]==="Complete"&&e.map.pid===t[3])},deploymentQuery(){let t="";return this.userAccess.forEach((e,r)=>{t+=`{'134'.EX.'${e[3]}'}${r<this.userAccess.length-1?"OR":""}`}),`(${t})AND({'33'.OAF.'today'}OR{'33'.IR.'last 10 d'})AND({'20'.EX.'In Process'}OR{'20'.EX.'Complete'})AND{'128'.EX.'Yes'}AND({'27'.EX.'6'}OR{'27'.EX.'7'})`},dispatchQuery(){let t="";return this.userAccess.forEach((e,r)=>{t+=`{'94'.EX.'${e[3]}'}${r<this.userAccess.length-1?"OR":""}`}),`(${t})AND{'17'.EX.'In Process'}`},inProcessQuery(){let t="";return this.userAccess.forEach((e,r)=>{t+=`{'108'.EX.'${e[3]}'}${r<this.userAccess.length-1?"OR":""}`}),`(${t})AND{'37'.EX.'In Process'}`},assignmentQuery(){let t="";return this.userAccess.forEach((e,r)=>{t+=`{'74'.EX.'${e[3]}'}${r<this.userAccess.length-1?"OR":""}`}),`(${t})AND{'21'.EX.'In Process'}AND{'102'.EX.'Active'}`},pipelineForProject(){const{active:t}=Qe();return this.modifiedInProcess.concat(this.modifiedDispatch).concat(this.modifiedDeployment).filter(r=>r.map.pid===t[3])},assignmentsForProject(){const{active:t}=Qe();return this.modifiedAssignments.filter(e=>e.map.pid===t[3])},modifiedInProcess(){const t=[];return this.inprocesses.forEach(e=>{const r={pid:e[108],name:e[39],phone:e[14],status:"In Process",offerDate:e[197].$d,fullJob:e[106],craft:e[175],job:e[120],start:null,jobNumber:e[44],workdayId:e[216]};Object.assign(e,{map:r}),t.push(e)}),t},modifiedDeployment(){const t=[];return this.deployments.forEach(e=>{const r={pid:e[134],name:e[31],phone:e[42],status:"Deployed",offerDate:e[144]===void 0?"":e[144].$d,fullJob:e[45],craft:e[132],job:e[60],start:e[33],jobNumber:e[85],workdayId:e[152],contact:e[186]};Object.assign(e,{map:r}),t.push(e)}),t},modifiedDispatch(){const t=[];return this.dispatches.forEach(e=>{const r={pid:e[157],name:e[25],phone:e[14],status:"In Process",offerDate:e[165].$d,fullJob:e[45],craft:e[141],job:e[76],start:null,jobNumber:e[63],workdayId:e[178]};Object.assign(e,{map:r}),t.push(e)}),t},modifiedAssignments(){const t=[];return this.assignments.forEach(e=>{const r={pid:e[74],name:e[75],phone:e[76],status:"Arrived",offerDate:e[79].$d,fullJob:e[20],craft:e[68],job:e[33],start:e[1].$d,jobNumber:e[105],workdayId:e[104]};Object.assign(e,{map:r}),t.push(e)}),t},getFlaggedAssignments(){return this.assignmentsForProject.filter(t=>t[112])},getNewEmployee:t=>t.newEmployee},actions:{refreshAssignment({assignment:t}){const e=this.assignments.findIndex(r=>r[3]===t[3]);e>-1&&(this.assignments[e]=t)},async checkDisa({project:t,roster:e}){const r=[];e.forEach(a=>{a.employee[188].length===9&&r.push(a.employee[188])});const i={ownerId:t[322],socialSecurityNumbers:r};try{const o=(await Y3.justChecking(i)).results;console.log(o);const u=[];o.forEach(l=>{l.dateChecked=I(),t[321][36]&&l.dccStatus==="ACTIVE"||l.dccStatus==="ACTIVE"?l.ownerStatus="Active":l.ownerStatus="Inactive";const p=l.socialSecurityNumber.slice(l.socialSecurityNumber.length-4),v=l.name.toLowerCase().trim(),C=e.filter(R=>R.employee[188].slice(R.employee[188].length-4)===p?R:null);if(C.length===1){const R={6:{value:C[0].employee[3]},7:{value:C[0].offer[3]},10:{value:JSON.stringify(l)}};u.push(R)}else if(C.length>1){const R=C.find(D=>{const j=D.employee[20].toLowerCase().trim().split(),Q=D.employee[22].toLowerCase().trim().split();return v.includes(j)||v.includes(Q)?D:null});if(R){const D={6:{value:R.employee[3]},7:{value:R.offer[3]},10:{value:JSON.stringify(l)}};u.push(D)}}else console.log(l)});const{data:f}=await q.upsertRecordsXML({to:"bsfjg3kz9",data:u,fieldsToReturn:[15],formatObject:15});if(!f.length>0)throw"Something went wrong";f.forEach(l=>{const p=this.assignments.findIndex(v=>v.employee[3]===l[15][6]);p>-1?this.assignments[p].employee[556]=l[15]:console.log("no employee found")})}catch(a){throw console.log(a),"Something went wrong"}},async checkHiringData(){const{getUser:t}=ne();if(t[11]===11)return await this.getDeployments();if(t[11]===5)return await this.getHiringData()},async getHiringData(){const t=await this.getDeployments();return this.getDispatches(),this.getInProcesses(),this.getAssignments(),t},async getInProcesses(){if(this.inprocesses.length===0){const{data:t}=await q.fetchFromHiringApp({fields:[{6:{value:"bp3gawbee"},7:{value:"Table Query"},8:{value:this.inProcessQuery},9:{value:1},14:{value:239}}]});return this.inprocesses=t,t}else return this.inprocesses},async getDispatches(){if(this.dispatches.length===0){const{data:t}=await q.fetchFromHiringApp({fields:[{6:{value:"bp3gaxedv"},7:{value:"Table Query"},8:{value:this.dispatchQuery},9:{value:1},14:{value:193}}]});return this.dispatches=t,t}else return this.dispatches},async getDeployments(){if(this.deployments.length===0){const{data:t}=await q.fetchFromHiringApp({fields:[{6:{value:"bp3gaymc3"},7:{value:"Table Query"},8:{value:this.deploymentQuery},9:{value:1},14:{value:201}}]});return this.deployments=t,t}else return this.dispatches},async getAssignments(){if(this.assignments.length===0){console.log(this.assignmentQuery);const{data:t}=await q.fetchFromHiringApp({fields:[{6:{value:"bp3gazpqj"},7:{value:"Table Query"},8:{value:this.assignmentQuery},9:{value:1},14:{value:132}}]});return console.log(t),this.assignments=t,t}else return this.assignments},async updateArrival({row:t,added:e}){const r=t,i=this.deployments.find(a=>a[3]===r[3]?a:!1);i&&(e?(await this.addAssignment(i),await this.editEmployee({id:i.employee[3],status:7}),this.editDeployment(i[3],"Complete")):(await this.cancelAssignment(i),await this.editEmployee({id:i.employee[3],status:6}),this.editDeployment(i[3],"In Process")))},async editEmployee({id:t,status:e}){const{data:r}=await q.upsertRecordsXML({to:"bp3gb7ng2",data:[{3:{value:t},79:{value:e}}],fieldsToReturn:[3]});if(r[0]===void 0)throw"Something went wrong";return r[0]},async editDeployment(t,e){const{data:r}=await q.upsertRecordsXML({to:"bp3gaymc3",data:[{3:{value:t},20:{value:e},22:{value:new Date}}],fieldsToReturn:[201],formatObject:201});if(r[0]!==void 0){const i=this.deployments.findIndex(a=>a[3]===r[0][201][3]);i>-1&&(this.deployments[i]=r[0][201])}},async addAssignment(t){const{data:e}=await q.upsertRecordsXML({to:"bp3gazpqj",data:[{6:{value:t[3]},13:{value:t[15]},18:{value:t.employee[3]},60:{value:""}}],fieldsToReturn:[108],formatObject:108});if(e[0]===void 0)throw"There was an error";return this.assignments.push(e[0][108]),e[0]},async cancelAssignment(t){const{data:e}=await q.upsertRecordsXML({to:"bp3gazpqj",data:[{3:{value:t.assignment[0][3]},22:{value:new Date},21:{value:"Canceled"},19:{value:""},60:{value:""}}],fieldsToReturn:[108],formatObject:108});if(e[0]===void 0)throw"There was an error";{const r=this.assignments.findIndex(i=>i[3]===e[0][108][3]);r>-1&&this.assignments.splice(r,1)}return e[0]},async flagAssignment({record:t,status:e}){const{data:r}=await q.upsertRecordsXML({to:"bp3gazpqj",data:[{3:{value:t[3]},112:{value:e}}],fieldsToReturn:[108],formatObject:108});if(r[0]===void 0)throw"There was an error";{const i=this.assignments.findIndex(a=>a[3]===r[0][108][3]);i>-1&&(this.assignments[i]=r[0][108])}return r[0]},updateNewEmployee({info:t}){for(const[e,r]of Object.entries(t))this.newEmployee[e]===void 0?Object.assign(this.newEmployee,{[e]:{value:r}}):this.newEmployee[e]=r}}}),rf=yt("request",{state:()=>({requests:[],newRequest:{},addedClassifications:[],addedNames:[]}),getters:{getClassifications(){return this.addedClassifications},getNames(){const t=[];return this.addedClassifications.forEach(e=>{e.names.forEach(r=>{t.push(r)})}),t},activeProject(){const{active:t}=Qe();return t},requestOptions(){return{contacts:[...new Map(this.activeProject.contacts.map(t=>[t[18],t])).values()],crafts:this.activeProject.crafts,jobNumbers:this.activeProject.jobNumbers,locations:this.activeProject.locations,perdiem:this.activeProject.perdiem}},siteContacts(){return[...new Map(this.activeProject.contacts.map(t=>[t[18],t])).values()]},requestQuery(){const{userAccess:t}=ne();let e="";return t.forEach((r,i)=>{e+=`{'6'.EX.'${r[9]}'}${i<t.length-1?"OR":""}`}),`(${e})AND{'14'.XEX.'Canceled'}AND{'147'.XEX.'6'}`},modifiedOpenRequests(){const{active:t}=Qe(),{modifiedInProcess:e,modifiedDispatch:r,modifiedDeployment:i,modifiedAssignments:a}=Qi(),o=[];return t.openRequests.forEach(u=>{u.classes.forEach(l=>{Object.assign(l,{duration:l[17]==="Closed"?I.duration(I(l[50].$d).diff(I(l[29].$d))).humanize():I(l[50].$d).fromNow(),aboveAvg:l[23]>l.avgRate,aboveAmount:l[23]>l.avgRate?`$ ${(l[23]-l.avgRate).toFixed(2)} above average`:"",balance:l[18]-l.offers.filter(p=>p[21]==="Accepted").length,offers:l.offers,offersCount:l.offers.length,accepted:l.offers.filter(p=>p[21]==="Accepted"),rejected:l.offers.filter(p=>p[21]==="Rejected"),rescinded:l.offers.filter(p=>p[21]==="Rescinded"),need:l[18],title:`${l[43]} ${l[12]}`})});const f={openDate:u[82],closedDate:u[86],id:u[3],pid:u[6],office:u[103],jobNumber:u[27],offers:u.offers,offersCount:u.offers.length,accepted:u.offers.filter(l=>l[21]==="Accepted"),rejected:u.offers.filter(l=>l[21]==="Rejected"),rescinded:u.offers.filter(l=>l[21]==="Rescinded"),deployNumber:u[243],balance:u.classes.reduce((l,p)=>l+p[18],0)-u.offers.filter(l=>l[21]==="Accepted").length,need:u.classes.reduce((l,p)=>l+p[18],0),inprocesses:e.filter(l=>l[138]===u[3]),dispatches:r.filter(l=>l[95]===u[3]),deployments:i.filter(l=>l[80]===u[3]),assignments:a.filter(l=>l[109]===u[3]),status:u[14],hot:u[121],duration:I(u[82].$d).fromNow()};Object.assign(u,{map:f}),o.push(u)}),o},modifiedClosedRequests(){const{active:t}=Qe(),{modifiedInProcess:e,modifiedDispatch:r,modifiedDeployment:i,modifiedAssignments:a}=Qi(),o=[];return t.closedRequests.forEach(u=>{u.classes.forEach(l=>{Object.assign(l,{duration:I.duration(I(l[50].$d).diff(I(l[29].$d))).humanize(),balance:l[18]-l.offers.filter(p=>p[21]==="Accepted").length,offers:l.offers,offersCount:l.offers.length,accepted:l.offers.filter(p=>p[21]==="Accepted"),rejected:l.offers.filter(p=>p[21]==="Rejected"),rescinded:l.offers.filter(p=>p[21]==="Rescinded"),need:l[18],title:`${l[43]} ${l[12]}`})});const f={created:I(u[82].$d).fromNow(),openDate:u[82],closedDate:u[86],id:u[3],pid:u[6],office:u[103],jobNumber:u[27],need:u.classes.reduce((l,p)=>l+p[18],0),offers:u.offers,offersCount:u.offers.length,accepted:u.offers.filter(l=>l[21]==="Accepted"),rejected:u.offers.filter(l=>l[21]==="Rejected"),rescinded:u.offers.filter(l=>l[21]==="Rescinded"),deployNumber:u[243],balance:u.classes.reduce((l,p)=>l+p[18],0)-u.offers.filter(l=>l[21]==="Accepted").length,inprocesses:e.filter(l=>l[138]===u[3]),dispatches:r.filter(l=>l[95]===u[3]),deployments:i.filter(l=>l[80]===u[3]),assignments:a.filter(l=>l[109]===u[3]),status:u[14],hot:u[121],duration:I.duration(I(u[82].$d).diff(I(u[86].$d))).humanize(),durationRaw:I.duration(I(u[82].$d).diff(I(u[86].$d))).as("milliseconds")};Object.assign(u,{map:f}),o.push(u)}),o},modifiedPendingRequests(){const{active:t}=Qe(),{modifiedInProcess:e,modifiedDispatch:r,modifiedDeployment:i,modifiedAssignments:a}=Qi(),o=[];return t.pendingRequests.forEach(u=>{u.classes.forEach(l=>{Object.assign(l,{duration:I.duration(I(l[50].$d).diff(I(l[29].$d))).humanize(),balance:l[18]-l.offers.filter(p=>p[21]==="Accepted").length,offers:l.offers,offersCount:l.offers.length,accepted:l.offers.filter(p=>p[21]==="Accepted"),rejected:l.offers.filter(p=>p[21]==="Rejected"),rescinded:l.offers.filter(p=>p[21]==="Rescinded"),need:l[18],title:`${l[43]} ${l[12]}`})});const f={created:I(u[82].$d).fromNow(),openDate:u[82],closedDate:u[86],id:u[3],pid:u[6],office:u[103],jobNumber:u[27],need:u.classes.reduce((l,p)=>l+p[18],0),offers:u.offers,offersCount:u.offers.length,accepted:u.offers.filter(l=>l[21]==="Accepted"),rejected:u.offers.filter(l=>l[21]==="Rejected"),rescinded:u.offers.filter(l=>l[21]==="Rescinded"),deployNumber:u[243],balance:u.classes.reduce((l,p)=>l+p[18],0)-u.offers.filter(l=>l[21]==="Accepted").length,inprocesses:e.filter(l=>l[138]===u[3]),dispatches:r.filter(l=>l[95]===u[3]),deployments:i.filter(l=>l[80]===u[3]),assignments:a.filter(l=>l[109]===u[3]),status:u[14],hot:u[121],duration:I.duration(I(u[82].$d).diff(I(u[86].$d))).humanize(),durationRaw:I.duration(I(u[82].$d).diff(I(u[86].$d))).as("milliseconds")};Object.assign(u,{map:f}),o.push(u)}),o.sort((u,f)=>u[1].$d>f[1].$d?-1:1)},openRequestsForProject(){return this.modifiedOpenRequests.length>0?this.modifiedOpenRequests:[]},closedRequestsForProject(){return this.modifiedClosedRequests.length>0?this.modifiedClosedRequests:[]},pendingRequestsForProject(){return this.modifiedPendingRequests.length>0?this.modifiedPendingRequests:[]},openRequestsForProjectSummary(){const t=[];this.openRequestsForProject.forEach(i=>{i.classes.forEach(a=>{t.push(a)})});const{length:e}=t,r=t.reduce((i,a)=>i+a[23]/e,0);return{requestCount:this.openRequestsForProject.length,classCount:this.openRequestsForProject.reduce((i,a)=>i+a.classes.length,0),need:this.openRequestsForProject.reduce((i,a)=>i+a.map.need,0),offers:this.openRequestsForProject.reduce((i,a)=>i+a.map.offersCount,0),balance:this.openRequestsForProject.reduce((i,a)=>i+a.map.balance,0),avgRate:r.toFixed(2)}},closedRequestsForProjectSummary(){const t=[];this.closedRequestsForProject.forEach(i=>{i.classes.forEach(a=>{t.push(a)})});const{length:e}=t,r=t.reduce((i,a)=>i+a[23]/e,0);return{requestCount:this.closedRequestsForProject.length,classCount:this.closedRequestsForProject.reduce((i,a)=>i+a.classes.length,0),need:this.closedRequestsForProject.reduce((i,a)=>i+a.map.need,0),offers:this.closedRequestsForProject.reduce((i,a)=>i+a.map.offersCount,0),balance:this.closedRequestsForProject.reduce((i,a)=>i+a.map.balance,0),avgRate:r.toFixed(2),avgDuration:I.duration(this.closedRequestsForProject.reduce((i,a)=>i+a.map.durationRaw/this.closedRequestsForProject.length,0)).humanize()}},pendingRequestsForProjectSummary(){const t=[];this.pendingRequestsForProject.forEach(i=>{i.classes.forEach(a=>{t.push(a)})});const{length:e}=t,r=t.reduce((i,a)=>i+a[23]/e,0);return{requestCount:this.pendingRequestsForProject.length,classCount:this.pendingRequestsForProject.reduce((i,a)=>i+a.classes.length,0),need:this.pendingRequestsForProject.reduce((i,a)=>i+a.map.need,0),offers:this.pendingRequestsForProject.reduce((i,a)=>i+a.map.offersCount,0),balance:this.pendingRequestsForProject.reduce((i,a)=>i+a.map.balance,0),avgRate:r.toFixed(2)}},nameRequestsForProject(){const t=[],e=this.openRequestsForProject.concat(this.pendingRequestsForProject),r=[];return e.forEach(i=>{i.classes.forEach(a=>{r.push(a)})}),r.forEach(i=>{i.names.forEach(a=>{Object.assign(a,{expand:!1}),t.push(a)})}),t}},actions:{pushClassification(t){this.addedClassifications.push(t)},spliceClassification({item:t}){const e=this.addedClassifications.findIndex(r=>r.id===t.id);e>-1&&this.addedClassifications.splice(e,1)},pushName(t){const e=this.addedClassifications.findIndex(r=>r.id===t.classification.id);this.addedClassifications[e].names===void 0?Object.assign(this.addedClassifications[e],{names:[t]}):this.addedClassifications[e].names.push(t),console.log(this.addedClassifications),console.log(this.getNames)},spliceName({item:t}){const e=this.addedNames.findIndex(r=>r.id===t.id);e>-1&&this.addedNames.splice(e,1)},async storeRequest({request:t}){const{checkForMatch:e}=Qe(),r=await e({request:t}),{addPendingRequest:i}=Qe(),{getUser:a}=ne();this.newRequest=t;const o={6:{value:this.activeProject[3]},14:{value:"Pending"},92:{value:this.activeProject[12]},9:{value:t.jobNumber[3]},31:{value:t.location[3]},60:{value:t.contact[3]},64:{value:tt.formatDate(t.dateNeeded,"MM-DD-YYYY")},68:{value:t.perdiem!==void 0?"Yes":"No"},82:{value:new Date},272:{value:a[3]},147:{value:2},281:{value:!0},280:{value:r?r[3]:""},282:{value:t.restriction.value},284:{value:t.reason.value}};t.perdiem&&t.perdiem[3]!==void 0&&Object.assign(o,{65:{value:t.perdiem[3]}});const{data:u}=await q.upsertRecordsXML({to:"bpzpyjbuy",data:[o],fieldsToReturn:[266],formatObject:266});if(u.length>0){this.newRequest=u[0][266];const f=[],l=[];return this.addedClassifications.forEach(v=>{const C={6:{value:this.newRequest[3]},9:{value:v.job[3]},17:{value:"Pending"},18:{value:v.qty},23:{value:v.rate},238:{value:v.id}};f.push(C),v.names.length>0&&v.names.forEach(R=>{l.push(R)})}),(await this.upsertClassifications({fields:f,names:l})).forEach(v=>{this.newRequest.classes.push(v[220])}),i(this.newRequest),!0}else return!1},async addToRequest({request:t}){const{mergePendingRequest:e}=Qe();this.newRequest=t;const r=[],i=[];return this.addedClassifications.forEach(o=>{const u=t.classes.find(l=>l[9]===o.job[3]&&l[23]===parseFloat(o.rate)),f=u===void 0?{6:{value:this.newRequest[3]},9:{value:o.job[3]},17:{value:"Pending"},18:{value:parseInt(o.qty)<o.names.length?o.names.length:o.qty},23:{value:o.rate},238:{value:o.id}}:{3:{value:u[3]},18:{value:parseInt(o.qty)<o.names.length?o.names.length+u[18]:parseInt(o.qty)+u[18]},238:{value:o.id}};r.push(f),o.names.length>0&&o.names.forEach(l=>{i.push(l)})}),(await this.upsertClassifications({fields:r,names:i})).forEach(o=>{const u=!this.newRequest.classes||this.newRequest.classes.length===0?-1:this.newRequest.classes.findIndex(f=>f[3]===o[220][3]);u<0?this.newRequest.classes.push(o[220]):this.newRequest.classes[u]=o[220]}),e(this.newRequest),t},async upsertClassifications({fields:t,names:e}){const{getUser:r}=ne(),{data:i}=await q.upsertRecordsXML({to:"bpzpyqcu4",data:t,fieldsToReturn:[220],formatObject:220});if(i.length>0)if(e.length>0){const a=[];e.forEach(u=>{const f={6:{value:u.firstName},7:{value:u.lastName},8:{value:u.phone},19:{value:I().tz("America/Chicago")},16:{value:u.ssn},10:{value:"Has Not Arrived"},14:{value:`${r[35]} ${r[37]}`}},l=i.find(p=>p[220][238]===u.classification.id);l!==void 0&&Object.assign(f,{17:{value:l[220][3]}}),a.push(f)});const o=await q.upsertRecordsXML({to:"bsg4yb4wa",data:a,fieldsToReturn:[15],formatObject:15});if(o.data.length>0)return o.data.forEach(u=>{const f=i.findIndex(l=>l[220][3]===u[15][17]);i[f][220].names===void 0?Object.assign(i[f][220],{names:[u[15]]}):i[f][220].names.push(u[15])}),i;throw"Something went wrong"}else return i;else throw"Something went wrong"},resetRequest(){this.newRequest={},this.addedClassifications=[],this.addedNames=[]},async submitCancelRequest({request:t}){const{removeRequest:e}=Qe(),{getUser:r}=ne(),i=[];if(t.classes.forEach(o=>{const u={3:{value:o[3]},17:{value:"Cancelled"},51:{value:new Date},128:{value:6}};i.push(u)}),i.length>0)try{await q.upsertRecordsXML({to:"bpzpyqcu4",data:i,fieldsToReturn:[220],formatObject:220})}catch{throw"There was a problem. Try again later."}const{data:a}=await q.upsertRecordsXML({to:"bpzpyjbuy",data:[{3:{value:t[3]},14:{value:"Cancelled"},84:{value:new Date},147:{value:6},276:{value:r[3]},277:{value:`${r[35]} ${r[37]}`}}],fieldsToReturn:[266],formatObject:266});if(a.length>0)return e({request:a[0][266]}),!0;throw"There was a problem. Try again later."},async submitCancelClassification({item:t}){const{removeClassification:e}=Qe(),r=[{3:{value:t[3]},17:{value:"Cancelled"},51:{value:new Date},128:{value:6}}],{data:i}=await q.upsertRecordsXML({to:"bpzpyqcu4",data:r,fieldsToReturn:[220],formatObject:220});if(i.length>0){if(i[0][220][243]>0)return e({classification:i[0][220]}),"Classification removed!";{const a={3:i[0][220][6],classes:[]};return await this.submitCancelRequest({request:a}),"Classification removed and request canceled!"}}else throw"There was a problem. Try again later."},async upsertName({name:t,action:e}){const{getUser:r}=ne(),{refreshClassification:i}=Qe(),a=e==="create"?{6:{value:t.firstName},7:{value:t.lastName},8:{value:t.phone},17:{value:t.classification[3]},19:{value:I().tz("America/Chicago")},16:{value:t.ssn},10:{value:"Has Not Arrived"},14:{value:`${r[35]} ${r[37]}`}}:{3:{value:t[3]},11:{value:!0},12:{value:I().tz("America/Chicago")},13:{value:`${r[35]} ${r[37]}`}},{data:o}=await q.upsertRecordsXML({to:"bsg4yb4wa",data:[a],fieldsToReturn:[20],formatObject:20});if(o[0]!==void 0)return i({classification:o[0][20]}),o[0][20]}}}),{capitalize:nf}=R1,Qe=yt("projects",{state:()=>({projects:[],requests:[],activeProject:{},matrixColumns:[]}),getters:{active(){return this.activeProject[3]!==void 0?this.activeProject:this.projects.length>0?this.projects[0]:{openRequests:[],closedRequests:[]}},userAccess(){return this.projects.length>0?this.projects:null},projectCrafts(){return this.active.crafts!==void 0?this.active.crafts.sort((t,e)=>t.order>e.order?1:-1):null},usersForProject(){return this.active.users!==void 0?this.active.users:[]},availableMatrixColumns(){const t=this.active?this.active.matrix:[],e=[];return this.matrixColumns.forEach(r=>{t.findIndex(a=>a[18]===r[12])<0&&e.push(r)}),e.forEach(r=>{const i=r[6].split(" ");let a="";i.forEach((o,u)=>{a+=u>0?` ${nf(o)}`:nf(o)}),r[6]=a}),e.length>0?[...new Map(e.map(r=>[r[6],r])).values()]:[]}},actions:{addNewMatrixColumn({project:t,data:e}){const r=this.projects.findIndex(i=>i[3]===t[3]);r>-1&&this.projects[r].matrix.push(e)},async getMatrixColumns(){if(this.matrixColumns.length===0){const{data:t}=await q.fetchFromProjectsApp({fields:[{14:{value:9},9:{value:1},8:{value:"{'13'.EX.false}"},7:{value:"Table Query"},6:{value:"bsjdig6gn"}}]});return this.matrixColumns=t,this.availableMatrixColumns}else return this.availableMatrixColumns},refreshClassification({classification:t}){const e=this.projects.findIndex(r=>r[3]===t[7]);if(t[131]==="Pending"){const r=this.projects[e].pendingRequests.findIndex(a=>a[3]===t[6]),i=this.projects[e].pendingRequests[r].classes.findIndex(a=>a[3]===t[3]);this.projects[e].pendingRequests[r].classes[i]=t}else if(t[131]==="Open"){const r=this.projects[e].openRequests.findIndex(a=>a[3]===t[6]),i=this.projects[e].openRequests[r].classes.findIndex(a=>a[3]===t[3]);this.projects[e].openRequests[r].classes[i]=t}},addUser({user:t}){this.projects.find(r=>r[3]===this.active[3]).users.push(t)},updateActive({project:t}){this.activeProject=t},async getProjectsData(){const{userAccess:t}=ne();return t.forEach(e=>{if(e[7]==="Project"){const r=e.project?e.project:{};(r[3]===void 0?0:this.projects.findIndex(a=>a[3]===r[3]))<0&&this.projects.push(r)}else e[7]==="Facility"&&e.facility.projects.forEach(i=>{this.projects.findIndex(o=>o[3]===i[3])<0&&this.projects.push(i)})}),this.projects},addPendingRequest(t){const e=this.projects.findIndex(r=>r[3]===t[6]);if(e>-1){this.projects[e].pendingRequests.unshift(t);const{resetRequest:r}=rf();r()}},mergePendingRequest(t){console.log(t),Object.assign(t,{updated:!0});const e=this.projects.findIndex(r=>r[3]===t[6]);if(e>-1){const r=this.projects[e].pendingRequests.findIndex(a=>a[3]===t[3]);r>-1&&(this.projects[e].pendingRequests[r]=t,setTimeout(()=>{this.projects[e].pendingRequests[r].updated=!1},1e4));const{resetRequest:i}=rf();i()}},removeRequest({request:t}){const e=this.projects.findIndex(r=>r[3]===t[6]);if(e>-1){const r=this.projects[e].pendingRequests.findIndex(i=>i[3]===t[3]);r>-1&&this.projects[e].pendingRequests.splice(r,1)}},removeClassification({classification:t}){const e=this.projects.findIndex(r=>r[3]===t[7]);if(e>-1){const r=this.projects[e].pendingRequests.findIndex(i=>i[3]===t[6]);if(r>-1){const i=this.projects[e].pendingRequests[r].classes.findIndex(a=>a[3]===t[3]);i>-1&&this.projects[e].pendingRequests[r].classes.splice(i,1)}}},udpateProjectCrafts({craft:t}){const e=this.projects.findIndex(r=>r[3]===t[7]);if(e>-1){const r=this.projects[e].crafts.findIndex(i=>i[3]===t[3]);r>-1&&(this.projects[e].crafts[r]=t)}},async checkForMatch({request:t}){let e;return t.perdiem===void 0?e=this.active.openRequests.filter(r=>r[9]===t.jobNumber[3]&&r[31]===t.location[3]&&r[60]===t.contact[3]):e=this.active.openRequests.filter(r=>r[9]===t.jobNumber[3]&&r[31]===t.location[3]&&r[60]===t.contact[3]&&r[65]===t.perdiem[3]),e.length>0?(e.sort((r,i)=>r[1].$d<i[1].$d?1:-1),e[0]):null}}}),X3=async t=>{const{meta:e,record:r}=t,{action:i,type:a}=e,{userData:o,getUserType:u}=ne(),f=o;delete f.access,delete f.permissions;const l=[{6:{value:i},7:{value:a},10:{value:JSON.stringify(r)},11:{value:u},12:{value:o[3]}}];q.upsertRecordsXML({to:"bsvafpumu",data:l,fieldsToReturn:[3]})};class z3{constructor(e,r){ue(this,"axiosIns",null);ue(this,"config",{..._h});ue(this,"appConfig",H);ue(this,"isAlreadyFetchingAccessToken",{});ue(this,"subscribers",[]);ue(this,"rateLimit",null);ue(this,"rateLimitRemaining",null);ue(this,"rateLimitReset",null);ue(this,"router",null);ue(this,"loginAttempts",{invalidLogins:0,login:null,exp:null,currentTime:null});ue(this,"appStore",null);ue(this,"userStore",null);ue(this,"employeeStore",null);ue(this,"jobBoardStore",null);ue(this,"profileStore",null);ue(this,"assessmentStore",null);ue(this,"applicationStore",null);ue(this,"kioskStore",null);ue(this,"hiringCenterStore",null);ue(this,"projectsStore",null);ue(this,"hiringStore",null);ue(this,"dataStore",null);ue(this,"serverAPI",dr);if(this.axiosIns=e,this.config={...this.config,...r},this.axiosIns.interceptors.request.use(async i=>new Promise(a=>{const{url:o,data:u}=i;if(this.config.dev&&(i.url="https://cors-anywhere.elitehcms.com/"+o),this.appConfig.trackPerformance){const p=window.location.hash.split("#")[1]||"";i.metadata={pageType:this.appConfig.pageType,pageId:this.appConfig.pageId,page:p}}let f=null,l="";if(o.includes("act=API_Authenticate")||o.includes("a=API_GetUserInfo")||o.includes("a=API_DoQuery")||o.includes("a=API_AddRecord")||o.includes("?a=API_EditRecord")){try{f=o.split("/db/")[1].split("?")[0]}catch{f=null}try{l=o.split("=")[1]}catch{l=""}if(o.includes("a=API_DoQuery")){const p={6:{value:`${this.appConfig.pageType}-${this.appConfig.pageId}`},7:{value:"DoQuery"},8:{value:f}};this.addLogRecord({data:[p]})}this.appConfig.trackPerformance&&(i.metadata.dbid=f,i.metadata.action=l,i.metadata.startTime=performance.now()),a(i)}else if(o.includes("auth/temporary"))this.config.realm&&(i.headers["QB-Realm-Hostname"]=`${this.config.realm}.quickbase.com`),this.config.appToken&&(i.headers["QB-App-Token"]=this.config.appToken),i.headers["Request-Count"]?i.headers["Request-Count"]+=1:i.headers["Request-Count"]=1,this.appConfig.trackPerformance&&(i.metadata.action="Auth/Temporary",i.metadata.startTime=performance.now()),a(i);else{if(this.config.realm&&(i.headers["QB-Realm-Hostname"]=`${this.config.realm}.quickbase.com`),this.config.appToken&&(i.headers["QB-App-Token"]=this.config.appToken),i.headers["Request-Count"]?i.headers["Request-Count"]+=1:i.headers["Request-Count"]=1,o==="https://api.quickbase.com/v1/records/query"){f=u.from;const v={6:{value:`${this.appConfig.pageType}-${this.appConfig.pageId}`},7:{value:"Rest Query"},8:{value:f}};i.metadata.dbid=f,i.metadata.action="Rest Query",this.addLogRecord({data:[v]})}else if(o==="https://api.quickbase.com/v1/records")f=u.to,i.metadata.dbid=f,i.metadata.action="Records";else if(o.startsWith("https://api.quickbase.com/v1/reports")){const v=new URL(o);f=new URLSearchParams(v.search).get("tableId"),f=u.from;const R={6:{value:`${this.appConfig.pageType}-${this.appConfig.pageId}`},7:{value:"Rest Report"},8:{value:f}};i.metadata.dbid=f,i.metadata.action="Rest Report",this.addLogRecord({data:[R]})}else o.startsWith("https://api.quickbase.com/v1/files")&&(f=o.split("/files/")[1].split("/")[0]);const p=this;if(!f){const v=JSON.parse(u);f=v.from?v.from:v.to,i.metadata.dbid=f}this.getToken(f).then(v=>{const C=v;if(C)i.headers.Authorization=C,this.appConfig.trackPerformance&&(i.metadata.startTime=performance.now()),a(i);else if(!p.isAlreadyFetchingAccessToken[`${f}`])p.isAlreadyFetchingAccessToken[`${f}`]=!0,p.refreshToken(f).then(R=>{const{data:D}=R;p.isAlreadyFetchingAccessToken[`${f}`]=!1,p.setToken(D.temporaryAuthorization,f).then(()=>{p.onAccessTokenFetched(D.temporaryAuthorization),i.headers.Authorization=`QB-TEMP-TOKEN ${D.temporaryAuthorization}`,this.appConfig.trackPerformance&&(i.metadata.startTime=performance.now()),a(i)})});else{const R=C;async function D(){p.getToken(f).then(j=>{const Q=j;if(Q===R){setTimeout(D,50);return}i.headers.Authorization=Q,i.metadata.startTime=performance.now(),a(i)})}D()}})}}),i=>Promise.reject(i)),this.axiosIns.interceptors.response.use(i=>{if(this.appConfig.trackPerformance&&(i.config.metadata.endTime=performance.now(),i.config.metadata.duration=i.config.metadata.endTime-i.config.metadata.startTime,this.postAPIPerformance(i.config.metadata)),i&&i.headers){const{headers:a}=i;a&&(this.rateLimit=a["x-ratelimit-limit"]?a["x-ratelimit-limit"]:null,this.rateLimitRemaining=a["x-ratelimit-remaining"]?a["x-ratelimit-remaining"]:null,this.rateLimitReset=a["x-ratelimit-reset"]?a["x-ratelimit-reset"]:null)}return i},i=>new Promise((a,o)=>{const{config:u,response:f}=i;console.log(i);const{headers:l}=f;l&&(this.rateLimit=l["x-ratelimit-limit"]?l["x-ratelimit-limit"]:null,this.rateLimitRemaining=l["x-ratelimit-remaining"]?l["x-ratelimit-remaining"]:null,this.rateLimitReset=l["x-ratelimit-reset"]?l["x-ratelimit-reset"]:null);const p=u,{url:v,data:C}=p;let R=this.config.appDBID;const D=C?JSON.parse(C):null;if(v==="https://api.quickbase.com/v1/records/query"?R=D.from:v==="https://api.quickbase.com/v1/records"&&(R=D.to),f&&f.status===401){const j=new Promise(Q=>{this.addSubscriber(J=>{p.headers.Authorization=J,Q(this.axiosIns(p))})});this.isAlreadyFetchingAccessToken[`${R}`]||(this.isAlreadyFetchingAccessToken[`${R}`]=!0,this.refreshToken(R).then(Q=>{this.isAlreadyFetchingAccessToken[`${R}`]=!1,this.setToken(Q.data.temporaryAuthorization,R),this.onAccessTokenFetched(Q.data.temporaryAuthorization)})),a(j)}else if(f&&f.status===429){const j=this,Q=new Promise(J=>{setTimeout(()=>{J(this.axiosIns(p))},j.rateLimitReset)});p.headers["Request-Count"]&&p.headers["Request-Count"]>4?o(i):a(Q)}else if(f&&f.status===400){const{data:j}=f;if(j.description==="You are not currently signed into the realm.")window.close(),o(i);else if(j.description==="Required header 'Authorization' not specified"){this.isAlreadyFetchingAccessToken[`${R}`]||(this.isAlreadyFetchingAccessToken[`${R}`]=!0,this.refreshToken(R).then(J=>{this.isAlreadyFetchingAccessToken[`${R}`]=!1,this.setToken(J.data.temporaryAuthorization,R),this.onAccessTokenFetched(J.data.temporaryAuthorization)}));const Q=new Promise(J=>{this.addSubscriber(G=>{p.headers.Authorization=G,J(this.axiosIns(p))})});a(Q)}else if(j.description==="Invalid Authorization"){this.isAlreadyFetchingAccessToken[`${R}`]||(this.isAlreadyFetchingAccessToken[`${R}`]=!0,this.refreshToken(R).then(J=>{this.isAlreadyFetchingAccessToken[`${R}`]=!1,this.setToken(J.data.temporaryAuthorization,R),this.onAccessTokenFetched(J.data.temporaryAuthorization)}));const Q=new Promise(J=>{this.addSubscriber(G=>{p.headers.Authorization=G,J(this.axiosIns(p))})});a(Q)}}o(i)})),this.serverAPI.feathersClient){const i=this;this.serverAPI.feathersClient.service("notifications").on("created",function(a){i.processServerNotifications(a)})}}processServerNotifications(e){e.type==="user-notification"?e.task==="reload-user"?this.reloadUserInfo({reAuthenticate:!0}):e.task==="reload-page"?window.location.reload(!0):e.task==="logout"&&this.logout():e.type==="office-notification"&&(e.task==="reload-page"?window.location.reload(!0):this.userStore.setFeathersNotification(e))}onAccessTokenFetched(e){this.subscribers=this.subscribers.filter(r=>r(e))}addSubscriber(e){this.subscribers.push(e)}async getToken(e){return this.config.dev&&this.config.userToken?`QB-USER-TOKEN ${this.config.userToken}`:Ce.has(`${e}`)?`QB-TEMP-TOKEN ${Ce.get(`${e}`)}`:null}refreshToken(e){return this.axiosIns.get(`${this.config.refreshEndpoint}/${e}`,{withCredentials:!0})}async setToken(e,r){const i=r||this.config.appDBID;Ce.set(`${i}`,e,{expires:this.config.tokenExpiration,secure:!0,sameSite:"Strict"})}async setIpInfo(e){F.setItem(this.appConfig.storageIPInfoKeyName,e),e.countryCode!==this.appConfig.country&&this.appConfig.pageId!==26&&this.setCountry(e.countryCode)}async setCountry(e){this.appStore=this.appStore||Fe(),this.appStore.setCountry(e)}async getIpInfo(){return await F.getItem(this.appConfig.storageIPInfoKeyName)}setUserTicket(e,r){Ce.set(this.appConfig.storageUserTicketKeyName,e,{expires:r||this.config.cookieExpiration,secure:!0,sameSite:"Strict"})}getUserTicket(){return Ce.get(this.appConfig.storageUserTicketKeyName)}setKioskTicket(e,r){Ce.set(this.appConfig.storageKioskAccountTicket,e,{expires:r||this.config.kioskExpiration,secure:!0,sameSite:"Strict"})}getKioskTicket(){return Ce.get(this.appConfig.storageKioskAccountTicket)}removeKioskTicket(){Ce.remove(this.appConfig.storageKioskAccountTicket,{secure:!0,sameSite:"Strict"})}setOfficeLocation(e){this.hiringCenterStore=this.hiringCenterStore||ot(),this.appConfig.pageType!=="Candidate Kiosk"&&this.hiringCenterStore.fetchHiringCenter(e.rid,!0),Ce.set(this.appConfig.storageOfficeLocationKeyName,e,{expires:this.config.officeExpiration,secure:!0,sameSite:"Strict"})}setCheckIn(e){console.log(e),Ce.set(this.appConfig.storageCheckInKeyName,e,{expires:this.config.checkInExpiration,secure:!0,sameSite:"Strict"})}removeCheckIn(){Ce.remove(this.appConfig.storageCheckInKeyName,{secure:!0,sameSite:"Strict"})}getCheckIn(){return Ce.get(this.appConfig.storageCheckInKeyName)}getOfficeLocation(){return Ce.get(this.appConfig.storageOfficeLocationKeyName)}removeOfficeLocation(){Ce.remove(this.appConfig.storageOfficeLocationKeyName,{secure:!0,sameSite:"Strict"})}async setUserInfo(e,r){this.userStore.setUser(e,r)}async setStrapiUser(e,r){this.userStore.setStrapiUser(e,r),Dr.setSocket()}async setUserAccess(e,r){this.userStore.setAccess(e,r)}async setUserPermissions(e,r){this.userStore.setPermissions(e,r)}async getUserInfo(){return await F.getItem(this.appConfig.storageUserKeyName)}async getUserAccess(){return await F.getItem(this.appConfig.storageAccessKeyName)}async getUserPermissions(){return await F.getItem(this.appConfig.storagePermissionsKeyName)}async setEmployee(e,r){this.employeeStore.setEmployee(e,r)}async setJobBoard(e,r){this.jobBoardStore.setRequestJobs(e,r)}async getUserTypeFromStore(){return this.appStore.currentUserType}async getEmployeeFromStore(){return this.employeeStore.getEmployee}async getSocialRequired(e){return(this.appConfig.pageType==="Candidate Kiosk"||this.appConfig.pageType==="Candidate")&&e?(this.employeeStore=this.employeeStore||Pe(),this.employeeStore.socialRequired):!1}async getUserFromStore(e){return e?(this.userStore=this.userStore||ne(),this.userStore.getUser):!1}async getLoggedInFromStore(){return this.userStore.isLoggedIn}async verifyRequired(e){return e?(this.userStore=this.userStore||ne(),this.userStore.verifyRequired):!1}async phoneNumberRequired(e){return e?(this.userStore=this.userStore||ne(),this.userStore.phoneNumberRequired):!1}async setEvent(e,r){this.appStore=this.appStore||Fe(),this.appStore.setEvent(e,r)}async getEvent(e){return this.appStore=this.appStore||Fe(),e?this.appStore.currentEvent:null}async emailRequired(e){return e?(this.userStore=this.userStore||ne(),this.userStore.emailRequired):!1}async setPhoneNumberVerified(e){this.userStore.setPhoneNumberVerified(e)}async setVerified(e){this.userStore.setVerified(e)}async employeeLinkRequired(e){return e?(this.userStore=this.userStore||ne(),this.userStore.employeeLinkRequired):!1}async bookmarksValid(){return this.kioskStore=this.kioskStore||Ue(),!!(this.kioskStore.getBookmarks&&this.kioskStore.getBookmarks.length>0)}async getKioskAccount(){return this.kioskStore?this.kioskStore.kioskAccount:null}async logoutKiosk(e){if(this.kioskStore=this.kioskStore||Ue(),e)this.removeKioskTicket(),this.kioskStore.setKioskAccount(null,!1),this.clearBookmarks();else if(!this.kioskStore.kioskAvailable)this.clearBookmarks();else if(this.kioskStore.getBookMarksOnly&&this.kioskStore.kioskAccount[45]===!0)this.removeKioskTicket(),this.kioskStore.setKioskAccount(null,!1),this.clearBookmarks();else return!0}async clearBookmarks(){this.kioskStore=this.kioskStore||Ue(),this.kioskStore.removeBookmarks()}async bookMarksOnly(){return this.kioskStore=this.kioskStore||Ue(),this.kioskStore.getBookMarksOnly}async startPageEnabled(){return this.appStore=this.appStore||Fe(),this.appStore.startPageEnabled}async setIdentityVerified(e){this.userStore.setIdentityVerified(e)}async setPhoneNumber(e){this.userStore.setPhoneNumber(e)}async setEmail(e){this.userStore.setEmail(e)}async isUserLoggedIn(){const e=this.getUserInfo(),r=this.getUserAccess(),i=this.getUserPermissions(),a=this.getUserTicket(),o=await e,u=await r,f=await i;return!!(o&&u&&f&&a||a)}async reloadUserInfo(e){const r=await this.getUserInfo();if(this.userStore=this.userStore||ne(),e.reAuthenticate&&r)return await this.fetchAndSetUserData({phoneNumber:r[8],userType:r[32],rid:r[3],reAuthenticate:e.reAuthenticate}),this.updateStore();if(!r&&this.appConfig.pageType==="QuickBase User"){const{data:i}=await this.getNativeQuickbaseUser({qbUser:!0});if(i.login==="Anonymous")return this.userStore.logout();const a=`{'10'.EX.'Active'}AND{'6'.EX.'${i.email}'}AND{'32'.EX.'QuickBase User'}`,o=[{7:{value:"User Request"},8:{value:a},9:{value:1},14:{value:77}}],{data:u}=await this.fetchFromStructureApp({fields:o});return u[0]&&u[0][10]==="Active"?(await this.fetchAndSetUserData({email:u[0][6],rid:u[0][3],userType:u[0][32],reAuthenticate:e.reAuthenticate}),this.updateStore()):u[0]&&u[0][10]!=="Active"?this.userStore.logout():this.createQBUser({qbUser:i,login:!0})}else return this.updateStore()}async createQBUser(e){const r=e.qbUser||null;if(!r&&e.login)return this.userStore.logout();if(!r)return e;const i=[{7:{value:"Hiring Center User"},9:{value:1},16:{value:r.email}}],{data:a}=await this.fetchFromStructureApp({fields:i});if(typeof a=="object"&&!Array.isArray(a)&&a!==null&&a.user&&typeof a.user=="object")try{const o=new Date,u=await $n.genSalt(10),f=$n.hashSync("welcome",u),l=a.user,p=a.accessiblePayGroups,v=a.accessibleHiringCenters,C=r.email.match(/^([^@]*)@/)[1],R=[{6:{value:r.email},7:{value:f},10:{value:"Active"},11:{value:4},17:{value:!1},32:{value:"QuickBase User"},35:{value:r.firstName},37:{value:r.lastName},23:{value:0},24:{value:0},25:{value:o},26:{value:o},33:{value:C},49:{value:!!r.isVerified},65:{value:l[13]},70:{value:l[251]},100:{value:"en-US"},110:{value:r.id}}],D=[],{data:j}=await this.upsertRecordsXML({to:"br4pxrbs6",fieldsToReturn:[76],data:R,formatObject:76});return j.length===0?this.userStore.logout():(p.forEach(Q=>{const J={6:{value:j[0][76][3]},7:{value:"Pay Group"},13:{value:Q[10]},20:{value:!0},21:{value:!0},22:{value:!0}};D.push(J)}),v.forEach(Q=>{const J={6:{value:j[0][76][3]},7:{value:"Office"},8:{value:Q[10]},20:{value:!0},21:{value:!0},22:{value:!0}};D.push(J)}),await this.upsertRecordsXML({to:"br598isx6",fieldsToReturn:[3],data:D,formatObject:24}),await this.fetchAndSetUserData({email:j[0][76][6],rid:j[0][76][3],userType:j[0][76][32],reAuthenticate:e.reAuthenticate}))}catch{return this.userStore.logout()}else return this.userStore.logout()}async updateUserData(e){const r=await this.getUserInfo();if(this.appStore=this.appStore||Fe(),r)return this.userStore=this.userStore||ne(),await this.userStore.updateUserData(e)}async updateEmployeeData(e){const r=await this.getUserInfo();if(this.appStore=this.appStore||Fe(),(this.appStore.pageType==="Candidate"||this.appStore.pageType==="Candidate Kiosk")&&r)return this.employeeStore=this.employeeStore||Pe(),await this.employeeStore.updateEmployeeData(e)}async updateStore(e){const r=await F.keys();for(let a=0;a<r.length;a++){if(r[a]===this.appConfig.storageUserKeyName){const o=await F.getItem(r[a]);Object.keys(o).forEach(u=>{if(typeof o[u]=="object"&&o[u]!==null&&Object.prototype.hasOwnProperty.call(o[u],"$d")){o[u]=I(o[u].$d);return}try{o[u].endsWith(".000Z")&&(o[u]=I(o[u]))}catch{}}),await this.setUserInfo(o,!1)}if(r[a]===this.appConfig.storageStrapiUserKeyName){const o=await F.getItem(r[a]);Object.keys(o).forEach(u=>{if(typeof o[u]=="object"&&o[u]!==null&&Object.prototype.hasOwnProperty.call(o[u],"$d")){o[u]=I(o[u].$d);return}try{o[u].endsWith(".000Z")&&(o[u]=I(o[u]))}catch{}}),await this.setStrapiUser(o,!1)}if(r[a]===this.appConfig.storageAccessKeyName){const o=await F.getItem(r[a]);for(let u=0;u<o.length;u++){const f=Object.keys(o[u]);for(let l=0;l<f.length;l++){typeof o[u][f[l]]=="object"&&o[u][f[l]]!==null&&Object.prototype.hasOwnProperty.call(o[u][f[l]],"$d")&&(o[u][f[l]]=I(o[u][f[l]].$d));try{o[u][f[l]].endsWith(".000Z")&&(o[u][f[l]]=I(o[u][f[l]]))}catch{}}}await this.setUserAccess(o,!1)}if(r[a]===this.appConfig.storagePermissionsKeyName){const o=await F.getItem(r[a]);for(let u=0;u<o.length;u++){const f=Object.keys(o[u]);for(let l=0;l<f.length;l++){typeof o[u][f[l]]=="object"&&o[u][f[l]]!==null&&Object.prototype.hasOwnProperty.call(o[u][f[l]],"$d")&&(o[u][f[l]]=I(o[u][f[l]].$d));try{o[u][f[l]].endsWith(".000Z")&&(o[u][f[l]]=I(o[u][f[l]]))}catch{}}}await this.setUserPermissions(o,!1)}if(r[a]===this.appConfig.storageEmployeeKeyName){const o=await F.getItem(r[a]);for(let u=0;u<o.length;u++){const f=Object.keys(o[u]);for(let l=0;l<f.length;l++){typeof o[u][f[l]]=="object"&&o[u][f[l]]!==null&&Object.prototype.hasOwnProperty.call(o[u][f[l]],"$d")&&(o[u][f[l]]=I(o[u][f[l]].$d));try{o[u][f[l]].endsWith(".000Z")&&(o[u][f[l]]=I(o[u][f[l]]))}catch{}}}await this.setEmployee(o,!1)}if(r[a]===this.appConfig.storageJobBoardKeyName){const o=await F.getItem(r[a]);for(let u=0;u<o.length;u++){const f=Object.keys(o[u]);for(let l=0;l<f.length;l++){typeof o[u][f[l]]=="object"&&o[u][f[l]]!==null&&Object.prototype.hasOwnProperty.call(o[u][f[l]],"$d")&&(o[u][f[l]]=I(o[u][f[l]].$d));try{o[u][f[l]].endsWith(".000Z")&&(o[u][f[l]]=I(o[u][f[l]]))}catch{}}}this.jobBoardStore=this.jobBoardStore||Lh(),await this.setJobBoard(o,!1)}if(r[a]===this.appConfig.storageExperienceOptions){const o=await F.getItem(r[a]);for(let u=0;u<o.length;u++){const f=Object.keys(o[u]);for(let l=0;l<f.length;l++){typeof o[u][f[l]]=="object"&&o[u][f[l]]!==null&&Object.prototype.hasOwnProperty.call(o[u][f[l]],"$d")&&(o[u][f[l]]=I(o[u][f[l]].$d));try{o[u][f[l]].endsWith(".000Z")&&(o[u][f[l]]=I(o[u][f[l]]))}catch{}}}this.applicationStore=this.applicationStore||Tt(),await this.applicationStore.setExperienceOptions(o,!1)}if(r[a]===this.appConfig.storageContactMethods){const o=await F.getItem(r[a]);for(let u=0;u<o.length;u++){const f=Object.keys(o[u]);for(let l=0;l<f.length;l++){typeof o[u][f[l]]=="object"&&o[u][f[l]]!==null&&Object.prototype.hasOwnProperty.call(o[u][f[l]],"$d")&&(o[u][f[l]]=I(o[u][f[l]].$d));try{o[u][f[l]].endsWith(".000Z")&&(o[u][f[l]]=I(o[u][f[l]]))}catch{}}}this.applicationStore=this.applicationStore||Tt(),await this.applicationStore.setContactMethods(o,!1)}if(r[a]===this.appConfig.storageEmploymentOptions){const o=await F.getItem(r[a]);for(let u=0;u<o.length;u++){const f=Object.keys(o[u]);for(let l=0;l<f.length;l++){typeof o[u][f[l]]=="object"&&o[u][f[l]]!==null&&Object.prototype.hasOwnProperty.call(o[u][f[l]],"$d")&&(o[u][f[l]]=I(o[u][f[l]].$d));try{o[u][f[l]].endsWith(".000Z")&&(o[u][f[l]]=I(o[u][f[l]]))}catch{}}}this.applicationStore=this.applicationStore||Tt(),await this.applicationStore.setEmploymentOptions(o,!1)}if(r[a]===this.appConfig.storageCompanyOptions){const o=await F.getItem(r[a]);for(let u=0;u<o.length;u++){const f=Object.keys(o[u]);for(let l=0;l<f.length;l++){typeof o[u][f[l]]=="object"&&o[u][f[l]]!==null&&Object.prototype.hasOwnProperty.call(o[u][f[l]],"$d")&&(o[u][f[l]]=I(o[u][f[l]].$d));try{o[u][f[l]].endsWith(".000Z")&&(o[u][f[l]]=I(o[u][f[l]]))}catch{}}}this.applicationStore=this.applicationStore||Tt(),await this.applicationStore.setCompanyOptions(o,!1)}if(r[a]===this.appConfig.storageCraftOptions){const o=await F.getItem(r[a]);for(let u=0;u<o.length;u++){const f=Object.keys(o[u]);for(let l=0;l<f.length;l++){typeof o[u][f[l]]=="object"&&o[u][f[l]]!==null&&Object.prototype.hasOwnProperty.call(o[u][f[l]],"$d")&&(o[u][f[l]]=I(o[u][f[l]].$d));try{o[u][f[l]].endsWith(".000Z")&&(o[u][f[l]]=I(o[u][f[l]]))}catch{}}}this.applicationStore=this.applicationStore||Tt(),await this.applicationStore.setCraftOptions(o,!1)}if(r[a]===this.appConfig.storageRelationshipOptions){const o=await F.getItem(r[a]);for(let u=0;u<o.length;u++){const f=Object.keys(o[u]);for(let l=0;l<f.length;l++){typeof o[u][f[l]]=="object"&&o[u][f[l]]!==null&&Object.prototype.hasOwnProperty.call(o[u][f[l]],"$d")&&(o[u][f[l]]=I(o[u][f[l]].$d));try{o[u][f[l]].endsWith(".000Z")&&(o[u][f[l]]=I(o[u][f[l]]))}catch{}}}this.applicationStore=this.applicationStore||Tt(),await this.applicationStore.setRelationshipOptions(o,!1)}if(r[a]===this.appConfig.storageCredentialOptions){const o=await F.getItem(r[a]);for(let u=0;u<o.length;u++){const f=Object.keys(o[u]);for(let l=0;l<f.length;l++){typeof o[u][f[l]]=="object"&&o[u][f[l]]!==null&&Object.prototype.hasOwnProperty.call(o[u][f[l]],"$d")&&(o[u][f[l]]=I(o[u][f[l]].$d));try{o[u][f[l]].endsWith(".000Z")&&(o[u][f[l]]=I(o[u][f[l]]))}catch{}}}this.applicationStore=this.applicationStore||Tt(),await this.applicationStore.setCredentialOptions(o,!1)}if(r[a]===this.appConfig.storageAffirmativeOptions){const o=await F.getItem(r[a]);for(let u=0;u<o.length;u++){const f=Object.keys(o[u]);for(let l=0;l<f.length;l++){typeof o[u][f[l]]=="object"&&o[u][f[l]]!==null&&Object.prototype.hasOwnProperty.call(o[u][f[l]],"$d")&&(o[u][f[l]]=I(o[u][f[l]].$d));try{o[u][f[l]].endsWith(".000Z")&&(o[u][f[l]]=I(o[u][f[l]]))}catch{}}}this.applicationStore=this.applicationStore||Tt(),await this.applicationStore.setAffirmativeOptions(o,!1)}if(r[a]===this.appConfig.storageVeteranStatusOptions){const o=await F.getItem(r[a]);for(let u=0;u<o.length;u++){const f=Object.keys(o[u]);for(let l=0;l<f.length;l++){typeof o[u][f[l]]=="object"&&o[u][f[l]]!==null&&Object.prototype.hasOwnProperty.call(o[u][f[l]],"$d")&&(o[u][f[l]]=I(o[u][f[l]].$d));try{o[u][f[l]].endsWith(".000Z")&&(o[u][f[l]]=I(o[u][f[l]]))}catch{}}}this.applicationStore=this.applicationStore||Tt(),await this.applicationStore.setVeteranStatusOptions(o,!1)}if(r[a]===this.appConfig.storageDisabilityPages){const o=await F.getItem(r[a]);for(let u=0;u<o.length;u++){const f=Object.keys(o[u]);for(let l=0;l<f.length;l++){typeof o[u][f[l]]=="object"&&o[u][f[l]]!==null&&Object.prototype.hasOwnProperty.call(o[u][f[l]],"$d")&&(o[u][f[l]]=I(o[u][f[l]].$d));try{o[u][f[l]].endsWith(".000Z")&&(o[u][f[l]]=I(o[u][f[l]]))}catch{}}}this.applicationStore=this.applicationStore||Tt(),await this.applicationStore.setDisabilityPages(o,!1)}if(r[a]===this.appConfig.storageDisabilityForm){const o=await F.getItem(r[a]);for(let u=0;u<o.length;u++){const f=Object.keys(o[u]);for(let l=0;l<f.length;l++){typeof o[u][f[l]]=="object"&&o[u][f[l]]!==null&&Object.prototype.hasOwnProperty.call(o[u][f[l]],"$d")&&(o[u][f[l]]=I(o[u][f[l]].$d));try{o[u][f[l]].endsWith(".000Z")&&(o[u][f[l]]=I(o[u][f[l]]))}catch{}}}this.applicationStore=this.applicationStore||Tt(),await this.applicationStore.setDisabilityForm(o,!1)}if(r[a]===this.appConfig.storageEverGreenJobs){const o=await F.getItem(r[a]);for(let u=0;u<o.length;u++){const f=Object.keys(o[u]);for(let l=0;l<f.length;l++){typeof o[u][f[l]]=="object"&&o[u][f[l]]!==null&&Object.prototype.hasOwnProperty.call(o[u][f[l]],"$d")&&(o[u][f[l]]=I(o[u][f[l]].$d));try{o[u][f[l]].endsWith(".000Z")&&(o[u][f[l]]=I(o[u][f[l]]))}catch{}}}this.applicationStore=this.applicationStore||Tt(),await this.applicationStore.setEverGreenJobs(o,!1)}if(r[a]===this.appConfig.storageProfile){const o=await F.getItem(r[a]);for(let u=0;u<o.length;u++){const f=Object.keys(o[u]);for(let l=0;l<f.length;l++){typeof o[u][f[l]]=="object"&&o[u][f[l]]!==null&&Object.prototype.hasOwnProperty.call(o[u][f[l]],"$d")&&(o[u][f[l]]=I(o[u][f[l]].$d));try{o[u][f[l]].endsWith(".000Z")&&(o[u][f[l]]=I(o[u][f[l]]))}catch{}}}this.profileStore=this.profileStore||br(),await this.profileStore.setProfile(o,!1)}if(r[a]===this.appConfig.storageProfileStep){const o=await F.getItem(r[a]);for(let u=0;u<o.length;u++){const f=Object.keys(o[u]);for(let l=0;l<f.length;l++){typeof o[u][f[l]]=="object"&&o[u][f[l]]!==null&&Object.prototype.hasOwnProperty.call(o[u][f[l]],"$d")&&(o[u][f[l]]=I(o[u][f[l]].$d));try{o[u][f[l]].endsWith(".000Z")&&(o[u][f[l]]=I(o[u][f[l]]))}catch{}}}this.profileStore=this.profileStore||br(),await this.profileStore.setProfileStep(o,!1)}if(r[a]===this.appConfig.storageProfileVoluntaryForms){const o=await F.getItem(r[a]);for(let u=0;u<o.length;u++){const f=Object.keys(o[u]);for(let l=0;l<f.length;l++){typeof o[u][f[l]]=="object"&&o[u][f[l]]!==null&&Object.prototype.hasOwnProperty.call(o[u][f[l]],"$d")&&(o[u][f[l]]=I(o[u][f[l]].$d));try{o[u][f[l]].endsWith(".000Z")&&(o[u][f[l]]=I(o[u][f[l]]))}catch{}}}this.profileStore=this.profileStore||br(),await this.profileStore.setVoluntaryForms(o,!1)}if(r[a]===this.appConfig.storageKioskAccount){const o=await F.getItem(r[a]);for(let u=0;u<o.length;u++){const f=Object.keys(o[u]);for(let l=0;l<f.length;l++){typeof o[u][f[l]]=="object"&&o[u][f[l]]!==null&&Object.prototype.hasOwnProperty.call(o[u][f[l]],"$d")&&(o[u][f[l]]=I(o[u][f[l]].$d));try{o[u][f[l]].endsWith(".000Z")&&(o[u][f[l]]=I(o[u][f[l]]))}catch{}}}this.kioskStore=this.kioskStore||Ue(),await this.kioskStore.setKioskAccount(o,!1)}if(r[a]===this.appConfig.storageBookmarks){const o=await F.getItem(r[a]);for(let u=0;u<o.length;u++){const f=Object.keys(o[u]);for(let l=0;l<f.length;l++){typeof o[u][f[l]]=="object"&&o[u][f[l]]!==null&&Object.prototype.hasOwnProperty.call(o[u][f[l]],"$d")&&(o[u][f[l]]=I(o[u][f[l]].$d));try{o[u][f[l]].endsWith(".000Z")&&(o[u][f[l]]=I(o[u][f[l]]))}catch{}}}this.kioskStore=this.kioskStore||Ue(),await this.kioskStore.setBookmarksFromStorage(o)}if(r[a]===this.appConfig.storageBookmarksOnly){const o=await F.getItem(r[a]);this.kioskStore=this.kioskStore||Ue(),await this.kioskStore.setBookmarksOnly(o,!1)}if(r[a]===this.appConfig.storageHiringCenter&&this.appConfig.pageType==="Candidate"){const o=await F.getItem(r[a]);if(o){for(let u=0;u<o.length;u++){const f=Object.keys(o[u]);for(let l=0;l<f.length;l++){typeof o[u][f[l]]=="object"&&o[u][f[l]]!==null&&Object.prototype.hasOwnProperty.call(o[u][f[l]],"$d")&&(o[u][f[l]]=I(o[u][f[l]].$d));try{o[u][f[l]].endsWith(".000Z")&&(o[u][f[l]]=I(o[u][f[l]]))}catch{}}}this.hiringCenterStore=this.hiringCenterStore||ot(),await this.hiringCenterStore.setHiringCenter(o,!1)}}if(this.appConfig.pageType==="QuickBase User"){if(r[a].startsWith(this.appConfig.storageSelfCheckIns)){const o=r[a].split("_")[4],u=await F.getItem(r[a]);if(u){for(let f=0;f<u.length;f++){const l=Object.keys(u[f]);for(let p=0;p<l.length;p++){typeof u[f][l[p]]=="object"&&u[f][l[p]]!==null&&Object.prototype.hasOwnProperty.call(u[f][l[p]],"$d")&&(u[f][l[p]]=I(u[f][l[p]].$d));try{u[f][l[p]].endsWith(".000Z")&&(u[f][l[p]]=I(u[f][l[p]]))}catch{}}}this.dataStore=this.dataStore||rr(),await this.dataStore.setSelfCheckIns({officeId:o,data:u},!1)}}if(r[a].startsWith(this.appConfig.storageProcessTimeStamps)){const o=await F.getItem(r[a]);if(o){const u=Object.keys(o);for(let f=0;f<u.length;f++){const l=Object.keys(o[u[f]]);for(let p=0;p<l.length;p++){typeof o[u[f]][l[p]]=="object"&&o[u[f]][l[p]]!==null&&Object.prototype.hasOwnProperty.call(o[u[f]][l[p]],"$d")&&(o[u[f]][l[p]]=I(o[u[f]][l[p]].$d));try{o[u[f]][l[p]]&&(o[u[f]][l[p]]=I(o[u[f]][l[p]]))}catch{}}}this.dataStore=this.dataStore||rr(),await this.dataStore.setTimeStampState(o)}}if(r[a].startsWith(this.appConfig.storageProjects)){const o=r[a].split("_")[3],u=await F.getItem(r[a]);if(u){for(let f=0;f<u.length;f++){const l=Object.keys(u[f]);for(let p=0;p<l.length;p++){typeof u[f][l[p]]=="object"&&u[f][l[p]]!==null&&Object.prototype.hasOwnProperty.call(u[f][l[p]],"$d")&&(u[f][l[p]]=I(u[f][l[p]].$d));try{u[f][l[p]].endsWith(".000Z")&&(u[f][l[p]]=I(u[f][l[p]]))}catch{}}}this.dataStore=this.dataStore||rr(),await this.dataStore.setProjects({officeId:o,data:u},!1)}}if(r[a].startsWith(this.appConfig.storagePendingProjects)){const o=r[a].split("_")[4],u=await F.getItem(r[a]);if(u){for(let f=0;f<u.length;f++){const l=Object.keys(u[f]);for(let p=0;p<l.length;p++){typeof u[f][l[p]]=="object"&&u[f][l[p]]!==null&&Object.prototype.hasOwnProperty.call(u[f][l[p]],"$d")&&(u[f][l[p]]=I(u[f][l[p]].$d));try{u[f][l[p]].endsWith(".000Z")&&(u[f][l[p]]=I(u[f][l[p]]))}catch{}}}this.dataStore=this.dataStore||rr(),await this.dataStore.setPendingProjects({officeId:o,data:u},!1)}}}if(r[a]===this.appConfig.storageEvent){const o=await F.getItem(r[a]);for(let u=0;u<o.length;u++){const f=Object.keys(o[u]);for(let l=0;l<f.length;l++){typeof o[u][f[l]]=="object"&&o[u][f[l]]!==null&&Object.prototype.hasOwnProperty.call(o[u][f[l]],"$d")&&(o[u][f[l]]=I(o[u][f[l]].$d));try{o[u][f[l]].endsWith(".000Z")&&(o[u][f[l]]=I(o[u][f[l]]))}catch{}}}this.appStore=this.appStore||Fe(),await this.appStore.setEvent(o,!1)}if(r[a]===this.appConfig.storageStartPage){const o=await F.getItem(r[a]);for(let u=0;u<o.length;u++){const f=Object.keys(o[u]);for(let l=0;l<f.length;l++){typeof o[u][f[l]]=="object"&&o[u][f[l]]!==null&&Object.prototype.hasOwnProperty.call(o[u][f[l]],"$d")&&(o[u][f[l]]=I(o[u][f[l]].$d));try{o[u][f[l]].endsWith(".000Z")&&(o[u][f[l]]=I(o[u][f[l]]))}catch{}}}this.appStore=this.appStore||Fe(),await this.appStore.setStartPage(o,!1)}if(r[a]===this.appConfig.storageHomeButton){const o=await F.getItem(r[a]);for(let u=0;u<o.length;u++){const f=Object.keys(o[u]);for(let l=0;l<f.length;l++){typeof o[u][f[l]]=="object"&&o[u][f[l]]!==null&&Object.prototype.hasOwnProperty.call(o[u][f[l]],"$d")&&(o[u][f[l]]=I(o[u][f[l]].$d));try{o[u][f[l]].endsWith(".000Z")&&(o[u][f[l]]=I(o[u][f[l]]))}catch{}}}this.appStore=this.appStore||Fe(),await this.appStore.setHomeButton(o,!1)}}const i=await Re.keys();for(let a=0;a<i.length;a++)if(i[a]==="conversations"){const o=await Re.getItem(i[a]);o&&(this.dataStore=this.dataStore||rr(),await this.dataStore.setConversations({data:o},!1))}return!0}async login(e){let r=null;e.redirectPath&&(r=e.redirectPath,delete e.redirectPath);const i=`{'10'.EX.'Active'}${e.email?`AND{'6'.EX.'${e.email}'}`:""}${e.phoneNumber?`AND{'8'.EX.'${e.phoneNumber}'}`:""}${e.userType?`AND{'32'.EX.'${e.userType}'}`:""}`,a=[{7:{value:"User Request"},8:{value:i},9:{value:1},14:{value:77}}],o=e.email?e.email:e.phoneNumber;if(i==="{'10'.EX.'Active'}AND{'32'.EX.'Candidate'}"||i==="{'10'.EX.'Active'}AND{'32'.EX.'Project User'}")throw{response:{data:{errtext:"Unknown username/password",errdetail:"Sorry! Something's wrong with your sign-in info. Try again."}}};if(!o||o==="")throw{response:{data:{errtext:"Unknown username/password",errdetail:"Sorry! Something's wrong with your sign-in info. Try again."}}};const u=I();if(this.loginAttempts.invalidLogins>=this.config.maxLoginAttempts&&o===this.loginAttempts.login)if(u.isBefore(this.loginAttempts.exp)){const v=u.to(this.loginAttempts.exp,!0);throw{response:{data:{errtext:"Too many failed Login Attempts",errdetail:`Please wait ${v} before attempting to try again.`}}}}else this.loginAttempts={invalidLogins:0,login:null,exp:null,currentTime:null};else this.loginAttempts.exp&&u.isAfter(this.loginAttempts.exp)&&(this.loginAttempts={invalidLogins:0,login:null,exp:null,currentTime:null});const{data:f}=await this.fetchFromStructureApp({fields:a}),l=[{6:{value:"login"}}];let p=await this.getIpInfo();if(p&&p.query)l[0][8]={value:p.ip?p.ip:"N/A"},l[0][10]={value:p.userAgent?p.userAgent:"N/A"},l[0][27]={value:p.continent?p.continent:"N/A"},l[0][28]={value:p.continentCode?p.continentCode:"N/A"},l[0][29]={value:p.country?p.country:"N/A"},l[0][30]={value:p.countryCode},l[0][31]={value:p.region?p.region:"N/A"},l[0][32]={value:p.regionName?p.regionName:"N/A"},l[0][33]={value:p.city?p.city:"N/A"},l[0][34]={value:p.district?p.district:"N/A"},l[0][38]={value:p.zip?p.zip:"N/A"},l[0][36]={value:p.lat?p.lat:"N/A"},l[0][37]={value:p.lon?p.lon:"N/A"},l[0][38]={value:p.timezone?p.timezone:"N/A"},l[0][39]={value:p.offset?p.offset:"N/A"},l[0][40]={value:p.isp?p.isp:"N/A"},l[0][41]={value:p.org?p.org:"N/A"},l[0][42]={value:p.as?p.as:"N/A"},l[0][43]={value:p.asname?p.asname:"N/A"},l[0][44]={value:p.mobile?p.mobile:!1},l[0][45]={value:p.proxy?p.proxy:!1},l[0][46]={value:p.hosting?p.hosting:!1},l[0][46]={value:p.hosting?p.hosting:"N/A"},l[0][47]={value:p.query?p.query:"N/A"};else{try{p=await this.fetchIpInfo()}catch{p=null}p&&p.query&&(l[0][8]={value:p.ip?p.ip:"N/A"},l[0][10]={value:p.userAgent?p.userAgent:"N/A"},l[0][27]={value:p.continent?p.continent:"N/A"},l[0][28]={value:p.continentCode?p.continentCode:"N/A"},l[0][29]={value:p.country?p.country:"N/A"},l[0][30]={value:p.countryCode},l[0][31]={value:p.region?p.region:"N/A"},l[0][32]={value:p.regionName?p.regionName:"N/A"},l[0][33]={value:p.city?p.city:"N/A"},l[0][34]={value:p.district?p.district:"N/A"},l[0][38]={value:p.zip?p.zip:"N/A"},l[0][36]={value:p.lat?p.lat:"N/A"},l[0][37]={value:p.lon?p.lon:"N/A"},l[0][38]={value:p.timezone?p.timezone:"N/A"},l[0][39]={value:p.offset?p.offset:"N/A"},l[0][40]={value:p.isp?p.isp:"N/A"},l[0][41]={value:p.org?p.org:"N/A"},l[0][42]={value:p.as?p.as:"N/A"},l[0][43]={value:p.asname?p.asname:"N/A"},l[0][44]={value:p.mobile?p.mobile:!1},l[0][45]={value:p.proxy?p.proxy:!1},l[0][46]={value:p.hosting?p.hosting:!1},l[0][47]={value:p.query?p.query:"N/A"})}if(f.length===1){const v=f[0];if(l[0][12]={value:v[3]},v[63]===!0&&u.isBefore(v[60])){this.loginAttempts={invalidLogins:v[59],login:o,exp:v[60],currentTime:null};const C=u.to(this.loginAttempts.exp,!0);throw{response:{data:{errtext:"Too many failed Login Attempts",errdetail:`Please wait ${C} before attempting to try again.`}}}}if(v[32]==="QuickBase User"||v[32]==="Project User"){const C={qdbapi:{username:e.email,password:e.password,hours:e.hours||72}};if(!e.email)throw l[0][7]={value:"Invalid Login"},this.addLoginAttempt(l),{response:{data:{errtext:"Unknown username/password",errdetail:"Sorry! Something's wrong with your sign-in info. Try again."}}};return this.axiosIns({method:"post",url:this.config.loginEndpoint,headers:{"QUICKBASE-ACTION":"API_Authenticate","Content-Type":"application/xml"},data:Nt(C),withCredentials:!0}).then(R=>{const D=tr(new window.DOMParser().parseFromString(R.data,"text/xml"));if(D.email=e.email,D.errcode!==0)throw R.data=D,l[0][7]={value:"Invalid Login"},this.addLoginAttempt(l),{response:R};if(D.userid==="1.ckbs"||D.userid.startsWith("1."))throw R.data=D,l[0][7]={value:"Invalid Login"},this.addLoginAttempt(l),{response:R};return delete D.action,delete D.errcode,delete D.errtext,R.data=D,l[0][7]={value:"Successful"},this.addLoginAttempt(l),this.setUserTicket(R.data.ticket),this.fetchAndSetUserData({...R.data,redirect:!0,redirectPath:r,rid:v[3],userType:e.userType})}).catch(R=>{throw l[0][7]={value:"Invalid Password"},this.addLoginAttempt(l),R})}else if(v[32]==="Candidate"){if(await $n.compare(e.password,v[7]))return l[0][7]={value:"Successful"},await this.addLoginAttempt(l,!0),this.fetchAndSetUserData({redirect:!0,redirectPath:r,rid:v[3],userType:e.userType});throw l[0][7]={value:"Invalid Password"},{response:{data:{errtext:"Unknown username/password",errdetail:"Sorry! Something's wrong with your sign-in info. Try again."}}}}else if(v[32]==="Project User"){if(await $n.compare(e.password,v[7]))return l[0][7]={value:"Successful"},await this.addLoginAttempt(l,!0),this.fetchAndSetUserData({redirect:!0,redirectPath:r,rid:v[3],userType:e.userType});throw l[0][7]={value:"Invalid Password"},this.addLoginAttempt(l),{response:{data:{errtext:"Unknown username/password",errdetail:"Sorry! Something's wrong with your sign-in info. Try again."}}}}else throw l[0][7]={value:"Invalid Login"},this.addLoginAttempt(l),{response:{data:{errtext:"Unknown username/password",errdetail:"Sorry! Something's wrong with your sign-in info. Try again."}}}}else throw l[0][7]={value:"Invalid Login"},this.addLoginAttempt(l),{response:{data:{errtext:"Unknown username/password",errdetail:"Sorry! Something's wrong with your sign-in info. Try again."}}}}async checkIfUserExist(e){const r=`{'10'.EX.'Active'}${e.email?`AND{'6'.EX.'${e.email}'}`:""}${e.phoneNumber?`AND{'8'.EX.'${e.phoneNumber}'}`:""}${e.userType?`AND{'32'.EX.'${e.userType}'}`:""}`,i=[{7:{value:"User Request"},8:{value:r},9:{value:1},14:{value:77}}],a=e.email?e.email:e.phoneNumber;if(r==="{'10'.EX.'Active'}AND{'32'.EX.'Candidate'}"||r==="{'10'.EX.'Active'}AND{'32'.EX.'Project User'}")throw{response:{data:{errtext:"Unknown username/password",errdetail:"Sorry! Something's wrong"}}};if(!a||a==="")throw{response:{data:{errtext:"Unknown username/password",errdetail:"Sorry! Something's wrong"}}};const{data:o}=await this.fetchFromStructureApp({fields:i});return o.length>0}async fetchAndSetUserData(e){this.userStore=this.userStore||ne();const{data:r}=await this.userStore.fetchUser(e);if(!r.user)throw{response:{data:{errtext:"Unknown username/password",errdetail:"Sorry! Something's wrong with your sign-in info. Try again."}}};const i=r.user,a=this.getOfficeLocation(),o=this.getCheckIn();if(this.userType=i[32],i[32]==="QuickBase User"){if(e.reAuthenticate){const u=await this.nativeQuickbaseReAuthenticate({});e.ticket=u.ticket,e.userid=u.userid}this.dataStore=this.dataStore||rr(),this.dataStore.getSelectedOffice||this.dataStore.setSelectedOffice(r.access.find(u=>u[15]===!0&&u[7]==="Office")),e.ticket&&e.userid&&Dr.loginQuickbase({identifier:i[6],ticket:e.ticket,userId:e.userid}).catch(u=>{console.log("error with login inside fetchandset",u)}),this.loginFeathers({email:i[6],id:i[3]}).catch(async u=>{console.log(u)})}else if(i[32]==="Candidate")this.employeeStore=this.employeeStore||Pe(),Nr(i[102])&&await this.setUserTicket(i[102],i[104].toDate());else if(i[32]==="Project User"){if(e.reAuthenticate){const u=await this.nativeQuickbaseReAuthenticate({});e.ticket=u.ticket,e.userid=u.userid}r.access.length>0&&(this.projectsStore=this.projectsStore||Qe(),this.hiringStore=this.hiringStore||Qi(),await this.projectsStore.getProjectsData()),e.ticket&&e.userid&&Dr.loginQuickbase({identifier:i[6],ticket:e.ticket,userId:e.userid}).catch(u=>{console.log("error with login inside fetchandset",u)})}if(i[82]===!0&&i.empRID&&i[32]==="Candidate"){const u=[{9:{value:i[80]},7:{value:"Employee"}}],{data:f}=await this.fetchFromHiringApp({fields:u});if(this.employeeStore=this.employeeStore||Pe(),this.employeeStore.setEmployee(f.employee,!0),!f.employee.lang||f.employee.lang===0){let l=1;Pn.global.locale.value==="en-US"?l=1:Pn.global.locale.value==="es"&&(l=2);const p={339:{value:l}};this.updateEmployeeData({fields:p})}}if(i[100]===""){this.userStore.$patch(f=>f.user[100]=Pn.global.locale.value);const u=[{3:{value:i[3]},26:{value:"now"},100:{value:Pn.global.locale.value}}];this.upsertRecordsXML({to:"br4pxrbs6",fieldsToReturn:[76],data:u,formatObject:76})}else this.appStore=this.appStore||Fe(),Pn.global.locale.value=i[100],this.appStore.setLang(i[100]);if(Nr(i[86])&&i[32]==="Candidate"){const u=[{9:{value:i[86]},7:{value:"Self Check-In"}}],{data:f}=await this.fetchFromRecruitingApp({fields:u});f&&(f[13].isToday()&&f[15]==="Called"&&a&&o?this.checkInUser():f[13].isToday()?(this.appStore=this.appStore||Fe(),this.appStore.setCheckInData(f)):a&&o?this.checkInUser():(this.appStore=this.appStore||Fe(),this.appStore.setCheckInData({})))}else a&&o&&i[32]==="Candidate"&&this.checkInUser();return i}loginFeathers(e){return this.serverAPI.login({strategy:"local-quickbase",email:e.email,quickbaseId:e.id,token:this.getUserTicket()}).catch(r=>{throw r})}feathersReAuthenticate(){return this.serverAPI.reAuthenticate()}feathersAuthenticated(){return this.serverAPI.authenticated()}async nativeQuickbaseLogin(e){const r={qdbapi:{username:e.email,password:e.password,hours:e.hours||720}};return this.axiosIns({method:"post",url:this.config.loginEndpoint,headers:{"QUICKBASE-ACTION":"API_Authenticate","Content-Type":"application/xml"},data:Nt(r),withCredentials:!0}).then(i=>{const a=tr(new window.DOMParser().parseFromString(i.data,"text/xml"));if(a.email=e.email,a.errcode!==0)throw i.data=a,{response:i};if(a.userid==="1.ckbs"||a.userid.startsWith("1."))throw i.data=a,{response:i};return i.data=a,i.data}).catch(i=>{throw i})}async nativeQuickbaseReAuthenticate(e){let r=this.getUserTicket();if(e.kiosk&&(r=this.getKioskTicket()),!r)return null;const i={qdbapi:{ticket:r,hours:e.hours||336}};return this.axiosIns({method:"post",url:this.config.loginEndpoint,headers:{"QUICKBASE-ACTION":"API_Authenticate","Content-Type":"application/xml"},data:Nt(i),withCredentials:!0}).then(a=>{const o=tr(new window.DOMParser().parseFromString(a.data,"text/xml"));if(o.errcode!==0)throw a.data=o,{response:a};if(o.userid==="1.ckbs"||o.userid.startsWith("1."))throw a.data=o,{response:a};return a.data=o,e.kiosk?this.setKioskTicket(a.data.ticket):this.setUserTicket(a.data.ticket),a.data}).catch(a=>{throw a})}async checkInUser(e){e=e||{};const r=await this.getUserInfo(),i=this.getOfficeLocation(),a=await this.getIpInfo();if(this.userStore=this.userStore||ne(),this.appStore=this.appStore||Fe(),this.employeeStore=this.employeeStore||Pe(),!r||!i)return;if(this.appStore.checkedIn){console.log("already checked in",this.appStore.checkedIn),this.removeCheckIn();return}const o=[{6:{value:r[9]?r[9].phoneNumber:r[8].replace(/[^0-9]/g,"")},7:{value:r[35]},8:{value:r[37]},9:{value:i.rid},10:{value:e.reason?e.reason:"Applying"},11:{value:e.position?e.position:""},13:{value:"now"},16:{value:r[80]},21:{value:!0},24:{value:a?JSON.stringify(a):""}}];try{const{data:u}=await this.upsertRecordsXML({to:"br26nivmr",fieldsToReturn:[3,31],data:o,formatObject:31});this.removeCheckIn(),this.appStore.setCheckInData(u[0][31]);const f=[{3:{value:r[3]},26:{value:"now"},86:{value:u[0][3]}}],{data:l}=await this.upsertRecordsXML({to:"br4pxrbs6",fieldsToReturn:[76],data:f,formatObject:76}),p=l[0][76];if(this.userStore.userLoggedIn){const v=Object.assign({},p);delete v.access,delete v.permissions,this.setUserPermissions(p.permissions,!0),this.setUserAccess(p.access,!0),await this.setUserInfo(v,!0)}return p}catch(u){console.log(u)}}async deActivateAccount(e){const r=`{'10'.EX.'Active'}${e.email?`AND{'6'.EX.'${e.email}'}`:""}${e.phoneNumber?`AND{'8'.EX.'${e.phoneNumber}'}`:""}${e.userType?`AND{'32'.EX.'${e.userType}'}`:""}`,i=[{7:{value:"User Request"},8:{value:r},9:{value:1},14:{value:77}}];if(r==="{'10'.EX.'Active'}AND{'32'.EX.'Candidate'}"||r==="{'10'.EX.'Active'}AND{'32'.EX.'Project User'}")throw{response:{data:{errtext:"User Error",errdetail:"Sorry! Something's wrong"}}};const{data:a}=await this.fetchFromStructureApp({fields:i});if(a.length>0){const u=[{3:{value:a[0][3]},10:{value:"Inactive"},50:{value:!1},17:{value:!1}}];return await this.upsertRecordsFormat({to:"br4pxrbs6",fieldsToReturn:[76],data:u}),!0}return a}async resetPassword(e){const r=e.firstName.split(" "),i=e.lastName.split(" ");let a=`AND{'35'.CT.'${e.firstName}'}`,o=`AND{'37'.CT.'${e.lastName}'}`;r.length>1&&(r.forEach((R,D)=>{D===0?a=`({'35'.CT.'${R}'}`:a+=`OR{'35'.CT.'${R}'}`}),a+=")"),i.length>1&&(i.forEach((R,D)=>{D===0?o=`AND({'37'.CT.'${R}'}`:o+=`OR{'37'.CT.'${R}'}`}),o+=")");const u=`{'10'.EX.'Active'}${e.email?`AND{'6'.EX.'${e.email}'}`:""}${e.phoneNumber?`AND{'8'.EX.'${e.phoneNumber}'}`:""}${e.userType?`AND{'32'.EX.'${e.userType}'}`:""}${a}${o}`,f=[{7:{value:"User Request"},8:{value:u},9:{value:1},14:{value:77}}];if(u==="{'10'.EX.'Active'}AND{'32'.EX.'Candidate'}"||u==="{'10'.EX.'Active'}AND{'32'.EX.'Project User'}")throw{response:{data:{errtext:"Unknown username/password",errdetail:"Sorry! Something's wrong. Try again."}}};const l=e.email?e.email:e.phoneNumber;if(!l||l==="")throw{response:{data:{errtext:"Unknown username/password",errdetail:"Sorry! Something's wrong. Try again."}}};const p=await this.fetchFromStructureApp({fields:f}),v=p.data,C=new Date;if(v.length>0){const D=[{3:{value:v[0][3]},26:{value:C},17:{value:!0}}];return await this.upsertRecordsXML({to:"br4pxrbs6",fieldsToReturn:[76],formatObject:76,data:D})}return p}async findAndUpdateUser(e){const r=e.firstName?e.firstName.split(" "):[],i=e.lastName?e.lastName.split(" "):[];let a=e.firstName?`AND{'35'.CT.'${e.firstName}'}`:"",o=e.firstName?`AND{'37'.CT.'${e.lastName}'}`:"";r.length>1&&(r.forEach((C,R)=>{R===0?a=`({'35'.CT.'${C}'}`:a+=`OR{'35'.CT.'${C}'}`}),a+=")"),i.length>1&&(i.forEach((C,R)=>{R===0?o=`AND({'37'.CT.'${C}'}`:o+=`OR{'37'.CT.'${C}'}`}),o+=")");const u=`{'10'.EX.'Active'}${e.email?`AND{'6'.EX.'${e.email}'}`:""}${e.phoneNumber?`AND{'8'.EX.'${e.phoneNumber}'}`:""}${e.userType?`AND{'32'.EX.'${e.userType}'}`:""}${a}${o}`,f=[{7:{value:"User Request"},8:{value:u},9:{value:1},14:{value:77}}];if(u==="{'10'.EX.'Active'}AND{'32'.EX.'Candidate'}"||u==="{'10'.EX.'Active'}AND{'32'.EX.'Project User'}")throw{response:{data:{errtext:"Unknown username/password",errdetail:"Sorry! Something's wrong. Try again."}}};const l=e.email?e.email:e.phoneNumber;if(!l||l==="")throw{response:{data:{errtext:"Unknown username/password",errdetail:"Sorry! Something's wrong. Try again."}}};const p=await this.fetchFromStructureApp({fields:f}),v=p.data;if(v.length>0){const C=v[0];let R=JSON.parse(JSON.stringify(e.fields[0]));return R=await Ht.exports.merge({3:{value:C[3]}},R),await this.upsertRecordsXML({to:"br4pxrbs6",fieldsToReturn:[76],formatObject:76,data:[R]})}return p}async clearLocalForage(){let e=[F.removeItem(this.appConfig.storageUserKeyName),F.removeItem(this.appConfig.storageUserTicketKeyName),F.removeItem(this.appConfig.storagePermissionsKeyName),F.removeItem(this.appConfig.storageAccessKeyName),F.removeItem(this.appConfig.storageOfficeLocationKeyName),F.removeItem(this.appConfig.storageEmployeeKeyName),F.removeItem(this.appConfig.storageCheckInKeyName),F.removeItem(this.appConfig.storageJobBoardKeyName),F.removeItem(this.appConfig.storageProfile),F.removeItem(this.appConfig.storageProfileStep),F.removeItem(this.appConfig.storageProfileVoluntaryForms),F.removeItem(this.appConfig.storageHiringCenter),Re.clear()];return this.appConfig.pageType!=="Candidate Kiosk"&&(e=e.concat([F.removeItem(this.appConfig.storageExperienceOptions),F.removeItem(this.appConfig.storageContactMethods),F.removeItem(this.appConfig.storageEmploymentOptions),F.removeItem(this.appConfig.storageCompanyOptions),F.removeItem(this.appConfig.storageCraftOptions),F.removeItem(this.appConfig.storageRelationshipOptions),F.removeItem(this.appConfig.storageCredentialOptions),F.removeItem(this.appConfig.storageAffirmativeOptions),F.removeItem(this.appConfig.storageVeteranStatusOptions),F.removeItem(this.appConfig.storageDisabilityPages),F.removeItem(this.appConfig.storageDisabilityForm),F.removeItem(this.appConfig.storageEverGreenJobs),F.removeItem(this.appConfig.storageToolCheckList)])),await Promise.allSettled(e)}async storeLogout(){return this.userStore=this.userStore||ne(),this.userStore.logout()}async logout(e){const r=_1(),i=[this.clearLocalForage(),this.removeOfficeLocation()];Dr.logout();const a=r._s[Symbol.iterator]();for(const o of a)if(this.appConfig.pageType==="Candidate"||this.appConfig.pageType==="Candidate Kiosk"){if(o[0]==="employee"){i.push(o[1].$reset());continue}if(o[0]==="boardAppStore"){i.push(o[1].$reset());continue}if(o[0]==="profile"){i.push(o[1].$reset());continue}if(o[0]==="assessment"){i.push(o[1].$reset());continue}if(o[0]==="hiringCenter"){i.push(o[1].$reset());continue}}else{i.push(o[1].$reset());continue}return Ce.remove(this.appConfig.storageUserTicketKeyName,{secure:!0,sameSite:"Strict"}),await Promise.allSettled(i),!0}async upsertRecordsFormat(...e){const r=e[0].formatObject||null;e[0].formatObject&&delete e[0].formatObject;const i=await this.axiosIns.post(this.config.insertRecords,...e).then(async a=>{let{data:o}=a.data;const u=o.map(async l=>{Object.keys(l).map(async v=>{l[v]=await l[v].value})});return o=await Promise.all(u),a.data});return r&&i.data.length>0&&i.data.forEach(a=>{Array.isArray(r)?r.forEach(o=>{at(o)&&a[o]&&(a[o]=Wi(a[o]))}):at(r)&&(a[r]=Wi(a[r])),a[1]&&(a[1]=I(a[1]).tz("America/Chicago")),a[2]&&(a[2]=I(a[2]).tz("America/Chicago"))}),i}async addRecordNoUser(e){const r={qdbapi:{msInUTC:1}};return this.config.appToken&&(r.qdbapi.apptoken=this.config.appToken),e.fields&&(r.qdbapi.fields=e.fields),r.qdbapi.usertoken=this.config.userToken,this.axiosIns({method:"post",url:`https://elitehcms.quickbase.com/db/${e.to}?a=API_AddRecord`,headers:{"QUICKBASE-ACTION":"API_AddRecord","Content-Type":"application/xml"},data:Nt(r)}).then(a=>{const o=tr(new window.DOMParser().parseFromString(a.data,"text/xml"));return a.data=o,a.data})}async upsertRecordsXML(e,r){if(e.data.length>1){const i=[];for(let u=0;u<e.data.length;u++){const f=Object.assign({},e);f.data=[e.data[u]],i.push(this.upsertRecordXML(f,r))}const a=await Promise.all(i),o={data:[],metadata:{createdRecordIds:[],totalNumberOfRecordsProcessed:0,unchangedRecordIds:[],updatedRecordIds:[]}};return a.forEach((u,f)=>{u.data[0]&&o.data.push(u.data[0]),o.metadata.createdRecordIds=o.metadata.createdRecordIds.concat(u.metadata.createdRecordIds),o.metadata.unchangedRecordIds=o.metadata.unchangedRecordIds.concat(u.metadata.unchangedRecordIds),o.metadata.updatedRecordIds=o.metadata.updatedRecordIds.concat(u.metadata.updatedRecordIds),o.metadata.totalNumberOfRecordsProcessed+=u.metadata.totalNumberOfRecordsProcessed,u.metadata.lineErrors&&(o.metadata.lineErrors||(o.metadata.lineErrors={}),o.metadata.lineErrors[f+1]=u.metadata.lineErrors[1])}),o}else return this.upsertRecordXML(e,r)}async upsertRecordXML(e,r){const i={qdbapi:{msInUTC:1}},a=e.formatObject||null,o=e.booleanFields?e.booleanFields.concat(this.config.booleanFields[`${e.to}`]||[]):this.config.booleanFields[`${e.to}`]||[];let u="";e.data[0][3]?(u="API_EditRecord",i.qdbapi.rid=e.data[0][3].value,delete e.data[0][3]):u="API_AddRecord",this.config.appToken&&(i.qdbapi.apptoken=this.config.appToken),e.data&&(i.qdbapi.fields=e.data),e.fieldsToReturn&&(i.qdbapi.clist=e.fieldsToReturn.join("."));const f=await this.getUserTicket();if(f)i.qdbapi.ticket=f;else if(this.config.userToken&&this.config.dev)i.qdbapi.usertoken=this.config.userToken;else if(e.to==="br54phpqz"&&this.appConfig.pageType==="Candidate Kiosk"){const p=this.getKioskTicket();p&&(i.qdbapi.ticket=p)}return this.axiosIns({method:"post",url:`https://elitehcms.quickbase.com/db/${e.to}?a=${u}`,headers:{"QUICKBASE-ACTION":`${u}`,"Content-Type":"application/xml"},data:ts(i)}).then(p=>{let v=tr(new window.DOMParser().parseFromString(p.data,"text/xml"));if(v.metadata={createdRecordIds:[],...v.errcode!==0&&{lineErrors:{}},totalNumberOfRecordsProcessed:0,unchangedRecordIds:[],updatedRecordIds:[]},v.errcode!==0?(v.data=[],v.metadata.lineErrors[1]=[v.errdetail]):(v.data=[G3(new window.DOMParser().parseFromString(p.data,"text/xml"))],a&&(Array.isArray(a)?a.forEach(C=>{at(C)&&v.data[0][C]&&(v.data[0][C]=Wi(v.data[0][C]))}):at(a)&&v.data[0][a]&&v.data[0][a]&&(v.data[0][a]=Wi(v.data[0][a]))),o.length>0&&o.forEach(C=>{v.data[0][C]&&(v.data[0][C]=v.data[0][C]===1)}),v.data[0][1]&&(v.data[0][1]=I(v.data[0][1]).tz("America/Chicago")),v.data[0][2]&&(v.data[0][2]=I(v.data[0][2]).tz("America/Chicago"))),v.data[0]&&v.rid&&(v.metadata.totalNumberOfRecordsProcessed=1,v.num_fields_changed===0&&(v.metadata.unchangedRecordIds=[v.rid]),u==="API_EditRecord"&&v.num_fields_changed>0?v.metadata.updatedRecordIds=[v.rid]:u==="API_AddRecord"&&(v.metadata.createdRecordIds=[v.rid])),delete v.action,delete v.errcode,delete v.errdetail,delete v.errtext,delete v.num_fields_changed,delete v.rid,delete v.update_id,delete v.record,p.data=v,r){const{data:C}=p.data;let R;r.action==="read"?R=C[0][12]:R=C[0],this.config.dev||X3({meta:r,record:R})}return p.data})}async addRecordXML(e){const r={qdbapi:{msInUTC:1}};this.config.appToken&&(r.qdbapi.apptoken=this.config.appToken),e.fields&&(r.qdbapi.fields=e.fields),e.list&&(r.qdbapi.clist=e.list.join("."));const i=await this.getUserTicket();return i?r.qdbapi.ticket=i:this.config.userToken&&this.config.dev&&(r.qdbapi.usertoken=this.config.userToken),this.axiosIns({method:"post",url:`https://elitehcms.quickbase.com/db/${e.to}?a=API_AddRecord`,headers:{"QUICKBASE-ACTION":"API_AddRecord","Content-Type":"application/xml"},data:Nt(r)}).then(o=>{const u=tr(new window.DOMParser().parseFromString(o.data,"text/xml"));return o.data=u,o.data})}async editRecordXML(e){const r={qdbapi:{msInUTC:1}};if(e.rid)r.qdbapi.rid=e.rid;else throw"You must supply rid!";this.config.appToken&&(r.qdbapi.apptoken=this.config.appToken),e.fields&&(r.qdbapi.fields=e.fields),e.list&&(r.qdbapi.clist=e.list.join("."));const i=await this.getUserTicket();return i?r.qdbapi.ticket=i:this.config.userToken&&this.config.dev&&(r.qdbapi.usertoken=this.config.userToken),this.axiosIns({method:"post",url:`https://elitehcms.quickbase.com/db/${e.to}?a=API_EditRecord`,headers:{"QUICKBASE-ACTION":"API_EditRecord","Content-Type":"application/xml"},data:Nt(r)}).then(o=>{const u=tr(new window.DOMParser().parseFromString(o.data,"text/xml"));return o.data=u,o.data})}async addLogRecord(e){const r={qdbapi:{}};return r.qdbapi.apptoken="dx47ve3djh2kcybbetrvscuqa2gk",e.data&&(r.qdbapi.fields=e.data),e.list&&(r.qdbapi.clist=e.list.join(".")),r.qdbapi.usertoken="b596fu_ng3q_0_dxyp9j657g8xdbgiftajcj56p7s",fetch("https://elitehcms.quickbase.com/db/bsh2qrysj?a=API_AddRecord",{method:"POST",credentials:"omit",headers:{"Content-Type":"application/xml"},body:ts(r)}).then(o=>o.text()).then(o=>o).catch(o=>{throw o})}async fetchFromProjectsApp(e,r){const i=await this.upsertRecordsXML({to:"bsazqhchc",fieldsToReturn:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],formatObject:12,data:e.fields},r);return i.data=i.data[0][12],i}async fetchFromStructureApp(e,r){const i=await this.upsertRecordsXML({to:"br9srnufv",fieldsToReturn:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],formatObject:12,data:e.fields},r);return i.data=i.data[0][12],i}async fetchFromHiringApp(e,r){const i=await this.upsertRecordsXML({to:"br9vuzuj7",fieldsToReturn:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],formatObject:12,data:e.fields},r);return i.data=i.data[0][12],i}async fetchFromRecruitingApp(e,r){const i=await this.upsertRecordsXML({to:"br9j45fg5",fieldsToReturn:[1,2,3,4,5,6,7,8,9,10,11,12,13,14],formatObject:12,data:e.fields},r);return i.data=i.data[0][12],i}async fetchFromCredentialsAndTrainingApp(e,r){const i=await this.upsertRecordsXML({to:"bsgydhtiq",fieldsToReturn:[1,2,3,4,5,6,7,8,9,10,11,12,13,14],formatObject:12,data:e.fields},r);return i.data=i.data[0][12],i}async fetchFromWoMP(e,r){const i=await this.upsertRecordsXML({to:"btgjj6khm",fieldsToReturn:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],formatObject:12,data:e.fields},r);return i.data=i.data[0][12],i}async softDeleteEmployee(e){const r=new Date,i=[{3:{value:e},109:{value:""},25:{value:""},28:{value:""},16:{value:""},26:{value:""},34:{value:""},509:{value:!0},510:{value:r}}],{data:a}=await this.upsertRecordsFormat({to:"bp3gb7ng2",fieldsToReturn:[3,500],data:i,formatObject:500});return a[3]}fetchIpInfo(){return fetch("https://api-v1.elitehcms.com/ipInfo").then(e=>e.json()).then(e=>(this.setIpInfo(e),e))}async addLoginAttempt(e,r){try{let l=null;Ce.has("clm-qb-id")?l=Ce.get("clm-qb-id"):(l=new DeviceUUID().get(),Ce.set("clm-qb-id",l,{expires:"365d",secure:!0,sameSite:"Strict"})),e[0][24]={value:l}}catch(l){console.log(l)}const i=e[0][6]?e[0][6].value:"",a=e[0][7]?e[0][7].value:"",o=I(),u=o.add(this.config.lastAttemptExpMinutes,"minute");a[7]==="Invalid Login"||a[7]==="Invalid Password"?i[6]===this.loginAttempts.login?(this.loginAttempts.invalidLogins+=1,this.loginAttempts.exp=u,this.loginAttempts.currentTime=o,e[0][15]={value:this.loginAttempts.invalidLogins},e[0][16]={value:u.valueOf()}):(this.loginAttempts.invalidLogins=1,this.loginAttempts.exp=u,this.loginAttempts.currentTime=o,this.loginAttempts.login=i[6],e[0][15]={value:this.loginAttempts.invalidLogins},e[0][16]={value:u.valueOf()}):a[7]==="Successful"&&(this.loginAttempts={invalidLogins:0,login:null,exp:null,currentTime:null}),e[0][25]={value:this.appConfig.pageId},e[0][26]={value:this.appConfig.appId};const{data:f}=await this.upsertRecordsXML({to:"br54phpqz",data:e,formatObject:22,fieldsToReturn:[3,22]});if(r&&f.length===1&!!f[0][22])return this.setUserTicket(f[0][22][20],f[0][22][23].toDate())}async getFileAttachmentUrl(e){let r;const i=await this.getUserTicket();return i?r=`${e}&ticket=${i}`:this.config.userToken&&this.config.dev&&(r=`${e}&usertoken=${this.config.userToken}`),r}async doQuery(e){const r={qdbapi:{...this.config.commonParameters}};e.queryTotalRecords=Nr(e.queryTotalRecords)?e.queryTotalRecords:!1,e.select&&(r.qdbapi.clist=e.select.join(".")),e.where&&(r.qdbapi.query=e.where);let i=null;if(e.sortBy)for(let l=0;l<e.sortBy.length;l++)l===0?(r.qdbapi.slist=`${e.sortBy[l].fieldId?`${e.sortBy[l].fieldId}.`:""}`,i=`${e.sortBy[l].order==="ASC"?"sortorder-A.":"sortorder-D."}`):(r.qdbapi.slist+=`${e.sortBy[l].fieldId?`${e.sortBy[l].fieldId}.`:""}`,i+=`${e.sortBy[l].order==="ASC"?"sortorder-A.":"sortorder-D."}`);e.options&&(r.qdbapi.options=`${e.options.top?`num-${e.options.top}.`:""}${i||""}${e.options.skip&&e.options.skip>0?`skp-${e.options.skip}`:""}`),this.config.appToken&&(r.qdbapi.apptoken=this.config.appToken);const a=await this.getUserTicket();a&&!e.refresh?r.qdbapi.ticket=a:this.config.userToken&&this.config.dev&&(r.qdbapi.usertoken=this.config.userToken);const o=this.axiosIns({method:"post",url:`https://elitehcms.quickbase.com/db/${e.from}?a=API_DoQuery`,headers:{"QUICKBASE-ACTION":"API_DoQuery","Content-Type":"application/xml"},data:Nt(r)}).then(l=>{const p={};p.data=J3(new window.DOMParser().parseFromString(l.data,"text/xml")),p.fields=V3(new window.DOMParser().parseFromString(l.data,"text/xml"));const v=[];return p.fields.forEach(C=>{C.type==="checkbox"&&v.push(C.id)}),p.data.forEach(C=>{for(const[R,D]of Object.entries(C))v.includes(R)&&(C[`${R}`]=D===1)}),p.metadata={totalRecords:p.data.length,numRecords:p.data.length,numFields:e.select?e.select.length:0,skip:e.options&&e.options.skip?e.options.skip:0,...e.options&&e.options.top?{top:e.options.top}:{}},l.data=p,l.data});let u=null;e.queryTotalRecords&&(u=this.axiosIns({method:"post",url:`https://elitehcms.quickbase.com/db/${e.from}?a=API_DoQueryCount`,headers:{"QUICKBASE-ACTION":"API_DoQueryCount","Content-Type":"application/xml"},data:Nt(r)}).then(l=>{const p=tr(new window.DOMParser().parseFromString(l.data,"text/xml"));return l.data=p,l.data}));const f=await o;if(e.queryTotalRecords){const l=await u;f.metadata.totalRecords=l.numMatches}return f}async checkKioskStatus(e){this.kioskStore=this.kioskStore||Ue(),this.hiringCenterStore=this.hiringCenterStore||ot();let r=await F.getItem(this.appConfig.storageLastKioskFetch);const i=this.getKioskTicket();let a=!1;if(r&&r.$d&&!e&&(r=I(r.$d),e=r.isBefore(I().subtract(2,"day")),a=e),!i)return!1;if(r)if(e||!this.kioskStore.kioskAvailable||!this.hiringCenterStore.hiringCenterAvailable){const{data:o}=await this.getNativeQuickbaseUser({kiosk:!0});if(o.login==="Anonymous")return!1;{const u=await this.kioskStore.fetchKioskAccount(o,!0);return i&&a&&this.nativeQuickbaseReAuthenticate({kiosk:!0}),u.length!==0}}else{if(this.kioskStore.kioskAvailable&&this.hiringCenterStore.hiringCenterAvailable&&"45"in this.kioskStore.kioskAccount&&"bookmarks"in this.kioskStore.kioskAccount&&(!e||this.config.dev))return!0;if(this.kioskStore.kioskAvailable&&this.hiringCenterStore.hiringCenterAvailable&&(!e||this.config.dev)){const{data:o}=await this.getNativeQuickbaseUser({kiosk:!0});if(o.login==="Anonymous")return!1;{const u=await this.kioskStore.fetchKioskAccount(o,!0);return i&&this.nativeQuickbaseReAuthenticate({kiosk:!0}),u.length!==0}}else return!1}else{const{data:o}=await this.getNativeQuickbaseUser({kiosk:!0});if(o.login==="Anonymous")return!1;{const u=await this.kioskStore.fetchKioskAccount(o,!1);return i&&a&&this.nativeQuickbaseReAuthenticate({kiosk:!0}),u.length!==0}}}async getNativeQuickbaseUser(e){const r={qdbapi:{}};if(e.qbUser){const o=await this.getUserTicket();r.qdbapi.ticket=o}if(this.config.dev&&e.kiosk){const o=this.getKioskTicket();r.qdbapi.ticket=o}return await this.axiosIns({method:"post",url:"https://elitehcms.quickbase.com/db/main?a=API_GetUserInfo",headers:{"QUICKBASE-ACTION":"API_GetUserInfo","Content-Type":"application/xml"},data:Nt(r)}).then(o=>{const u={};return u.data=Q3(new window.DOMParser().parseFromString(o.data,"text/xml")),u.data.errcode&&(u.data.email="",u.data.externalAuth=0,u.data.firstName="",u.data.id="1.ckbs",u.data.isVerified=0,u.data.lastName="",u.data.login="Anonymous",u.data.screenName="Anonymous"),o.data=u,o.data})}async downloadBase64(e){const{tableId:r,recordId:i,fieldId:a,versionNumber:o=1}=e;return this.axiosIns.get(`https://api.quickbase.com/v1/files/${r}/${i}/${a}/${o}`).then(u=>u.data)}async postAPIPerformance(e){const i=await this.getUserInfo();e.qb_user=i,delete e.qb_user[1],delete e.qb_user[2],delete e.qb_user[104],delete e.qb_user.access,delete e.qb_user.permissions,fetch("http://localhost:1337/api/qb-api-perfromances",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({data:e})})}}const Nr=t=>!(typeof t=="undefined"||t===null||t===""),at=t=>!isNaN(parseFloat(t))&&isFinite(t),Nt=t=>{let e="";for(const r in t){if(e+=t[r]instanceof Array?"":`<${r}>`,t[r]instanceof Array)if(r==="fields")for(let i=0;i<t[r].length;i++)if(Object.keys(t[r][i]).length===2&&t[r][i].filename){let a=null;for(const o in t[r][i])at(o)&&(a=o);e+=`<field fid="${a}" filename="${t[r][i].filename}">${t[r][i][`${a}`]}</field>`}else for(const a in t[r][i])e+=`<field fid="${a}">${Ht.exports.escape(t[r][i][a])}</field>`;else for(const i in t[r])e+=`<${r}>`,e+=Nt(t[r][i]),e+=`</${r}>`;else typeof t[r]=="object"?e+=Nt(t[r]):e+=t[r];e+=t[r]instanceof Array?"":`</${r}>`}return e=e.replace(/<\/?[0-9]{1,}>/g,""),e},ts=t=>{let e="";for(const r in t){if(e+=t[r]instanceof Array?"":`<${r}>`,t[r]instanceof Array)if(r==="fields")for(let i=0;i<t[r].length;i++)if(Object.keys(t[r][i]).length===2&&t[r][i].filename){let a=null;for(const o in t[r][i])at(o)&&(a=o);e+=`<field fid="${a}" filename="${t[r][i].filename}">${t[r][i][`${a}`].value}</field>`}else for(const a in t[r][i])if(Object.keys(t[r][i][a]).length===2&&(t[r][i][a].filename||t[r][i][a].fileName)){let o=t[r][i][a].filename||t[r][i][a].fileName;e+=`<field fid="${a}" filename="${o}">${t[r][i][a].value}</field>`}else try{e+=`<field fid="${a}">${Ht.exports.escape(t[r][i][a].value)}</field>`}catch{e+=`<field fid="${a}">${Ht.exports.escape(t[r][i][a].value)}</field>`}else for(const i in t[r])e+=`<${r}>`,e+=ts(t[r][i]),e+=`</${r}>`;else typeof t[r]=="object"?e+=ts(t[r]):e+=t[r];e+=t[r]instanceof Array?"":`</${r}>`}return e=e.replace(/<\/?[0-9]{1,}>/g,""),e},tr=t=>{const e=t.querySelector("qdbapi").children,r={};for(let i=0;i<e.length;i++)e[i].tagName!=="table"&&(r[`${e[i].tagName}`]=at(e[i].innerHTML)?parseInt(e[i].innerHTML):e[i].innerHTML);return r},Q3=t=>{const e=t.querySelector("qdbapi user");if(!e)return tr(t);const r={id:at(e.id)?parseInt(e.id):e.id};for(let i=0;i<e.children.length;i++)r[`${e.children[i].tagName}`]=at(e.children[i].innerHTML)?parseInt(e.children[i].innerHTML):e.children[i].innerHTML;return r},J3=t=>{const e=t.querySelector("qdbapi table records"),r=[];for(let i=0;i<e.children.length;i++){const a={};for(let o=0;o<e.children[i].children.length;o++)e.children[i].children[o].id&&(a[`${e.children[i].children[o].id}`]=at(e.children[i].children[o].innerHTML)?parseInt(e.children[i].children[o].innerHTML):e.children[i].children[o].innerHTML);r.push(a)}return r},G3=t=>{const e=t.querySelector("qdbapi record"),r={};for(let i=0;i<e.children.length;i++)e.children[i].id&&(r[`${e.children[i].id}`]=at(e.children[i].innerHTML)?parseInt(e.children[i].innerHTML):e.children[i].innerHTML);return r},V3=t=>{const e=t.querySelector("qdbapi table fields"),r=[];for(let i=0;i<e.children.length;i++){let a=e.children[i].attributes.field_type.value,o=e.children[i].firstElementChild.nodeName==="label"?e.children[i].firstElementChild.innerHTML:null;if(!o){for(let f=0;f<e.children[i].children.length;f++)if(e.children[i].children[f].nodeName==="label"){o=e.children[i].children[f].innerHTML;break}}a==="float"&&(a="numeric");const u={id:e.children[i].id,label:o,type:a};r.push(u)}return r},yr=(t,e)=>(Array.isArray(t)?t.forEach(r=>{Object.keys(r).forEach(i=>{r[i]&&(r[i]=yr(r[i],i))})}):!at(e)&&typeof t=="object"&&!Array.isArray(t)&&t!==null?Object.keys(t).forEach(r=>{t[r]&&(t[r]=yr(t[r],r))}):Nr(t.date)&&Nr(t.time)&&t.time!=="::"?(t=`${t.date} ${t.time}`,t=I(t,"MM-DD-YYYY H:m:s").tz("America/Chicago")):Nr(t.date)?(t=`${t.date}`,t=I(t,"MM-DD-YYYY").tz("America/Chicago")):Nr(t.time)&&t.time!=="::"?(t=`${t.time}`,t=I(t,"H:m:s").tz("America/Chicago")):typeof t=="object"&&!Array.isArray(t)&&t!==null&&Object.keys(t).forEach(r=>{t[r]&&(t[r]=yr(t[r],r))}),t),Wi=t=>{const e=Ht.exports.unescape(t.replace(/\n/g,"\\n"));try{let r=JSON.parse(e);return Array.isArray(r)?r.forEach(i=>{Object.keys(i).forEach(a=>{i[a]&&(i[a]=yr(i[a],a))})}):typeof r=="object"&&!Array.isArray(r)&&r!==null&&Object.keys(r).forEach(i=>{Array.isArray(r[i])?r[i].forEach(a=>{Object.keys(a).forEach(o=>{at(o)&&a[o]?a[o]=yr(a[o],o):a[o]&&typeof a[o]=="object"&&!Array.isArray(a[o])&&a[o]!==null&&Object.keys(a[o]).forEach(u=>{a[o][u]&&(a[o][u]=yr(a[o][u],u))})})}):typeof r[i]=="object"&&!Array.isArray(r[i])&&r[i]!==null&&(at(i)?r[i]=yr(r[i],i):Object.keys(r[i]).forEach(a=>{r[i][a]&&(r[i][a]=yr(r[i][a],a))}))}),r}catch(r){return console.log(r),console.log("error parsing:",e),[]}};function Z3(t,e){return{quickbase:new z3(t,e)}}const e2=da(pa.create({baseURL:_h.baseURL,timeout:25e3,headers:{"Content-Type":"application/json"}}),{maxRequests:6,perMilliseconds:1e3}),{quickbase:q}=Z3(e2,{});var t2=cf(({app:t})=>{t.config.globalProperties.$quickbase=q}),m2=Object.freeze(Object.defineProperty({__proto__:null,default:t2,quickbase:q},Symbol.toStringTag,{value:"Module"})),sf=[{title:"Home",i18n:"home",caption:"Home",icon:"home",to:{name:"home",exact:!0},resource:"dashboard",action:"read",userType:"All"},{title:"Profile",caption:"Information",icon:"assignment_ind",to:{name:"profile",exact:!0},resource:"profile",action:"read",access:{userType:"none",public:!1,private:!1}},{title:"Job Board",caption:"Job Board",icon:"work",to:{name:"jobs",exact:!0},resource:"jobBoardMenu",action:"read",userType:"Candidate",access:{userType:"Candidate",public:!0,private:!1,checkIn:!1}},{title:"Apply",caption:"Apply",icon:"feed",to:{name:"apply",exact:!0},resource:"applyMenu",action:"read",userType:"Candidate",access:{userType:"Candidate",public:!0,private:!0,checkIn:!0}}],of=[{title:"Home",caption:"Dashboard",icon:"fa-solid fa-house",to:{name:"home",exact:!0},resource:"dashboard",userType:"Project User"},{title:"Hire Requests",caption:"Requests",icon:"fa-solid fa-user-plus",to:{name:"requests",exact:!0},resource:"projectRequests",userType:"Project User"},{title:"Pipeline",caption:"Pipeline",icon:"fa-solid fa-bars-progress",to:{name:"pipeline",exact:!0},resource:"projectPipeline",userType:"Project User"},{title:"Expected Arrivals",caption:"Arrivals",icon:"fa-solid fa-person-walking-arrow-right",to:{name:"arrivals",exact:!0},resource:"projectArrivals",userType:"Project User"},{title:"Employees",caption:"Employees",icon:"fa-solid fa-people-group",to:{name:"employees",exact:!0},resource:"projectEmployees",userType:"Project User"},{title:"Reporting",caption:"Reporting",icon:"fa-solid fa-file-lines",to:{name:"reporting",exact:!0},resource:"projectEmployees",userType:"Project User"},{title:"Compliance",caption:"Compliance",icon:"fa-solid fa-shield-halved",to:{name:"compliance",exact:!0},resource:"compliance",userType:"Project User"},{title:"Inventory",caption:"Inventory",icon:"fa-solid fa-boxes-stacked",to:{name:"yard-inventory",exact:!0},resource:"projectInventory",userType:"Project User"}],af=[{title:"Self Check-Ins",caption:"self-check-ins",icon:"list_alt",to:{name:"self-check-ins",exact:!0},resource:"selfCheckIns",userType:"QuickBase User"},{title:"Hiring",caption:"Hiring",icon:"group_add",to:{name:"profiles",exact:!0},resource:"hiring",userType:"QuickBase User"},{title:"Recruiting",caption:"Recruiting",icon:"connect_without_contact",to:{name:"jobPost",exact:!0},resource:"recruiting",userType:"QuickBase User"},{title:"Projects",caption:"Projects",icon:"corporate_fare",to:{name:"projects",exact:!0},resource:"projects",userType:"QuickBase User"},{title:"Releases",caption:"Releases",icon:"receipt",to:{name:"releases",exact:!0},resource:"releases",userType:"QuickBase User"},{title:"Chat",caption:"Chat",icon:"chat",to:{name:"chat",exact:!0},resource:"chat",userType:"QuickBase User"},{title:"Admin",caption:"Admin",icon:"settings",to:{name:"admin",exact:!0},resource:"admin",userType:"QuickBase User"}],r2=[{title:"Summary",caption:"Summary",icon:"summarize",resource:"open",to:{name:"ee-summary",exact:!0}}],n2=[{title:"General",caption:"General",icon:"info_outline",resource:"open",to:{name:"project-general",exact:!0}},{title:"Job Structure",caption:"Jobs",icon:"construction",resource:"open",to:{name:"project-jobs",exact:!0}},{title:"Requirements",caption:"Requirements",icon:"room_preferences",resource:"open",to:{name:"project-requirements",exact:!0}},{title:"Hire Requests",caption:"Requests",icon:"shopping_basket",resource:"open",to:{name:"project-requests",exact:!0}},{title:"Manpower",caption:"Manpower",icon:"groups",resource:"open",to:{name:"project-manpower",exact:!0}}];const Fe=yt("app",{state:()=>({title:H.toolbarTitle,lang:null,checkIn:H.pageType==="Candidate"||H.pageType==="Candidate Kiosk",checkInData:{},pageType:H.pageType,userType:H.userType,menu:H.userType==="Candidate"?sf:H.userType==="Project User"?of:H.userType==="QuickBase User"?af:[],startPage:H.startPage,version:H.version,homeButton:H.homeButton,event:null,kioskActive:!1,country:H.country,sandbox:H.sandbox||!1}),getters:{appVersion:t=>t.version,toolbarTitle:t=>t.title,currentPageType:t=>t.pageType,currentUserType:t=>t.userType,inHiringCenter:t=>t.checkInData[15]?t.checkInData[15]==="Waiting":!1,checkedIn:t=>t.checkInData[15]?t.checkInData[15]==="Waiting":!1,checkedInStatus:t=>t.checkInData[15]||null,onKiosk(){return this.currentPageType==="Candidate Kiosk"},currentLang:t=>t.lang,startPageEnabled:t=>t.startPage,homeButtonEnabled:t=>t.homeButton,activeMenu(){const{hiringCenterAvailable:t}=ot();return this.menu.filter(r=>{let i=!0,a=!0;if(pr.can(r.action||"read",r.resource)){let o=pr.possibleRulesFor(r.action||"read",r.resource)[0].conditions;return o&&(o.userType&&(i=o.userType===this.currentUserType,i||(a=!1)),o.accept&&(i=o.accept.find(u=>u==="checkedIn"&&this.checkedIn||u==="kiosk"&&this.onKiosk?!0:!!(u==="office"&&t)),i||(a=!1)),o.deny&&(i=o.deny.filter(u=>u==="checkedIn"&&this.checkedIn||u==="kiosk"&&this.onKiosk?!0:!!(u==="office"&&t)).length===0,i||(a=!1))),a}else return!1})},viewEmployeeMenu(){return r2.filter(e=>{let r=!0,i=!0;if(pr.can(e.action||"read",e.resource)){let a=pr.possibleRulesFor(e.action||"read",e.resource)[0].conditions;return a&&a.userType&&(r=a.userType===this.currentUserType,r||(i=!1)),i}else return!1})},viewProjectMenu(){return n2.filter(e=>{let r=!0,i=!0;if(pr.can(e.action||"read",e.resource)){let a=pr.possibleRulesFor(e.action||"read",e.resource)[0].conditions;return a&&a.userType&&(r=a.userType===this.currentUserType,r||(i=!1)),i}else return!1})},currentEvent:t=>t.event,getCountry:t=>t.country,sandboxMode:t=>t.sandbox},actions:{setCheckInData(t){const{setHiringCenter:e}=ot();this.checkInData=t,F.setItem(H.storageCheckInKeyName,t),this.currentPageType==="Candidate"&&t[15]==="Waiting"&&e(t.office,!0)},openWindow(t,e){(e.fullScreen===null||e.fullScreen===void 0)&&(e.fullScreen=!0),e.name==="Full Profile"&&!e.height&&(e.height=775),e.width=e.width?e.width:screen.availWidth&&e.fullScreen?screen.availWidth:1450,e.height=e.height?e.height:screen.availHeight&&e.fullScreen?screen.availHeight:700;const r=window.top.outerHeight/2+window.top.screenY-e.height/2,i=window.top.outerWidth/2+window.top.screenX-e.width/2;`${e.width}`,`${e.height}`,e.fullScreen,N1(e.url,null,{width:e.width,height:e.height,top:r,left:i,popup:!0,fullscreen:e.fullScreen||!0,menubar:!1,toolbar:!1})},async addTaskToCheckin({task:t,reason:e,active:r}){const i={3:{value:this.checkInData[3]},10:{value:e},27:{value:t}};r&&Object.assign(i,{36:{value:!0}});const{data:a}=await q.upsertRecordsXML({to:"br26nivmr",data:[i],fieldsToReturn:[31],formatObject:31});if(a[0])return this.checkInData=a[0][31],this.checkInData;throw"Something went wrong"},setLang(t){this.lang=t},setEvent(t,e){this.event=t,e&&F.setItem(H.storageEvent,t),t||F.removeItem(H.storageEvent)},setKioskActive(t){this.kioskActive=t},setStartPage(t,e){this.startPage=t,e&&F.setItem(H.storageStartPage,t),t||F.removeItem(H.storageStartPage)},setHomeButton(t,e){this.homeButton=t,e&&F.setItem(H.storageHomeButton,t),t||F.removeItem(H.storageHomeButton)},setCountry(t){this.country=t},setMode(t){this.pageType=t,F.setItem("clm_mode",t),this.userType=t,this.checkIn=!1,t==="Candidate"||t==="Candidate Kiosk"?(this.checkIn=!0,this.userType="Candidate",this.menu=sf):t==="Project User"?this.menu=of:t==="QuickBase User"&&(this.menu=af)}}});export{h2 as S,p2 as _,pr as a,Fe as b,Ue as c,Pe as d,ot as e,tt as f,rr as g,ef as h,$n as i,br as j,Tt as k,g2 as l,Qe as m,Qi as n,Y3 as o,Lh as p,q,Dr as r,tb as s,N1 as t,ne as u,d2 as v,m2 as w};
