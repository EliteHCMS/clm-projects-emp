var P=Object.defineProperty,W=Object.defineProperties;var z=Object.getOwnPropertyDescriptors;var B=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable;var _=(e,o,c)=>o in e?P(e,o,{enumerable:!0,configurable:!0,writable:!0,value:c}):e[o]=c,w=(e,o)=>{for(var c in o||(o={}))E.call(o,c)&&_(e,c,o[c]);if(B)for(var c of B(o))N.call(o,c)&&_(e,c,o[c]);return e},C=(e,o)=>W(e,z(o));import"./index.7dbe61ef.js";import{q as Q,T as j}from"./quickbase.2ee72534.js";import{bP as D,cW as K,cN as X,cX as O,dk as Y,r as G,c as y,aM as J,h as $,ch as Z,bI as T,g as p,dl as ee,cd as ne,cb as H}from"./index.1b5374c8.js";const le=(e,o)=>{o=o||"";const c=1024,i=window.atob(e),b=i.length,g=Math.ceil(b/c),m=new Array(g);for(let r=0;r<g;++r){const u=r*c,d=Math.min(u+c,b),S=new Array(d-u);for(let v=u,L=0;v<d;++L,++v)S[L]=i[v].charCodeAt(0);m[r]=new Uint8Array(S)}return new Blob(m,{type:o})},te=(e,o="file.pdf")=>{const c=URL.createObjectURL(e),i=document.createElement("a");i.href=c,i.download=o,document.body.appendChild(i),i.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})),document.body.removeChild(i)},ae=async e=>{const{tableId:o,recordId:c,fieldId:i,versionNumber:b,name:g}=e,m=await Q.downloadBase64({tableId:o,recordId:c,fieldId:i,versionNumber:b}),r=await le(m);te(r,g)},ue=e=>{(e.fullScreen===null||e.fullScreen===void 0)&&(e.fullScreen=!0),e.name==="Full Profile"&&!e.height&&(e.height=775),e.width=e.width?e.width:screen.availWidth&&e.fullScreen?screen.availWidth:1450,e.height=e.height?e.height:screen.availHeight&&e.fullScreen?screen.availHeight:700;const o=window.top.outerHeight/2+window.top.screenY-e.height/2,c=window.top.outerWidth/2+window.top.screenX-e.width/2;`${e.width}`,`${e.height}`,e.fullScreen,j(e.url,null,{width:e.width,height:e.height,top:o,left:c,popup:!0,fullscreen:e.fullScreen||!0,menubar:!1,toolbar:!1})};var se=D({name:"QRating",props:C(w(w({},K),X),{modelValue:{type:Number,required:!0},max:{type:[String,Number],default:5},icon:[String,Array],iconHalf:[String,Array],iconSelected:[String,Array],iconAriaLabel:[String,Array],color:[String,Array],colorHalf:[String,Array],colorSelected:[String,Array],noReset:Boolean,noDimming:Boolean,readonly:Boolean,disable:Boolean}),emits:["update:modelValue"],setup(e,{slots:o,emit:c}){const{proxy:{$q:i}}=p(),b=O(e),g=Y(e),m=ee(g),r=G(0);let u={};const d=y(()=>e.readonly!==!0&&e.disable!==!0),S=y(()=>`q-rating row inline items-center q-rating--${d.value===!0?"":"non-"}editable`+(e.noDimming===!0?" q-rating--no-dimming":"")+(e.disable===!0?" disabled":"")+(e.color!==void 0&&Array.isArray(e.color)===!1?` text-${e.color}`:"")),v=y(()=>{const t=Array.isArray(e.icon)===!0?e.icon.length:0,n=Array.isArray(e.iconSelected)===!0?e.iconSelected.length:0,a=Array.isArray(e.iconHalf)===!0?e.iconHalf.length:0,f=Array.isArray(e.color)===!0?e.color.length:0,h=Array.isArray(e.colorSelected)===!0?e.colorSelected.length:0,l=Array.isArray(e.colorHalf)===!0?e.colorHalf.length:0;return{iconLen:t,icon:t>0?e.icon[t-1]:e.icon,selIconLen:n,selIcon:n>0?e.iconSelected[n-1]:e.iconSelected,halfIconLen:a,halfIcon:a>0?e.iconHalf[n-1]:e.iconHalf,colorLen:f,color:f>0?e.color[f-1]:e.color,selColorLen:h,selColor:h>0?e.colorSelected[h-1]:e.colorSelected,halfColorLen:l,halfColor:l>0?e.colorHalf[l-1]:e.colorHalf}}),L=y(()=>{if(typeof e.iconAriaLabel=="string"){const t=e.iconAriaLabel.length>0?`${e.iconAriaLabel} `:"";return n=>`${t}${n}`}if(Array.isArray(e.iconAriaLabel)===!0){const t=e.iconAriaLabel.length;if(t>0)return n=>e.iconAriaLabel[Math.min(n,t)-1]}return(t,n)=>`${n} ${t}`}),k=y(()=>{const t=[],n=v.value,a=Math.ceil(e.modelValue),f=d.value===!0?0:null,h=e.iconHalf===void 0||a===e.modelValue?-1:a;for(let l=1;l<=e.max;l++){const s=r.value===0&&e.modelValue>=l||r.value>0&&r.value>=l,A=h===l&&r.value<l,I=r.value>0&&(A===!0?a:e.modelValue)>=l&&r.value<l,V=A===!0?l<=n.halfColorLen?e.colorHalf[l-1]:n.halfColor:n.selColor!==void 0&&s===!0?l<=n.selColorLen?e.colorSelected[l-1]:n.selColor:l<=n.colorLen?e.color[l-1]:n.color,U=(A===!0?l<=n.halfIconLen?e.iconHalf[l-1]:n.halfIcon:n.selIcon!==void 0&&(s===!0||I===!0)?l<=n.selIconLen?e.iconSelected[l-1]:n.selIcon:l<=n.iconLen?e.icon[l-1]:n.icon)||i.iconSet.rating.icon;t.push({name:(A===!0?l<=n.halfIconLen?e.iconHalf[l-1]:n.halfIcon:n.selIcon!==void 0&&(s===!0||I===!0)?l<=n.selIconLen?e.iconSelected[l-1]:n.selIcon:l<=n.iconLen?e.icon[l-1]:n.icon)||i.iconSet.rating.icon,attrs:{tabindex:f,role:"radio","aria-checked":e.modelValue===l?"true":"false","aria-label":L.value(l,U)},iconClass:"q-rating__icon"+(s===!0||A===!0?" q-rating__icon--active":"")+(I===!0?" q-rating__icon--exselected":"")+(r.value===l?" q-rating__icon--hovered":"")+(V!==void 0?` text-${V}`:"")})}return t}),R=y(()=>{const t={role:"radiogroup"};return e.disable===!0&&(t["aria-disabled"]="true"),e.readonly===!0&&(t["aria-readonly"]="true"),t});function x(t){if(d.value===!0){const n=ne(parseInt(t,10),1,parseInt(e.max,10)),a=e.noReset!==!0&&e.modelValue===n?0:n;a!==e.modelValue&&c("update:modelValue",a),r.value=0}}function M(t){d.value===!0&&(r.value=t)}function F(t,n){switch(t.keyCode){case 13:case 32:return x(n),H(t);case 37:case 40:return u[`rt${n-1}`]&&u[`rt${n-1}`].$el.focus(),H(t);case 39:case 38:return u[`rt${n+1}`]&&u[`rt${n+1}`].$el.focus(),H(t)}}function q(){r.value=0}return J(()=>{u={}}),()=>{const t=[];return k.value.forEach(({iconClass:n,name:a,attrs:f},h)=>{const l=h+1;t.push($("div",C(w({key:l,ref:s=>{u[`rt${l}`]=s},class:"q-rating__icon-container flex flex-center"},f),{onClick(){x(l)},onMouseover(){M(l)},onMouseout:q,onFocus(){M(l)},onBlur:q,onKeyup(s){F(s,l)}}),Z(o[`tip-${l}`],[$(T,{class:n,name:a})])))}),e.name!==void 0&&e.disable!==!0&&m(t,"push"),$("div",w({class:S.value,style:b.value},R.value),t)}}});export{se as Q,ae as d,ue as o};
