var Q=Object.defineProperty,z=Object.defineProperties;var D=Object.getOwnPropertyDescriptors;var x=Object.getOwnPropertySymbols;var N=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;var C=(e,t,o)=>t in e?Q(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,y=(e,t)=>{for(var o in t||(t={}))N.call(t,o)&&C(e,o,t[o]);if(x)for(var o of x(t))j.call(t,o)&&C(e,o,t[o]);return e},h=(e,t)=>z(e,D(t));import{bP as K,cW as E,cN as U,cX as W,dn as X,r as G,c as f,aM as J,h as A,ch as O,bI as T,g as Y,dp as Z,cd as p,cb as S}from"./index.8856b4a9.js";var ae=K({name:"QRating",props:h(y(y({},E),U),{modelValue:{type:Number,required:!0},max:{type:[String,Number],default:5},icon:[String,Array],iconHalf:[String,Array],iconSelected:[String,Array],iconAriaLabel:[String,Array],color:[String,Array],colorHalf:[String,Array],colorSelected:[String,Array],noReset:Boolean,noDimming:Boolean,readonly:Boolean,disable:Boolean}),emits:["update:modelValue"],setup(e,{slots:t,emit:o}){const{proxy:{$q:b}}=Y(),V=W(e),q=X(e),M=Z(q),r=G(0);let s={};const g=f(()=>e.readonly!==!0&&e.disable!==!0),_=f(()=>`q-rating row inline items-center q-rating--${g.value===!0?"":"non-"}editable`+(e.noDimming===!0?" q-rating--no-dimming":"")+(e.disable===!0?" disabled":"")+(e.color!==void 0&&Array.isArray(e.color)===!1?` text-${e.color}`:"")),B=f(()=>{const l=Array.isArray(e.icon)===!0?e.icon.length:0,n=Array.isArray(e.iconSelected)===!0?e.iconSelected.length:0,c=Array.isArray(e.iconHalf)===!0?e.iconHalf.length:0,u=Array.isArray(e.color)===!0?e.color.length:0,d=Array.isArray(e.colorSelected)===!0?e.colorSelected.length:0,a=Array.isArray(e.colorHalf)===!0?e.colorHalf.length:0;return{iconLen:l,icon:l>0?e.icon[l-1]:e.icon,selIconLen:n,selIcon:n>0?e.iconSelected[n-1]:e.iconSelected,halfIconLen:c,halfIcon:c>0?e.iconHalf[n-1]:e.iconHalf,colorLen:u,color:u>0?e.color[u-1]:e.color,selColorLen:d,selColor:d>0?e.colorSelected[d-1]:e.colorSelected,halfColorLen:a,halfColor:a>0?e.colorHalf[a-1]:e.colorHalf}}),F=f(()=>{if(typeof e.iconAriaLabel=="string"){const l=e.iconAriaLabel.length>0?`${e.iconAriaLabel} `:"";return n=>`${l}${n}`}if(Array.isArray(e.iconAriaLabel)===!0){const l=e.iconAriaLabel.length;if(l>0)return n=>e.iconAriaLabel[Math.min(n,l)-1]}return(l,n)=>`${n} ${l}`}),R=f(()=>{const l=[],n=B.value,c=Math.ceil(e.modelValue),u=g.value===!0?0:null,d=e.iconHalf===void 0||c===e.modelValue?-1:c;for(let a=1;a<=e.max;a++){const i=r.value===0&&e.modelValue>=a||r.value>0&&r.value>=a,m=d===a&&r.value<a,v=r.value>0&&(m===!0?c:e.modelValue)>=a&&r.value<a,$=m===!0?a<=n.halfColorLen?e.colorHalf[a-1]:n.halfColor:n.selColor!==void 0&&i===!0?a<=n.selColorLen?e.colorSelected[a-1]:n.selColor:a<=n.colorLen?e.color[a-1]:n.color,P=(m===!0?a<=n.halfIconLen?e.iconHalf[a-1]:n.halfIcon:n.selIcon!==void 0&&(i===!0||v===!0)?a<=n.selIconLen?e.iconSelected[a-1]:n.selIcon:a<=n.iconLen?e.icon[a-1]:n.icon)||b.iconSet.rating.icon;l.push({name:(m===!0?a<=n.halfIconLen?e.iconHalf[a-1]:n.halfIcon:n.selIcon!==void 0&&(i===!0||v===!0)?a<=n.selIconLen?e.iconSelected[a-1]:n.selIcon:a<=n.iconLen?e.icon[a-1]:n.icon)||b.iconSet.rating.icon,attrs:{tabindex:u,role:"radio","aria-checked":e.modelValue===a?"true":"false","aria-label":F.value(a,P)},iconClass:"q-rating__icon"+(i===!0||m===!0?" q-rating__icon--active":"")+(v===!0?" q-rating__icon--exselected":"")+(r.value===a?" q-rating__icon--hovered":"")+($!==void 0?` text-${$}`:"")})}return l}),k=f(()=>{const l={role:"radiogroup"};return e.disable===!0&&(l["aria-disabled"]="true"),e.readonly===!0&&(l["aria-readonly"]="true"),l});function L(l){if(g.value===!0){const n=p(parseInt(l,10),1,parseInt(e.max,10)),c=e.noReset!==!0&&e.modelValue===n?0:n;c!==e.modelValue&&o("update:modelValue",c),r.value=0}}function I(l){g.value===!0&&(r.value=l)}function w(l,n){switch(l.keyCode){case 13:case 32:return L(n),S(l);case 37:case 40:return s[`rt${n-1}`]&&s[`rt${n-1}`].focus(),S(l);case 39:case 38:return s[`rt${n+1}`]&&s[`rt${n+1}`].focus(),S(l)}}function H(){r.value=0}return J(()=>{s={}}),()=>{const l=[];return R.value.forEach(({iconClass:n,name:c,attrs:u},d)=>{const a=d+1;l.push(A("div",h(y({key:a,ref:i=>{s[`rt${a}`]=i},class:"q-rating__icon-container flex flex-center"},u),{onClick(){L(a)},onMouseover(){I(a)},onMouseout:H,onFocus(){I(a)},onBlur:H,onKeyup(i){w(i,a)}}),O(t[`tip-${a}`],[A(T,{class:n,name:c})])))}),e.name!==void 0&&e.disable!==!0&&M(l,"push"),A("div",y({class:_.value,style:V.value},k.value),l)}}});export{ae as Q};
