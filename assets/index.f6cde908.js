import{bX as Ne,r as S,c as k,w as I,aR as At,aV as Nt,aT as ht,o as gt,b$ as Lt,h as A,bY as Mt,cJ as Vt,dm as ie,cK as ye,dn as Ve,aQ as ne,cE as _e,ce as Qt,cp as qt,g as Le,i as Ht,bZ as be,b_ as Rt,cM as jt,cA as Ft,dj as Bt,a8 as K,N as zt,W as Ut,b as yt,Z as Wt,l as Kt,Y as de,bV as _t,A as C,B,aq as D,br as h,D as xe,d as b,ck as Yt,F as $e,b4 as Pe,ax as F,ac as W,dd as Ce,G as ce,ar as H,cS as Qe,bW as J,E as qe,bN as we,bt as Z,bR as oe,bP as U,dc as He,bQ as Re,cy as Gt,cT as je,cU as Oe,cV as Xt}from"./index.4dac2c6e.js";import{Q as Jt,a as Fe}from"./QHeader.f23360d1.js";import{Q as Se}from"./QList.a7a2008b.js";import{Q as Zt}from"./QMenu.5ef1c14c.js";import{Q as ea}from"./QToolbar.c4ba2ca6.js";import{Q as Be}from"./QSelect.0217e1b0.js";import{Q as ta,a as aa}from"./QDrawer.eec2edb7.js";import{Q as oa,a as na}from"./QLayout.3ff4dd1b.js";import{Q as ra}from"./QResizeObserver.dc212e4d.js";import{C as le}from"./ClosePopup.49d1eef1.js";import{u as la}from"./use-quasar.5f82aae6.js";import{Q as sa}from"./QImg.e443940a.js";import{c as bt,i as G}from"./app.dc1ff75d.js";import{p as ua}from"./VueTelInput.6d637119.js";import{c as ia}from"./array.59f93f43.js";import{u as ca}from"./i18n.619af201.js";import{u as da}from"./vee-validate.esm.98ae1735.js";import{_ as fa}from"./officeSelector.8d010176.js";import"./position-engine.eb3df269.js";import"./selection.4e7f893d.js";import"./QChip.14868bc0.js";import"./rtl.b51694b1.js";import"./TouchPan.627b10a9.js";import"./touch.3df10340.js";import"./_commonjsHelpers.a26ce4be.js";import"./dayjs.1133dfcf.js";import"./localForage.501be3ae.js";import"./api.1f088558.js";import"./index.04bc0a32.js";const{passive:ee}=Vt;var wt=Ne({name:"QInfiniteScroll",props:{offset:{type:Number,default:500},debounce:{type:[String,Number],default:100},scrollTarget:{default:void 0},initialIndex:Number,disable:Boolean,reverse:Boolean},emits:["load"],setup(e,{slots:t,emit:a}){const o=S(!1),n=S(!0),l=S(null),r=S(null);let u=e.initialIndex||0,s,d;const i=k(()=>"q-infinite-scroll__loading"+(o.value===!0?"":" invisible"));function f(){if(e.disable===!0||o.value===!0||n.value===!1)return;const x=ie(s),L=ye(s),M=Ve(s);e.reverse===!1?Math.round(L+M+e.offset)>=Math.round(x)&&c():Math.round(L)<=e.offset&&c()}function c(){if(e.disable===!0||o.value===!0||n.value===!1)return;u++,o.value=!0;const x=ie(s);a("load",u,L=>{n.value===!0&&(o.value=!1,ne(()=>{if(e.reverse===!0){const M=ie(s),w=ye(s),ve=M-x;_e(s,w+ve)}L===!0?P():l.value&&l.value.closest("body")&&d()}))})}function v(){u=0}function _(){n.value===!1&&(n.value=!0,s.addEventListener("scroll",d,ee)),f()}function P(){n.value===!0&&(n.value=!1,o.value=!1,s.removeEventListener("scroll",d,ee),d!==void 0&&d.cancel!==void 0&&d.cancel())}function O(){if(s&&n.value===!0&&s.removeEventListener("scroll",d,ee),s=Qt(l.value,e.scrollTarget),n.value===!0){if(s.addEventListener("scroll",d,ee),e.reverse===!0){const x=ie(s),L=Ve(s);_e(s,x-L)}f()}}function T(x){u=x}function q(x){x=parseInt(x,10);const L=d;d=x<=0?f:qt(f,isNaN(x)===!0?100:x),s&&n.value===!0&&(L!==void 0&&s.removeEventListener("scroll",L,ee),s.addEventListener("scroll",d,ee))}function N(x){if($.value===!0){if(r.value===null){x!==!0&&ne(()=>{N(!0)});return}const L=`${o.value===!0?"un":""}pauseAnimations`;Array.from(r.value.getElementsByTagName("svg")).forEach(M=>{M[L]()})}}const $=k(()=>e.disable!==!0&&n.value===!0);I([o,$],()=>{N()}),I(()=>e.disable,x=>{x===!0?P():_()}),I(()=>e.reverse,()=>{o.value===!1&&n.value===!0&&f()}),I(()=>e.scrollTarget,O),I(()=>e.debounce,q);let y=!1;At(()=>{y!==!1&&s&&_e(s,y)}),Nt(()=>{y=s?ye(s):!1}),ht(()=>{n.value===!0&&s.removeEventListener("scroll",d,ee)}),gt(()=>{q(e.debounce),O(),o.value===!1&&N()});const E=Le();return Object.assign(E.proxy,{poll:()=>{d!==void 0&&d()},trigger:c,stop:P,reset:v,resume:_,setIndex:T}),()=>{const x=Lt(t.default,[]);return $.value===!0&&x[e.reverse===!1?"push":"unshift"](A("div",{ref:r,class:i.value},Mt(t.loading))),A("div",{class:"q-infinite-scroll",ref:l},x)}}}),va=Ne({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:t,emit:a}){const{proxy:{$q:o}}=Le(),n=Ht(Rt,be);if(n===be)return console.error("QFooter needs to be child of QLayout"),be;const l=S(parseInt(e.heightHint,10)),r=S(!0),u=S(jt.value===!0||n.isContainer.value===!0?0:window.innerHeight),s=k(()=>e.reveal===!0||n.view.value.indexOf("F")>-1||o.platform.is.ios&&n.isContainer.value===!0),d=k(()=>n.isContainer.value===!0?n.containerHeight.value:u.value),i=k(()=>{if(e.modelValue!==!0)return 0;if(s.value===!0)return r.value===!0?l.value:0;const y=n.scroll.value.position+d.value+l.value-n.height.value;return y>0?y:0}),f=k(()=>e.modelValue!==!0||s.value===!0&&r.value!==!0),c=k(()=>e.modelValue===!0&&f.value===!0&&e.reveal===!0),v=k(()=>"q-footer q-layout__section--marginal "+(s.value===!0?"fixed":"absolute")+"-bottom"+(e.bordered===!0?" q-footer--bordered":"")+(f.value===!0?" q-footer--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus"+(s.value!==!0?" hidden":""):"")),_=k(()=>{const y=n.rows.value.bottom,E={};return y[0]==="l"&&n.left.space===!0&&(E[o.lang.rtl===!0?"right":"left"]=`${n.left.size}px`),y[2]==="r"&&n.right.space===!0&&(E[o.lang.rtl===!0?"left":"right"]=`${n.right.size}px`),E});function P(y,E){n.update("footer",y,E)}function O(y,E){y.value!==E&&(y.value=E)}function T({height:y}){O(l,y),P("size",y)}function q(){if(e.reveal!==!0)return;const{direction:y,position:E,inflectionPoint:x}=n.scroll.value;O(r,y==="up"||E-x<100||n.height.value-d.value-E-l.value<300)}function N(y){c.value===!0&&O(r,!0),a("focusin",y)}I(()=>e.modelValue,y=>{P("space",y),O(r,!0),n.animate()}),I(i,y=>{P("offset",y)}),I(()=>e.reveal,y=>{y===!1&&O(r,e.modelValue)}),I(r,y=>{n.animate(),a("reveal",y)}),I([l,n.scroll,n.height],q),I(()=>o.screen.height,y=>{n.isContainer.value!==!0&&O(u,y)});const $={};return n.instances.footer=$,e.modelValue===!0&&P("size",l.value),P("space",e.modelValue),P("offset",i.value),ht(()=>{n.instances.footer===$&&(n.instances.footer=void 0,P("size",0),P("offset",0),P("space",!1))}),()=>{const y=Ft(t.default,[A(ra,{debounce:0,onResize:T})]);return e.elevated===!0&&y.push(A("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),A("footer",{class:v.value,style:_.value,onFocusin:N},y)}}}),ma=Ne({name:"QChatMessage",props:{sent:Boolean,label:String,bgColor:String,textColor:String,name:String,avatar:String,text:Array,stamp:String,size:String,labelHtml:Boolean,nameHtml:Boolean,textHtml:Boolean,stampHtml:Boolean},setup(e,{slots:t}){const a=k(()=>e.sent===!0?"sent":"received"),o=k(()=>`q-message-text-content q-message-text-content--${a.value}`+(e.textColor!==void 0?` text-${e.textColor}`:"")),n=k(()=>`q-message-text q-message-text--${a.value}`+(e.bgColor!==void 0?` text-${e.bgColor}`:"")),l=k(()=>"q-message-container row items-end no-wrap"+(e.sent===!0?" reverse":"")),r=k(()=>e.size!==void 0?`col-${e.size}`:""),u=k(()=>({msg:e.textHtml===!0?"innerHTML":"textContent",stamp:e.stampHtml===!0?"innerHTML":"textContent",name:e.nameHtml===!0?"innerHTML":"textContent",label:e.labelHtml===!0?"innerHTML":"textContent"}));function s(i){return t.stamp!==void 0?[i,A("div",{class:"q-message-stamp"},t.stamp())]:e.stamp?[i,A("div",{class:"q-message-stamp",[u.value.stamp]:e.stamp})]:[i]}function d(i,f){const c=f===!0?i.length>1?v=>v:v=>A("div",[v]):v=>A("div",{[u.value.msg]:v});return i.map((v,_)=>A("div",{key:_,class:n.value},[A("div",{class:o.value},s(c(v)))]))}return()=>{const i=[];t.avatar!==void 0?i.push(t.avatar()):e.avatar!==void 0&&i.push(A("img",{class:`q-message-avatar q-message-avatar--${a.value}`,src:e.avatar,"aria-hidden":"true"}));const f=[];t.name!==void 0?f.push(A("div",{class:`q-message-name q-message-name--${a.value}`},t.name())):e.name!==void 0&&f.push(A("div",{class:`q-message-name q-message-name--${a.value}`,[u.value.name]:e.name})),t.default!==void 0?f.push(d(Bt(t.default()),!0)):e.text!==void 0&&f.push(d(e.text)),i.push(A("div",{class:r.value},f));const c=[];return t.label!==void 0?c.push(A("div",{class:"q-message-label"},t.label())):e.label!==void 0&&c.push(A("div",{class:"q-message-label",[u.value.label]:e.label})),c.push(A("div",{class:l.value},i)),A("div",{class:`q-message q-message-${a.value}`},c)}}}),ze;const se=typeof window!="undefined",pa=e=>typeof e=="function",ha=e=>typeof e=="string",z=()=>{},Ee=se&&((ze=window==null?void 0:window.navigator)==null?void 0:ze.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function V(e){return typeof e=="function"?e():K(e)}function Ot(e,t){function a(...o){return new Promise((n,l)=>{Promise.resolve(e(()=>t.apply(this,o),{fn:t,thisArg:this,args:o})).then(n).catch(l)})}return a}function ga(e,t={}){let a,o,n=z;const l=u=>{clearTimeout(u),n(),n=z};return u=>{const s=V(e),d=V(t.maxWait);return a&&l(a),s<=0||d!==void 0&&d<=0?(o&&(l(o),o=null),Promise.resolve(u())):new Promise((i,f)=>{n=t.rejectOnCancel?f:i,d&&!o&&(o=setTimeout(()=>{a&&l(a),o=null,i(u())},d)),a=setTimeout(()=>{o&&l(o),o=null,i(u())},s)})}}function ya(e,t=!0,a=!0,o=!1){let n=0,l,r=!0,u=z,s;const d=()=>{l&&(clearTimeout(l),l=void 0,u(),u=z)};return f=>{const c=V(e),v=Date.now()-n,_=()=>s=f();return d(),c<=0?(n=Date.now(),_()):(v>c&&(a||!r)?(n=Date.now(),_()):t&&(s=new Promise((P,O)=>{u=o?O:P,l=setTimeout(()=>{n=Date.now(),r=!0,P(_()),d()},Math.max(0,c-v))})),!a&&!l&&(l=setTimeout(()=>r=!0,c)),r=!1,s)}}const Y={mounted:"mounted",updated:"updated",unmounted:"unmounted"};function _a(e){return e}function te(e){return zt()?(Ut(e),!0):!1}function ba(e,t=200,a={}){return Ot(ga(t,a),e)}function wa(e,t=200,a=!1,o=!0,n=!1){return Ot(ya(t,a,o,n),e)}function Oa(e){return typeof e=="function"?k(e):S(e)}function Sa(e,t=!0){Le()?gt(e):t?e():ne(e)}function xa(e,t=1e3,a={}){const{immediate:o=!0,immediateCallback:n=!1}=a;let l=null;const r=S(!1);function u(){l&&(clearInterval(l),l=null)}function s(){r.value=!1,u()}function d(){const i=V(t);i<=0||(r.value=!0,n&&e(),u(),l=setInterval(e,i))}if(o&&se&&d(),yt(t)||pa(t)){const i=I(t,()=>{r.value&&se&&d()});te(i)}return te(s),{isActive:r,pause:s,resume:d}}const $a=se?window:void 0,Ie=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Te="__vueuse_ssr_handlers__";Ie[Te]=Ie[Te]||{};Ie[Te];function Pa(e,t={}){const{immediate:a=!0,window:o=$a}=t,n=S(!1);let l=0,r=null;function u(i){if(!n.value||!o)return;const f=i-l;e({delta:f,timestamp:i}),l=i,r=o.requestAnimationFrame(u)}function s(){!n.value&&o&&(n.value=!0,r=o.requestAnimationFrame(u))}function d(){n.value=!1,r!=null&&o&&(o.cancelAnimationFrame(r),r=null)}return a&&s(),te(d),{isActive:Wt(n),pause:d,resume:s}}var Ca=Object.defineProperty,Ue=Object.getOwnPropertySymbols,Ea=Object.prototype.hasOwnProperty,Ia=Object.prototype.propertyIsEnumerable,We=(e,t,a)=>t in e?Ca(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,Ta=(e,t)=>{for(var a in t||(t={}))Ea.call(t,a)&&We(e,a,t[a]);if(Ue)for(var a of Ue(t))Ia.call(t,a)&&We(e,a,t[a]);return e};function ka(e={}){const{controls:t=!1,interval:a="requestAnimationFrame"}=e,o=S(new Date),n=()=>o.value=new Date,l=a==="requestAnimationFrame"?Pa(n,{immediate:!0}):xa(n,a,{immediate:!0});return t?Ta({now:o},l):o}var Ke;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(Ke||(Ke={}));var Da=Object.defineProperty,fe=Object.getOwnPropertySymbols,St=Object.prototype.hasOwnProperty,xt=Object.prototype.propertyIsEnumerable,Ye=(e,t,a)=>t in e?Da(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,Aa=(e,t)=>{for(var a in t||(t={}))St.call(t,a)&&Ye(e,a,t[a]);if(fe)for(var a of fe(t))xt.call(t,a)&&Ye(e,a,t[a]);return e},Na=(e,t)=>{var a={};for(var o in e)St.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&fe)for(var o of fe(e))t.indexOf(o)<0&&xt.call(e,o)&&(a[o]=e[o]);return a};const La=[{max:6e4,value:1e3,name:"second"},{max:276e4,value:6e4,name:"minute"},{max:72e6,value:36e5,name:"hour"},{max:5184e5,value:864e5,name:"day"},{max:24192e5,value:6048e5,name:"week"},{max:28512e6,value:2592e6,name:"month"},{max:1/0,value:31536e6,name:"year"}],Ma={justNow:"just now",past:e=>e.match(/\d/)?`${e} ago`:e,future:e=>e.match(/\d/)?`in ${e}`:e,month:(e,t)=>e===1?t?"last month":"next month":`${e} month${e>1?"s":""}`,year:(e,t)=>e===1?t?"last year":"next year":`${e} year${e>1?"s":""}`,day:(e,t)=>e===1?t?"yesterday":"tomorrow":`${e} day${e>1?"s":""}`,week:(e,t)=>e===1?t?"last week":"next week":`${e} week${e>1?"s":""}`,hour:e=>`${e} hour${e>1?"s":""}`,minute:e=>`${e} minute${e>1?"s":""}`,second:e=>`${e} second${e>1?"s":""}`,invalid:""},Va=e=>e.toISOString().slice(0,10);function Qa(e,t={}){const{controls:a=!1,updateInterval:o=3e4}=t,n=ka({interval:o,controls:!0}),{now:l}=n,r=Na(n,["now"]),u=k(()=>qa(new Date(V(e)),t,K(l.value)));return a?Aa({timeAgo:u},r):u}function qa(e,t={},a=Date.now()){var o;const{max:n,messages:l=Ma,fullDateFormatter:r=Va,units:u=La,showSecond:s=!1,rounding:d="round"}=t,i=typeof d=="number"?O=>+O.toFixed(d):Math[d],f=+a-+e,c=Math.abs(f);function v(O,T){return i(Math.abs(O)/T.value)}function _(O,T){const q=v(O,T),N=O>0,$=P(T.name,q,N);return P(N?"past":"future",$,N)}function P(O,T,q){const N=l[O];return typeof N=="function"?N(T,q):N.replace("{0}",T.toString())}if(c<6e4&&!s)return l.justNow;if(typeof n=="number"&&c>n)return r(new Date(e));if(typeof n=="string"){const O=(o=u.find(T=>T.name===n))==null?void 0:o.max;if(O&&c>O)return r(new Date(e))}for(const[O,T]of u.entries()){if(v(f,T)<=0&&u[O-1])return _(f,u[O-1]);if(c<T.max)return _(f,T)}return l.invalid}var Ha=Object.defineProperty,Ge=Object.getOwnPropertySymbols,Ra=Object.prototype.hasOwnProperty,ja=Object.prototype.propertyIsEnumerable,Xe=(e,t,a)=>t in e?Ha(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,Fa=(e,t)=>{for(var a in t||(t={}))Ra.call(t,a)&&Xe(e,a,t[a]);if(Ge)for(var a of Ge(t))ja.call(t,a)&&Xe(e,a,t[a]);return e};const Ba={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};Fa({linear:_a},Ba);function Q(e){var t;const a=V(e);return(t=a==null?void 0:a.$el)!=null?t:a}const ae=se?window:void 0;function R(...e){let t,a,o,n;if(ha(e[0])||Array.isArray(e[0])?([a,o,n]=e,t=ae):[t,a,o,n]=e,!t)return z;Array.isArray(a)||(a=[a]),Array.isArray(o)||(o=[o]);const l=[],r=()=>{l.forEach(i=>i()),l.length=0},u=(i,f,c,v)=>(i.addEventListener(f,c,v),()=>i.removeEventListener(f,c,v)),s=I(()=>[Q(t),V(n)],([i,f])=>{r(),i&&l.push(...a.flatMap(c=>o.map(v=>u(i,c,v,f))))},{immediate:!0,flush:"post"}),d=()=>{s(),r()};return te(d),d}let Je=!1;function Ze(e,t,a={}){const{window:o=ae,ignore:n=[],capture:l=!0,detectIframe:r=!1}=a;if(!o)return;Ee&&!Je&&(Je=!0,Array.from(o.document.body.children).forEach(c=>c.addEventListener("click",z)));let u=!0;const s=c=>n.some(v=>{if(typeof v=="string")return Array.from(o.document.querySelectorAll(v)).some(_=>_===c.target||c.composedPath().includes(_));{const _=Q(v);return _&&(c.target===_||c.composedPath().includes(_))}}),i=[R(o,"click",c=>{const v=Q(e);if(!(!v||v===c.target||c.composedPath().includes(v))){if(c.detail===0&&(u=!s(c)),!u){u=!0;return}t(c)}},{passive:!0,capture:l}),R(o,"pointerdown",c=>{const v=Q(e);v&&(u=!c.composedPath().includes(v)&&!s(c))},{passive:!0}),r&&R(o,"blur",c=>{var v;const _=Q(e);((v=o.document.activeElement)==null?void 0:v.tagName)==="IFRAME"&&!(_!=null&&_.contains(o.document.activeElement))&&t(c)})].filter(Boolean);return()=>i.forEach(c=>c())}Y.mounted+"",Y.unmounted+"";const za=e=>typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):()=>!0;function et(...e){let t,a,o={};e.length===3?(t=e[0],a=e[1],o=e[2]):e.length===2?typeof e[1]=="object"?(t=!0,a=e[0],o=e[1]):(t=e[0],a=e[1]):(t=!0,a=e[0]);const{target:n=ae,eventName:l="keydown",passive:r=!1}=o,u=za(t);return R(n,l,d=>{u(d)&&a(d)},r)}var Ua=Object.defineProperty,tt=Object.getOwnPropertySymbols,Wa=Object.prototype.hasOwnProperty,Ka=Object.prototype.propertyIsEnumerable,at=(e,t,a)=>t in e?Ua(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,Ya=(e,t)=>{for(var a in t||(t={}))Wa.call(t,a)&&at(e,a,t[a]);if(tt)for(var a of tt(t))Ka.call(t,a)&&at(e,a,t[a]);return e};Y.mounted+"";const Ga=500;function ot(e,t,a){var o,n;const l=k(()=>Q(e));let r;function u(){r&&(clearTimeout(r),r=void 0)}function s(i){var f,c,v,_;((f=a==null?void 0:a.modifiers)==null?void 0:f.self)&&i.target!==l.value||(u(),(c=a==null?void 0:a.modifiers)!=null&&c.prevent&&i.preventDefault(),(v=a==null?void 0:a.modifiers)!=null&&v.stop&&i.stopPropagation(),r=setTimeout(()=>t(i),(_=a==null?void 0:a.delay)!=null?_:Ga))}const d={capture:(o=a==null?void 0:a.modifiers)==null?void 0:o.capture,once:(n=a==null?void 0:a.modifiers)==null?void 0:n.once};R(l,"pointerdown",s,d),R(l,"pointerup",u,d),R(l,"pointerleave",u,d)}Y.mounted+"";const ke=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},De="__vueuse_ssr_handlers__";ke[De]=ke[De]||{};ke[De];function $t(e,t=!1){const a=S(),o=()=>a.value=Boolean(e());return o(),Sa(o,t),a}function Xa(e,t={}){const a=t?t.delayEnter:0,o=t?t.delayLeave:0,n=S(!1);let l;const r=u=>{const s=u?a:o;l&&(clearTimeout(l),l=void 0),s?l=setTimeout(()=>n.value=u,s):n.value=u};return window&&(R(e,"mouseenter",()=>r(!0),{passive:!0}),R(e,"mouseleave",()=>r(!1),{passive:!0})),n}Y.mounted+"";var nt=Object.getOwnPropertySymbols,Ja=Object.prototype.hasOwnProperty,Za=Object.prototype.propertyIsEnumerable,eo=(e,t)=>{var a={};for(var o in e)Ja.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&nt)for(var o of nt(e))t.indexOf(o)<0&&Za.call(e,o)&&(a[o]=e[o]);return a};function to(e,t,a={}){const o=a,{window:n=ae}=o,l=eo(o,["window"]);let r;const u=$t(()=>n&&"ResizeObserver"in n),s=()=>{r&&(r.disconnect(),r=void 0)},d=I(()=>Q(e),f=>{s(),u.value&&n&&f&&(r=new ResizeObserver(t),r.observe(f,l))},{immediate:!0,flush:"post"}),i=()=>{s(),d()};return te(i),{isSupported:u,stop:i}}function ao(e,t={width:0,height:0},a={}){const{window:o=ae,box:n="content-box"}=a,l=k(()=>{var s,d;return(d=(s=Q(e))==null?void 0:s.namespaceURI)==null?void 0:d.includes("svg")}),r=S(t.width),u=S(t.height);return to(e,([s])=>{const d=n==="border-box"?s.borderBoxSize:n==="content-box"?s.contentBoxSize:s.devicePixelContentBoxSize;if(o&&l.value){const i=Q(e);if(i){const f=o.getComputedStyle(i);r.value=parseFloat(f.width),u.value=parseFloat(f.height)}}else if(d){const i=Array.isArray(d)?d:[d];r.value=i.reduce((f,{inlineSize:c})=>f+c,0),u.value=i.reduce((f,{blockSize:c})=>f+c,0)}else r.value=s.contentRect.width,u.value=s.contentRect.height},a),I(()=>Q(e),s=>{r.value=s?t.width:0,u.value=s?t.height:0}),{width:r,height:u}}Y.mounted+"";function rt(e,{window:t=ae,scrollTarget:a}={}){const o=S(!1),n=()=>{if(!t)return;const l=t.document,r=Q(e);if(!r)o.value=!1;else{const u=r.getBoundingClientRect();o.value=u.top<=(t.innerHeight||l.documentElement.clientHeight)&&u.left<=(t.innerWidth||l.documentElement.clientWidth)&&u.bottom>=0&&u.right>=0}};return I(()=>Q(e),()=>n(),{immediate:!0,flush:"post"}),t&&R(a||t,"scroll",n,{capture:!1,passive:!0}),o}Y.mounted+"";const lt=1;function Ae(e,t={}){const{throttle:a=0,idle:o=200,onStop:n=z,onScroll:l=z,offset:r={left:0,right:0,top:0,bottom:0},eventListenerOptions:u={capture:!1,passive:!0},behavior:s="auto"}=t,d=S(0),i=S(0),f=k({get(){return d.value},set($){v($,void 0)}}),c=k({get(){return i.value},set($){v(void 0,$)}});function v($,y){var E,x,L;const M=V(e);!M||(L=M instanceof Document?document.body:M)==null||L.scrollTo({top:(E=V(y))!=null?E:c.value,left:(x=V($))!=null?x:f.value,behavior:V(s)})}const _=S(!1),P=de({left:!0,right:!1,top:!0,bottom:!1}),O=de({left:!1,right:!1,top:!1,bottom:!1}),T=$=>{!_.value||(_.value=!1,O.left=!1,O.right=!1,O.top=!1,O.bottom=!1,n($))},q=ba(T,a+o),N=$=>{const y=$.target===document?$.target.documentElement:$.target,E=y.scrollLeft;O.left=E<d.value,O.right=E>i.value,P.left=E<=0+(r.left||0),P.right=E+y.clientWidth>=y.scrollWidth-(r.right||0)-lt,d.value=E;let x=y.scrollTop;$.target===document&&!x&&(x=document.body.scrollTop),O.top=x<i.value,O.bottom=x>i.value,P.top=x<=0+(r.top||0),P.bottom=x+y.clientHeight>=y.scrollHeight-(r.bottom||0)-lt,i.value=x,_.value=!0,q($),l($)};return R(e,"scroll",a?wa(N,a,!0,!1):N,u),R(e,"scrollend",T,u),{x:f,y:c,isScrolling:_,arrivedState:P,directions:O}}var oo=Object.defineProperty,no=Object.defineProperties,ro=Object.getOwnPropertyDescriptors,st=Object.getOwnPropertySymbols,lo=Object.prototype.hasOwnProperty,so=Object.prototype.propertyIsEnumerable,ut=(e,t,a)=>t in e?oo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,it=(e,t)=>{for(var a in t||(t={}))lo.call(t,a)&&ut(e,a,t[a]);if(st)for(var a of st(t))so.call(t,a)&&ut(e,a,t[a]);return e},uo=(e,t)=>no(e,ro(t));function ct(e,t,a={}){var o,n;const l=(o=a.direction)!=null?o:"bottom",r=de(Ae(e,uo(it({},a),{offset:it({[l]:(n=a.distance)!=null?n:0},a.offset)})));I(()=>r.arrivedState[l],async u=>{var s,d;if(u){const i=V(e),f={height:(s=i==null?void 0:i.scrollHeight)!=null?s:0,width:(d=i==null?void 0:i.scrollWidth)!=null?d:0};await t(r),a.preserveScrollPosition&&i&&ne(()=>{i.scrollTo({top:i.scrollHeight-f.height,left:i.scrollWidth-f.width})})}})}Y.mounted+"";function dt(e,t,a={}){const{root:o,rootMargin:n="0px",threshold:l=.1,window:r=ae}=a,u=$t(()=>r&&"IntersectionObserver"in r);let s=z;const d=u.value?I(()=>({el:Q(e),root:Q(o)}),({el:f,root:c})=>{if(s(),!f)return;const v=new IntersectionObserver(t,{root:c,rootMargin:n,threshold:l});v.observe(f),s=()=>{v.disconnect(),s=z}},{immediate:!0,flush:"post"}):z,i=()=>{s(),d()};return te(i),{isSupported:u,stop:i}}Y.mounted+"";var io=Object.defineProperty,co=Object.defineProperties,fo=Object.getOwnPropertyDescriptors,ft=Object.getOwnPropertySymbols,vo=Object.prototype.hasOwnProperty,mo=Object.prototype.propertyIsEnumerable,vt=(e,t,a)=>t in e?io(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,po=(e,t)=>{for(var a in t||(t={}))vo.call(t,a)&&vt(e,a,t[a]);if(ft)for(var a of ft(t))mo.call(t,a)&&vt(e,a,t[a]);return e},ho=(e,t)=>co(e,fo(t));Y.mounted+"";function Pt(e){const t=window.getComputedStyle(e);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&e.clientHeight<e.scrollHeight||t.overflowY==="auto"&&e.clientWidth<e.scrollWidth)return!0;{const a=e.parentNode;return!a||a.tagName==="BODY"?!1:Pt(a)}}function go(e){const t=e||window.event,a=t.target;return Pt(a)?!1:t.touches.length>1?!0:(t.preventDefault&&t.preventDefault(),!1)}function yo(e,t=!1){const a=S(t);let o=null,n;I(Oa(e),u=>{if(u){const s=u;n=s.style.overflow,a.value&&(s.style.overflow="hidden")}},{immediate:!0});const l=()=>{const u=V(e);!u||a.value||(Ee&&(o=R(u,"touchmove",s=>{go(s)},{passive:!1})),u.style.overflow="hidden",a.value=!0)},r=()=>{const u=V(e);!u||!a.value||(Ee&&(o==null||o()),u.style.overflow=n,a.value=!1)};return te(r),k({get(){return a.value},set(u){u?l():r()}})}const _o=()=>{let e=!1;const t=S(!1);return(a,o)=>{if(t.value=o.value,e)return;e=!0;const n=yo(a,o.value);I(t,l=>n.value=l)}};_o();var bo=Object.defineProperty,wo=Object.defineProperties,Oo=Object.getOwnPropertyDescriptors,mt=Object.getOwnPropertySymbols,So=Object.prototype.hasOwnProperty,xo=Object.prototype.propertyIsEnumerable,pt=(e,t,a)=>t in e?bo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,$o=(e,t)=>{for(var a in t||(t={}))So.call(t,a)&&pt(e,a,t[a]);if(mt)for(var a of mt(t))xo.call(t,a)&&pt(e,a,t[a]);return e},Po=(e,t)=>wo(e,Oo(t));const Ct=Kt({name:"UseTimeAgo",props:["time","updateInterval","max","fullDateFormatter","messages","showSecond"],setup(e,{slots:t}){const a=de(Qa(()=>e.time,Po($o({},e),{controls:!0})));return()=>{if(t.default)return t.default(a)}}}),Co={class:"q-pa-md row justify-center"},Eo={class:"row justify-center q-my-md"},Io={key:0},To={__name:"chatLog",props:{conversation:{type:Object,default:()=>({})}},setup(e){const t=e,a=bt(),{getMessageNotification:o}=_t(a),n=S(null),l=S([]),r=S(20),u=i=>{const f=[...l.value,...i].sort((_,P)=>new Date(_.createdAt)-new Date(P.createdAt)),c=[],v=new Map;for(const _ of f)v.has(_.id)||(v.set(_.id,!0),c.push(_));t.conversation.id==="new"?l.value=[]:l.value=c},s=(i,f)=>G.getMessages({filters:{conversation:{id:i}},populate:{contact:!0,conversation:{filters:{id:i}}},sort:"createdAt:desc",pagination:{page:f,pageSize:r.value}}).then(c=>{const v=c.data.length===0||c.data.length<r.value;return(!v||c.data.length>0)&&u(c.data),v}),d=async(i,f)=>{t.conversation.id==="new"||t.conversation.id==="placeHolder"||t.conversation.id==="no"?f(!0):s(t.conversation.id,i).then(c=>{f(c)})};return I(()=>t.conversation,async(i,f)=>{i.id!==f.id&&(l.value=[])}),I(o,()=>{o.value.conversation&&o.value.conversation.id===t.conversation.id?(u([o.value]),o.value.direction==="inbound"&&G.readConversation(t.conversation.id),ne(()=>{const i=document.querySelector("#conversation-layout div.scroll");i.scrollTop=i.scrollHeight})):console.log(o.value)}),(i,f)=>(C(),B("div",Co,[(C(),D(wt,{style:{width:"100%"},reverse:"",onLoad:d,ref_key:"messageScroll",ref:n,key:e.conversation.id},{loading:h(()=>[xe("div",Eo,[b(Yt,{color:"primary",name:"dots",size:"40px"})])]),default:h(()=>[(C(!0),B($e,null,Pe(l.value,(c,v)=>(C(),B("div",{key:v},[b(ma,{sent:c.direction==="outbound-api",name:c.direction==="inbound"?e.conversation.name:`${c.contact.firstName} ${c.contact.lastName}`,"text-color":c.direction==="outbound-api"?"white":"","bg-color":c.direction==="outbound-api"?"primary":"amber"},{stamp:h(()=>[b(K(Ct),{time:c.createdAt},{default:h(({timeAgo:_})=>[F(W(_),1)]),_:2},1032,["time"])]),avatar:h(()=>[b(Ce,{class:ce(["q-message-avatar",{"q-message-avatar--sent":c.direction==="outbound-api","q-message-avatar--received":c.direction==="inbound"}]),color:c.direction==="outbound-api"?"primary":"amber"},{default:h(()=>[F("J")]),_:2},1032,["class","color"])]),default:h(()=>[xe("div",null,[F(W(c.body)+" ",1),c.numMedia>0?(C(),B("div",Io,[(C(!0),B($e,null,Pe(c.mediaUrl,(_,P)=>(C(),D(sa,{src:_,fit:"contain","spinner-color":"white",style:{height:"150px","max-width":"300px",width:"100%"},key:P},null,8,["src"]))),128))])):H("",!0)])]),_:2},1032,["sent","name","text-color","bg-color"])]))),128))]),_:1}))]))}},ko={class:"q-pa-md",style:{height:"92vh"}},Do={key:0,class:"text-caption"},Ao={key:0},No={key:1,class:"q-pa-md row justify-center text-h5"},Lo={class:"text-h6"},Mo={key:0,class:"text-caption"},vn={__name:"index",setup(e){const t=la(),a=bt(),{fetchConversations:o,setConversation:n}=a,{getConversations:l,getSelectedOffice:r}=_t(a),{t:u}=ca(),s=S(50),d=S(null),i=S(!1),f=S(""),c=S(""),v=S(""),_=S(10),P=k(()=>{const p=new RegExp("^[0-9]{"+_.value+"}","g");return ia().matches(p,{excludeEmptyString:!0,message:`${u("validPhoneIsRequired")}`}).nullable()}),{errorMessage:O,value:T}=da("phone",P),q=S([]),N={background:"#D3D3D3"},$=S(!1),y=async(p,g)=>{if(!$.value&&!L.value){$.value=!0;let m=!1;p===1&&(m=!0,re()),o(p,s.value,m).then(j=>{$.value=!1,g(j)})}},E=S(!0),x=S(null),L=S(!1),M=S(""),w=S(null),ve=async p=>{await G.unReadConversation(p.id),re()},me=p=>{re(),w.value=p,f.value=p.name,c.value=p.contacts[0].firstName,v.value=p.contacts[0].lastName,T.value="",p.unread&&(G.readConversation(p.id),p.unread=!1)};I(r,(p,g)=>{re(),o(1,s.value,!0).then(()=>{$.value=!1})});const Me=async()=>{const p={data:{phoneNumber:T.value,type:"phoneNumber"}},g=await G.createContact(p),m={...g.data};if(delete m.conversations,g.data.valid===!0&&r.value&&r.value[48]&&g.data.conversations.length>0){const j=g.data.conversations.find(X=>X.twilio_messaging_service.sid===r.value[48]);if(j)j.contacts=[m],me(j);else{const X=new Date;let ue=`${g.data.firstName} ${g.data.lastName}`;g.data.firstName||(ue=g.data.nationalFormat),w.value={id:"placeHolder",createdAt:X,lastMessage:{},lastMessageDateTime:X,contacts:[m],name:ue,readBy:[],twilioEnabled:!0,twilio_messaging_service:{sid:r.value[48]},type:"Direct",unread:!1,updatedAt:X}}}},Et=()=>{const p=new Date;w.value={id:"new",createdAt:p,lastMessage:{},lastMessageDateTime:p,name:"",readBy:[],twilioEnabled:!0,twilio_messaging_service:{},type:"Direct",unread:!1,archive:!1,updatedAt:p},x.value===!1&&E.value===!0&&(E.value=!1),ne(()=>{document.querySelector("#phoneNumber").focus()})},re=async()=>{const p=new Date;return w.value={id:"no",createdAt:p,lastMessage:{},lastMessageDateTime:p,name:"Select a conversation",readBy:[],twilioEnabled:!0,twilio_messaging_service:{},type:"Direct",unread:!1,archive:!1,updatedAt:p},!0},It=p=>{p.contacts[0].valid===!0&&p.twilio_messaging_service?G.sendMessage({data:{body:M.value,to:p.contacts[0].phoneNumber,messagingServiceSid:p.twilio_messaging_service.sid,direction:"outbound-api",twilioMessage:!0}}).then(()=>{M.value="",p.id==="placeHolder"?y(1,()=>{const g=l.value.find(m=>m.contacts[0].phoneNumber===p.contacts[0].phoneNumber);g?me(g):console.log("no conversation found after sending message")}):p.archive===!0&&he(!1)}):console.log("not valid phone number")},pe=async()=>{const p=`${c.value} ${v.value}`,g={data:{name:p}},m={data:{firstName:c.value,lastName:v.value}};if(w.value){w.value.name=p;const j=G.updateContact(w.value.contacts[0].id,m),X=G.updateConversation(w.value.id,g),ue=await j,ge=await X;return ge.data.contacts=[ue.data],n({data:ge.data}),ge}},he=async p=>{const g={data:{archive:p}};if(w.value){w.value.archive=p;const j=await G.updateConversation(w.value.id,g);return p===!0?($.value=!0,await re(),o(1,s.value,!0).then(()=>{$.value=!1})):($.value=!0,o(1,s.value,!0).then(()=>{$.value=!1})),j}},Tt=async()=>{const p=await t.dialog({type:"file",accept:"image/*, audio/*, video/*"});p&&q.value.push(p)},kt=p=>{_.value=p},Dt=p=>{L.value=!0,x.value=p,setTimeout(()=>{L.value=!1},1e3)};return(p,g)=>(C(),B("div",ko,[b(Qe,{flat:""}),b(na,{view:"lHh Lpr lFf",container:"",style:{height:"100%"},class:"shadow-2 rounded-borders bg-grey-3",id:"conversation-layout"},{default:h(()=>[w.value?(C(),D(Jt,{key:0,bordered:"",class:"bg-white text-black",style:{height:"57px"}},{default:h(()=>[b(ea,null,{default:h(()=>[b(J,{dense:"",flat:"",round:"",icon:"menu",onClick:g[0]||(g[0]=m=>E.value=!E.value)}),!w.value||w.value.id==="new"?(C(),D(Fe,{key:0},{default:h(()=>[b(ua,{for:"phoneNumber",modelValue:K(T),"onUpdate:modelValue":g[1]||(g[1]=m=>yt(T)?T.value=m:null),label:p.$t("phoneNumber"),tabindex:"0",onMaxLengthChanged:kt,style:qe(K(O)?"padding-bottom: 20px; max-width: 250px;":"padding-bottom: 0px; max-width: 250px;"),error:!!K(O),"error-message":K(O),readonly:!1,editIcon:!1,onAddClicked:Me,onKeyup:we(Me,["enter"])},null,8,["modelValue","label","style","error","error-message","onKeyup"])]),_:1})):(C(),D(Fe,{key:1},{default:h(()=>[F(W(w.value.name)+" ",1),w.value.contacts&&w.value.contacts[0]?(C(),B("span",Do,W(w.value.contacts[0].nationalFormat),1)):H("",!0),w.value.contacts&&w.value.contacts[0]?(C(),D(J,{key:1,color:"accent",flat:"",dense:"",round:"",icon:"edit",size:"sm",onClick:g[2]||(g[2]=m=>i.value=!0)})):H("",!0)]),_:1})),b(J,{dense:"",flat:"",round:"",icon:"more_vert"},{default:h(()=>[b(Zt,null,{default:h(()=>[w.value.contacts&&w.value.contacts[0]?(C(),D(Se,{key:0,style:{"min-width":"100px"}},{default:h(()=>[Z((C(),D(oe,{clickable:""},{default:h(()=>[b(U,{onClick:g[3]||(g[3]=m=>i.value=!0)},{default:h(()=>[F("Edit")]),_:1})]),_:1})),[[le]]),w.value.unread===!1?Z((C(),D(oe,{key:0,clickable:""},{default:h(()=>[b(U,{onClick:g[4]||(g[4]=m=>ve(w.value))},{default:h(()=>[F("Mark Un-Read")]),_:1})]),_:1})),[[le]]):H("",!0),Z((C(),D(oe,{clickable:""},{default:h(()=>[w.value.archive===!1?(C(),D(U,{key:0,onClick:g[5]||(g[5]=m=>he(!0))},{default:h(()=>[F("Archive")]),_:1})):H("",!0),w.value.archive===!0?(C(),D(U,{key:1,onClick:g[6]||(g[6]=m=>he(!1))},{default:h(()=>[F("Unarchive")]),_:1})):H("",!0)]),_:1})),[[le]])]),_:1})):H("",!0)]),_:1})]),_:1})]),_:1})]),_:1})):H("",!0),b(ta,{"show-if-above":"",modelValue:E.value,"onUpdate:modelValue":g[8]||(g[8]=m=>E.value=m),side:"left",width:350,bordered:"",onOnLayout:Dt},{default:h(()=>[b(aa,{class:"fit",id:"scroll-id"},{default:h(()=>[b(Se,{separator:""},{default:h(()=>[K(r)?Z((C(),D(oe,{key:0,clickable:"",onClick:g[7]||(g[7]=m=>Et())},{default:h(()=>[b(U,{avatar:"",top:""},{default:h(()=>[b(Ce,{icon:"add",color:"grey","text-color":"white"})]),_:1}),b(U,null,{default:h(()=>[F("New Message")]),_:1})]),_:1})),[[He]]):H("",!0),b(oe,null,{default:h(()=>[b(U,null,{default:h(()=>[b(fa,{styleSelection:!0})]),_:1})]),_:1})]),_:1}),b(Se,{bordered:""},{default:h(()=>[b(wt,{style:{width:"100%"},onLoad:y,ref_key:"conversationScroll",ref:d},{default:h(()=>[(C(!0),B($e,null,Pe(K(l),m=>Z((C(),D(oe,{key:m.id,clickable:"",onClick:j=>me(m),style:qe(w.value&&w.value.id===m.id?N:null)},{default:h(()=>[b(U,{avatar:""},{default:h(()=>[b(Ce,{color:"primary","text-color":"white"},{default:h(()=>[m.letter?(C(),B("span",Ao,W(m.letter),1)):(C(),D(Re,{key:1,name:"person"}))]),_:2},1024)]),_:2},1024),b(U,null,{default:h(()=>[b(Be,{lines:"1",class:ce({"text-bold":m.unread})},{default:h(()=>[F(W(m.name),1)]),_:2},1032,["class"]),b(Be,{caption:"",lines:"2",class:ce({"text-bold":m.unread,"text-black":m.unread})},{default:h(()=>[m.lastMessage&&m.lastMessage.body?(C(),D(Re,{key:0,size:"xs",name:m.lastMessage.direction==="inbound"?"call_received":"call_made",color:m.lastMessage.direction==="inbound"?"green":"red"},null,8,["name","color"])):H("",!0),F(" "+W(m.lastMessage&&m.lastMessage.body),1)]),_:2},1032,["class"])]),_:2},1024),b(U,{side:"",top:"",class:ce({"text-bold":m.unread,"text-black":m.unread})},{default:h(()=>[m.lastMessageDateTime?(C(),D(K(Ct),{key:0,time:new Date(m.lastMessageDateTime)},{default:h(({timeAgo:j})=>[F(W(j),1)]),_:2},1032,["time"])):H("",!0)]),_:2},1032,["class"])]),_:2},1032,["onClick","style"])),[[He]])),128))]),_:1},512)]),_:1})]),_:1})]),_:1},8,["modelValue"]),b(oa,null,{default:h(()=>[w.value?(C(),D(To,{key:0,conversation:w.value},null,8,["conversation"])):(C(),B("div",No,"Select a conversation"))]),_:1}),b(Gt,{modelValue:i.value,"onUpdate:modelValue":g[11]||(g[11]=m=>i.value=m),persistent:""},{default:h(()=>[b(Qe,{style:{"min-width":"350px"}},{default:h(()=>[b(je,null,{default:h(()=>[xe("div",Lo,W(f.value),1),w.value.contacts&&w.value.contacts[0]?(C(),B("span",Mo,W(w.value.contacts[0].nationalFormat),1)):H("",!0)]),_:1}),b(je,{class:"q-pt-none"},{default:h(()=>[b(Oe,{modelValue:c.value,"onUpdate:modelValue":g[9]||(g[9]=m=>c.value=m),label:"First Name",autofocus:"",onKeyup:we(pe,["enter"])},null,8,["modelValue","onKeyup"]),b(Oe,{modelValue:v.value,"onUpdate:modelValue":g[10]||(g[10]=m=>v.value=m),label:"Last Name",autofocus:"",onKeyup:we(pe,["enter"])},null,8,["modelValue","onKeyup"])]),_:1}),b(Xt,{align:"right",class:"text-primary"},{default:h(()=>[Z(b(J,{flat:"",label:"Cancel"},null,512),[[le]]),Z(b(J,{flat:"",label:"Update",onClick:pe},null,512),[[le]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),w.value&&w.value.id!=="no"?(C(),D(va,{key:1,class:"bg-white"},{default:h(()=>[b(Oe,{autogrow:"",modelValue:M.value,"onUpdate:modelValue":g[13]||(g[13]=m=>M.value=m),placeholder:"Type a message",rounded:"",dense:"",standout:"",class:"q-py-sm",disable:w.value.id==="new"},{before:h(()=>[b(J,{round:"",dense:"",flat:"",icon:"attach_file",onClick:Tt,disabled:w.value.id==="new"},null,8,["disabled"])]),after:h(()=>[b(J,{round:"",dense:"",flat:"",icon:"send",onClick:g[12]||(g[12]=m=>It(w.value)),disabled:!w.value||w.value.id==="new"},null,8,["disabled"])]),_:1},8,["modelValue","disable"])]),_:1})):H("",!0)]),_:1})]))}};export{vn as default};
