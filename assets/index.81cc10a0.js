import{l as M,_ as D,A as s,aq as r,br as o,d as t,cE as L,D as i,ac as l,cH as U,r as n,bT as N,bU as R,c as A,w as E,b5 as w,bW as p,B as y,ar as k,bQ as q,bt as W,b4 as z,H as F,F as G,cG as I}from"./index.4017ca31.js";import{Q as S,a as J}from"./QHeader.8aceaa23.js";import{Q as K}from"./QMenu.f2054918.js";import{Q as $}from"./QToolbar.834dcb13.js";import{Q as X}from"./QImg.e416b0bc.js";import{Q as Y}from"./QList.5e1c5b15.js";import{Q as Z,a as x}from"./QDrawer.d55036e0.js";import{a as ee,Q as te}from"./QLayout.e5c26558.js";import{C as oe}from"./ClosePopup.df69a3d8.js";import{u as se}from"./use-quasar.5edd4060.js";import{u as ae,b as re}from"./quickbase.4804bb81.js";import{u as ne}from"./dataStore.0038134c.js";import{_ as ie}from"./version.f9808250.js";import{M as le}from"./MenuNav.c50b8c96.js";import{_ as ce}from"./languageSelector.7bbb43e1.js";import"./QResizeObserver.1fc8b5d0.js";import"./position-engine.9b406c07.js";import"./selection.238bfdbe.js";import"./TouchPan.4cf67c3d.js";import"./touch.70a9dd44.js";import"./_commonjsHelpers.a26ce4be.js";import"./dayjs.01a1f0cd.js";import"./index.04bc0a32.js";import"./localForage.8295c071.js";import"./api.a5c07642.js";import"./i18n.c0a86e49.js";import"./useQuerySaver.d29ff9ee.js";import"./QSelect.f649ca34.js";import"./QChip.4797ac30.js";import"./rtl.b51694b1.js";import"./QBadge.ce8a835b.js";import"./MenuSubLink.c9152db3.js";import"./QSlideTransition.c08e5eac.js";const ue=M({props:{project:Object,mini:Boolean},setup(e){return{props:e}}}),me={class:"text-h6 text-white"},pe={class:"text-body1 text-white q-mb-md"},de={class:"text-body1 text-dark"};function fe(e,c,d,f,a,g){return s(),r(U,{class:"bg-accent q-mt-lg q-pt-none q-px-xs",flat:"",square:""},{default:o(()=>[t(L,{class:"text-center"},{default:o(()=>[i("div",me,l(e.project[20]),1),i("div",pe,"@ "+l(e.project[24]),1),i("div",de,"Manager: "+l(e.project[245]!==""?e.project[245]:"Unassigned"),1)]),_:1})]),_:1})}var ge=D(ue,[["render",fe]]);const ve=M({name:"View Project",components:{MenuNav:le,version:ie,languageSelector:ce,BasicProjectCard:ge},setup(){const e=n(null),c=n(!1),d=se(),f=n(!1),a=n(!1),g=n(!1),m=n(!1),_=N(),v=R(),h=ae(),{getUserType:j}=h,{toolbarTitle:u,viewProjectMenu:B}=re(),{fetchProjectData:H,getViewedProjects:P}=ne(),C=n(0),Q=async()=>{const{state:b}=_.options.history;e.value=b.back,d.loading.show(),await H(v.params.id),C.value+=1,d.loading.hide()},O=A(()=>P(v.params.id)),T=async()=>{h.logout().then(()=>{_.replace({name:"login"})})},V=()=>{window.close()};return Q(),E(()=>v.params.id,async b=>{await Q()}),{tab:n("mails"),fab:c,userStore:h,leftDrawerOpen:f,rightDrawerOpen:g,miniState:a,miniHover:m,index:C,miniMouseOver(){a.value===!0&&(m.value=!1)},miniMouseOut(){a.value===!0&&(m.value=!0)},toggleLeftDrawer(){d.screen.gt.sm?(a.value=!a.value,a.value===!0&&(m.value=!0)):f.value=!f.value},toggleRightDrawer(){g.value=!g.value},drawerClick(b){a.value&&(a.value=!1,b.stopPropagation())},logout:T,toolbarTitle:u,viewProjectMenu:B,getUserType:j,project:O,closeWindow:V,opener:e}}}),he={key:0,class:"q-mr-sm q-ml-sm",src:"https://cdn.jsdelivr.net/gh/EliteHCMS/assets@latest/public/logo-white.png",alt:"BrandSafway Logo",height:"25"},we={key:0},_e={key:1},be={class:"q-gutter-sm row items-center no-wrap"},ye={class:"row no-wrap q-pa-md"},ke={class:"column items-center"},je={class:"text-subtitle1 q-mt-md q-mb-xs"};function Ce(e,c,d,f,a,g){const m=w("languageSelector"),_=w("basic-project-card"),v=w("MenuNav"),h=w("router-view"),j=w("version");return s(),r(te,{view:"hHh lpR fFf"},{default:o(()=>[t(J,{elevated:""},{default:o(()=>[t($,{style:{height:"62px"}},{default:o(()=>[t(p,{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu",onClick:e.toggleLeftDrawer},null,8,["onClick"]),e.$q.screen.gt.sm?(s(),y("img",he)):k("",!0),t(S,null,{default:o(()=>[e.$q.screen.lt.sm?(s(),y("span",we)):(s(),y("span",_e,l(e.toolbarTitle),1))]),_:1}),i("div",be,[t(m,{dense:"",borderless:"",class:"lang-white"}),t(p,{flat:"",dense:"",color:"white"},{default:o(()=>[i("div",null,l(e.userStore.getUser[35])+" "+l(e.userStore.getUser[37]),1),t(q,{right:"",size:"2.2em",name:"account_circle"}),t(K,null,{default:o(()=>[i("div",ye,[i("div",ke,[t(q,{right:"",size:"72px",name:"account_circle",class:"q-mr-md"}),i("div",je,l(e.userStore.getUser[35])+" "+l(e.userStore.getUser[37]),1),W(t(p,{color:"primary",label:e.$t("logout"),push:"",size:"sm",onClick:e.logout},null,8,["label","onClick"]),[[oe]])])])]),_:1})]),_:1})])]),_:1})]),_:1}),t(x,{modelValue:e.leftDrawerOpen,"onUpdate:modelValue":c[0]||(c[0]=u=>e.leftDrawerOpen=u),side:"left","show-if-above":"",bordered:"",mini:e.miniState&&e.miniHover,onMouseover:e.miniMouseOver,onMouseout:e.miniMouseOut,onClickCapture:e.drawerClick,class:"text-primary bg-accent print-hide"},{default:o(()=>[e.project?(s(),r(Z,{key:0,class:"fit"},{default:o(()=>[e.$q.screen.lt.sm?(s(),r($,{key:0,class:"bg-white",style:{height:"64px"}},{default:o(()=>[t(S,{class:"items-center"},{default:o(()=>[t(X,{src:"https://cdn.jsdelivr.net/gh/EliteHCMS/assets@latest/public/logo.svg",style:{"max-width":"245px"},fit:"center",class:"q-ml-md"})]),_:1})]),_:1})):k("",!0),e.miniState?k("",!0):(s(),r(_,{key:1,project:e.project,mini:e.miniState},null,8,["project","mini"])),t(Y,{class:"q-mt-sm"},{default:o(()=>[(s(!0),y(G,null,z(e.viewProjectMenu,u=>(s(),r(v,F({key:u.title},u,{mini:e.miniState}),null,16,["mini"]))),128))]),_:1})]),_:1})):k("",!0)]),_:1},8,["modelValue","mini","onMouseover","onMouseout","onClickCapture"]),t(ee,null,{default:o(()=>[t(U,{class:"print-hide",flat:""},{default:o(()=>[t(I,{class:"q-pb-none",align:"right"},{default:o(()=>[t(p,{dense:"",color:"accent",icon:"add",label:"Add Hire Request",to:e.project?{name:"new-request-with-project",params:{project:e.project[3]}}:null},null,8,["to"]),e.getUserType==="QuickBase User"?(s(),r(p,{key:0,dense:"",icon:"close",label:"Close Window",color:"dark",onClick:c[1]||(c[1]=u=>e.closeWindow())})):(s(),r(p,{key:1,dense:"",icon:"home",label:"Return Home",color:"dark",to:{path:"/"}}))]),_:1})]),_:1}),(s(),r(h,{key:e.index}))]),_:1}),t(j)]),_:1})}var at=D(ve,[["render",Ce]]);export{at as default};
