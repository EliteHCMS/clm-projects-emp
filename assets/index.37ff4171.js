var z=Object.defineProperty;var D=Object.getOwnPropertySymbols;var F=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;var B=(e,o,t)=>o in e?z(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,b=(e,o)=>{for(var t in o||(o={}))F.call(o,t)&&B(e,t,o[t]);if(D)for(var t of D(o))P.call(o,t)&&B(e,t,o[t]);return e};import{Q as O,a as W}from"./QHeader.2be79146.js";import{k as $,_ as M,A as s,an as r,bi as n,bH as w,d as a,bI as E,ao as f,au as G,ab as c,bJ as J,aZ as d,bK as K,B as g,F as T,aY as N,H as k,bL as A,cw as X,D as _,cy as Y,bO as L,cz as Z,r as h,bM as x,c as ee,w as te,bk as ae}from"./index.df995f5f.js";import{Q as oe}from"./QMenu.de16f5ac.js";import{Q as H}from"./QToolbar.f7ec93c9.js";import{Q as ne}from"./QImg.2dd2eb8d.js";import{Q as I}from"./QList.e037d225.js";import{Q as se,a as re}from"./QDrawer.f08ec393.js";import{a as ie,Q as le}from"./QLayout.da2f4985.js";import{C as ue}from"./ClosePopup.c02c7902.js";import{u as me}from"./use-quasar.e1d67d94.js";import{u as V,a as pe}from"./dataStore.63aa5812.js";import{u as ce,b as de,q as fe}from"./quickbase.95274e2f.js";import{_ as ye}from"./version.b5e467d5.js";import{Q as ge}from"./QItemLabel.937e07e9.js";import{Q as ve}from"./QBadge.abcb08ea.js";import{M as _e,Q as be}from"./MenuSubLink.4831d1a2.js";import{_ as he}from"./languageSelector.fd2847de.js";import"./workday.c0ce8d55.js";import{a as $e}from"./syncEmployeeWithWorkday.9756b3c2.js";import"./QResizeObserver.b8913258.js";import"./position-engine.ed057110.js";import"./selection.15ff2c8a.js";import"./TouchPan.a2f4d0d1.js";import"./touch.60582172.js";import"./localForage.3844ce44.js";import"./_commonjsHelpers.dfee5925.js";import"./dayjs.2c96dcd3.js";import"./index.7dbe61ef.js";import"./i18n.bd13b955.js";import"./api.c05f3e59.js";import"./QSlideTransition.1d4b3902.js";import"./QSelect.08716fd1.js";import"./QChip.20ea4134.js";import"./rtl.cf9bbe47.js";import"./workdayAPI.735d29d2.js";const Me=$({name:"MenuLink",props:{title:{type:String,required:!0},caption:{type:String,default:""},to:{type:Object,default:()=>({path:"",exact:!0})},icon:{type:String,default:""},mini:{type:Boolean,default:!1},subMenu:{type:Array,default:null},count:{type:Number,default:null}}});function we(e,o,t,m,i,p){return s(),r(J,{to:e.to,class:"bg-accent text-white q-py-none","active-class":e.mini?"alt-active-nav":"alt-active-nav q-py-xs",exact:""},{default:n(()=>[e.icon?(s(),r(w,{key:0,avatar:""},{default:n(()=>[a(E,{name:e.icon},null,8,["name"])]),_:1})):f("",!0),a(w,null,{default:n(()=>[a(ge,null,{default:n(()=>[G(c(e.title),1)]),_:1})]),_:1}),e.count?(s(),r(w,{key:1,side:"",top:""},{default:n(()=>[a(ve,{color:"primary",label:e.count},null,8,["label"])]),_:1})):f("",!0)]),_:1},8,["to","active-class"])}var ke=M(Me,[["render",we]]);const Se=$({name:"MenuExpanded",components:{MenuSubLink:_e},props:{title:{type:String,required:!0},caption:{type:String,default:""},to:{type:Object,default:()=>({path:"",exact:!0})},icon:{type:String,default:""},mini:{type:Boolean,default:!1},subMenu:{type:Array,default:null}}});function Qe(e,o,t,m,i,p){const l=d("MenuSubLink");return s(),r(be,{icon:e.icon,label:e.title,class:"bg-accent text-white q-py-none","active-class":"alt-active-nav",exact:""},{default:n(()=>[a(K),a(w,null,{default:n(()=>[a(I,null,{default:n(()=>[(s(!0),g(T,null,N(e.subMenu,u=>(s(),r(l,k({key:u},u,{mini:e.mini}),null,16,["mini"]))),128))]),_:1})]),_:1})]),_:1},8,["icon","label"])}var qe=M(Se,[["render",Qe]]);const Ce=$({name:"MenuNav",components:{MenuLink:ke,MenuExpanded:qe},props:{title:{type:String,required:!0},caption:{type:String,default:""},to:{type:Object,default:()=>({path:"",exact:!0})},icon:{type:String,default:""},mini:{type:Boolean,default:!1},subMenu:{type:Array,default:null}}});function Ee(e,o,t,m,i,p){const l=d("MenuLink"),u=d("MenuExpanded");return s(),g("div",null,[!e.subMenu&&e.to?(s(),r(l,k({key:0},b(b({},e.$props),e.$attrs),{mini:e.mini}),null,16,["mini"])):e.subMenu&&e.subMenu.length>0?(s(),r(u,k({key:1},b(b({},e.$props),e.$attrs),{mini:e.mini}),null,16,["mini"])):f("",!0)])}var Le=M(Ce,[["render",Ee]]);const De=$({props:{employee:Object,mini:Boolean},setup(e){const o=A(),{setEmployees:t,setWorkdayData:m}=V(),i=async()=>{const{clm:l,sync:u}=await $e({clm:e.employee});t({id:e.employee[3],data:l}),m({id:e.employee[3],data:u})},p=()=>{o.push({name:"ee-termination"})};return i(),{props:e,goToTermination:p}}}),Be={class:"text-h5 text-white q-mb-sm"},Oe={key:0,class:"text-body1 text-white"};function He(e,o,t,m,i,p){return s(),r(Z,{class:"bg-accent q-my-lg q-pt-none",flat:"",square:""},{default:n(()=>[a(X,{class:"text-center"},{default:n(()=>[_("div",Be,c(e.employee[24]),1),e.employee[378]!==""?(s(),g("div",Oe,"ID: "+c(e.employee[378]),1)):f("",!0)]),_:1}),a(Y,{align:"center"},{default:n(()=>[e.$route.name!=="ee-termination"&&!e.employee[581]?(s(),r(L,{key:0,label:"Release",color:"primary",dense:"",onClick:e.goToTermination},null,8,["onClick"])):f("",!0)]),_:1})]),_:1})}var Te=M(De,[["render",He]]);const Ne=$({name:"View Employee",components:{MenuNav:Le,version:ye,languageSelector:he,BasicEmployeeCard:Te},setup(){const e=me(),o=h(!1),t=h(!1),m=h(!1),i=h(!1),p=A(),l=x(),u=ce(),{toolbarTitle:S,viewEmployeeMenu:Q}=de(),{setEmployees:q,getEmployee:v}=V(),C=ee(()=>v(l.params.id)),j=async()=>{if(!C.value){e.loading.show();const{data:y}=await fe.fetchFromHiringApp({fields:[pe({type:"employee",query:`{'3'.EX.'${l.params.id}'}`,id:l.params.id})]});console.log(y),q({id:y[3],data:y}),e.loading.hide()}},U=async()=>{u.logout().then(()=>{p.replace({name:"login"})})};return j(),te(C,(y,R)=>{console.log(R),console.log(y)}),{tab:h("mails"),userStore:u,leftDrawerOpen:o,rightDrawerOpen:m,miniState:t,miniHover:i,miniMouseOver(){t.value===!0&&(i.value=!1)},miniMouseOut(){t.value===!0&&(i.value=!0)},toggleLeftDrawer(){e.screen.gt.sm?(t.value=!t.value,t.value===!0&&(i.value=!0)):o.value=!o.value},toggleRightDrawer(){m.value=!m.value},drawerClick(y){t.value&&(t.value=!1,y.stopPropagation())},logout:U,toolbarTitle:S,viewEmployeeMenu:Q,employee:C}}}),Ae={key:0,class:"q-mr-sm q-ml-sm",src:"https://cdn.jsdelivr.net/gh/EliteHCMS/assets@latest/public/logo-white.png",alt:"BrandSafway Logo",height:"25"},Ie={key:0},Ve={key:1},je={class:"q-gutter-sm row items-center no-wrap"},Ue={class:"row no-wrap q-pa-md"},Re={class:"column items-center"},ze={class:"text-subtitle1 q-mt-md q-mb-xs"};function Fe(e,o,t,m,i,p){const l=d("languageSelector"),u=d("basic-employee-card"),S=d("MenuNav"),Q=d("router-view"),q=d("version");return s(),r(le,{view:"hHh lpR fFf"},{default:n(()=>[a(W,{elevated:""},{default:n(()=>[a(H,{style:{height:"62px"}},{default:n(()=>[e.$q.screen.gt.sm?(s(),g("img",Ae)):f("",!0),a(O,null,{default:n(()=>[e.$q.screen.lt.sm?(s(),g("span",Ie)):(s(),g("span",Ve,c(e.toolbarTitle),1))]),_:1}),_("div",je,[a(l,{dense:"",borderless:"",class:"lang-white"}),a(L,{flat:"",dense:"",color:"white"},{default:n(()=>[_("div",null,c(e.userStore.getUser[35])+" "+c(e.userStore.getUser[37]),1),a(E,{right:"",size:"2.2em",name:"account_circle"}),a(oe,null,{default:n(()=>[_("div",Ue,[_("div",Re,[a(E,{right:"",size:"72px",name:"account_circle",class:"q-mr-md"}),_("div",ze,c(e.userStore.getUser[35])+" "+c(e.userStore.getUser[37]),1),ae(a(L,{color:"primary",label:e.$t("logout"),push:"",size:"sm",onClick:e.logout},null,8,["label","onClick"]),[[ue]])])])]),_:1})]),_:1})])]),_:1})]),_:1}),a(re,{modelValue:e.leftDrawerOpen,"onUpdate:modelValue":o[0]||(o[0]=v=>e.leftDrawerOpen=v),side:"left","show-if-above":"",bordered:"",mini:e.miniState&&e.miniHover,onMouseover:e.miniMouseOver,onMouseout:e.miniMouseOut,onClickCapture:e.drawerClick,class:"text-primary bg-accent"},{default:n(()=>[a(se,{class:"fit"},{default:n(()=>[e.$q.screen.lt.sm?(s(),r(H,{key:0,class:"bg-white",style:{height:"64px"}},{default:n(()=>[a(O,{class:"items-center"},{default:n(()=>[a(ne,{src:"https://cdn.jsdelivr.net/gh/EliteHCMS/assets@latest/public/logo.svg",style:{"max-width":"245px"},fit:"center",class:"q-ml-md"})]),_:1})]),_:1})):f("",!0),e.employee?(s(),r(u,{key:1,employee:e.employee,mini:e.miniState},null,8,["employee","mini"])):f("",!0),a(I,{class:"q-mt-sm"},{default:n(()=>[(s(!0),g(T,null,N(e.viewEmployeeMenu,v=>(s(),r(S,k({key:v.title},v,{mini:e.miniState}),null,16,["mini"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue","mini","onMouseover","onMouseout","onClickCapture"]),a(ie,null,{default:n(()=>[a(Q)]),_:1}),a(q)]),_:1})}var qt=M(Ne,[["render",Fe]]);export{qt as default};
