import{m as f,l as a}from"./index.544726d2.js";import{q as l}from"./quickbase.dc759386.js";import{localforage as u}from"./localForage.cf0f4dd4.js";import{dayjs as n}from"./dayjs.18653603.js";var c={jobNumbers:{fid:35,dbid:"bpzpwr2eh"},siteContacts:{fid:27,dbid:"bp5hcce69"},perDiemSpecs:{fid:39,dbid:"bp5mpfxia"},meetingLocations:{fid:22,dbid:"bp5d2twyj"},projectCrafts:{fid:120,dbid:"bp5g8rym8"},projectCraftClassifications:{fid:141,dbid:"bpzpx5m7x"},employee:{fid:549,dbid:"bp3gb7ng2"},workdaySync:{fid:7,dbid:"bspfhy84a"},matrixColumns:{fid:12,dbid:"bsiy5quec"},availableMatrixColumns:{fid:9,dbid:"bsjdig6gn"},matrixInputs:{fid:11,dbid:"bsi3t4bcz"},assignments:{fid:110,dbid:"bp3gazpqj"},termReasons:{fid:13,dbid:"brwvzbvm5"},ratings:{fid:33,dbid:"bqzkbcxup"},releases:{fid:37,dbid:"bp3ga39ut"}};const g=({type:e,query:s,id:t})=>{const i=c[e];return{6:{value:i.dbid},7:{value:t?"Table Record":"Table Query"},8:{value:s},9:{value:t||1},14:{value:i.fid}}},q=({type:e,query:s,id:t})=>{const i=c[e];return{6:{value:i.dbid},7:{value:t?"Table Record":"Table Query"},8:{value:s},9:{value:t||1},14:{value:i.fid}}},b=({type:e,query:s,id:t})=>{const i=c[e];return{6:{value:i.dbid},7:{value:t?"Table Record":"Table Query"},8:{value:s},9:{value:t||1},14:{value:i.fid}}},S=f("globalDataStore",{state:()=>({selectedProject:null,requests:{},classifications:{},nameRequest:{},inProcess:{},pending:{},deployments:{},assignments:{},releasesByAssignment:{},releases:{},employees:{},workdayData:{},requestedTimeStamps:{},disaStatusChecks:{},projectDisaRoster:{},rawAssignments:{},assignmentsByEmployee:{},releasesByEmployee:{},termReasons:[]}),getters:{getHireRequest:e=>s=>s?e.requests[s]?e.requests[s]:{}:{},getNameRequest:e=>s=>{if(s)return e.nameRequest[s]?e.nameRequest[s]:[];{let t=[];return Object.keys(e.nameRequest).forEach(i=>{t=t.concat(e.nameRequest[i])}),t}},getClassifications:e=>s=>{if(s)return e.classifications[s]?e.classifications[s]:[];{let t=[];return Object.keys(e.classifications).forEach(i=>{t=t.concat(e.classifications[i])}),t}},getInProcess:e=>s=>{if(s)return e.inProcess[s]?e.inProcess[s]:[];{let t=[];return Object.keys(e.inProcess).forEach(i=>{t=t.concat(e.inProcess[i])}),t}},getPending:e=>s=>{if(s)return e.pending[s]?e.pending[s]:[];{let t=[];return Object.keys(e.pending).forEach(i=>{t=t.concat(e.pending[i])}),t}},getDeployments:e=>s=>{if(s)return e.deployments[s]?e.deployments[s]:[];{let t=[];return Object.keys(e.deployments).forEach(i=>{t=t.concat(e.deployments[i])}),t}},getAssignments:e=>s=>{if(s)return e.assignments[s]?e.assignments[s]:[];{let t=[];return Object.keys(e.assignments).forEach(i=>{t=t.concat(e.assignments[i])}),t}},getEmployees:e=>s=>{if(s)return e.employees[s]?e.employees[s]:[];{let t=[];return Object.keys(e.employees).forEach(i=>{t=t.concat(e.employees[i])}),t}},getWorkdayData:e=>s=>s&&e.workdayData[s]?e.workdayData[s]:null,getEmployee:e=>s=>s&&e.employees[s]?e.employees[s]:null,getAssignmentsByEmployee:e=>s=>s&&e.assignmentsByEmployee[s]?e.assignmentsByEmployee[s]:null,getReleases:e=>s=>s&&e.releases[s]?e.releases[s]:null,getReleasesByAssignment:e=>s=>s&&e.releasesByAssignment[s]?e.releasesByAssignment[s]:null,getReleasesByEmployee:e=>s=>s&&e.releasesByEmployee[s]?e.releasesByEmployee[s]:null,getRawAssignment:e=>s=>s&&e.rawAssignments[s]?e.rawAssignments[s]:null,getRequestedTimeStamps(e){return e.requestedTimeStamps},getDisaStatusChecks:e=>({id:s,key:t})=>s&&e.disaStatusChecks[s]&&e.disaStatusChecks[s][t]?e.disaStatusChecks[s][t]:null,getProjectDisaRoster:e=>s=>s?e.projectDisaRoster[s]?e.projectDisaRoster[s]:[]:null,getTermReasons:e=>()=>e.termReasons},actions:{setselectedProject(e,s){this.selectedProject=e},setTimeStamp({name:e,timeStamp:s,Id:t},i){if(this.requestedTimeStamps[t]?this.requestedTimeStamps[t][e]=s:this.requestedTimeStamps[t]={[e]:s},i){const r=JSON.parse(JSON.stringify(this.requestedTimeStamps));u.setItem(`${a.storageProcessTimeStamps}`,r)}},setTimeStampState(e){this.requestedTimeStamps=e},async fetchHireRequest(e){const s=this.getRequestedTimeStamps[e.requestId]||{};let t=!0;const i=[{9:{value:e.requestId},7:{value:"Table Record"},14:{value:266},6:{value:"bpzpyjbuy"}}];if(s.requests&&(s.requests.isBefore(n().subtract(1,"minute"))?t=!0:t=e.refresh?e.refresh:!1),t){this.setTimeStamp({Id:e.requestId,name:"request",timeStamp:n()},!0);const{data:r}=await l.fetchFromProjectsApp({fields:i});return this.setHireRequests({requestId:e.requestId,data:r},!0),{data:r}}else return{data:[]}},setHireRequests({requestId:e,data:s},t){this.requests[e]=s,t&&u.setItem(`view_hire_request_${e}`,s)},async fetchClassifications(e){const s=this.getRequestedTimeStamps[e.id]||{};let t=!0;const i=[{9:{value:e.id},7:{value:"Classifications By Request"}}];if(s.classifications&&(s.classifications.isBefore(n().subtract(1,"minute"))?t=!0:t=e.refresh?e.refresh:!1),t){this.setTimeStamp({id:e.id,name:"classifications",timeStamp:n()},!0);const{data:r}=await l.fetchFromProjectsApp({fields:i});return this.setClassifications({id:e.id,data:r},!0),{data:r}}else return{data:[]}},setClassifications({id:e,data:s},t){this.classifications[e]=s,t&&u.setItem(`${a.storageRequestClassifications}_${e}`,s)},async fetchNameRequest(e){const s=this.getRequestedTimeStamps[e.id]||{};let t=!0;const i=[{9:{value:e.id},7:{value:"Name Requests By Request"}}];if(s.nameRequest&&(s.nameRequest.isBefore(n().subtract(1,"minute"))?t=!0:t=e.refresh?e.refresh:!1),t){this.setTimeStamp({id:e.id,name:"nameRequest",timeStamp:n()},!0);const{data:r}=await l.fetchFromHiringApp({fields:i});return this.setNameRequest({id:e.id,data:r},!0),{data:r}}else return{data:[]}},setNameRequest({id:e,data:s},t){this.nameRequest[e]=s,t&&u.setItem(`${a.storageNameRequest}_${e}`,s)},async fetchInProcess(e){const s=this.getRequestedTimeStamps[e.requestId]||{};let t=!0;const i=[{6:{value:"bp3gawbee"},7:{value:"Table Query"},8:{value:`{'138'.EX.'${e.requestId}'}AND{'37'.EX.'In Process'}AND{'38'.EX.4}`},9:{value:1},14:{value:239}}];if(s.inProcess&&(s.inProcess.isBefore(n().subtract(1,"minute"))?t=!0:t=e.refresh?e.refresh:!1),t){this.setTimeStamp({requestId:e.requestId,name:"inProcess",timeStamp:n()},!0);const{data:r}=await l.fetchFromHiringApp({fields:i});return this.setInProcess({requestId:e.requestId,data:r},!0),{data:r}}else return{data:[]}},setInProcess({requestId:e,data:s},t){this.inProcess[e]=s,t&&u.setItem(`${a.storageInProcess}_${e}`,s)},async fetchPending(e){const s=this.getRequestedTimeStamps[e.requestId]||{};let t=!0;const i=[{6:{value:"bp3gaxedv"},7:{value:"Table Query"},8:{value:`{'95'.EX.'${e.requestId}'}AND{'17'.EX.'In Process'}AND{'24'.EX.5}`},9:{value:1},14:{value:193}}];if(s.pending&&(s.pending.isBefore(n().subtract(1,"minute"))?t=!0:t=e.refresh?e.refresh:!1),t){this.setTimeStamp({requestId:e.requestId,name:"pending",timeStamp:n()},!0);const{data:r}=await l.fetchFromHiringApp({fields:i});return this.setPending({requestId:e.requestId,data:r},!0),{data:r}}else return{data:[]}},setPending({requestId:e,data:s},t){this.pending[e]=s,t&&u.setItem(`${a.storagePending}_${e}`,s)},async fetchDeployments(e){const s=this.getRequestedTimeStamps[e.requestId]||{};let t=!0;const i=[{6:{value:"bp3gaymc3"},7:{value:"Table Query"},8:{value:`{'80'.EX.'${e.requestId}'}AND{'20'.EX.'In Process'}AND{'27'.EX.6}`},9:{value:1},14:{value:204}}];if(s.deployments&&(s.deployments.isBefore(n().subtract(1,"minute"))?t=!0:t=e.refresh?e.refresh:!1),t){this.setTimeStamp({requestId:e.requestId,name:"deployments",timeStamp:n()},!0);const{data:r}=await l.fetchFromHiringApp({fields:i});return this.setDeployments({requestId:e.requestId,data:r},!0),{data:r}}else return{data:[]}},async setDeployments({requestId:e,data:s},t){this.deployments[e]=s,t&&u.setItem(`${a.storageDeployments}_${e}`,s)},updateDeployment({requestId:e,key:s,record:t}){const i=this.deployments[e].findIndex(r=>r[3]===s);i>-1&&(this.deployments[e][i]=t)},async fetchAssignments(e){const s=this.getRequestedTimeStamps[e.requestId]||{};let t=!0;const i=[{6:{value:"bp3gazpqj"},7:{value:"Table Query"},8:{value:`{'109'.EX.'${e.requestId}'}AND{'21'.EX.'In Process'}AND{'102'.EX.'Active'}AND{'72'.EX.7}`},9:{value:1},14:{value:110}}];if(s.assignments&&(s.assignments.isBefore(n().subtract(1,"minute"))?t=!0:t=e.refresh?e.refresh:!1),t){this.setTimeStamp({requestId:e.requestId,name:"assignments",timeStamp:n()},!0);const{data:r}=await l.fetchFromHiringApp({fields:i});return this.setAssignments({requestId:e.requestId,data:r},!0),{data:r}}else return{data:[]}},async setAssignments({requestId:e,data:s},t){this.assignments[e]=s,t&&u.setItem(`${a.storageAssignments}_${e}`,s)},async fetchEmployees(e){const s=this.getRequestedTimeStamps[e.id]||{};let t=!0;const i=[{7:{value:"Employee"},9:{value:e.id}}];if(s.employees&&(s.employees.isBefore(n().subtract(1,"minute"))?t=!0:t=e.refresh?e.refresh:!1),t){this.setTimeStamp({employeeId:e.id,name:"employees",timeStamp:n()},!0);const{data:r}=await l.fetchFromHiringApp({fields:i});return this.setEmployees({id:e.id,data:r},!0),{data:r}}else return{data:[]}},async setEmployees({id:e,data:s},t){this.employees[e]=s,t&&u.setItem(`storage_employees_${e}`,s)},setWorkdayData({id:e,data:s}){this.workdayData[e]=s},setAssignmentsByEmployee({id:e,data:s}){this.assignmentsByEmployee[e]=s},setReleases({id:e,data:s}){this.releases[e]=s},setReleasesByAssignment({id:e,data:s}){this.releasesByAssignment[e]=s},setReleasesByEmployee({id:e,data:s}){this.releasesByEmployee[e]=s},setRawAssignments({id:e,data:s}){this.rawAssignments[e]=s},setTermReasons({reasons:e}){this.termReasons=e},setDisaStatusChecks({id:e,assignmentId:s,data:t,projectId:i},r){if(e&&t&&(this.disaStatusChecks[e]=t),s&&this.assignments[i]&&t){const o=this.assignments[i].findIndex(m=>m[3]===s);o>-1&&(this.assignments[i][o].employee[556]=t)}e&&t&&i&&(this.projectDisaRoster[i]&&Array.isArray(this.projectDisaRoster[i])?this.projectDisaRoster[i].push(t):(this.projectDisaRoster[i]=[],this.projectDisaRoster[i].push(t))),r&&e&&u.setItem(`clm_proj_disa_checks_${e}`,t)},async removeData({type:e,key:s,item:t,storageKey:i}){const r=this[e][s].findIndex(m=>m[3]===t[3]);r>-1&&this[e][s].splice(r,1);const o=this[e][s];u.removeItem(`${a[i]}_${s}`),u.getItem(`${a[i]}_${s}`)||u.setItem(`${a[i]}_${s}`,o)}}});export{b as a,g as b,q as c,S as u};
