import{k as w,_ as x,A as i,an as m,bi as a,d as t,cw as r,D as e,ab as o,bK as y,cz as h,c as _,B as S,F as V,aY as Y,bk as R,bJ as I,bH as N,au as j,bI as B,cZ as E,r as F,bM as P,aZ as g,cy as U,bO as M,ao as D}from"./index.5e954c71.js";import{Q as O}from"./QPage.b4369934.js";import{u as A}from"./use-quasar.515c902d.js";import{u as L}from"./useQuerySaver.26dfad14.js";import{u as z,q as H}from"./quickbase.80655e8b.js";import{dayjs as b}from"./dayjs.73f0a33b.js";import{u as T}from"./dataStore.f7c22450.js";import{Q as $,d as J}from"./helpers.dbeca89a.js";import{Q as K}from"./QList.deb8279a.js";import"./_commonjsHelpers.a26ce4be.js";import"./index.7dbe61ef.js";import"./localForage.411e436b.js";import"./i18n.41ab3751.js";import"./api.840f2934.js";const W=w({props:{employee:Object,assignment:Object,release:Object},setup(s){return{dayjs:b}}}),Z=e("div",{class:"text-primary text-h6 text-bold"},"Employee Information",-1),G={class:"row q-py-sm"},X={class:"col-12 col-md-3"},ee=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Last Name")],-1),se={class:"text-body2 q-pl-md"},te={class:"col-12 col-md-3"},oe=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"First Name")],-1),ae={class:"text-body2 q-pl-md"},le={class:"col-12 col-md-3"},de=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Last 4 Digits of SS#")],-1),ne={class:"text-body2 q-pl-md"},ce={class:"col-12 col-md-3"},ie=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Payroll ID")],-1),re={class:"text-body2 q-pl-md"},me={class:"row q-py-sm"},pe={class:"col-12 col-md-3"},_e=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Phone")],-1),ue={class:"text-body2 q-pl-md"},ve={class:"col-12 col-md-3"},ye=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"First Day Worked")],-1),be={class:"text-body2 q-pl-md"},he={class:"col-12 col-md-3"},fe=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Last Day Worked")],-1),qe={class:"text-body2 q-pl-md"},$e={class:"col-12 col-md-3"},xe=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Effective Date")],-1),ge={class:"text-body2 q-pl-md"},De={class:"row q-py-sm"},we={class:"col-12 col-md-4"},ke=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Job Site/ Location")],-1),Se={class:"text-body2 q-pl-md"},Ne={class:"col-12 col-md-6"},Ce=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Job Title")],-1),Qe={class:"text-body2 q-pl-md"},Ve={class:"col-12 col-md-2"},Ye=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Pay Rate")],-1),Re={class:"text-body2 q-pl-md"};function Ie(s,l,p,d,u,v){return i(),m(h,null,{default:a(()=>[t(r,{class:"text-center q-py-sm"},{default:a(()=>[Z]),_:1}),t(r,{class:"q-py-none"},{default:a(()=>[e("div",G,[e("div",X,[ee,e("div",se,[e("span",null,o(s.employee[22]),1)])]),e("div",te,[oe,e("div",ae,[e("span",null,o(s.employee[20]),1)])]),e("div",le,[de,e("div",ne,[e("span",null,o(s.employee[188].substring(s.employee[188].length-4)),1)])]),e("div",ce,[ie,e("div",re,[e("span",null,o(s.employee[208]!==""?s.employee[208]:"Not Available"),1)])])]),t(y),e("div",me,[e("div",pe,[_e,e("div",ue,[e("span",null,o(s.employee[25]),1)])]),e("div",ve,[ye,e("div",be,[e("span",null,o(s.dayjs(s.employee[397].$d).format("MM/DD/YYYY")),1)])]),e("div",he,[fe,e("div",qe,[e("span",null,o(s.dayjs(s.release[36].$d).format("MM/DD/YYYY")),1)])]),e("div",$e,[xe,e("div",ge,[e("span",null,o(s.dayjs(s.release[36].$d).format("MM/DD/YYYY")),1)])])]),t(y),e("div",De,[e("div",we,[ke,e("div",Se,[e("span",null,o(s.assignment[141]),1)])]),e("div",Ne,[Ce,e("div",Qe,[e("span",null,o(s.assignment[20]),1)])]),e("div",Ve,[Ye,e("div",Re,[e("span",null,"$ "+o(s.assignment[116].toFixed(2)),1)])])])]),_:1})]),_:1})}var je=x(W,[["render",Ie]]);const Be=w({props:{data:Object},setup(s){return{evaluation:_(()=>s.data),convertScore:d=>({1:"Strongly Disagreed",2:"Disagreed",3:"Neutral",4:"Agreed",5:"Strongly Agreed",0:"Did Not Know"})[d]}}}),Ee=e("div",{class:"text-primary text-h6 text-bold"},"Employee Performance Evaluation",-1),Fe={class:"row q-py-sm"},Pe={class:"col-12 col-md-3"},Ue=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Has good attendance")],-1),Me={class:"text-body2 q-pl-md"},Oe={class:"q-mr-md"},Ae={class:"col-12 col-md-3"},Le=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Has a good attitude")],-1),ze={class:"text-body2 q-pl-md"},He={class:"q-mr-md"},Te={class:"col-12 col-md-3"},Je=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Can do their job")],-1),Ke={class:"text-body2 q-pl-md"},We={class:"q-mr-md"},Ze={class:"col-12 col-md-3"},Ge=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Can be promoted in the future")],-1),Xe={class:"text-body2 q-pl-md"},es={class:"q-mr-md"};function ss(s,l,p,d,u,v){return i(),m(h,null,{default:a(()=>[t(r,{class:"text-center q-py-sm"},{default:a(()=>[Ee]),_:1}),t(r,{class:"q-py-none"},{default:a(()=>[e("div",Fe,[e("div",Pe,[Ue,e("div",Me,[e("span",Oe,o(s.convertScore(s.evaluation.attendance)),1),t($,{modelValue:s.evaluation.attendance,"onUpdate:modelValue":l[0]||(l[0]=n=>s.evaluation.attendance=n),max:"5",size:"sm",color:"accent",icon:"star_border","icon-selected":"star","icon-half":"star_half","no-dimming":"",readonly:""},null,8,["modelValue"])])]),e("div",Ae,[Le,e("div",ze,[e("span",He,o(s.convertScore(s.evaluation.attitude)),1),t($,{modelValue:s.evaluation.attitude,"onUpdate:modelValue":l[1]||(l[1]=n=>s.evaluation.attitude=n),max:"5",size:"sm",color:"accent",icon:"star_border","icon-selected":"star","icon-half":"star_half","no-dimming":"",readonly:""},null,8,["modelValue"])])]),e("div",Te,[Je,e("div",Ke,[e("span",We,o(s.convertScore(s.evaluation.capable)),1),t($,{modelValue:s.evaluation.capable,"onUpdate:modelValue":l[2]||(l[2]=n=>s.evaluation.capable=n),max:"5",size:"sm",color:"accent",icon:"star_border","icon-selected":"star","icon-half":"star_half","no-dimming":"",readonly:""},null,8,["modelValue"])])]),e("div",Ze,[Ge,e("div",Xe,[e("span",es,o(s.convertScore(s.evaluation.promotion)),1),t($,{modelValue:s.evaluation.promotion,"onUpdate:modelValue":l[3]||(l[3]=n=>s.evaluation.promotion=n),max:"5",size:"sm",color:"accent",icon:"star_border","icon-selected":"star","icon-half":"star_half","no-dimming":"",readonly:""},null,8,["modelValue"])])])])]),_:1})]),_:1})}var ts=x(Be,[["render",ss]]);const os=w({props:{release:Object,employee:Object},setup(s){return{deductNeeded:_(()=>!s.release[72]&&b.duration(b(s.release[36].$d).diff(b(s.employee[397].$d))).asDays()<30?"Yes":"No"),downloadFile:J}}}),as=e("div",{class:"text-primary text-h6 text-bold"},"Departure Information",-1),ls={class:"row"},ds={class:"col-12 col-md-9"},ns={class:"row q-py-sm"},cs={class:"col-12 col-md-6"},is={class:"text-body2"},rs=e("span",{class:"text-bold q-mr-md"},"Return Company Equipment and/or PPE",-1),ms={class:"col-12 col-md-6"},ps={class:"text-body2"},_s=e("span",{class:"text-bold q-mr-md"},"Payroll Deduction Needed",-1),us={class:"row q-py-sm"},vs={class:"col-12"},ys={class:"text-body2"},bs=e("span",{class:"text-bold q-mr-md"},"Reason",-1),hs=e("div",{class:"row q-py-sm"},[e("div",{class:"col-12"},[e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Recommendation for Rehire / Reassignment"),e("span",null,"Need to add this to form")])])],-1),fs={class:"row q-py-sm"},qs={class:"col-12"},$s=e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Comments")],-1),xs={class:"text-body2 text-italic q-pl-md"},gs={class:"col-12 col-md-3 q-pl-sm"},Ds=e("div",{class:"text-body2 text-bold text-center q-mb-sm"},"Supporting Documents",-1),ws={key:1,class:"text-body2 text-italic text-center"},ks=e("span",null,"No Supporting Documents",-1),Ss=[ks];function Ns(s,l,p,d,u,v){return i(),m(h,null,{default:a(()=>[t(r,{class:"text-center q-py-sm"},{default:a(()=>[as]),_:1}),t(r,{class:"q-py-none"},{default:a(()=>[e("div",ls,[e("div",ds,[e("div",ns,[e("div",cs,[e("div",is,[rs,e("span",null,o(s.release[72]?"Yes":"No"),1)])]),e("div",ms,[e("div",ps,[_s,e("span",null,o(s.deductNeeded),1)])])]),t(y),e("div",us,[e("div",vs,[e("div",ys,[bs,e("span",null,o(s.release[32]),1)])])]),t(y),hs,t(y),e("div",fs,[e("div",qs,[$s,e("div",xs,[e("span",null,o(s.release[60]===""?"No Comments":s.release[60]),1)])])])]),e("div",gs,[Ds,s.release[70].length>0?(i(),m(K,{key:0},{default:a(()=>[(i(!0),S(V,null,Y(s.release[70],(n,c)=>R((i(),m(I,{key:c,clickable:"",class:"text-body2",onClick:f=>s.downloadFile({tableId:"bsstsai5d",recordId:n[3],fieldId:6,versionNumber:1,name:n[7]})},{default:a(()=>[t(N,null,{default:a(()=>[j(o(c+1)+". "+o(n[7]),1)]),_:2},1024),t(N,{avatar:""},{default:a(()=>[t(B,{color:"info",name:"file_download"})]),_:1})]),_:2},1032,["onClick"])),[[E]])),128))]),_:1})):(i(),S("div",ws,Ss))])])]),_:1})]),_:1})}var Cs=x(os,[["render",Ns]]);const Qs={name:"View Release",components:{EmployeeInformation:je,Evaluation:ts,DepartureInformation:Cs},setup(){const s=F(!1),l=A(),p=P(),{userData:d,getUserType:u}=z(),{getReleases:v,setReleases:n}=T(),c=_(()=>v(p.params.release)),f=_(()=>c.value?c.value[66]:null),k=_(()=>c.value?c.value[67]:null),C=_(()=>{const{data:q}=c.value[59]&&c.value[59][0]?c.value[59][0]:{data:null};return q}),Q=_(()=>c.value?c.value[38]:null);return(async()=>{if(l.loading.show(),!v(p.params.release)){const{data:q}=await H.fetchFromHiringApp({fields:[L({type:"releases",query:"",id:p.params.release})]});n({id:q[3],data:q})}l.loading.hide()})(),{release:c,employee:f,assignment:k,evaluation:C,getUserType:u,fab:s,dayjs:b,submitter:Q}}},Vs={class:"q-px-sm"},Ys={class:"row q-py-sm"},Rs={class:"col-12 col-md-6"},Is={class:"text-body2"},js=e("span",{class:"text-bold q-mr-md"},"Submitted By",-1),Bs=e("div",{class:"col-12 col-md-6"},[e("div",{class:"text-body2"},[e("span",{class:"text-bold q-mr-md"},"Reviewed By"),e("span",null,"Need to Capture")])],-1);function Es(s,l,p,d,u,v){const n=g("employee-information"),c=g("evaluation"),f=g("departure-information");return i(),m(O,{style:{"max-width":"100vw"}},{default:a(()=>[e("div",Vs,[d.release?(i(),m(h,{key:0,flat:"",class:"text-dark"},{default:a(()=>[s.$route.name==="view-release"?(i(),m(U,{key:0,class:"q-pb-xs",align:"right"},{default:a(()=>[t(M,{icon:"close",label:"Close",color:"dark",onClick:l[0]||(l[0]=k=>d.getUserType==="QuickBase User"?s.window.close():s.$router.replace({name:"employees"}))})]),_:1})):D("",!0),t(r,{class:"q-pb-sm"},{default:a(()=>[t(n,{assignment:d.assignment,employee:d.employee,release:d.release},null,8,["assignment","employee","release"])]),_:1}),d.evaluation?(i(),m(r,{key:1,class:"q-pb-sm"},{default:a(()=>[t(c,{data:d.evaluation},null,8,["data"])]),_:1})):D("",!0),t(r,{class:"q-pb-sm"},{default:a(()=>[t(f,{employee:d.employee,release:d.release},null,8,["employee","release"])]),_:1}),t(r,{class:"q-pb-sm"},{default:a(()=>[t(h,null,{default:a(()=>[t(r,{class:"q-py-none"},{default:a(()=>[e("div",Ys,[e("div",Rs,[e("div",Is,[js,e("span",null,o(d.submitter[37])+", "+o(d.submitter[35]),1)])]),Bs])]),_:1})]),_:1})]),_:1})]),_:1})):D("",!0)])]),_:1})}var Xs=x(Qs,[["render",Es]]);export{Xs as default};
